<?xml version="1.1" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
                   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                   xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.1.xsd">
    <changeSet author="yuzhanfeng" id="20231217-1" dbms="mysql" failOnError="true">
        <sql dbms="mysql">
            ALTER TABLE da_frida_function MODIFY COLUMN children_function longtext CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '依赖函数';
            ALTER TABLE da_frida_script MODIFY COLUMN children_function longtext CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '依赖函数';
            INSERT INTO da_frida_function (children_function, function_name, function_context, remark, function_key, is_system_fun) VALUES('', '服务端基础api函数', 'Ly/ojrflj5bns7vnu5/ml7bpl7QNCnZhciBDU3lzdGVtVGltZV9nZXRDdXJTZWMgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODBDQkM5RSksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIEdsb2JhbERhdGFfc19zeXN0ZW1UaW1lXyA9IHB0cigweDk0MUY3MTQpOw0KLy/ojrflj5ZVVEPml7bpl7Qo56eSKQ0KdmFyIGdldEN1clNlYyA9IG5ldyBOYXRpdmVGdW5jdGlvbihNb2R1bGUuZ2V0RXhwb3J0QnlOYW1lKG51bGwsICd0aW1lJyksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KDQovL+S7juWuouaIt+err+WwgeWMheS4reivu+WPluaVsOaNrg0KdmFyIFBhY2tldEJ1Zl9nZXRfYnl0ZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4NThDRjIyKSwgJ2ludCcsIFsncG9pbnRlcicsICdwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBQYWNrZXRCdWZfZ2V0X3Nob3J0ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDg1OENGQzApLCAnaW50JywgWydwb2ludGVyJywgJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIFBhY2tldEJ1Zl9nZXRfaW50ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDg1OEQyN0UpLCAnaW50JywgWydwb2ludGVyJywgJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIFBhY2tldEJ1Zl9nZXRfYmluYXJ5ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDg1OEQzQjIpLCAnaW50JywgWydwb2ludGVyJywgJ3BvaW50ZXInLCAnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCg0KLy/mnI3liqHlmajnu4TljIUNCnZhciBQYWNrZXRHdWFyZF9QYWNrZXRHdWFyZCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4NThERDRDKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9oZWFkZXIgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODBDQjhGQyksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50JywgJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9ieXRlID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgwQ0I5MjApLCAnaW50JywgWydwb2ludGVyJywgJ3VpbnQ4J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X3Nob3J0ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgwRDlFQTQpLCAnaW50JywgWydwb2ludGVyJywgJ3VpbnQxNiddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9pbnQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODBDQjkzQyksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2JpbmFyeSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MTFERjA4KSwgJ2ludCcsIFsncG9pbnRlcicsICdwb2ludGVyJywgJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgSW50ZXJmYWNlUGFja2V0QnVmX2ZpbmFsaXplID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgwQ0I5NTgpLCAnaW50JywgWydwb2ludGVyJywgJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgRGVzdHJveV9QYWNrZXRHdWFyZF9QYWNrZXRHdWFyZCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4NThERTgwKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgSW50ZXJmYWNlUGFja2V0QnVmX2NsZWFyID0gIG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODBjYjhlNiksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfcGFja2V0ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MTUwOThlKSwgJ2ludCcsIFsncG9pbnRlcicsJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIFBhY2tldEd1YXJkX2ZyZWVfUGFja2V0R3VhcmQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg1OGRlODApLCAndm9pZCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgUGFja2V0X01vbml0b3JfTWF4X0xldmVsX0Jyb2FkQ2FzdF9QYWNrZXRfTW9uaXRvcl9NYXhfTGV2ZWxfQnJvYWRDYXN0ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4Njk0NTYwKSwgJ3ZvaWQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KDQovL+acjeWKoeWZqOe7hOWMhQ0KZnVuY3Rpb24gYXBpX1BhY2tldEd1YXJkX1BhY2tldEd1YXJkKCkNCnsNCiAgICB2YXIgcGFja2V0X2d1YXJkID0gTWVtb3J5LmFsbG9jKDB4MjAwMDApOw0KICAgIFBhY2tldEd1YXJkX1BhY2tldEd1YXJkKHBhY2tldF9ndWFyZCk7DQoNCiAgICByZXR1cm4gcGFja2V0X2d1YXJkOw0KfQ0KDQovL+acjeWKoeWZqOeOr+Wigw0KdmFyIEdfQ0Vudmlyb25tZW50ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MENDMTgxKSwgJ3BvaW50ZXInLCBbXSwgeyJhYmkiOiJzeXN2In0pOw0KLy/ojrflj5blvZPliY3mnI3liqHlmajphY3nva7mlofku7blkI0NCnZhciBDRW52aXJvbm1lbnRfZ2V0X2ZpbGVfbmFtZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MERBMzlBKSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KLy/ojrflj5ZHYW1lV29ybGTlrp7kvosNCnZhciBHX0dhbWVXb3JsZCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MERBM0E3KSwgJ3BvaW50ZXInLCBbXSwgeyJhYmkiOiJzeXN2In0pOw0KLy/moLnmja5zZXJ2ZXJfaWTmn6Xmib51c2VyDQp2YXIgR2FtZVdvcmxkX2ZpbmRfZnJvbV93b3JsZCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4NkM0QjlDKSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInLCAnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCi8v5Z+O6ZWH556s56e7DQp2YXIgR2FtZVdvcmxkX21vdmVfYXJlYSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4NkM1QTg0KSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInLCAncG9pbnRlcicsICdpbnQnLCAnaW50JywgJ2ludCcsICdpbnQnLCAnaW50JywgJ2ludCcsICdpbnQnLCAnaW50JywgJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQovL+agueaNrui0puWPt+afpeaJvuW3sueZu+W9leinkuiJsg0KdmFyIEdhbWVXb3JsZF9maW5kX3VzZXJfZnJvbV93b3JsZF9ieWFjY2lkID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDg2QzRENDApLCAncG9pbnRlcicsIFsncG9pbnRlcicsICdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KLy/lsIbljY/orq7lj5Hnu5nmiYDmnInlnKjnur/njqnlrrYo5oWO55SoISDlub/mkq3nsbvmjqXlj6Plv4XpobvpmZDliLbosIPnlKjpopHnjocsIOmYsuatokND5pS75Ye7KQ0KLy/pmaTpnZ7lv4Xpobvkvb/nlKgsIOWQpuWImeaUueeUqOWvueixoeabtOWKoOaYjuehrueahENQYXJ0eTo6c2VuZF90b19wYXJ0eS9HYW1lV29ybGQ6OnNlbmRfdG9fYXJlYQ0KdmFyIEdhbWVXb3JsZF9zZW5kX2FsbCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4NkM4QzE0KSwgICdpbnQnLCBbJ3BvaW50ZXInLCAncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgR2FtZVdvcmxkX3NlbmRfYWxsX3dpdGhfc3RhdGUgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODZDOTE4NCksICAnaW50JywgWydwb2ludGVyJywgJ3BvaW50ZXInLCAnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCi8v6I635Y+W5Zyo57q/546p5a625pWw6YePDQp2YXIgR2FtZVdvcmxkX2dldF9Vc2VyQ291bnRfSW5Xb3JsZCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4NkM0NTUwKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQovL+WcqOe6v+eOqeWutuWIl+ihqCjnlKjkuo5zdGQ6Om1hcOmBjeWOhikNCnZhciBHYW1ld29ybGRfdXNlcl9tYXBfYmVnaW4gPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODBGNzhBNiksICdpbnQnLCBbJ3BvaW50ZXInLCAncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgR2FtZXdvcmxkX3VzZXJfbWFwX2VuZCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MEY3OENDKSwgJ2ludCcsIFsncG9pbnRlcicsICdwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBHYW1ld29ybGRfdXNlcl9tYXBfbm90X2VxdWFsID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgwRjc4RjIpLCAnYm9vbCcsIFsncG9pbnRlcicsICdwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBHYW1ld29ybGRfdXNlcl9tYXBfZ2V0ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgwRjc5NDQpLCAncG9pbnRlcicsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgR2FtZXdvcmxkX3VzZXJfbWFwX25leHQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODBGNzkwNiksICdwb2ludGVyJywgWydwb2ludGVyJywgJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIEdhbWVXb3JsZF9Jc0VuY2hhbnRSZXZpc2lvbkNoYW5uZWwgPW5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODIzNDNmYyksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIEdhbWVXb3JsZF9nZXREdW5nZW9uTWluaW11bVJlcXVpcmVkTGV2ZWwgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2YzkwNzYpLCAnaW50JywgWydwb2ludGVyJywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBHYW1lV29ybGRfc2VuZF91c2VyX2R1bmdlb25faW5vdXRfbWVzc2FnZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODZjOGZjOCksICd2b2lkJywgWydwb2ludGVyJywncG9pbnRlcicsJ2ludCcsJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgR2FtZVdvcmxkX0lzUHZQU2tpbFRyZWVDaGFubmVsID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MjM0NDFlKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQoNCnZhciBHX0NHYW1lTWFuYWdlciA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODBjYzE4ZSksICdwb2ludGVyJywgW10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDR2FtZU1hbmFnZXJfR2V0UHJlbWl1bUxldGhlTWFuYWdlciA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODI5OGU4OCksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENFdmVudE1hbmFnZXJfR2V0UmVwZWF0RXZlbnQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgxMTU5OTgpLCAncG9pbnRlcicsIFsncG9pbnRlcicsJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgRXZlbnRDbGFzc2lmeV9DRXZlbnRTY3JpcHRNbmdfcHJvY2Vzc19sZXZlbF91cF9yZXdhcmQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgxMGJmNTYpLCAncG9pbnRlcicsIFsncG9pbnRlcicsJ3BvaW50ZXInLCdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIEd1aWxkUGFyYW1ldGVyU2NyaXB0X2dldEd1aWxkTGV2ZWxVcFBhcmFtID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4OTc5NjQ4KSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInLCdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIEd1aWxkUGFyYW1ldGVyU2NyaXB0X2dldEd1aWxkRXhwQm9vayA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODk3OTY3MiksICdpbnQnLCBbJ3BvaW50ZXInLCdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KDQovL+iOt+WPlkRhdGFNYW5hZ2Vy5a6e5L6L77yM55So5LqO5aSE55CGcHZm55qEDQp2YXIgR19DRGF0YU1hbmFnZXIgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODBDQzE5QiksICdwb2ludGVyJywgW10sIHsiYWJpIjoic3lzdiJ9KTsNCi8v5LuOcHZm5Lit6I635Y+W5Lu75Yqh5pWw5o2uDQp2YXIgQ0RhdGFNYW5hZ2VyX2ZpbmRfcXVlc3QgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODM1RkRDNiksICdwb2ludGVyJywgWydwb2ludGVyJywgJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQovL+iOt+WPluijheWkh3B2ZuaVsOaNrg0KdmFyIENEYXRhTWFuYWdlcl9maW5kX2l0ZW0gPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODM1RkEzMiksICdwb2ludGVyJywgWydwb2ludGVyJywgJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ0RhdGFNYW5hZ2VyX2dldF9sZXZlbF9leHAgPSAgbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MzYwNDQyKSwgJ2ludCcsIFsncG9pbnRlcicsJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ0RhdGFNYW5hZ2VyX2dldERhaWx5VHJhaW5pbmdRdWVzdCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODM2NDBmZSksICdwb2ludGVyJywgWydwb2ludGVyJywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDRGF0YU1hbmFnZXJfR2V0U3BBdExldmVsVXAgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgzNjBjYjgpLCAnaW50JywgWydwb2ludGVyJywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDRGF0YU1hbmFnZXJfZ2V0X2V2ZW50X3NjcmlwdF9tbmcgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgxMTBiNjIpLCAncG9pbnRlcicsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ0RhdGFNYW5hZ2VyX0dldEV4cGVydEpvYlNjcmlwdCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODIyYjVmMiksICdwb2ludGVyJywgWydwb2ludGVyJywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDRGF0YU1hbmFnZXJfZ2V0X2RpbWVuc2lvbklub3V0ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MjJiNjEyKSwgJ2ludCcsIFsncG9pbnRlcicsJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQoNCi8v6YCa55+l5a6i5oi356uvUXVlc3RQaWVjZeabtOaWsA0KdmFyIEdFVF9VU0VSID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NGJiOWNmKSwgICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KLy/nu5nop5LoibLlj5Hmtojmga8NCnZhciBDVXNlcl9TZW5kTm90aVBhY2tldE1lc3NhZ2UgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODY4ODZDRSksICdpbnQnLCBbJ3BvaW50ZXInLCAncG9pbnRlcicsICdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KLy/op5LoibLlop7liqDnu4/pqowNCnZhciBDVXNlcl9nYWluX2V4cF9zcCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4NjZBM0ZFKSwgJ2ludCcsIFsncG9pbnRlcicsICdpbnQnLCAncG9pbnRlcicsICdwb2ludGVyJywgJ2ludCcsICdpbnQnLCAnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCi8v5Y+R6YCB6YGT5YW3DQp2YXIgQ1VzZXJfQWRkSXRlbSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4NjdCNkQ0KSwgJ2ludCcsIFsncG9pbnRlcicsICdpbnQnLCAnaW50JywgJ2ludCcsICdwb2ludGVyJywgJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQovL+mAmuefpeWuouaIt+err+mBk+WFt+abtOaWsCjlrqLmiLfnq6/mjIfpkogsIOmAmuefpeaWueW8j1vku4XlrqLmiLfnq689MSwg5LiW55WM5bm/5pKtPTAsIOWwj+mYnz0yLCB3YXIgcm9vbT0zXSwgaXRlbVNwYWNlW+ijheWkhz0wLCDml7boo4U9MV0sIOmBk+WFt+aJgOWcqOeahOiDjOWMheanvSkNCnZhciBDVXNlcl9TZW5kVXBkYXRlSXRlbUxpc3QgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODY3QzY1QSksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50JywgJ2ludCcsICdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KLy8g6YCa55+l5a6i5oi356uv5pu05paw6IOM5YyF5qCPDQp2YXIgQ1VzZXJfc2VuZF9pdGVtc3BhY2UgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODY1REI2QyksICAnaW50JywgWydwb2ludGVyJywgJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQovL+iOt+WPlueOqeWutuS7u+WKoeS/oeaBrw0KdmFyIENVc2VyX2dldEN1ckNoYXJhY1F1ZXN0VyA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MTRBQTVFKSwgICdwb2ludGVyJywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCi8v5Lu75Yqh55u45YWz5pON5L2cKOesrOS6jOS4quWPguaVsOS4uuWNj+iurue8luWPtzogMzM95o6l5Y+X5Lu75YqhLCAzND3mlL7lvIPku7vliqEsIDM1PeS7u+WKoeWujOaIkOadoeS7tuW3sua7oei2sywgMzY95o+Q5Lqk5Lu75Yqh6aKG5Y+W5aWW5YqxKQ0KdmFyIENVc2VyX3F1ZXN0X2FjdGlvbiA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY2REE4QSksICAnaW50JywgWydwb2ludGVyJywgJ2ludCcsICdpbnQnLCAnaW50JywgJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQovL+WPkeWMhee7meWuouaIt+errw0KdmFyIENVc2VyX1NlbmQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODY0ODVCQSksICdpbnQnLCBbJ3BvaW50ZXInLCAncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQovL+iuvue9rkdN5a6M5oiQ5Lu75Yqh5qih5byPKOaXoOadoeS7tuWujOaIkOS7u+WKoSkNCnZhciBDVXNlcl9zZXRHbVF1ZXN0RmxhZyA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MjJGQzhFKSwgICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCi8v5piv5ZCmR03ku7vliqHmqKHlvI8NCnZhciBDVXNlcl9nZXRHbVF1ZXN0RmxhZyA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MjJGQzhFKSwgICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KLy/pgJrnn6XlrqLmiLfnq6/mm7TmlrDlt7LlrozmiJDku7vliqHliJfooagNCnZhciBDVXNlcl9zZW5kX2NsZWFyX3F1ZXN0X2xpc3QgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODY4QjA0NCksICAnaW50JywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCi8v6K6h566X5Lu75Yqh5Z+656GA5aWW5YqxKOS4jeWMheWQq+mBk+WFt+WlluWKsSkNCnZhciBDVXNlcl9xdWVzdF9iYXNpY19yZXdhcmQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODY2RTdBOCksICAnaW50JywgWydwb2ludGVyJywgJ3BvaW50ZXInLCAncG9pbnRlcicsICdwb2ludGVyJywgJ3BvaW50ZXInLCAncG9pbnRlcicsICdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KLy/pgJrnn6XlrqLmiLfnq69RUOabtOaWsA0KdmFyIENVc2VyX3NlbmRDaGFyYWNRcCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4NjhBQzI0KSwgICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KLy/pgJrnn6XlrqLmiLfnq69RdWVzdFBpZWNl5pu05pawDQp2YXIgQ1VzZXJfc2VuZENoYXJhY1F1ZXN0UGllY2UgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODY4QUYyQyksICAnaW50JywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCi8v6I635Y+W6KeS6Imy54q25oCBDQp2YXIgQ1VzZXJfZ2V0X3N0YXRlID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgwREEzOEMpLCAnaW50JywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCi8v6YCa55+l5a6i5oi356uv6KeS6Imy5bGe5oCn5pu05pawDQp2YXIgQ1VzZXJfU2VuZE5vdGlQYWNrZXQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODY3QkE1QyksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50JywgJ2ludCcsICdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KLy8g6I635Y+W6LSm5Y+36YeR5bqTDQp2YXIgQ1VzZXJfR2V0QWNjb3VudENhcmdvID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MjJmYzIyKSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KLy/ph43nva7lvILnlYwv5p6B6ZmQ56Wt5Z2b5qyh5pWwDQp2YXIgQ1VzZXJfRGltZW5zaW9uSW5vdXRVcGRhdGUgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODY1NkMxMiksICAnaW50JywgWydwb2ludGVyJywgJ2ludCcsICdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KLy/pgZPlhbfmmK/lkKbooqvplIENCnZhciBDVXNlcl9DaGVja0l0ZW1Mb2NrID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDg2NDY5NDIpLCAnaW50JywgWydwb2ludGVyJywgJ2ludCcsICdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KLy8g6K6+572u55So5oi35pyA5aSn562J57qnIGludOS4uuetiee6pw0KdmFyIENVc2VyX1NldFVzZXJNYXhMZXZlbCAgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2OGZlYzgpLCAncG9pbnRlcicsIFsncG9pbnRlcicsICdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyX0NhbGN1cmF0ZVVzZXJNYXhMZXZlbCAgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2OGZmMDQpLCAncG9pbnRlcicsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQovL+iOt+WPluinkuiJsuaJgOWcqOmYn+S8jQ0KdmFyIENVc2VyX0dldFBhcnR5ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NjU1MTRDKSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KLy/ojrflj5bop5LoibLmianlsZXmlbDmja4NCnZhciBDVXNlcl9HZXRDaGFyYWNFeHBhbmREYXRhID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MERENTg0KSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInLCAnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCi8v6I635Y+W6KeS6Imy54K55Yi45L2Z6aKdDQp2YXIgQ1VzZXJfR2V0Q2VyYSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODBGREY3QSksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KLy/ojrflj5bop5LoibLotKblj7dpZA0KdmFyIENVc2VyX2dldF9hY2NfaWQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODBEQTM2RSksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KLy/ov5Tlm57pgInmi6nop5LoibLnlYzpnaINCnZhciBDVXNlcl9SZXR1cm5Ub1NlbGVjdENoYXJhY0xpc3QgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODY4NkZFRSksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDVXNlcl9TZW5kQ21kRXJyb3JQYWNrZXQgPW5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY3YmY0MiksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50JywgJ3VpbnQ4J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDVXNlcl9DaGVja01vbmV5ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NjZhZjFjKSwgJ2ludCcsIFsncG9pbnRlcicsICdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyX0dldENoYXJhY0V4cGFuZERhdGFSID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MjhiNWRlKSwgJ2ludCcsIFsnaW50JywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDVXNlcl9pc0dNVXNlciA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODE0NTg5YyksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyX29uTGV2ZWxVcCA9ICBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2NjMxMWEpLCAndm9pZCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ1VzZXJfZ2V0SGFkZXMgID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MjMwODAwKSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyX2NoZWNrX2xldmVsX3VwICA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY2MmFlYSksICdpbnQnLCBbJ3BvaW50ZXInLCdpbnQnLCdpbnQnLCdpbnQnLCdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyX2dhaW5fc3AgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2NmE5YTApLCAnaW50JywgWydwb2ludGVyJywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDVXNlcl9nYWluX3NmcCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY2YWFkMiksICdpbnQnLCBbJ3BvaW50ZXInLCdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyX2hpc3RvcnlfbG9nX3NwID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NjZhYzBlKSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInLCdpbnQnLCdpbnQnLCdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyX2hpc3RvcnlfbG9nX3NmcCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY2YWNkMCksICdwb2ludGVyJywgWydwb2ludGVyJywnaW50JywnaW50JywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDVXNlcl9HZXRUdXRvcmlhbFNraXBhYmxlICA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODRlY2FkNCksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyX1VwZGF0ZVR1dG9yaWFsU2tpcGFibGUgID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4Njk3MzE4KSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ1VzZXJfdXBkYXRlX2NoYXJhY19zdGF0ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NjY0NmM4KSwgJ2ludCcsIFsncG9pbnRlcicsJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ1VzZXJfR2V0U2VydmVyR3JvdXAgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgwY2JjOTApLCAnaW50JywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDVXNlcl9tYWtlR3VpbGRMZXZlbFVwTWVzc2FnZSA9ICBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2Nzk3NTQpLCAndm9pZCcsIFsncG9pbnRlcicsJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ1VzZXJfZ2V0Q3VyQ2hhcmFjUXVlc3RSPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgxOWE4YTYpLCAgJ3BvaW50ZXInLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyX1VwZGF0ZVVzZXJJbmZvNEd1aWxkID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NjdjZDIwKSwgJ3ZvaWQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyX2dldF9jaGFyYWNfbm8gPSAgbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MTU3NDFjKSwgJ2ludCcsIFsncG9pbnRlcicsJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ1VzZXJfVmVyaWZ5UHJlc2VudEF2ZW5nZXJUaXRsZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY4YjU1MiksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyX0FkZEN1ckNoYXJhY01lcmNlbmFyeUluZm8gPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2OGU1OTYpLCAncG9pbnRlcicsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ1VzZXJfZGVjaWRlX2dyb3d0aF9wb3dlcl9yZXdhcmRfc3lzdGVtID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NjhkNzgwKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ1VzZXJfUmVDYWxjQ2hhdHRpbmdFbW90aWNvbiA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY4OWEyMiksICd2b2lkJywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDVXNlcl9TZW5kQ2hhdHRpbmdFbW90aWNvbiA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY4OWI5MCksICd2b2lkJywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDVXNlcl9pc0FmZmVjdGVkUHJlbWl1bSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODBlNjAwZSksICdpbnQnLCBbJ2ludCcsICdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyX3Byb2Nlc3NOUENHaWZ0T25MZXZlbFVwID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NjY0MDdhKSwgJ3ZvaWQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyX3Byb2Nlc3NMZXZlbFVwRXZlbnRSZXdhcmQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2NjNjYzApLCAnaW50JywgWydwb2ludGVyJywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDVXNlcl9wcm9jZXNzTGV2ZWxVcEV2ZW50ICA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY5MTE1YSksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyX2luY1BsYXlFeHBBZGQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2OTcyOWEpLCAncG9pbnRlcicsIFsncG9pbnRlcicsICdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyX0NoZWNrSW5UcmFkZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODBkYTJmZSksICd1aW50MTYnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyX2dldEN1ckNoYXJhY1RvdGFsRmF0aWd1ZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY1Nzc2NiksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyX0lzR3VpbGRNYXN0ZXIgPSAgbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MjMwMTcyKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ1VzZXJfR2V0R3VpbGREQkluZm8gPSAgbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MjMwMTY0KSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyX0NhbExldmVsVXBJdGVtQ2hlY2sgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2ODlkMDYpLCAnaW50JywgWydwb2ludGVyJywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDVXNlcl9DYWxMZXZlbFVwSXRlbVN0YXRlID0gIG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY4OWQ3NCksICdpbnQnLCBbJ3BvaW50ZXInLCAncG9pbnRlcicsICdwb2ludGVyJywnaW50JywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDVXNlcl9HZXRDdXJFeHBlcnRKb2JMZXZlbCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY4YmM3YyksICdpbnQnLCBbJ3BvaW50ZXInLCdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyX3NlbmRfc2tpbGxfaW5mbyA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY2YzQ2YSksICd2b2lkJywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDVXNlcl9tYWtlX2Jhc2ljX2luZm8gPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2NWE0NGUpLCAnaW50JywgWydwb2ludGVyJywncG9pbnRlcicsJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ1VzZXJfR2V0V2FyUm9vbSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY1NTFkZSksICdwb2ludGVyJywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDVXNlcl9hZGp1c3RfY2hhcmFjX3N0YXQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2NjQ3NjYpLCAnaW50JywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDVXNlcl9pbmNyZWFzZV9zdGF0dXMgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2NjU3ZmMpLCAndm9pZCcsIFsncG9pbnRlcicsICdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyX1NlbmRUYWdDaGFyYWNJbmZvID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NjkwM2Y4KSwgJ3ZvaWQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyX2dpdmVDaGFyYWNMaW5rQm9udXNFeHA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY1MjU2NCksICd2b2lkJywgWydwb2ludGVyJywgJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ1VzZXJfZ2V0X2NoYXJhY19ubyAgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2NGRmYTApLCAnaW50JywgWydwb2ludGVyJywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDVXNlcl9SZWNvdmVyRmF0aWd1ZSA9bmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NjU3YWRhKSwgJ2ludCcsIFsncG9pbnRlcicsJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ1VzZXJfU2VuZEZhdGlndWUgPW5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY1NjU0MCksICd2b2lkJywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDVXNlcl9wcm9jZXNzTGV2ZWxSZXdhcmQgID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4Njg3NDVlKSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInLCdpbnQnLCdpbnQnLCdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyX2dpdmVQdlBTa2lsbFRyZWUgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2NjU0MDApLCAnaW50JywgWydwb2ludGVyJywnaW50JywnaW50JywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDVXNlcl9yZXdhcmRFeHAgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2OGIyMGMpLCAndm9pZCcsIFsncG9pbnRlcicsICdpbnQnLCAnaW50JywgJ2ludCcsICdwb2ludGVyJywgJ3BvaW50ZXInLCdpbnQnLCdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KDQp2YXIgQ1VzZXJDaGFyYWNJbmZvX3NldERlbWVuc2lvbklub3V0VmFsdWUgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgyMmYxODQpLCAnaW50JywgWydwb2ludGVyJywnaW50JywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCi8v6I635Y+W6KeS6Imy5ZCN5a2XDQp2YXIgQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY05hbWUgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODEwMTAyOCksICdwb2ludGVyJywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCi8v6I635Y+W6KeS6Imy5LiK5qyh6YCA5Ye65ri45oiP5pe26Ze0DQp2YXIgQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY0xhc3RQbGF5VGljayA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MkE2NkFBKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQovL+iOt+WPluinkuiJsuetiee6pw0KdmFyIENVc2VyQ2hhcmFjSW5mb19nZXRfY2hhcmFjX2xldmVsID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgwREEyQjgpLCAnaW50JywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCi8v6I635Y+W6KeS6Imy5b2T5YmN562J57qn5Y2H57qn5omA6ZyA57uP6aqMDQp2YXIgQ1VzZXJDaGFyYWNJbmZvX2dldF9sZXZlbF91cF9leHAgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2NEUzQkEpLCAnaW50JywgWydwb2ludGVyJywgJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQovL+iOt+WPluinkuiJsuiDjOWMhQ0KdmFyIENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNJbnZlblcgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODBEQTI4RSksICdwb2ludGVyJywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCi8v6I635Y+W6KeS6Imy5Ymv6IGM5LiaDQp2YXIgQ1VzZXJDaGFyYWNJbmZvX0dldEN1ckNoYXJhY0V4cGVydEpvYiA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MjJmOGQ0KSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQovL+iuvue9ruW5uOi/kOeCueaVsA0KdmFyIENVc2VyQ2hhcmFjSW5mb19TZXRDdXJDaGFyYWNMdWNrUG9pbnQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2NDY3MEEpLCAnaW50JywgWydwb2ludGVyJywgJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQovL+iOt+WPluinkuiJsuW9k+WJjeW5uOi/kOeCuQ0KdmFyIENVc2VyQ2hhcmFjSW5mb19HZXRDdXJDaGFyYWNMdWNrUG9pbnQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODIyRjgyOCksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KLy/orr7nva7op5LoibLlsZ7mgKfmlLnlj5johI/moIforrAo6KeS6Imy5LiK57q/5pe25oqK5omA5pyJ5bGe5oCn5LuO5pWw5o2u5bqT57yT5a2Y5Yiw5YaF5a2Y5LitLCDlj6rmnInorr7nva7kuobohI/moIforrAsIOinkuiJsuS4i+e6v+aXtuaJjeiDveato+ehruWtmOaho+WIsOaVsOaNruW6kywg5ZCm5YiZ5Y+Y5Yqo55qE5bGe5oCn5LiL57q/5ZCO5Y+v6IO95Lya5Zue5qGjKQ0KdmFyIENVc2VyQ2hhcmFjSW5mb19lbmFibGVTYXZlQ2hhcmFjU3RhdCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MTlBODcwKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQovL+acrOasoeeZu+W9leaXtumXtA0KdmFyIENVc2VyQ2hhcmFjSW5mb19HZXRMb2dpblRpY2sgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODIyRjY5MiksICAnaW50JywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCi8v6I635Y+W5b2T5YmN6KeS6ImyaWQNCnZhciBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjTm8gPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODBDQkM0RSksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNNb25leT0gIG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODE3YTE4OCksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyQ2hhcmFjSW5mb19HZXRDdXJDaGFyYWNNYXhFcXVpcExldmVsID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NjQ2N2EwKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ1VzZXJDaGFyYWNJbmZvX1NldEN1ckNoYXJhY01heEVxdWlwTGV2ZWwgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2NDY3YzIpLCAnaW50JywgWydwb2ludGVyJywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjU2tpbGxSID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MjJmMTMwKSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNTa2lsbFcgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgyMmYxNDApLCAncG9pbnRlcicsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY1IgPSAgbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NTRmNzE4KSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfZXhwID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NGVjMDVjKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ1VzZXJDaGFyYWNJbmZvX3NldEN1ckNoYXJhY0V4cCA9ICBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgxOWE4N2MpLCAnaW50JywgWydwb2ludGVyJywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDVXNlckNoYXJhY0luZm9fYWRkQ3VyQ2hhcmFjRXhwID0gIG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY5NjdiZSksICdpbnQnLCBbJ3BvaW50ZXInLCdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyQ2hhcmFjSW5mb19pbmNDdXJDaGFyYWNMZXZlbCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY5Njc2MiksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyQ2hhcmFjSW5mb19zZXRDdXJDaGFyYWNFeHAgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgxOWE4N2MpLCAnaW50JywgWydwb2ludGVyJywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDVXNlckNoYXJhY0luZm9fcmVzZXRDaGFyYWNGYXRpZ3VlR3Jvd25VcEJ1ZmYgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2OTYzODYpLCAnaW50JywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjR3Jvd1R5cGUgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgxNTc0MWMpLCAnaW50JywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDVXNlckNoYXJhY0luZm9fc2V0X2NoYXJhY19mYXRpZ3VlX2J1Zl9ib251c19leHAgPSAgbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NDY5YTAyKSwgJ2ludCcsIFsncG9pbnRlcicsICdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNDcmVhdGVUaW1lID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MjJmMjAyKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ1VzZXJDaGFyYWNJbmZvX1Jlc2V0Q3VyQ2hhcmFjRHVuZ2VvblBsYXlDb3VudCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY5NjlmZSksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyQ2hhcmFjSW5mb19HZXRDdXJDaGFyYWNFeHBlcnRKb2JFeHAgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgzNzUwMjYpLCAnaW50JywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDVXNlckNoYXJhY0luZm9fR2V0Q3VyQ2hhcmFjRHVuZ2VvblBsYXlDb3VudCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODViZmM3OCksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyQ2hhcmFjSW5mb19nZXRfY2hhcmFjX2pvYiA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODBmZGYyMCksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyQ2hhcmFjSW5mb19nZXRfcHZwX2dyYWRlID0gIG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODE5ZWU0YSksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyQ2hhcmFjSW5mb19nZXRfY2hhcmFjX2pvYiA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODBmZGYyMCksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyU2Vjb25kR3Jvd1R5cGUgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgyMmYyM2MpLCAnaW50JywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhckZpcnN0R3Jvd1R5cGUgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgxMTBjOTQpLCAnaW50JywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDVXNlckNoYXJhY0luZm9fR2V0Q3VyQ2hhcmFjRXhwZXJ0Sm9iVHlwZSA9ICBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgyMmY4OTQpLCAnaW50JywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDVXNlckNoYXJhY0luZm9fR2V0Q3VyQ2hhcmFjU2tpbGxUcmVlSW5kZXggPW5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODIyZjMzYyksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyQ2hhcmFjSW5mb19zZXRDdXJDaGFyYWNGYXRpZ3VlID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MjJmMmNlKSwgJ2ludCcsIFsncG9pbnRlcicsJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ1VzZXJDaGFyYWNJbmZvX2FkZF9ndWlsZF9leHAgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2NDVjNzYpLCAnaW50JywgWydwb2ludGVyJywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDVXNlckNoYXJhY0luZm9fc2V0Q3VyQ2hhcmFjU3RhbWluYSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODJmMDkxNCksICdpbnQnLCBbJ3BvaW50ZXInLCdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyQ2hhcmFjSW5mb19JbmNyZWFzZVBvd2VyV2FyUG9pbnQgPSAgbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4Njg3ZWZjKSwgJ2ludCcsIFsncG9pbnRlcicsJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY1IgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgxMjA0MzIpLCAncG9pbnRlcicsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY0ludmVuUiA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODBkYTI3ZSksICdwb2ludGVyJywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDVXNlckNoYXJhY0luZm9fZ2V0X2NoYXJhY19ndWlsZGtleSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODIyZjQ2YyksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNGYXRpZ3VlID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MjJmMmFlKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY0FkZEluZm9SZWZXID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4Njk2MGQ4KSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQoNCnZhciBDSW52ZW50b3J5X0dldEludmVuUmVmID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDg0RkMxREUpLCAncG9pbnRlcicsIFsncG9pbnRlcicsICdpbnQnLCAnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCi8v5YeP5bCR6YeR5biBDQp2YXIgQ0ludmVudG9yeV91c2VfbW9uZXkgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODRGRjU0QyksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50JywgJ2ludCcsICdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KLy/lop7liqDph5HluIENCnZhciBDSW52ZW50b3J5X2dhaW5fbW9uZXkgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODRGRjI5QyksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50JywgJ2ludCcsICdpbnQnLCAnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCi8v6I635Y+W6KeS6Imy5b2T5YmN5oyB5pyJ6YeR5biB5pWw6YePDQp2YXIgQ0ludmVudG9yeV9nZXRfbW9uZXkgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODEzNDdENiksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KLy/ojrflj5bml7boo4XnrqHnkIblmagNCnZhciBDSW52ZW50b3J5X0dldEF2YXRhckl0ZW1NZ3JSID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgwREQ1NzYpLCAncG9pbnRlcicsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQovL+iDjOWMheS4reWIoOmZpOmBk+WFtyjog4zljIXmjIfpkogsIOiDjOWMheexu+Weiywg5qe9LCDmlbDph48sIOWIoOmZpOWOn+WboCwg6K6w5b2V5Yig6Zmk5pel5b+XKQ0KdmFyIENJbnZlbnRvcnlfZGVsZXRlX2l0ZW0gPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODUwNDAwQyksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50JywgJ2ludCcsICdpbnQnLCAnaW50JywgJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ0ludmVudG9yeV9HZXRJbnZlbkRhdGEgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg0ZmJmMmMpLCAnaW50JywgWydwb2ludGVyJywnaW50JywncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ0ludmVudG9yeV9HZXRJbnZlblNsb3QgID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NGZiOTE4KSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInLCAnaW50JywgJ2ludCcsICdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENJbnZlbnRvcnlfdXBkYXRlX2l0ZW09IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODUwMDBhZSksICdpbnQnLCBbJ3BvaW50ZXInLCdpbnQnLCdpbnQnLCdpbnQnLCdpbnQnLCdpbnQnLCdpbnQnLCdpbnQnLCdpbnQnLCdpbnQnLCdpbnQnLCdpbnQnLCdpbnQnLCdpbnQnLCdpbnQnLCdpbnQnLCdpbnQnLCdpbnQnLCdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENJbnZlbnRvcnlfaW5zZXJ0SXRlbUludG9JbnZlbnRvcnkgPSAgbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NTAyZDg2KSwgJ2ludCcsIFsncG9pbnRlcicsJ2ludCcsJ2ludCcsJ2ludCcsJ2ludCcsJ2ludCcsJ2ludCcsJ2ludCcsJ2ludCcsJ2ludCcsJ2ludCcsJ2ludCcsJ2ludCcsJ2ludCcsJ2ludCcsJ2ludCcsJ2ludCcsJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ0ludmVudG9yeV9HZXRFdmVudENvaW4gID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MTEwYzdhKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ0ludmVudG9yeV9TZXRFdmVudENvaW4gPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgxMTBjODYpLCAncG9pbnRlcicsIFsncG9pbnRlcicsJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ0ludmVudG9yeV9HZXRDb2luID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MjJkNjhhKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ0ludmVudG9yeV9TZXRDb2luID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MjJkNjdjKSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInLCdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENJbnZlbnRvcnlfZ2V0X2ludmVuX3Nsb3Rfbm89IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODUwY2Q2MiksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCg0KLy8g5YiG6Kej5py6IOWPguaVsCDop5LoibIg5L2N572uIOiDjOWMheexu+WeiyAgMjM5ICDop5LoibLvvIjosIHnmoTvvIkgMHhGRkZGDQp2YXIgRGlzUGF0Y2hlcl9EaXNKb2ludEl0ZW1fZGlzam9pbnQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODFmOTJjYSksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50JywgJ2ludCcsICdpbnQnLCdwb2ludGVyJywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCg0KdmFyIEFjY291bnRDYXJnb1NjcmlwdF9HZXRDdXJyVXBncmFkZUluZm8gPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg4YzgwYmEpLCAnaW50JywgWydwb2ludGVyJywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDQWNjb3VudENhcmdvX0NoZWNrVmFsaWRTbG90ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MjhBNTU0KSwgJ2ludCcsIFsncG9pbnRlcicsJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ0FjY291bnRDYXJnb19SZXNldFNsb3QgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgyODk4YzApLCAnaW50JywgWydwb2ludGVyJywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDQWNjb3VudENhcmdvX0NoZWNrTW9uZXlMaW1pdCA9bmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MjhhNGNhKSwgJ2ludCcsIFsncG9pbnRlcicsJ3VpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENBY2NvdW50Q2FyZ29fQWRkTW9uZXkgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgyOGE3NDIpLCAncG9pbnRlcicsIFsncG9pbnRlcicsICd1aW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDQWNjb3VudENhcmdvX1NlbmROb3RpZnlNb25leSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODI4YTdkYyksICdwb2ludGVyJywgWydpbnQnLCAnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDQWNjb3VudENhcmdvX1N1Yk1vbmV5ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MjhhNzY0KSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInLCAndWludCddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ0FjY291bnRDYXJnb19HZXRJdGVtQ291bnQgPW5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODI4YTc5NCksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENBY2NvdW50Q2FyZ29fR2V0TW9uZXkgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgyMmYwMjApLCAnaW50JywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDQWNjb3VudENhcmdvX1NldFN0YWJsZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODQ0ZGMxNiksICdwb2ludGVyJywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCi8vIOiOt+WPlui0puWPt+mHkeW6k+S4gOS4quepuueahOagvOWtkA0KdmFyIENBY2NvdW50Q2FyZ29fR2V0RW1wdHlTbG90PSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgyOGE1ODApLCAnaW50JywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCi8vIOWwhuW3sue7j+eJqeWTgeenu+WKqOWIsOafkOS4quagvOWtkCDnrKzkuIDkuKrotKblj7fph5HlupPvvIznrKzkuozkuKrnp7vlhaXnmoTnianlk4HvvIznrKzkuInkuKrmoLzlrZDkvY3nva4NCnZhciBDQWNjb3VudENhcmdvX0luc2VydEl0ZW0gPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgyODljODIpLCAnaW50JywgWydwb2ludGVyJywncG9pbnRlcicsJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQovLyDlkJHlrqLmiLfnq6/lj5HpgIHotKblj7fph5HlupPliJfooagNCnZhciBDQWNjb3VudENhcmdvX1NlbmRJdGVtTGlzdCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODI4YTg4YSksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KDQovL+WIoOmZpOiDjOWMheanveS4reeahOmBk+WFtw0KdmFyIEludmVuX0l0ZW1fcmVzZXQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgwQ0I3RDgpLCAgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQovL+ajgOafpeiDjOWMheS4remBk+WFt+aYr+WQpuS4uuepug0KdmFyIEludmVuX0l0ZW1faXNFbXB0eSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MTFFRDY2KSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQovL+iOt+WPluiDjOWMheS4remBk+WFt2l0ZW1faWQNCnZhciBJbnZlbl9JdGVtX2dldEtleSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4NTBEMTRFKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQovL+mBk+WFt+aYr+WQpuaYr+ijheWkhw0KdmFyIEludmVuX0l0ZW1faXNFcXVpcGFibGVJdGVtVHlwZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODE1MDgxMiksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KLy/og4zljIXpgZPlhbcNCnZhciBJbnZlbl9JdGVtX0ludmVuX0l0ZW0gPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODBDQjg1NCksICdwb2ludGVyJywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCi8v6I635Y+W6YGT5YW36ZmE5Yqg5L+h5oGvDQp2YXIgSW52ZW5fSXRlbV9nZXRfYWRkX2luZm8gPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODBGNzgzQSksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KDQp2YXIgQ0l0ZW1fR2V0SW5kZXggPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODExMGM0OCksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENJdGVtX0dldEdyYWRlID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgxMTBjNTQpLCAnaW50JywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDSXRlbV9HZXRJdGVtTmFtZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MTFlZDgyKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ0l0ZW1fR2V0UHJpY2UgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODIyYzg0YSksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENJdGVtX0dldEdlblJhdGUgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODIyYzg0YSksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENJdGVtX0dldE5lZWRMZXZlbCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4NTQ1ZmRhKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ0l0ZW1fR2V0VXNhYmxlTGV2ZWwgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODBmMTJlZSksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENJdGVtX0dldFJhcml0eSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MGYxMmQ2KSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ0l0ZW1fR2V0QXR0YWNoVHlwZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MGYxMmUyKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ0l0ZW1fR2V0SXRlbUdyb3VwTmFtZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MGYxMzEyKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ0l0ZW1fR2V0VXBTa2lsbFR5cGUgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODU0NWZjYyksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENJdGVtX0dldEdldEV4cGVydEpvYkNvbXBvdW5kTWF0ZXJpYWxWYXJpYXRpb24gPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODUwZDI5MiksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENJdGVtX0dldEV4cGVydEpvYkNvbXBvdW5kUmF0ZVZhcmlhdGlvbiA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4NTBkMmFhKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ0l0ZW1fR2V0RXhwZXJ0Sm9iQ29tcG91bmRSZXN1bHRWYXJpYXRpb24gPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODUwZDJjMiksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENJdGVtX0dldEV4cGVydEpvYlNlbGZEaXNqb2ludEJpZ1dpblJhdGUgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODUwZDJkZSksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENJdGVtX0dldEV4cGVydEpvYlNlbGZEaXNqb2ludFJlc3VsdFZhcmlhdGlvbiA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4NTBkMmY2KSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ0l0ZW1fR2V0RXhwZXJ0Sm9iQWRkaXRpb25hbEV4cCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4NTBkMzBlKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQovL+mBk+WFt+aYr+WQpuS4uua2iOiAl+WTgQ0KdmFyIENJdGVtX2lzX3N0YWNrYWJsZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MEYxMkZBKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ0l0ZW1faXNQYWNrYWdhYmxlID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MjhiNWI0KSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ0l0ZW1fZ2V0VXNhYmxlUGVyaW9kID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MTEwYzYwKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ0l0ZW1fZ2V0RXhwaXJhdGlvbkRhdGUgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgwZjEzMDYpLCAnaW50JywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDSXRlbV9HZXRJbmNyZWFzZVN0YXR1c0ludERhdGEgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2OTQ2NTgpLCAnaW50JywgWydwb2ludGVyJywnaW50JywncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ0l0ZW1fR2V0SW5jcmVhc2VTdGF0dXNUeXBlID0gIG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY5NDZiNiksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENJdGVtX0dldFVzYWJsZVB2UFJhbmsgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2OTQ2YzQpLCAnaW50JywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCg0KdmFyIENFcXVpcEl0ZW1fR2V0VXNhYmxlRXF1aXBtZW50VHlwZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODMyZTAzNiksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENFcXVpcEl0ZW1fR2V0U3ViVHlwZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MzNlZWNjKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQovL+aYr+WQpumtlOazleWwgeWNsOijheWkhw0KdmFyIENFcXVpcEl0ZW1fSXNSYW5kb21PcHRpb24gPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODUxNEU1RSksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KLy/ojrflj5boo4XlpIfprZTms5XlsIHljbDnrYnnuqcNCnZhciBDRXF1aXBJdGVtX0dldFJhbmRvbU9wdGlvbkdyYWRlID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDg1MTRFNkUpLCAnaW50JywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCg0KdmFyIFVzZXJRdWVzdF9maW5pc2hfcXVlc3QgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODZBQzg1NCksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCi8v6YCa55+l5a6i5oi356uv5pu05paw6KeS6Imy5Lu75Yqh5YiX6KGoDQp2YXIgVXNlclF1ZXN0X2dldF9xdWVzdF9pbmZvID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDg2QUJCQTgpLCAnaW50JywgWydwb2ludGVyJywgJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KLy/ph43nva7miYDmnInku7vliqHkuLrmnKrlrozmiJDnirbmgIENCnZhciBVc2VyUXVlc3RfcmVzZXQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODZBQjg5NCksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIFVzZXJRdWVzdF9nZXRfbWFpbF9xdWVzdF9pbmZvID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NmFiZDdhKSwgJ2ludCcsIFsnaW50JywnaW50JywncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgVXNlclF1ZXN0X1Jlc2V0VXJnZW50UXVlc3RXYWl0aW5nTGlzdCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODZhZDE3OCksICAncG9pbnRlcicsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQoNCi8v6K6+572u5Lu75Yqh5Li65bey5a6M5oiQ54q25oCBDQp2YXIgV29uZ1dvcmtfQ1F1ZXN0Q2xlYXJfc2V0Q2xlYXJlZFF1ZXN0ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgwOEJBNzgpLCAnaW50JywgWydwb2ludGVyJywgJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQovL+mHjee9ruS7u+WKoeS4uuacquWujOaIkOeKtuaAgQ0KdmFyIFdvbmdXb3JrX0NRdWVzdENsZWFyX3Jlc2V0Q2xlYXJlZFF1ZXN0cyA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MDhCQUFDKSwgJ2ludCcsIFsncG9pbnRlcicsICdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KLy/ku7vliqHmmK/lkKblt7LlrozmiJANCnZhciBXb25nV29ya19DUXVlc3RDbGVhcl9pc0NsZWFyZWRRdWVzdCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MDhCQUUwKSwgJ2ludCcsIFsncG9pbnRlcicsICdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KLy/ngrnliLjlhYXlgLwNCnZhciBXb25nV29ya19JUEdfQ0lQR0hlbHBlcl9JUEdJbnB1dCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MEZGQ0E0KSwgICdpbnQnLCBbJ3BvaW50ZXInLCAncG9pbnRlcicsICdpbnQnLCAnaW50JywgJ3BvaW50ZXInLCAncG9pbnRlcicsICdwb2ludGVyJywgJ3BvaW50ZXInLCAncG9pbnRlcicsICdwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCi8v5Luj5biB5YWF5YC8DQp2YXIgV29uZ1dvcmtfSVBHX0NJUEdIZWxwZXJfSVBHSW5wdXRQb2ludCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MEZGRkMwKSwgICdpbnQnLCBbJ3BvaW50ZXInLCAncG9pbnRlcicsJ2ludCcsICdpbnQnLCAncG9pbnRlcicsICdwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCi8v5ZCM5q2l54K55Yi45pWw5o2u5bqTDQp2YXIgV29uZ1dvcmtfSVBHX0NJUEdIZWxwZXJfSVBHUXVlcnkgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODEwMDc5MCksICAnaW50JywgWydwb2ludGVyJywgJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KLy/ojrflj5bml7boo4Xmj5Lmp73mlbDmja4NCnZhciBXb25nV29ya19DQXZhdGFySXRlbU1ncl9nZXRKZXdlbFNvY2tldERhdGEgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODJGOThGOCksICdwb2ludGVyJywgWydwb2ludGVyJywgJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQovL+WPkeezu+e7n+mCruS7tijlpJrpgZPlhbcpDQp2YXIgV29uZ1dvcmtfQ01haWxCb3hIZWxwZXJfUmVxREJTZW5kTmV3U3lzdGVtTXVsdGlNYWlsID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDg1NTZCNjgpLCAnaW50JywgWydwb2ludGVyJywgJ3BvaW50ZXInLCAnaW50JywgJ2ludCcsICdpbnQnLCAncG9pbnRlcicsICdpbnQnLCAnaW50JywgJ2ludCcsICdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIFdvbmdXb3JrX0NNYWlsQm94SGVscGVyX01ha2VTeXN0ZW1NdWx0aU1haWxQb3N0YWwgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODU1NkExNCksICdpbnQnLCBbJ3BvaW50ZXInLCAncG9pbnRlcicsICdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KLy/lj5Hns7vnu5/pgq7ku7Yo5pe26KOFKSjku4XmlK/mjIHlnKjnur/op5LoibLlj5Hkv6EpDQp2YXIgV29uZ1dvcmtfQ01haWxCb3hIZWxwZXJfUmVxREJTZW5kTmV3QXZhdGFyTWFpbCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4NTU2MUIwKSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInLCAnaW50JywgJ2ludCcsICdpbnQnLCAnaW50JywgJ2ludCcsICdpbnQnLCAncG9pbnRlcicsICdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIFdvbmdXb3JrX0NVc2VyUHJlbWl1bV9HZXRHb2xkQm9udXMgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2OTRhNjQpLCAnaW50JywgWydwb2ludGVyJywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBXb25nV29ya19DVXNlclByZW1pdW1fUmVjYWxjQWRkaXRpb25hbEluZm8gPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2YWU4YzYpLCAncG9pbnRlcicsIFsncG9pbnRlcicsJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIFdvbmdXb3JrX0NHTUFjY291bnRzX2lzR00gPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgxMDkzNDYpLCAnaW50JywgWydwb2ludGVyJywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBXb25nV29ya19DU2tpbGxDaGFuZ2VyX0NoZWNrQ29uZGl0aW9uID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NjA5ZDEwKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgV29uZ1dvcmtfQ1NraWxsQ2hhbmdlcl9kX0NTa2lsbENoYW5nZXIgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgyMzRmYzQpLCAndm9pZCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgV29uZ1dvcmtfQ1NraWxsQ2hhbmdlcl9DU2tpbGxDaGFuZ2VyID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MjM0ZmJlKSwgJ3ZvaWQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIFdvbmdXb3JrX0NTa2lsbENoYW5nZXJfU2tpbGxJbml0aWFsaXplID1uZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2MDllOTApLCAncG9pbnRlcicsIFsncG9pbnRlcicsJ3BvaW50ZXInLCdpbnQnLCdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIFdvbmdXb3JrX0NNYWlsQm94SGVscGVyX1JlcURCU2VuZE5ld1N5c3RlbU1haWwgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg1NTU1ZTgpLCAnaW50JywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCg0KLy/mo4DmtYvlvZPliY3op5LoibLmmK/lkKblj6/mjqXor6Xku7vliqENCnZhciBzdFNlbGVjdFF1ZXN0UGFyYW1fc3RTZWxlY3RRdWVzdFBhcmFtID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgzNDgwQjQpLCAncG9pbnRlcicsIFsncG9pbnRlcicsICdwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBRdWVzdF9jaGVja19wb3NzaWJsZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MzUyRDg2KSwgJ2ludCcsIFsncG9pbnRlcicsICdwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCg0KLy/ojrflj5blia/mnKxpZA0KdmFyIENEdW5nZW9uX2dldF9pbmRleCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODBGRENGMCksICAnaW50JywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCg0KLy/op6PlsIHprZTms5XlsIHljbANCnZhciByYW5kb21fb3B0aW9uX0NSYW5kb21PcHRpb25JdGVtSGFuZGxlX2dpdmVfb3B0aW9uID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDg1RjJDQzYpLCAgJ2ludCcsIFsncG9pbnRlcicsICdpbnQnLCAnaW50JywgJ2ludCcsICdpbnQnLCAnaW50JywgJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KDQp2YXIgQXZhdGFyQ29pbl9BZGQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgxN2ZlZmEpLCAnaW50JywgWydwb2ludGVyJywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBBdmF0YXJDb2luX1NhdmVUb0RCID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MTgwMGQ2KSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQXZhdGFyQ29pbl9TZW5kU3luY1BhY2tldCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODE3ZmZlNCksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIEF2YXRhckNvaW5fSGlzdG9yeUxvZ19BZGRMb2cgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgxN2ZmOWMpLCAndm9pZCcsIFsncG9pbnRlcicsJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KDQp2YXIgQ1ByZW1pdW1MZXRoZU1hbmFnZXJfSW5pdExldGhlU2tpbGwgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg1YzQwMDgpLCAnaW50JywgWydpbnQnLCdwb2ludGVyJywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDUHJlbWl1bUxldGhlTWFuYWdlcl9VcGRhdGVCYWNrdXBTa2lsbEZsYWcgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg1YzNmMzApLCAnaW50JywgWydpbnQnLCdwb2ludGVyJywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDUHJlbWl1bUxldGhlTWFuYWdlcl9Db25maXJtU2tpbGxSZXEgPW5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODVjM2Q3MCksICdpbnQnLCBbJ3BvaW50ZXInLCdwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCg0KdmFyIFNraWxsU2xvdF9nZXRfcmVtYWluX3NwX2F0X2luZGV4ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NjAzNTI4KSwgJ2ludCcsIFsncG9pbnRlcicsJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIFNraWxsU2xvdF9nZXRfcmVtYWluX3NmcF9hdF9pbmRleCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODYwMzVmMiksICdpbnQnLCBbJ3BvaW50ZXInLCdwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBTa2lsbFNsb3RfZ3Jvd3R5cGVfc2tpbGwgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2MDQwYmMpLCAnaW50JywgWydwb2ludGVyJywncG9pbnRlcicsJ2ludCcsJ2ludCcsJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgU2tpbGxTbG90X3NldF9yZW1haW5fc3BfYXRfaW5kZXggPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2MDM0ZjgpLCAnaW50JywgWydpbnQnLCdpbnQnLCdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIFNraWxsU2xvdF9jbGVhcl9zZnBfc2tpbGxzID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NjA0ZTc4KSwgJ2ludCcsIFsnaW50JywnaW50JywncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgU2tpbGxTbG90X2NsZWFyX2FsbF9za2lsbHMgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2MDRkOTApLCAnaW50JywgWydwb2ludGVyJywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBTa2lsbFNsb3RfY2xlYXJfYWxsX3NraWxsc19ib3RoID0gIG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODYwNGUwOCksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIFNraWxsU2xvdF9zZXRfcGFyZW50ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MjJlZTJlKSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInLCdwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBhZGRTa2lsbE9uQ3JlYXRlQ2hhcmFjdGVyID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NjA0ZmUyKSwgJ3ZvaWQnLCBbJ2ludCcsJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ0NoYXJhY3Rlcl9nZXRfZ2l2ZV9za2lsbCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODM0ODc5OCksICdpbnQnLCBbJ2ludCcsJ2ludCcsJ2ludCcsJ2ludCcsJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQoNCnZhciBDUXVlc3RTaG9wX2NsZWFyUVAgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg1ZWY1NGMpLCAnaW50JywgWydwb2ludGVyJywgJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENRdWVzdFNob3Bfc2VuZENoYXJhY1FwID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NWVmNmZjKSwgJ3ZvaWQnLCBbJ3BvaW50ZXInLCAncG9pbnRlcicsJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQoNCi8v6I635Y+W5raI6ICX5ZOB57G75Z6LDQp2YXIgQ1N0YWNrYWJsZUl0ZW1fR2V0SXRlbVR5cGUgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODUxNEE4NCksICAnaW50JywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCi8v6I635Y+W5b6956ug5pSv5oyB55qE6ZW25bWM5qe957G75Z6LDQp2YXIgQ1N0YWNrYWJsZUl0ZW1fZ2V0SmV3ZWxUYXJnZXRTb2NrZXQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgyMkNBMjgpLCAgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQoNCnZhciBDTW9uaXRvclNlcnZlclByb3h5X1NlbmRDaGFyTGV2ZWxHcm93VHlwZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODQ3MGMwNCksICdpbnQnLCBbJ3BvaW50ZXInLCdpbnQnLCdpbnQnLCdpbnQnLCdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENNb25pdG9yU2VydmVyUHJveHlfU2VuZFBhY2tldCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODQ3MGRmNCksICdpbnQnLCBbJ3BvaW50ZXInLCdwb2ludGVyJywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDU2VydmVyUHJveHlNZ3JfQ01vbml0b3JTZXJ2ZXJQcm94eV9HZXRTZXJ2ZXJQcm94eSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODExMjA4YSksICdwb2ludGVyJywgWydwb2ludGVyJywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDU2VydmVyUHJveHlNZ3JfQ0d1aWxkU2VydmVyUHJveHlfR2V0U2VydmVyUHJveHkgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgxMWQzYjgpLCAncG9pbnRlcicsIFsncG9pbnRlcicsJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ0d1aWxkU2VydmVyUHJveHlfU2VuZENoYXJMZXZlbEdyb3dUeXBlID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NDZkYTlhKSwgJ2ludCcsIFsncG9pbnRlcicsJ2ludCcsJ2ludCcsJ2ludCcsJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQoNCi8v5pe26KOF6ZW25bWM5pWw5o2u5a2Y55uYDQp2YXIgREJfVXBkYXRlQXZhdGFySmV3ZWxTbG90X21ha2VSZXF1ZXN0ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDg0MzA4MUMpLCAncG9pbnRlcicsIFsnaW50JywgJ2ludCcsICdwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCg0KLy/ojrflj5blrZfnrKbkuLLplb/luqYNCnZhciBzdHJsZW4gPSBuZXcgTmF0aXZlRnVuY3Rpb24oTW9kdWxlLmdldEV4cG9ydEJ5TmFtZShudWxsLCAnc3RybGVuJyksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KDQovL+e6v+eoi+WuieWFqOmUgQ0KdmFyIEd1YXJkX011dGV4X0d1YXJkID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgxMDU0NEMpLCAnaW50JywgWydwb2ludGVyJywgJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIERlc3Ryb3lfR3VhcmRfTXV0ZXhfR3VhcmQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODEwNTQ2OCksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KDQovL+acjeWKoeWZqOWGhee9ruWumuaXtuWZqOmYn+WIlw0KdmFyIEdfVGltZXJRdWV1ZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MEY2NDdDKSwgJ3BvaW50ZXInLCBbXSwgeyJhYmkiOiJzeXN2In0pOw0KDQovL+aJp+ihjGRlYnVn5ZG95LukDQp2YXIgRG9Vc2VyRGVmaW5lQ29tbWFuZCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODIwQkE5MCksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50JywgJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KDQovL+iuvue9ruinkuiJsuetiee6pyjmnIDpq5g3MOe6pykNCnZhciBEaXNQYXRjaGVyX0RlYnVnQ29tbWFuZF9fZGVidWdDb21tYW5kU2V0TGV2ZWwgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg1OEVGREUpLCAnaW50JywgWydwb2ludGVyJywgJ3BvaW50ZXInLCAnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsvL+mcgOimgeS4tOaXtuW8gEdN5p2D6ZmQDQoNCi8vdmVjdG9y55u45YWz5pON5L2cDQp2YXIgc3RkX3ZlY3Rvcl9zdGRfcGFpcl9pbnRfaW50X3ZlY3RvciA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MTM0OUQ2KSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIHN0ZF92ZWN0b3Jfc3RkX3BhaXJfaW50X2ludF9jbGVhciA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MTdBMzQyKSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIHN0ZF9tYWtlX3BhaXJfaW50X2ludCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MUI4RDQxKSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInLCAncG9pbnRlcicsICdwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBzdGRfdmVjdG9yX3N0ZF9wYWlyX2ludF9pbnRfcHVzaF9iYWNrID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgwREQ2MDYpLCAncG9pbnRlcicsIFsncG9pbnRlcicsICdwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciB2ZWN0b3JfdW5zaWduZWRfaW50X29wZXJhdG9yPSAgbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MDhlMWRjKSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInLCdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIHN0ZF92ZWN0b3Jfc3RkX3BhaXJfaW50X2ludF9zaXplID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MGRkODE0KSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgc3RkX3ZlY3Rvcl9zdGRfcGFpcl9pbnRfaW50X29wZXJhdG9yID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MGVhOGE0KSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInLCdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIHN0ZF92ZWN0b3Jfc3RkX3BhaXJfaW50X2ludF9kX3ZlY3RvciA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODEzNDllYSksICd2b2lkJywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBzdGRfdmVjdG9yX2NoYXJhY19pbmZvX3NpemUgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgxYTBiOWEpLCAnaW50JywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBzdGRfdmVjdG9yX0NoYXJhY19pbmZvX29wZXJhdG9yQXJyID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MWEwYmI4KSwgJ2ludCcsIFsncG9pbnRlcicsJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQoNCnZhciBMb2dNYW5hZ2VyX2xvZ0Zvcm1hdCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwOGFkM2MwYSksICdpbnQnLCBbJ3BvaW50ZXInLCdpbnQnLCdwb2ludGVyJywncG9pbnRlcicsJ3BvaW50ZXInLCdwb2ludGVyJywnLi4uJywncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgY1VzZXJIaXN0b3J5TG9nX0V2ZW50Q29pbkFkZCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY4M2M1OCksICdwb2ludGVyJywgWydwb2ludGVyJywnaW50JywnaW50JywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBjVXNlckhpc3RvcnlMb2dfQ29pbkFkZCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY4M2I5MCksICdpbnQnLCBbJ3BvaW50ZXInLCdpbnQnLCdpbnQnLCdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIEhpc3RvcnlMb2dfV3JpdGVMZXZlbFVwID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NGI5ZTVlKSwgJ2ludCcsIFsncG9pbnRlcicsJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIGNVc2VySGlzdG9yeUxvZ19MZXZlbFVwICA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY4NDViMiksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50JywgJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgY1VzZXJIaXN0b3J5TG9nX0l0ZW1BZGQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2ODJlODQpLCAnaW50JywgWydpbnQnLCdpbnQnLCdpbnQnLCdpbnQnLCdwb2ludGVyJywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCg0KLy/lvIDlkK/mgKrnianmlLvln44NCnZhciBJbnRlcl9WaWxsYWdlQXR0YWNrZWRTdGFydF9kaXNwYXRjaF9zaWcgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODRERjQ3QSksICdwb2ludGVyJywgWydwb2ludGVyJywgJ3BvaW50ZXInLCAncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQovL+e7k+adn+aAqueJqeaUu+Wfjg0KdmFyIHZpbGxhZ2VfYXR0YWNrZWRfQ1ZpbGxhZ2VNb25zdGVyTWdyX09uRGVzdHJveVZpbGxhZ2VNb25zdGVyID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NkI0M0Q0KSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInLCAnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBHbG9iYWxEYXRhX3NfdmlsbGFnZU1vbnN0ZXJNZ3IgPSBwdHIoMHg5NDFGNzdDKTsNCg0KLy/ojrflj5bpmJ/kvI3kuK3njqnlrrYNCnZhciBDUGFydHlfZ2V0X3VzZXIgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgxNDU3NjQpLCAncG9pbnRlcicsIFsncG9pbnRlcicsICdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENQYXJ0eV9zZW5kX3RvX3BhcnR5ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NTlkMTRlKSwgJ2ludCcsIFsncG9pbnRlcicsJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KDQovL+e7neacm+S5i+WhlOWxguaVsA0KdmFyIFRPRF9MYXllcl9UT0RfTGF5ZXIgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg1RkU3QjQpLCAncG9pbnRlcicsIFsncG9pbnRlcicsICdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KLy/orr7nva7nu53mnJvkuYvloZTlsYLmlbANCnZhciBUT0RfVXNlclN0YXRlX3NldEVudGVyTGF5ZXIgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2NDM4RkMpLCAncG9pbnRlcicsIFsncG9pbnRlcicsICdwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCg0KdmFyIGNNeVRyYWNlX2NNeVRyYWNlID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NTRmNzE4KSwgJ3ZvaWQnLCBbJ3BvaW50ZXInLCdwb2ludGVyJywnaW50JywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBjTXlUcmFjZV9vcGVyYXRvciA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODU0Zjc4OCksICd2b2lkJywgWydpbnQnLCdwb2ludGVyJywncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQoNCnZhciBNc2dRdWV1ZU1ncl9wdXQgPSAgbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NTcwZmRlKSwgJ2ludCcsIFsnaW50JywnaW50JywncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgTnVtYmVyVG9TdHJpbmc9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODEwOTA0YiksICd1aW50JywgWyd1aW50JywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCg0KdmFyIEdldEludGVncmF0ZWRQdlBJdGVtQXR0ciA9bmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NGZjNWZmKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQVJBRF9TaW5nbGV0b25fU2VydmljZVJlc3RyaWN0TWFuYWdlcl9HZXQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgxNjI1ZTYpLCAncG9pbnRlcicsIFtdLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgU2VydmljZVJlc3RyaWN0TWFuYWdlcl9pc1Jlc3RyaWN0ZWQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgxNmU2YjgpLCAndWludDgnLCBbJ2ludCcsJ3BvaW50ZXInLCdpbnQnLCdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENTZWN1X1Byb3RlY3Rpb25GaWVsZF9DaGVjayA9ICBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgyODhhMDIpLCAnaW50JywgWydwb2ludGVyJywncG9pbnRlcicsJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQoNCnZhciBzdEFtcGxpZnlPcHRpb25fdF9nZXRBYmlsaXR5VHlwZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODE1MDczMiksICd1aW50OCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgc3RBbXBsaWZ5T3B0aW9uX3RfZ2V0QWJpbGl0eVZhbHVlID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MTUwNzcyKSwgJ3VpbnQxNicsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgc3RBbXBsaWZ5T3B0aW9uX3RfR2V0TG9jayA9ICBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgyOGI1YTgpLCAnaW50JywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCg0KdmFyIFN0cmVhbVBvb2xfQWNxdWlyZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODI4ZmE4NiksICdwb2ludGVyJywgWydwb2ludGVyJywncG9pbnRlcicsJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ1N0cmVhbUd1YXJkX0NTdHJlYW1HdWFyZCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODBjOGMyNiksICd2b2lkJywgWydwb2ludGVyJywncG9pbnRlcicsJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ1N0cmVhbUd1YXJkX29wZXJhdG9yID0gIG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODBjOGM0NiksICdpbnQnLCBbJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ1N0cmVhbUd1YXJkX29wZXJhdG9yX2ludCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODBjOGM1NiksICdpbnQnLCBbJ3BvaW50ZXInLCdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENTdHJlYW1HdWFyZF9vcGVyYXRvcl9wID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MGM4YzRlKSwgJ2ludCcsIFsnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDU3RyZWFtR3VhcmRfR2V0SW5CdWZmZXJfU0lHX0FDQ09VTlRfQ0FSR09fREFUQSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODQ1M2ExMCksICdwb2ludGVyJywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBEZXN0cm95X0NTdHJlYW1HdWFyZF9DU3RyZWFtR3VhcmQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2MWM4ZDIpLCAndm9pZCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQoNCnZhciBDU3RhY2thYmxlSXRlbV9nZXRTdGFja2FibGVMaW1pdCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODIyYzlmYyksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIGl0ZW1fbG9ja19DSXRlbUxvY2tfQ2hlY2tJdGVtTG9jayA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODU0MWE5NiksICdpbnQnLCBbJ2ludCcsJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgVXBncmFkZVNlcGFyYXRlSW5mb19Jc1RyYWRlUmVzdHJpY3Rpb24gPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgxMTBiMGEpLCAnaW50JywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBTdHJlYW1fb3BlcmF0b3JfcCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODYxYzc5NiksICdpbnQnLCBbJ3BvaW50ZXInLCdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIFN0cmVhbV9HZXRPdXRCdWZmZXJfU0lHX0FDQ09VTlRfQ0FSR09fREFUQSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODQ1M2EyNiksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KDQp2YXIgQ0d1aWxkU2VydmVyUHJveHlfU2VuZEluY3JlYXNlR3VpbGRFeHAgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg0NmVjZTIpLCAnaW50JywgWydwb2ludGVyJywnaW50JywnaW50JywnaW50JywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBQdlBTa2lsbFRyZWVQYXJhbWV0ZXJTY3JpcHRfZ2V0UHZQU2tpbGxQb2ludCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwOGE1ZGQ2MiksICdpbnQnLCBbJ3BvaW50ZXInLCdpbnQnLCdpbnQnLCdpbnQnLCdpbnQnLCdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIFNlcnZlclBhcmFtZXRlclNjcmlwdF9pc0R1bmdlb25PcGVuICA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODI2ODdmYyksICdpbnQnLCBbXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIFhOdWNsZWFyX0NIYWRlc19FeHBVcCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODRiOTUzZSksICdpbnQnLCBbJ3BvaW50ZXInLCdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIFdhclJvb21fU2VuZFRvUm9vbSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODZiZTBjYyksICdpbnQnLCBbJ3BvaW50ZXInLCdwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCg0KdmFyIENDaGFyYWN0ZXJWaWV3X2VuYWJsZVNhdmVDaGFyYWNWaWV3ID0gIG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODIyZmJkYSksICdwb2ludGVyJywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDTGV2ZWxEdW5nZW9uUGxheVN0YXRpc3RpY19JbmNyZWFzZUxldmVsRHVuZ2VvblBsYXkgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2MGVjYzYpLCAncG9pbnRlcicsIFsncG9pbnRlcicsJ2ludCcsJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgZXhwZXJ0X2pvYl9DRXhwZXJ0Sm9iX0luY3JlYXNlRXhwZXJ0Sm9iRXhwID0gIG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODM3NTAyNiksICd2b2lkJywgWydwb2ludGVyJywncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQVBTeXN0ZW1fQ1VzZXJQcm9jX0NsZWFyQWN0aW9uQW5kU2VuZHRvVXNlciA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODEyMjM5MCksICd2b2lkJywgWydwb2ludGVyJywnaW50JywnaW50JywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBEQl9JbnNlcnRVbmxpbWl0U3VwcG9ydExvZ19tYWtlUmVxdWVzdCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODBjYmM5ZSksICd2b2lkJywgWydwb2ludGVyJywnaW50JywncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgREJfSW5zZXJ0QXJjaGlldmVFdmVudExvZ19tYWtlUmVxdWVzdCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODExNTk5OCksICd2b2lkJywgWydpbnQnLCdpbnQnLCdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIFJEQVJTY3JpcHRTdHJpbmdNYW5hZ2VyX2ZpbmRTdHJpbmcgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDhhYTU3ZmUpLCAncG9pbnRlcicsIFsncG9pbnRlcicsJ2ludCcsJ3BvaW50ZXInLCdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIEltcG9ydFNwUGVyTGV2ZWxSZWZlcmVuY2VUYWJsZSA9ICBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg5MTA1MDUpLCAnaW50JywgWydwb2ludGVyJywncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgc3RTcFBlckxldmVsVGFibGUgPSAgbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MzdmNTQ0KSwgJ3ZvaWQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KDQovL+iOt+WPluiDjOWMheanveS4reeahOmBk+WFtw0KdmFyIElOVkVOVE9SWV9UWVBFX0JPRFkgPSAwOyAgICAgICAgICAgIC8v6Lqr5LiK56m/55qE6KOF5aSHKDAtMjYpDQp2YXIgSU5WRU5UT1JZX1RZUEVfSVRFTSA9IDE7ICAgICAgICAgICAgLy/nianlk4HmoI8oMC0zMTEpDQp2YXIgSU5WRU5UT1JZX1RZUEVfQVZBUlRBUiA9IDI7ICAgICAgICAgLy/ml7boo4XmoI8oMC0xMDQpDQp2YXIgSU5WRU5UT1JZX1RZUEVfQ1JFQVRVUkUgPSAzOyAgICAgICAgLy/lrqDnianoo4XlpIcoMC0yNDEpDQoNCi8v6YCa55+l5a6i5oi356uv5pu05paw6IOM5YyF5qCPDQp2YXIgRU5VTV9JVEVNU1BBQ0VfSU5WRU5UT1JZID0gMDsgICAgICAgLy/nianlk4HmoI8NCnZhciBFTlVNX0lURU1TUEFDRV9BVkFUQVIgPSAxOyAgICAgICAgICAvL+aXtuijheagjw0KdmFyIEVOVU1fSVRFTVNQQUNFX0NBUkdPID0gMjsgICAgICAgICAgIC8v5LuT5bqTDQp2YXIgRU5VTV9JVEVNU1BBQ0VfQ1JFQVRVUkUgPSA3OyAgICAgICAgLy/lrqDnianmoI8NCnZhciBFTlVNX0lURU1TUEFDRV9BQ0NPVU5UX0NBUkdPID0gMTI7ICAvL+i0puWPt+S7k+W6kw0KDQovL01ZU1FM5pON5L2cDQovL+a4uOaIj+S4reW3suaJk+W8gOeahOaVsOaNruW6k+e0ouW8lSjmuLjmiI/mlbDmja7lupPpnZ7nur/nqIvlronlhagg6LCo5oWO5pON5L2cKQ0KdmFyIFRBSVdBTl9DQUlOID0gMjsNCnZhciBEQk1ncl9HZXREQkhhbmRsZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4M0Y1MjNFKSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInLCAnaW50JywgJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgTXlTUUxfTXlTUUwgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODNGM0FDOCksICdwb2ludGVyJywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBNeVNRTF9pbml0ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgzRjNDRTQpLCAnaW50JywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBNeVNRTF9vcGVuID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgzRjQwMjQpLCAnaW50JywgWydwb2ludGVyJywgJ3BvaW50ZXInLCAnaW50JywgJ3BvaW50ZXInLCAncG9pbnRlcicsICdwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBNeVNRTF9jbG9zZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4M0YzRTc0KSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgTXlTUUxfc2V0X3F1ZXJ5XzIgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODNGNDFDMCksICdpbnQnLCBbJ3BvaW50ZXInLCAncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgTXlTUUxfc2V0X3F1ZXJ5XzMgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODNGNDFDMCksICdpbnQnLCBbJ3BvaW50ZXInLCAncG9pbnRlcicsICdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIE15U1FMX3NldF9xdWVyeV80ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgzRjQxQzApLCAnaW50JywgWydwb2ludGVyJywgJ3BvaW50ZXInLCAnaW50JywgJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgTXlTUUxfc2V0X3F1ZXJ5XzUgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODNGNDFDMCksICdpbnQnLCBbJ3BvaW50ZXInLCAncG9pbnRlcicsICdpbnQnLCAnaW50JywgJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgTXlTUUxfc2V0X3F1ZXJ5XzYgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODNGNDFDMCksICdpbnQnLCBbJ3BvaW50ZXInLCAncG9pbnRlcicsICdpbnQnLCAnaW50JywgJ2ludCcsICdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIE15U1FMX2V4ZWMgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODNGNDMyNiksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBNeVNRTF9leGVjX3F1ZXJ5PSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgzRjUzNDgpLCAnaW50JywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBNeVNRTF9nZXRfbl9yb3dzID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgwRTIzNkMpLCAnaW50JywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBNeVNRTF9mZXRjaCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4M0Y0NEJDKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgTXlTUUxfZ2V0X2ludCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MTE2OTJDKSwgJ2ludCcsIFsncG9pbnRlcicsICdpbnQnLCAncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgTXlTUUxfZ2V0X3VpbnQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODBFMjJGMiksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50JywgJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIE15U1FMX2dldF91bG9uZ2xvbmcgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODE3NTRDOCksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50JywgJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIE15U1FMX2dldF91c2hvcnQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODExNjk5MCksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIE15U1FMX2dldF9mbG9hdCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4NDRENkQwKSwgJ2ludCcsIFsncG9pbnRlcicsICdpbnQnLCAncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgTXlTUUxfZ2V0X2JpbmFyeSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MTI1MzFBKSwgJ2ludCcsIFsncG9pbnRlcicsICdpbnQnLCAncG9pbnRlcicsICdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIE15U1FMX2dldF9iaW5hcnlfbGVuZ3RoID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgxMjUzREUpLCAnaW50JywgWydwb2ludGVyJywgJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgTXlTUUxfZ2V0X3N0ciA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MEVDREVBKSwgJ2ludCcsIFsncG9pbnRlcicsICdpbnQnLCAncG9pbnRlcicsICdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIE15U1FMX2Jsb2JfdG9fc3RyID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgzRjQ1MkEpLCAncG9pbnRlcicsIFsncG9pbnRlcicsICdpbnQnLCAncG9pbnRlcicsICdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIGNvbXByZXNzX3ppcCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4NkIyMDFGKSwgJ2ludCcsIFsncG9pbnRlcicsICdwb2ludGVyJywgJ3BvaW50ZXInLCAnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciB1bmNvbXByZXNzX3ppcCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4NkIyMTAyKSwgJ2ludCcsIFsncG9pbnRlcicsICdwb2ludGVyJywgJ3BvaW50ZXInLCAnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCg0KdmFyIE15U1FMX3NldF9xdWVyeV8zX3B0ciA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4M0Y0MUMwKSwgJ2ludCcsIFsncG9pbnRlcicsICdwb2ludGVyJywgJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KDQovL+W3suaJk+W8gOeahOaVsOaNruW6k+WPpeafhA0KdmFyIG15c3FsX3RhaXdhbl9jYWluID0gbnVsbDsNCnZhciBteXNxbF90YWl3YW5fY2Fpbl8ybmQgPSBudWxsOw0KdmFyIG15c3FsX3RhaXdhbl9iaWxsaW5nID0gbnVsbDsNCnZhciBteXNxbF9mcmlkYSA9IG51bGw7DQoNCg0KDQovKioNCiAqICDmnI3liqHnq6/lh73mlbBIb29r44CB5bCB6KOF5Y+K6Ieq5a6a5LmJ5Yqf6IO9DQogKi8NCi8v6I635Y+W57O757ufVVRD5pe26Ze0KOenkikNCmZ1bmN0aW9uIGFwaV9DU3lzdGVtVGltZV9nZXRDdXJTZWMoKQ0Kew0KICAgIHJldHVybiBnZXRDdXJTZWMocHRyKDApKTsNCn0NCg0KLy/nu5nop5LoibLlj5Hnu4/pqowNCmZ1bmN0aW9uIGFwaV9DVXNlcl9nYWluX2V4cF9zcCh1c2VyLCBleHApDQp7DQogICAgdmFyIGEyID0gTWVtb3J5LmFsbG9jKDQpOw0KICAgIHZhciBhMyA9IE1lbW9yeS5hbGxvYyg0KTsNCiAgICBDVXNlcl9nYWluX2V4cF9zcCh1c2VyLCBleHAsIGEyLCBhMywgMCwgMCwgMCk7DQp9DQoNCi8v57uZ6KeS6Imy5Y+R6YGT5YW3DQpmdW5jdGlvbiBhcGlfQ1VzZXJfQWRkSXRlbSh1c2VyLCBpdGVtX2lkLCBpdGVtX2NudCkNCnsNCiAgICB2YXIgaXRlbV9zcGFjZSA9IE1lbW9yeS5hbGxvYyg0KTsNCiAgICB2YXIgc2xvdCA9IENVc2VyX0FkZEl0ZW0odXNlciwgaXRlbV9pZCwgaXRlbV9jbnQsIDYsIGl0ZW1fc3BhY2UsIDApOw0KDQogICAgaWYoc2xvdCA+PSAwKQ0KICAgIHsNCiAgICAgICAgLy/pgJrnn6XlrqLmiLfnq6/mnInmuLjmiI/pgZPlhbfmm7TmlrANCiAgICAgICAgQ1VzZXJfU2VuZFVwZGF0ZUl0ZW1MaXN0KHVzZXIsIDEsIGl0ZW1fc3BhY2UucmVhZEludCgpLCBzbG90KTsNCiAgICB9DQoNCiAgICByZXR1cm47DQp9DQoNCi8v6I635Y+W6KeS6Imy5ZCN5a2XDQpmdW5jdGlvbiBhcGlfQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY05hbWUodXNlcikNCnsNCiAgICB2YXIgcCA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNOYW1lKHVzZXIpOw0KICAgIGlmKHAuaXNOdWxsKCkpDQogICAgew0KICAgICAgICByZXR1cm4gJyc7DQogICAgfQ0KDQogICAgcmV0dXJuIHAucmVhZFV0ZjhTdHJpbmcoLTEpOw0KfQ0KDQovL+e7meinkuiJsuWPkea2iOaBrw0KZnVuY3Rpb24gYXBpX0NVc2VyX1NlbmROb3RpUGFja2V0TWVzc2FnZSh1c2VyLCBtc2csIG1zZ190eXBlKQ0Kew0KICAgIHZhciBwID0gTWVtb3J5LmFsbG9jVXRmOFN0cmluZyhtc2cpOw0KICAgIENVc2VyX1NlbmROb3RpUGFja2V0TWVzc2FnZSh1c2VyLCBwLCBtc2dfdHlwZSk7DQoNCiAgICByZXR1cm47DQp9DQoNCg0KLy/ngrnliLjlhYXlgLwgKOemgeatouebtOaOpeS/ruaUuWJpbGxpbmflupPmiYDmnInooajlrZfmrrUsIOeCueWIuOebuOWFs+aTjeS9nOWKoeW/heiwg+eUqOaVsOaNruW6k+WtmOWCqOi/h+eoiyEpDQpmdW5jdGlvbiBhcGlfcmVjaGFyZ2VfY2FzaF9jZXJhKHVzZXIsIGFtb3VudCkNCnsNCiAgICAvL+WFheWAvA0KICAgIFdvbmdXb3JrX0lQR19DSVBHSGVscGVyX0lQR0lucHV0KHB0cigweDk0MUY3MzQpLnJlYWRQb2ludGVyKCksIHVzZXIsIDUsIGFtb3VudCwgcHRyKDB4OEM3RkEyMCksIHB0cigweDhDN0ZBMjApLA0KICAgICAgICBNZW1vcnkuYWxsb2NVdGY4U3RyaW5nKCdHTScpLCBwdHIoMCksIHB0cigwKSwgcHRyKDApKTsNCg0KICAgIC8v6YCa55+l5a6i5oi356uv5YWF5YC857uT5p6cDQogICAgV29uZ1dvcmtfSVBHX0NJUEdIZWxwZXJfSVBHUXVlcnkocHRyKDB4OTQxRjczNCkucmVhZFBvaW50ZXIoKSwgdXNlcik7DQp9DQoNCi8v5Luj5biB5YWF5YC8ICjnpoHmraLnm7TmjqXkv67mlLliaWxsaW5n5bqT5omA5pyJ6KGo5a2X5q61LCDngrnliLjnm7jlhbPmk43kvZzliqHlv4XosIPnlKjmlbDmja7lupPlrZjlgqjov4fnqIshKQ0KZnVuY3Rpb24gYXBpX3JlY2hhcmdlX2Nhc2hfY2VyYV9wb2ludCh1c2VyLCBhbW91bnQpDQp7DQogICAgLy/lhYXlgLwNCiAgICBXb25nV29ya19JUEdfQ0lQR0hlbHBlcl9JUEdJbnB1dFBvaW50KHB0cigweDk0MUY3MzQpLnJlYWRQb2ludGVyKCksIHVzZXIsIGFtb3VudCwgNCwgcHRyKDApLCBwdHIoMCkpOw0KDQogICAgLy/pgJrnn6XlrqLmiLfnq6/lhYXlgLznu5PmnpwNCiAgICBXb25nV29ya19JUEdfQ0lQR0hlbHBlcl9JUEdRdWVyeShwdHIoMHg5NDFGNzM0KS5yZWFkUG9pbnRlcigpLCB1c2VyKTsNCn0NCg0KLy/ojrflj5bpgZPlhbflkI3lrZcNCmZ1bmN0aW9uIGFwaV9DSXRlbV9HZXRJdGVtTmFtZShpdGVtX2lkKQ0Kew0KICAgIHZhciBjaXRlbSA9IENEYXRhTWFuYWdlcl9maW5kX2l0ZW0oR19DRGF0YU1hbmFnZXIoKSwgaXRlbV9pZCk7DQogICAgaWYoIWNpdGVtLmlzTnVsbCgpKQ0KICAgIHsNCiAgICAgICAgcmV0dXJuIHB0cihDSXRlbV9HZXRJdGVtTmFtZShjaXRlbSkpLnJlYWRVdGY4U3RyaW5nKC0xKTsNCiAgICB9DQoNCiAgICByZXR1cm4gaXRlbV9pZC50b1N0cmluZygpOw0KfQ0K', '服务端基础api函数', 'sever_base_funcation', 0);
            INSERT INTO da_frida_function (children_function, function_name, function_context, remark, function_key, is_system_fun) VALUES('', '读取本地文件', 'Ly9saW51eOivu+acrOWcsOaWh+S7tg0KdmFyIGZvcGVuID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKE1vZHVsZS5nZXRFeHBvcnRCeU5hbWUobnVsbCwgJ2ZvcGVuJyksICdpbnQnLCBbJ3BvaW50ZXInLCAncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgZnJlYWQgPSBuZXcgTmF0aXZlRnVuY3Rpb24oTW9kdWxlLmdldEV4cG9ydEJ5TmFtZShudWxsLCAnZnJlYWQnKSwgJ2ludCcsIFsncG9pbnRlcicsICdpbnQnLCAnaW50JywgJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgZmNsb3NlID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKE1vZHVsZS5nZXRFeHBvcnRCeU5hbWUobnVsbCwgJ2ZjbG9zZScpLCAnaW50JywgWydpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KZnVuY3Rpb24gYXBpX3JlYWRfZmlsZShwYXRoLCBtb2RlLCBsZW4pIHsNCiAgICB2YXIgcGF0aF9wdHIgPSBNZW1vcnkuYWxsb2NVdGY4U3RyaW5nKHBhdGgpOw0KICAgIHZhciBtb2RlX3B0ciA9IE1lbW9yeS5hbGxvY1V0ZjhTdHJpbmcobW9kZSk7DQogICAgdmFyIGYgPSBmb3BlbihwYXRoX3B0ciwgbW9kZV9wdHIpOw0KICAgIGlmIChmID09IDApDQogICAgICAgIHJldHVybiBudWxsOw0KICAgIHZhciBkYXRhID0gTWVtb3J5LmFsbG9jKGxlbik7DQogICAgdmFyIGZyZWFkX3JldCA9IGZyZWFkKGRhdGEsIDEsIGxlbiwgZik7DQogICAgZmNsb3NlKGYpOw0KICAgIC8v6L+U5Zue5a2X56ym5LiyDQogICAgaWYgKG1vZGUgPT0gJ3InKQ0KICAgICAgICByZXR1cm4gZGF0YS5yZWFkVXRmOFN0cmluZyhmcmVhZF9yZXQpOw0KICAgIC8v6L+U5Zue5LqM6L+b5Yi2YnVmZuaMh+mSiA0KICAgIHJldHVybiBkYXRhOw0KfQ==', '读取本地文件,加载本地json配置文件依赖', 'read_local_file', 1);
            INSERT INTO da_frida_function (children_function, function_name, function_context, remark, function_key, is_system_fun) VALUES('read_local_file', '加载本地json配置文件', 'IA0KDQoNCi8v5Yqg6L295pys5Zyw6YWN572u5paH5Lu2KGpzb27moLzlvI8pDQp2YXIgZ2xvYmFsX2NoYW5uZWwgPSAnJzsNCnZhciBnbG9iYWxfY29uZmlnID0ge307DQpmdW5jdGlvbiBsb2FkX2NvbmZpZyhjaGFubmVsKSB7DQogICAgY29uc29sZS5sb2coIj09PT09PT09PT09PT09PT09PT09PT0+5Yqg6L29anNvbumFjee9ruaWh+S7tiIpDQogICAgZ2xvYmFsX2NoYW5uZWw9Y2hhbm5lbDsNCiAgICB2YXIgZGF0YSA9IGFwaV9yZWFkX2ZpbGUoJy9kYXRhL2ZyaWRhLycgKyBjaGFubmVsICsgJy9mcmlkYV9jb25mLmpzb24nLCAncicsIDEwICogMTAyNCAqIDEwMjQpOw0KICAgIGdsb2JhbF9jb25maWcgPSBKU09OLnBhcnNlKGRhdGEpOw0KfQ==', 'frida主函数依赖，读取dnf-admin配套的json配置文件', 'load_json_config', 1);
            INSERT INTO da_frida_function (children_function, function_name, function_context, remark, function_key, is_system_fun) VALUES('auto_unseal_random_option_equipment,cancel_epic_ok,disable_check_create_character_limit,enable_createCreator,hook_check_gm,Interceptor_InterSelectMobileAuthReward,load_json_config,Privatestore_IgnoreNearDungeon,setUserMaxLevel,share_seria_room,up_13_no_exit', '根据配置初始化相关功能', 'Ly/moLnmja7muLjmiI/phY3nva7mjqfliLbnm7jlhbPlip/og70NCg0KLy/moLnmja7phY3nva7liJ3lp4vljJbnm7jlhbPlip/og70JDQpmdW5jdGlvbiBpbml0Rm9yQ29uZmlnKCl7DQogICAgdmFyIGdhbWVfY29uZmlnID0gZ2xvYmFsX2NvbmZpZ1snZ2FtZV9jb25maWcnXTsNCiAgICBpZihnYW1lX2NvbmZpZ1snZW5hYmxlX2dhbWVfbWFzdGVyJ10gPT09ICd0cnVlJyl7DQogICAgICAgIC8v5omA5pyJ6LSm5Y+36KeS6Imy5byA5ZCvR03mnYPpmZANCiAgICAgICAgaG9va19jaGVja19nbSgpOw0KICAgIH0NCiAgICBpZihnYW1lX2NvbmZpZ1snZGlzYWJsZV9jaGVja19jcmVhdGVfY2hhcmFjdGVyX2xpbWl0J10gPT09ICd0cnVlJyl7DQogICAgICAgIC8v6Kej6Zmk5q+P5pel5Yib5bu66KeS6Imy5pWw6YeP6ZmQ5Yi2DQogICAgICAgIGRpc2FibGVfY2hlY2tfY3JlYXRlX2NoYXJhY3Rlcl9saW1pdCgpOw0KICAgIH0NCiAgICBpZihnYW1lX2NvbmZpZ1snc2hhcmVfc2VyaWFfcm9vbSddID09PSAndHJ1ZScpew0KICAgICAgICAvL+WFgeiuuOi1m+WIqeS6muaIv+mXtOeahOS6uuS6kuebuOWPr+ingQ0KICAgICAgICBzaGFyZV9zZXJpYV9yb29tKCk7DQogICAgfQ0KICAgIGlmKGdhbWVfY29uZmlnWydQcml2YXRlc3RvcmVfSWdub3JlTmVhckR1bmdlb24nXSA9PT0gJ3RydWUnKXsNCiAgICAgICAgLy/lv73nlaXlia/mnKzpl6jlj6PnpoHmraLmkYbmkYoNCiAgICAgICAgUHJpdmF0ZXN0b3JlX0lnbm9yZU5lYXJEdW5nZW9uKCk7DQogICAgfQ0KICAgIGlmKGdhbWVfY29uZmlnWydlbmFibGVfY3JlYXRvciddID09PSAndHJ1ZScpew0KICAgICAgICAvL+W8gOWQr+WIm+W7uue8lOmAoA0KICAgICAgICBlbmFibGVfY3JlYXRlQ3JlYXRvcigpOw0KICAgIH0NCiAgICBpZihnYW1lX2NvbmZpZ1snY2FuY2VsX2VwaWNfb2snXSA9PT0gJ3RydWUnKXsNCiAgICAgICAgLy/lj7Lor5flhY3noa7orqQNCiAgICAgICAgY2FuY2VsX2VwaWNfb2soKTsNCiAgICB9DQogICAgaWYoZ2FtZV9jb25maWdbJ2F1dG9fdW5zZWFsX3JhbmRvbV9vcHRpb25fZXF1aXBtZW50J10gPT09ICd0cnVlJyl7DQogICAgICAgIC8v6a2U5rOV5bCB5Y2w6Ieq5Yqo6Kej5bCBDQogICAgICAgIGF1dG9fdW5zZWFsX3JhbmRvbV9vcHRpb25fZXF1aXBtZW50KCk7DQogICAgfQ0KICAgIGlmKGdhbWVfY29uZmlnWydkaXNhYmxlX21vYmlsZV9yZXdhcmRzJ10gPT09ICd0cnVlJyl7DQogICAgICAgIC8v5Y+W5raI5paw6LSm5Y+36YCB5oiQ6ZW/5aWR57qmDQogICAgICAgIEludGVyY2VwdG9yX0ludGVyU2VsZWN0TW9iaWxlQXV0aFJld2FyZCgpOw0KICAgIH0NCiAgICBpZihnYW1lX2NvbmZpZ1snbWF4X2xldmVsJ10gPiAwKXsNCiAgICAgICAgLy/orr7nva7mnIDlpKfnrYnnuqcNCiAgICAgICAgc2V0TWF4VXBHcmFkZShnYW1lX2NvbmZpZ1snbWF4X2xldmVsJ10pOw0KICAgIH0NCiAgICBpZihnYW1lX2NvbmZpZ1snZW5oYW5jZW1lbnRfbGV2ZWxfMTNfbm9fZXhpdCddID09PSAndHJ1ZScpew0KICAgICAgICAvLysxM+S7peS4iuW8uuWMluWIuOaXoOmcgOWwj+mAgA0KICAgICAgICBlbmhhbmNlbWVudF9sZXZlbF8xM19ub19leGl0KCk7DQogICAgfQ0KICAgIA0KfQ==', '根据配置初始化相关功能', 'init_for_game_config', 1);
            INSERT INTO da_frida_function (children_function, function_name, function_context, remark, function_key, is_system_fun) VALUES('', 'debug消息处理', 'DQovL+aJp+ihjGRlYnVn5raI5oGvDQpmdW5jdGlvbiBkZWJ1Z2ZyaWRhKGRlYnVnRGF0YSkgew0KICAgY29uc29sZS5sb2coIuaOpeaUtuWIsGRlYnVn5raI5oGvOiIrZGVidWdEYXRhKTsNCn0=', '调试frida', 'debug_message_handler', 1);
            INSERT INTO da_frida_function (children_function, function_name, function_context, remark, function_key, is_system_fun) VALUES('load_json_config,send_mail_api,api_GameWorld_SendNotiPacketMessage', 'json类型消息处理', 'DQovLyBqc29u57G75Z6L55qE5raI5oGv5aSE55CGDQpmdW5jdGlvbiBleGVjSnNvbk1lc3NhZ2UocGFyYW1Kc29uKSB7DQogICAgY29uc29sZS5sb2coIuaOpeaUtuWIsGpzb27mtojmga86IitKU09OLnN0cmluZ2lmeShwYXJhbUpzb24pKTsNCiAgICAvL+WIt+aWsOmFjee9rg0KICAgIGlmKHBhcmFtSnNvbi50eXBlID09PSAnZmx1c2hfY29uZicpew0KICAgICAgICBjb25zb2xlLmxvZygiPT09PT09PT09PT09PT09PiBmbHVzaF9jb25mIik7DQogICAgICAgIGxvYWRfY29uZmlnKGdsb2JhbF9jaGFubmVsKTsNCiAgICAgICAgaW5pdEZvckNvbmZpZygpOw0KICAgIH0NCiAgICAvL+WPkemAgemCruS7tg0KICAgIGlmKHBhcmFtSnNvbi50eXBlID09PSAnc2VuZF9tYWlsJyl7DQogICAgICAgIHZhciBzZW5kTWFpbER0byA9IHBhcmFtSnNvbi5kYXRhOw0KICAgICAgICB2YXIgaXRlbUxpc3QgPSBzZW5kTWFpbER0by5pdGVtTGlzdDsNCiAgICAgICAgdmFyIG5ld0l0ZW1MaXN0ID0gW107DQogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaXRlbUxpc3QubGVuZ3RoOyArK2kpIHsNCiAgICAgICAgICAgIHZhciB0ZW0gPSBbXTsNCiAgICAgICAgICAgIHRlbS5wdXNoKGl0ZW1MaXN0W2ldLml0ZW1JZCk7DQogICAgICAgICAgICB0ZW0ucHVzaChpdGVtTGlzdFtpXS5jb3VudCk7DQogICAgICAgICAgICBuZXdJdGVtTGlzdC5wdXNoKHRlbSk7DQogICAgICAgIH0NCiAgICAgICAgYXBpX1dvbmdXb3JrX0NNYWlsQm94SGVscGVyX1JlcURCU2VuZE5ld1N5c3RlbU11bHRpTWFpbChzZW5kTWFpbER0by5jaGFyYWNObyxzZW5kTWFpbER0by50aXRsZSxzZW5kTWFpbER0by5jb250ZW50LHNlbmRNYWlsRHRvLmdvbGQsbmV3SXRlbUxpc3QpOw0KICAgIH0NCiAgICAvL+WPkemAgeWFrOWRig0KICAgIGlmKHBhcmFtSnNvbi50eXBlID09PSAnc2VuZF9ub3RpY2UnKXsNCiAgICAgICAgdmFyIG1lc3NhZ2UgPSBwYXJhbUpzb24uZGF0YTsNCiAgICAgICAgcHVzaFNlbmROb3RpUGFja2V0TWVzc2FnZShtZXNzYWdlLDE2KTsNCiAgICB9DQp9', 'json消息处理函数', 'json_message_exec', 1);
            INSERT INTO da_frida_function (children_function, function_name, function_context, remark, function_key, is_system_fun) VALUES('', '非json类型消息处理', 'DQovLyDpnZ5qc29u5qC85byP55qE5raI5oGv5aSE55CG6YC76L6RDQpmdW5jdGlvbiBleGVjTm9Kc29uTWVzc2FnZShtZXNzYWdlU3RyKSB7DQogIGNvbnNvbGUubG9nKCLmjqXmlLbliLDpnZ5qc29u5raI5oGvOiIrIG1lc3NhZ2VTdHIpOw0KfQ==', '非json消息处理函数	', 'no_json_message_exec', 1);
            INSERT INTO da_frida_function (children_function, function_name, function_context, remark, function_key, is_system_fun) VALUES('', '所有账号角色开启GM权限', 'Ly/miYDmnInotKblj7fop5LoibLlvIDlkK9HTeadg+mZkA0KZnVuY3Rpb24gaG9va19jaGVja19nbSgpIHsNCiAgICBjb25zb2xlLmxvZygiPT09PT09PT09PT09PT09PT09PT09PT7lvIDlkK9HTeadg+mZkCIpDQogICAgLy9HTei0puaItw0KICAgIC8vV29uZ1dvcms6OkNHTUFjY291bnRzOjppc0dNDQogICAgSW50ZXJjZXB0b3IuYXR0YWNoKHB0cigweDgxMDkzNDYpLCB7DQoNCiAgICAgICAgb25FbnRlcjogZnVuY3Rpb24gKGFyZ3MpIHsNCiAgICAgICAgfSwNCiAgICAgICAgb25MZWF2ZTogZnVuY3Rpb24gKHJldHZhbCkgew0KICAgICAgICAgICAgLy/lvLrliLbov5Tlm550cnVlDQogICAgICAgICAgICByZXR2YWwucmVwbGFjZSgxKTsNCiAgICAgICAgfQ0KICAgIH0pOw0KDQogICAgLy9HTeinkuiJsg0KICAgIC8vQ1VzZXI6OmlzR01Vc2VyDQogICAgSW50ZXJjZXB0b3IuYXR0YWNoKHB0cigweDgxNDU4OUMpLCB7DQoNCiAgICAgICAgb25FbnRlcjogZnVuY3Rpb24gKGFyZ3MpIHsNCiAgICAgICAgfSwNCiAgICAgICAgb25MZWF2ZTogZnVuY3Rpb24gKHJldHZhbCkgew0KICAgICAgICAgICAgLy/lvLrliLbov5Tlm550cnVlDQogICAgICAgICAgICByZXR2YWwucmVwbGFjZSgxKTsNCiAgICAgICAgfQ0KICAgIH0pOw0KfQ==', '所有账号角色开启GM权限', 'hook_check_gm', 0);
            INSERT INTO da_frida_function (children_function, function_name, function_context, remark, function_key, is_system_fun) VALUES('', '解除每日创建角色数量限制', 'DQovL+ino+mZpOavj+aXpeWIm+W7uuinkuiJsuaVsOmHj+mZkOWItg0KZnVuY3Rpb24gZGlzYWJsZV9jaGVja19jcmVhdGVfY2hhcmFjdGVyX2xpbWl0KCkgew0KICAgICBjb25zb2xlLmxvZygiPT09PT09PT09PT09PT09PT09PT09PT7op6PpmaTmr4/ml6XliJvlu7rop5LoibLmlbDph4/pmZDliLYiKQ0KICAgIC8vREJfQ3JlYXRlQ2hhcmFjOjpDaGVja0xpbWl0Q3JlYXRlTmV3Q2hhcmFjDQogICAgSW50ZXJjZXB0b3IuYXR0YWNoKHB0cigweDg0MDE5MjIpLCB7DQogICAgICAgIG9uRW50ZXI6IGZ1bmN0aW9uIChhcmdzKSB7DQogICAgICAgIH0sDQogICAgICAgIG9uTGVhdmU6IGZ1bmN0aW9uIChyZXR2YWwpIHsNCiAgICAgICAgICAgIC8v5by65Yi26L+U5Zue5YWB6K645Yib5bu6DQogICAgICAgICAgICByZXR2YWwucmVwbGFjZSgxKTsNCiAgICAgICAgfQ0KICAgIH0pOw0KfQ==', '解除每日创建角色数量限制', 'disable_check_create_character_limit', 0);
            INSERT INTO da_frida_function (children_function, function_name, function_context, remark, function_key, is_system_fun) VALUES('', '允许赛利亚房间的人互相可见', 'DQovL+WFgeiuuOi1m+WIqeS6muaIv+mXtOeahOS6uuS6kuebuOWPr+ingQ0KZnVuY3Rpb24gc2hhcmVfc2VyaWFfcm9vbSgpIHsNCiAgICBjb25zb2xlLmxvZygiPT09PT09PT09PT09PT09PT09PT09PT7lhYHorrjotZvliKnkuprmiL/pl7TnmoTkurrkupLnm7jlj6/op4EiKQ0KICAgIC8vSG9vayBBcmVhOjppbnNlcnRfdXNlcg0KICAgIEludGVyY2VwdG9yLmF0dGFjaChwdHIoMHg4NkMyNUE2KSwgew0KDQogICAgICAgIG9uRW50ZXI6IGZ1bmN0aW9uIChhcmdzKSB7DQogICAgICAgICAgICAvL+S/ruaUueagh+W/l+S9jSwg6K6p5pyN5Yqh5Zmo5bm/5pKt6LWb5Yip5Lqa5peF6aaG5raI5oGvDQogICAgICAgICAgICBhcmdzWzBdLmFkZCgweDY4KS53cml0ZUludCgwKTsNCiAgICAgICAgfSwNCiAgICAgICAgb25MZWF2ZTogZnVuY3Rpb24gKHJldHZhbCkgew0KICAgICAgICB9DQogICAgfSk7DQp9', '允许赛利亚房间的人互相可见', 'share_seria_room', 0);
            INSERT INTO da_frida_function (children_function, function_name, function_context, remark, function_key, is_system_fun) VALUES('', '忽略副本门口禁止摆摊', 'Ly/lv73nlaXlia/mnKzpl6jlj6PnpoHmraLmkYbmkYoNCmZ1bmN0aW9uIFByaXZhdGVzdG9yZV9JZ25vcmVOZWFyRHVuZ2VvbigpIHsNCiAgICBjb25zb2xlLmxvZygiPT09PT09PT09PT09PT09PT09PT09PT7lv73nlaXlia/mnKzpl6jlj6PnpoHmraLmkYbmkYoiKQ0KICAgIEludGVyY2VwdG9yLmF0dGFjaChwdHIoMHgwODVDNTA4MiksIHsNCiAgICAgICAgb25FbnRlcjogZnVuY3Rpb24gKGFyZ3MpIHsNCiAgICAgICAgfSwNCiAgICAgICAgb25MZWF2ZTogZnVuY3Rpb24gKHJldHZhbCkgew0KICAgICAgICAgICAgLy/ojrflj5bov5Tlm57lgLwNCiAgICAgICAgICAgIHZhciByZXR1cm5WYWx1ZSA9IHJldHZhbC50b0ludDMyKCk7DQogICAgICAgICAgICBjb25zb2xlLmxvZygnUmV0dXJuIFZhbHVlOicgKyByZXR1cm5WYWx1ZSk7DQogICAgICAgICAgICAvL+W8uuWItui/lOWbnjENCiAgICAgICAgICAgIHJldHZhbC5yZXBsYWNlKDEpOw0KICAgICAgICB9DQogICAgfSk7DQp9', '忽略副本门口禁止摆摊', 'Privatestore_IgnoreNearDungeon', 0);
            INSERT INTO da_frida_function (children_function, function_name, function_context, remark, function_key, is_system_fun) VALUES('load_json_config', '客户端临时提升技能等级', 'Ly/lrqLmiLfnq6/kuLTml7bmj5DljYfmioDog73nrYnnuqcNCg0KSW50ZXJjZXB0b3IuYXR0YWNoKHB0cigweDg2NkM0NkEpLCB7DQogICAgb25FbnRlcjogZnVuY3Rpb24gKGFyZ3MpIHsNCiAgICAgICAgLy/op5LoibLmioDog73kv6Hmga8NCiAgICAgICAgdGhpcy5za2lsbF9wdHIgPSBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjU2tpbGxSKGFyZ3NbMF0pOw0KICAgICAgICAvL+S/neWtmOWOn+Wni+aKgOiDveS/oeaBrw0KICAgICAgICB0aGlzLm9sZF9za2lsbF9pbmZvID0gdGhpcy5za2lsbF9wdHIucmVhZEJ5dGVBcnJheSgyMDMgKiAzMik7DQogICAgICAgIGlmIChnbG9iYWxfY29uZmlnWydnYW1lX2NvbmZpZyddWydza2lsbFVwZ3JhZGluZyddID4gMCkgew0KICAgICAgICAgICAgY29uc29sZS5sb2coIj09PT09PT09PT09PT09PT09PT09PT0+5a6i5oi356uv5Li05pe25o+Q5Y2H5oqA6IO9562J57qnIiArICc9PT4nICsgZ2FtZV9jb25maWdbJ3NraWxsVXBncmFkaW5nJ10pDQogICAgICAgICAgICAvL+S4tOaXtuS/ruaUueaKgOiDveetiee6pw0KICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPD0gMjAzOyArK2kpIHsNCiAgICAgICAgICAgICAgICBpZiAodGhpcy5za2lsbF9wdHIuYWRkKDIgKiAoaSArIDMyKSArIDYpLnJlYWRVOCgpKSB7DQogICAgICAgICAgICAgICAgICAgIHZhciBvbGRfc2tpbGxfbGV2ZWwgPSB0aGlzLnNraWxsX3B0ci5hZGQoMiAqIChpICsgMzIpICsgNykucmVhZFU4KCk7DQogICAgICAgICAgICAgICAgICAgIC8v5omA5pyJ5oqA6IO9562J57qnKzUNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5za2lsbF9wdHIuYWRkKDIgKiAoaSArIDMyKSArIDcpLndyaXRlVTgob2xkX3NraWxsX2xldmVsICsgNSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfSwNCiAgICBvbkxlYXZlOiBmdW5jdGlvbiAocmV0dmFsKSB7DQogICAgICAgIC8v6L+Y5Y6f5oqA6IO9562J57qnDQogICAgICAgIHRoaXMuc2tpbGxfcHRyLndyaXRlQnl0ZUFycmF5KHRoaXMub2xkX3NraWxsX2luZm8pOw0KICAgIH0NCn0pOw0K', '客户端临时提升技能等级', 'skillUpgrading', 0);
            INSERT INTO da_frida_function (children_function, function_name, function_context, remark, function_key, is_system_fun) VALUES('', '取消新账号送成长契约', 'Ly/lj5bmtojmlrDotKblj7fpgIHmiJDplb/lpZHnuqYNCmZ1bmN0aW9uIEludGVyY2VwdG9yX0ludGVyU2VsZWN0TW9iaWxlQXV0aFJld2FyZCgpIHsNCiAgICBjb25zb2xlLmxvZygiPT09PT09PT09PT09PT09PT09PT09PT7lj5bmtojmlrDotKblj7fpgIHmiJDplb/lpZHnuqYiKQ0KICAgIC8v6L+Y5Y6fIEludGVyU2VsZWN0TW9iaWxlQXV0aFJld2FyZDo6ZGlzcGF0Y2hfc2lnIOWHveaVsA0KICAgIHZhciBEZWZwdHIgPSBwdHIoMHgwODE2MTM4NCk7DQogICAgdmFyIHZhbHVlID0gRGVmcHRyLnJlYWRVOCgpDQogICAgaWYgKHZhbHVlICE9IDB4MEYpIHsNCg0KICAgICAgICBNZW1vcnkucHJvdGVjdChEZWZwdHIsIDEwLCAncnd4Jyk7DQogICAgICAgIERlZnB0ci53cml0ZVNob3J0KDB4ODQwRik7DQogICAgfQ0KICAgIC8v6YeN5YaZSW50ZXJTZWxlY3RNb2JpbGVBdXRoUmV3YXJkOjpkaXNwYXRjaF9zaWcg5Ye95pWwDQogICAgdmFyIEludGVyX0Rpc3BhdGNoUHIgPSBwdHIoMHgwODE2MTMyQSk7DQogICAgdmFyIEludGVyX0Rpc3BhdGNoID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKEludGVyX0Rpc3BhdGNoUHIsICdpbnQnLCBbJ3BvaW50ZXInLCAncG9pbnRlcicsICdwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCiAgICBJbnRlcmNlcHRvci5yZXBsYWNlKEludGVyX0Rpc3BhdGNoUHIsIG5ldyBOYXRpdmVDYWxsYmFjayhmdW5jdGlvbiAoSW50ZXJTZWxlY3RNb2JpbGVBdXRoUmV3YXJkLCBDVXNlciwgYTMpIHsNCg0KICAgICAgICAvL3ZhciBJbnRlcl9EaXNwYXRjaE9wZW4gPSB0cnVlOw0KICAgICAgICB2YXIgSW50ZXJfRGlzcGF0Y2hPcGVuID0gZmFsc2U7DQogICAgICAgIGlmIChJbnRlcl9EaXNwYXRjaE9wZW4pIHsNCg0KICAgICAgICAgICAgYTMuYWRkKDQpLndyaXRlSW50KDApOw0KICAgICAgICAgICAgcmV0dXJuIEludGVyX0Rpc3BhdGNoKEludGVyU2VsZWN0TW9iaWxlQXV0aFJld2FyZCwgQ1VzZXIsIGEzKTsgLy/miafooYzljp/lh73mlbDlj5HpgIHmiJDplb/lpZHnuqYNCg0KICAgICAgICB9DQoNCiAgICAgICAgcmV0dXJuIDA7IC8v5Y+W5raI5paw6LSm5Y+36YCB5oiQ6ZW/5aWR57qmICAgIOi/lOWbnjDooajnpLrmraPluLjov5Tlm54gDQoNCiAgICB9LCAnaW50JywgWydwb2ludGVyJywgJ3BvaW50ZXInLCAncG9pbnRlciddKSk7DQp9', '取消新账号送成长契约', 'Interceptor_InterSelectMobileAuthReward', 0);
            INSERT INTO da_frida_function (children_function, function_name, function_context, remark, function_key, is_system_fun) VALUES('api_GameWorld_SendNotiPacketMessage,api_recharge_cash_cera_point,sever_base_funcation,load_json_config', '副本捡东西喊喇叭给点券', 'Ly/lia/mnKzmjaHkuJzopb/llorlloflj63nu5nngrnliLgNCiANCi8v5Ymv5pys5o2h5Lic6KW/5ZaK5ZaH5Y+t57uZ54K55Yi4DQpmdW5jdGlvbiBwcm9jZXNzaW5nX2RhdGEoaXRlbV9pZCwgdXNlcikgew0KICAgIGlmIChnbG9iYWxfY29uZmlnWydnYW1lX2NvbmZpZyddWydkdW5nZW9uc19hZGRfaXRlbV9ub3RpY2UnXSA9PT0gJ3RydWUnKSB7DQogICAgICAgIHZhciBpdGVtRGF0YSA9IENEYXRhTWFuYWdlcl9maW5kX2l0ZW0oR19DRGF0YU1hbmFnZXIoKSwgaXRlbV9pZCk7DQogICAgICAgIHZhciBlcXVSYXJpdHkgPSBDSXRlbV9HZXRSYXJpdHkoaXRlbURhdGEpOyAvLyDnqIDmnInluqYgID49MyDnsonoibLku6XkuIoNCiAgICAgICAgLy/lpJrlsJHnqIDmnInluqbmiY3kvJrop6blj5ENCiAgICAgICAgaWYgKGVxdVJhcml0eSA+PSBnbG9iYWxfY29uZmlnWydnYW1lX2NvbmZpZyddWydkdW5nZW9uc19hZGRfaXRlbV9ub3RpY2VfZXF1UmFyaXR5J10pIHsNCiAgICAgICAgICAgIHZhciBjaGFyYWNOYW1lID0gYXBpX0NVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNOYW1lKHVzZXIpOw0KICAgICAgICAgICAgY29uc3QgaXRlbU5hbWUgPSBhcGlfQ0l0ZW1fR2V0SXRlbU5hbWUoaXRlbV9pZCk7DQogICAgICAgICAgICAvL+aSreaKpeWGheWuuQ0KICAgICAgICAgICAgdmFyIHRleHQgPSBnbG9iYWxfY29uZmlnWydnYW1lX2NvbmZpZyddWydkdW5nZW9uc19hZGRfaXRlbV9ub3RpY2VfdGV4dCddOw0KICAgICAgICAgICAgLy/lpZblirHngrnliLjmlrnlvI8NCiAgICAgICAgICAgIHZhciB0eXBlID0gZ2xvYmFsX2NvbmZpZ1snZ2FtZV9jb25maWcnXVsnZHVuZ2VvbnNfYWRkX2l0ZW1fbm90aWNlX2Nhc2hfY2VyYSddOw0KICAgICAgICAgICAgaWYgKHR5cGUgPT0gMCkgew0KICAgICAgICAgICAgICAgIC8v5Y+q5pKt5oql5LiN5aWW5Yqx54K55Yi4DQogICAgICAgICAgICAgICAgdGV4dCA9IHRleHQucmVwbGFjZSgiPzEiLCBjaGFyYWNOYW1lKS5yZXBsYWNlKCI/MiIsIGl0ZW1OYW1lKS5yZXBsYWNlKCI/MyIsIHR5cGUpOw0KICAgICAgICAgICAgICAgIGFwaV9HYW1lV29ybGRfU2VuZE5vdGlQYWNrZXRNZXNzYWdlKHRleHQsIDE0KTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmICh0eXBlID09IDEpIHsNCiAgICAgICAgICAgICAgICAvL+WlluWKsemaj+acuueCueWIuA0KICAgICAgICAgICAgICAgIGFwaV9HYW1lV29ybGRfU2VuZE5vdGlQYWNrZXRNZXNzYWdlKHRleHQsIDE0KTsNCiAgICAgICAgICAgICAgICAvL+acgOWwj+eCueWIuOaVsOmHjw0KICAgICAgICAgICAgICAgIHZhciBtaW4gPSAxOw0KICAgICAgICAgICAgICAgIC8v5pyA5aSn54K55Yi45pWw6YePDQogICAgICAgICAgICAgICAgdmFyIG1heCA9IDg4ODsNCiAgICAgICAgICAgICAgICB0eXBlID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbikpICsgbWluOw0KICAgICAgICAgICAgICAgIHRleHQgPSB0ZXh0LnJlcGxhY2UoIj8xIiwgY2hhcmFjTmFtZSkucmVwbGFjZSgiPzIiLCBpdGVtTmFtZSkucmVwbGFjZSgiPzMiLCB0eXBlKTsNCiAgICAgICAgICAgICAgICBhcGlfcmVjaGFyZ2VfY2FzaF9jZXJhKHVzZXIsIHR5cGUpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYgKHR5cGUgPiAxKSB7DQogICAgICAgICAgICAgICAgdGV4dCA9IHRleHQucmVwbGFjZSgiPzEiLCBjaGFyYWNOYW1lKS5yZXBsYWNlKCI/MiIsIGl0ZW1OYW1lKS5yZXBsYWNlKCI/MyIsIHR5cGUpOw0KICAgICAgICAgICAgICAgIC8v5aWW5Yqx6K6+572u55qE54K55Yi45pWw6YePDQogICAgICAgICAgICAgICAgYXBpX0dhbWVXb3JsZF9TZW5kTm90aVBhY2tldE1lc3NhZ2UodGV4dCwgMTQpOw0KICAgICAgICAgICAgICAgIGFwaV9yZWNoYXJnZV9jYXNoX2NlcmEodXNlciwgdHlwZSk7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCg0KDQogICAgfQ0KICAgIENVc2VyX3NlbmRfaXRlbXNwYWNlKHVzZXIsIElOVkVOVE9SWV9UWVBFX0lURU0pOw0KfSAg', '副本捡东西喊喇叭给点券', 'processing_data', 0);
            INSERT INTO da_frida_function (children_function, function_name, function_context, remark, function_key, is_system_fun) VALUES('sever_base_funcation', '修复绝望之塔', 'DQovL+S/ruWkjee7neacm+S5i+WhlA0KLy9za2lwX3VzZXJfYXBjOiDkuLp0cnVl5pe2LCDot7Pov4fmr48xMOWxgueahFVzZXJBUEMNCmZ1bmN0aW9uIGZpeF9UT0Qoc2tpcF91c2VyX2FwYykgew0KICAgIGNvbnNvbGUubG9nKCI9PT09PT09PT09PT09PT09PT09PT09PuS/ruWkjee7neacm+S5i+WhlCIpDQogICAgLy/mr4/ml6Xov5vlhaXmrKHmlbDpmZDliLYNCiAgICAvL1RPRF9Vc2VyU3RhdGU6OmdldEVudGVyQ291bnQNCiAgICBJbnRlcmNlcHRvci5hdHRhY2gocHRyKDB4MDg2NDM4NzIpLCB7DQoNCiAgICAgICAgb25FbnRlcjogZnVuY3Rpb24gKGFyZ3MpIHsNCiAgICAgICAgICAgIC8v5LuK5pel5bey6L+b5YWl5qyh5pWw5by65Yi25riF6Zu2DQogICAgICAgICAgICBhcmdzWzBdLmFkZCgweDEwKS53cml0ZUludCgwKTsNCiAgICAgICAgfSwNCiAgICAgICAgb25MZWF2ZTogZnVuY3Rpb24gKHJldHZhbCkgew0KICAgICAgICB9DQogICAgfSk7DQoNCiAgICAvL+avjzEw5bGC5oyR5oiY546p5a62QVBDIOacjeWKoeWZqOWGheinkuiJsuS4jei2szEw5Liq5peg5rOV6L+b5YWlDQogICAgaWYgKHNraXBfdXNlcl9hcGMpIHsNCiAgICAgICAgLy/ot7Pov4cxMC8yMC8uLi4vOTDlsYINCiAgICAgICAgLy9UT0RfVXNlclN0YXRlOjpnZXRUb2RheUVudGVyTGF5ZXINCiAgICAgICAgSW50ZXJjZXB0b3IuYXR0YWNoKHB0cigweDA4NjQzODNFKSwgew0KDQogICAgICAgICAgICBvbkVudGVyOiBmdW5jdGlvbiAoYXJncykgew0KICAgICAgICAgICAgICAgIC8v57ud5pyb5LmL5aGU5b2T5YmN5bGC5pWwDQogICAgICAgICAgICAgICAgdmFyIHRvZGF5X2VudGVyX2xheWVyID0gYXJnc1sxXS5hZGQoMHgxNCkucmVhZFNob3J0KCk7DQoNCiAgICAgICAgICAgICAgICBpZiAoKCh0b2RheV9lbnRlcl9sYXllciAlIDEwKSA9PSA5KSAmJiAodG9kYXlfZW50ZXJfbGF5ZXIgPiAwKSAmJiAodG9kYXlfZW50ZXJfbGF5ZXIgPCAxMDApKSB7DQogICAgICAgICAgICAgICAgICAgIC8v5b2T5YmN5bGC5pWw5Li6MTDnmoTlgI3mlbDml7YgIOebtOaOpei/m+WFpeS4i+S4gOWxgg0KICAgICAgICAgICAgICAgICAgICBhcmdzWzFdLmFkZCgweDE0KS53cml0ZVNob3J0KHRvZGF5X2VudGVyX2xheWVyICsgMSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIG9uTGVhdmU6IGZ1bmN0aW9uIChyZXR2YWwpIHsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSk7DQogICAgfQ0KDQoNCg0KICAgIC8v5L+u5aSN6YeR5biB5byC5bi4DQogICAgLy9DUGFydHk6OlVzZUFuY2llbnREdW5nZW9uSXRlbXMNCiAgICB2YXIgQ1BhcnR5X1VzZUFuY2llbnREdW5nZW9uSXRlbXNfcHRyID0gcHRyKDB4ODU5RUFDMik7DQogICAgdmFyIENQYXJ0eV9Vc2VBbmNpZW50RHVuZ2Vvbkl0ZW1zID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKENQYXJ0eV9Vc2VBbmNpZW50RHVuZ2Vvbkl0ZW1zX3B0ciwgJ2ludCcsIFsncG9pbnRlcicsICdwb2ludGVyJywgJ3BvaW50ZXInLCAncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQogICAgSW50ZXJjZXB0b3IucmVwbGFjZShDUGFydHlfVXNlQW5jaWVudER1bmdlb25JdGVtc19wdHIsIG5ldyBOYXRpdmVDYWxsYmFjayhmdW5jdGlvbiAocGFydHksIGR1bmdlb24sIGludmVuX2l0ZW0sIGE0KSB7DQoNCiAgICAgICAgLy/lvZPliY3ov5vlhaXnmoTlnLDkuIvln45pZA0KICAgICAgICB2YXIgZHVuZ2Vvbl9pbmRleCA9IENEdW5nZW9uX2dldF9pbmRleChkdW5nZW9uKTsNCg0KICAgICAgICAvL+agueaNruWcsOS4i+Wfjmlk5Yik5pat5piv5ZCm5Li657ud5pyb5LmL5aGUDQogICAgICAgIGlmICgoZHVuZ2Vvbl9pbmRleCA+PSAxMTAwOCkgJiYgKGR1bmdlb25faW5kZXggPD0gMTExMDcpKSB7DQogICAgICAgICAgICAvL+e7neacm+S5i+WhlCDkuI3lho3miaPpmaTph5HluIENCiAgICAgICAgICAgIHJldHVybiAxOw0KICAgICAgICB9DQoNCiAgICAgICAgLy/lhbbku5blia/mnKzmiafooYzljp/lp4vmiaPpmaTpgZPlhbfpgLvovpENCiAgICAgICAgcmV0dXJuIENQYXJ0eV9Vc2VBbmNpZW50RHVuZ2Vvbkl0ZW1zKHBhcnR5LCBkdW5nZW9uLCBpbnZlbl9pdGVtLCBhNCk7DQogICAgfSwgJ2ludCcsIFsncG9pbnRlcicsICdwb2ludGVyJywgJ3BvaW50ZXInLCAncG9pbnRlciddKSk7DQp9', '修复绝望之塔', 'fix_TOD', 0);
            INSERT INTO da_frida_function (children_function, function_name, function_context, remark, function_key, is_system_fun) VALUES('', '史诗免确认', 'Ly/lj7Lor5flhY3noa7orqQNCmZ1bmN0aW9uIGNhbmNlbF9lcGljX29rKCkgew0KICAgIGNvbnNvbGUubG9nKCI9PT09PT09PT09PT09PT09PT09PT09PiDlj7Lor5flhY3noa7orqQiKQ0KICAgIE1lbW9yeS5wYXRjaENvZGUocHRyKDB4MDg1QTU2Q0UpLmFkZCgyKSwgMSwgZnVuY3Rpb24gKGNvZGUpIHsNCiAgICAgICAgdmFyIGN3ID0gbmV3IFg4NldyaXRlcihjb2RlLCB7IHBjOiBwdHIoMHgwODVBNTZDRSkuYWRkKDIpIH0pOw0KICAgICAgICBjdy5wdXRVOCg5KTsNCiAgICAgICAgY3cuZmx1c2goKTsNCiAgICB9KTsNCiAgICBJbnRlcmNlcHRvci5hdHRhY2gocHRyKDB4MDgxNTBmMTgpLCB7DQogICAgICAgIG9uTGVhdmU6IGZ1bmN0aW9uIChyZXR2YWwpIHsNCiAgICAgICAgICAgIHJldHZhbC5yZXBsYWNlKDApOw0KICAgICAgICB9DQogICAgfSk7DQp9', '史诗免确认', 'cancel_epic_ok', 0);
            INSERT INTO da_frida_function (children_function, function_name, function_context, remark, function_key, is_system_fun) VALUES('', '开启创建缔造', 'Ly/lvIDlkK/liJvlu7rnvJTpgKANCmZ1bmN0aW9uIGVuYWJsZV9jcmVhdGVDcmVhdG9yKCl7DQogICAgY29uc29sZS5sb2coIj09PT09PT09PT09PT09PT09PT09PT0+IOW8gOWQr+WIm+W7uue8lOmAoCIpDQogICAgTWVtb3J5LnBhdGNoQ29kZShwdHIoMHgwODFDMDI5RSkuYWRkKDEpLCAxLCBmdW5jdGlvbiAoY29kZSkgew0KICAgICAgICB2YXIgY3cgPSBuZXcgWDg2V3JpdGVyKGNvZGUsIHsgcGM6IHB0cigweDA4MUMwMjlFKS5hZGQoMSkgfSk7DQogICAgICAgIGN3LnB1dFU4KDExKTsNCiAgICAgICAgY3cuZmx1c2goKTsNCiAgICB9KTsNCn0=', '开启创建缔造', 'enable_createCreator', 0);
            INSERT INTO da_frida_function (children_function, function_name, function_context, remark, function_key, is_system_fun) VALUES('load_json_config', '强制开启深渊模式', 'IC8v5byA5ZCv5rex5riK5qih5byPDQpJbnRlcmNlcHRvci5hdHRhY2gocHRyKDB4MDg1YTA5NTQpLCB7DQogICAgb25FbnRlcjogZnVuY3Rpb24gKGFyZ3MpIHsNCiAgICAgICAgaWYgKGdsb2JhbF9jb25maWdbJ2dhbWVfY29uZmlnJ11bJ3N0YXJ0SGVsbFBhcnR5J10gPT09ICd0cnVlJykgew0KICAgICAgICAgICAgYXJnc1szXSA9IHB0cigxKTsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCI9PT09PT09PT09PT09PT09PT09PT09PiDlvLrliLblvIDlkK/mt7HmuIrmqKHlvI8iKQ0KICAgICAgICB9DQogICAgfQ0KfSk7DQo=', '强制开启深渊模式', 'startHellParty', 0);
            INSERT INTO da_frida_function (children_function, function_name, function_context, remark, function_key, is_system_fun) VALUES('sever_base_funcation', '+13以上强化券无需小退', 'Ly8rMTPku6XkuIrlvLrljJbliLjml6DpnIDlsI/pgIANCg0KZnVuY3Rpb24gZW5oYW5jZW1lbnRfbGV2ZWxfMTNfbm9fZXhpdCgpIHsNCiAgICBJbnRlcmNlcHRvci5hdHRhY2gocHRyKDB4MDgwRkM4NTApLCB7DQogICAgICAgIG9uRW50ZXI6IGZ1bmN0aW9uIChhcmdzKSB7DQogICAgICAgICAgICB0aGlzLmVxdWlQb3MgPSBhcmdzWzJdLmFkZCgyNykucmVhZFUxNigpOw0KICAgICAgICAgICAgdGhpcy51c2VyID0gYXJnc1sxXTsNCiAgICAgICAgfSwNCiAgICAgICAgb25MZWF2ZTogZnVuY3Rpb24gKHJldHZhbCkgew0KICAgICAgICAgICAgQ1VzZXJfU2VuZFVwZGF0ZUl0ZW1MaXN0KHRoaXMudXNlciwgMSwgMCwgdGhpcy5lcXVpUG9zKTsNCiAgICAgICAgfQ0KICAgIH0pOw0KfQ==', '+13以上强化券无需小退', 'up_13_no_exit', 0);
            INSERT INTO da_frida_function (children_function, function_name, function_context, remark, function_key, is_system_fun) VALUES('', '跨界石(未完善）', 'DQovKioNCiAqIOi3qOeVjOefs++8miDlsIboo4XlpIfmoI/nmoTnrKzkuIDkuKrmoLzlrZDnmoToo4XlpIfnp7vlhaXliLDotKblj7fph5HlupPvvIzoh6rliqjmib7nqbrnmoTmoLzlrZDvvIzmiYDku6Xlj6/ku6XlkIzml7bnp7vlhaXlpJrku7YNCiAqIEBwYXJhbSB1c2VyDQogKi8NCmZ1bmN0aW9uIGNyb3Nzb3Zlcih1c2VyKXsNCiAgICAvLyDot6jnlYwgIOWwhuijheWkh+enu+WFpeWIsOi0puWPt+mHkeW6kw0KICAgIHZhciBhY2NvdW50Q2FyZ28gPSBDVXNlcl9HZXRBY2NvdW50Q2FyZ28odXNlcik7DQogICAgY29uc29sZS5sb2coJ2FjY291bnRDYXJnb++8micrYWNjb3VudENhcmdvKTsNCiAgICB2YXIgZW1wdHlJbmRleCA9IENBY2NvdW50Q2FyZ29fR2V0RW1wdHlTbG90X05FVyhhY2NvdW50Q2FyZ28pOw0KICAgIGNvbnNvbGUubG9nKCdhY2NvdW50Q2FyZ28gZW1wdHlJbmRleDonK2VtcHR5SW5kZXgpDQogICAgaWYoZW1wdHlJbmRleD09LTEpew0KICAgICAgICBhcGlfQ1VzZXJfU2VuZE5vdGlQYWNrZXRNZXNzYWdlKHVzZXIsIui3qOeVjOWksei0pe+8mui0puWPt+mHkeW6k+ayoeacieepuueahOagvOWtkO+8ge+8ge+8gSIsMCk7DQogICAgfQ0KICAgIHZhciBpbnZlbiA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNJbnZlblcodXNlcik7DQogICAgdmFyIGVxdSA9IENJbnZlbnRvcnlfR2V0SW52ZW5SZWYoaW52ZW4sIElOVkVOVE9SWV9UWVBFX0lURU0sIDkpOw0KICAgIHZhciBpdGVtSWQgPSBJbnZlbl9JdGVtX2dldEtleShlcXUpOw0KICAgIGlmKGl0ZW1JZCl7DQogICAgICAgIHZhciB0YWcgPSBDQWNjb3VudENhcmdvX0luc2VydEl0ZW1fTkVXKGFjY291bnRDYXJnbyxlcXUsZW1wdHlJbmRleCk7DQogICAgICAgIGlmKHRhZz09LTEpew0KICAgICAgICAgICAgY29uc29sZS5sb2coJ2ZhaWwhISEnKTsNCiAgICAgICAgICAgIGFwaV9DVXNlcl9TZW5kTm90aVBhY2tldE1lc3NhZ2UodXNlciwi6Leo55WM5aSx6LSl77ya56e75YWl6KOF5aSHZXJyb3IiLDApOw0KICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgIEludmVuX0l0ZW1fcmVzZXQoZXF1KTsNCiAgICAgICAgICAgIENVc2VyX1NlbmRVcGRhdGVJdGVtTGlzdCh1c2VyLCAxLCAwLCA5KTsNCiAgICAgICAgICAgIENBY2NvdW50Q2FyZ29fU2VuZEl0ZW1MaXN0X05FVyhhY2NvdW50Q2FyZ28pOw0KICAgICAgICAgICAgY29uc29sZS5sb2coJ3N1Y2Nlc3MhISEnKTsNCiAgICAgICAgICAgIGFwaV9DVXNlcl9TZW5kTm90aVBhY2tldE1lc3NhZ2UodXNlciwi6Leo55WM5oiQ5Yqf77ya5bey5a2Y5YWl56ysICIrKGVtcHR5SW5kZXgrMSkrIiDkuKrmoLzlrZDvvIEiLDApOw0KICAgICAgICB9DQogICAgfQ0KfQ==', '将装备栏的第一个格子的装备移入到账号金库，自动找空的格子，所以可以同时移入多件', 'crossover', 0);
            INSERT INTO da_frida_function (children_function, function_name, function_context, remark, function_key, is_system_fun) VALUES('sever_base_funcation', '设置最大等级', 'LyoqDQogKiDorr7nva7mnIDlpKfnrYnnuqcNCiAqIEBwYXJhbSBtYXhMZXZlbA0KICovDQpmdW5jdGlvbiBzZXRVc2VyTWF4TGV2ZWwobWF4TGV2ZWwpew0KICAgIEludGVyY2VwdG9yLnJlcGxhY2UocHRyKDB4MDg2OGZlYzgpLCBuZXcgTmF0aXZlQ2FsbGJhY2soZnVuY3Rpb24gKGluZm8sIGxldmVsKSB7DQogICAgICAgIHZhciB3cml0ZUxldmVsID0gbWF4TGV2ZWw7DQogICAgICAgIGlmIChsZXZlbCA8PSBtYXhMZXZlbCkgew0KICAgICAgICAgICAgaWYgKGxldmVsID4gMCkgew0KICAgICAgICAgICAgICAgIHdyaXRlTGV2ZWwgPSBsZXZlbDsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgd3JpdGVMZXZlbCA9IDE7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgLy8gNTg0NjY0DQogICAgICAgIGluZm8uYWRkKDB4OEVCRDgpLndyaXRlSW50KHdyaXRlTGV2ZWwpOw0KICAgICAgICByZXR1cm4gaW5mbzsNCiAgICB9LCAncG9pbnRlcicsIFsncG9pbnRlcicsICdpbnQnXSkpOw0KfQ0KDQovKioNCiAqIOmHjeaWsOiuoeeul+etiee6pw0KICogQHBhcmFtIG1heExldmVsDQogKi8NCmZ1bmN0aW9uIGNhbGN1cmF0ZVVzZXJNYXhMZXZlbChtYXhMZXZlbCl7DQogICAgSW50ZXJjZXB0b3IucmVwbGFjZShwdHIoMHgwODY4ZmYwNCksIG5ldyBOYXRpdmVDYWxsYmFjayhmdW5jdGlvbiAoYTEpIHsNCiAgICAgICAgdmFyIGluZm8gPSBhMTsNCiAgICAgICAgdmFyIGNhbE1heExldmVsID0gMDsNCiAgICAgICAgLy8g6I635Y+W6KeS6Imy5pWw6YePDQogICAgICAgIHZhciBpbmZvU2l6ZSA9IHN0ZF92ZWN0b3JfY2hhcmFjX2luZm9fc2l6ZShpbmZvLmFkZCgweDc5NkU4KSk7DQogICAgICAgIGZvcih2YXIgaT0wO2k8aW5mb1NpemU7aSsrKXsNCiAgICAgICAgICAgIC8vIOivu+WPluavj+S4quinkuiJsueahOetiee6pw0KICAgICAgICAgICAgdmFyIHJlYWRMZXZlbCA9IHB0cihzdGRfdmVjdG9yX0NoYXJhY19pbmZvX29wZXJhdG9yQXJyKGluZm8uYWRkKDQ5NzM4NCksaSkpLmFkZCgzOSkucmVhZFUxNigpOw0KICAgICAgICAgICAgaWYocmVhZExldmVsID4gY2FsTWF4TGV2ZWwpew0KICAgICAgICAgICAgICAgIGNhbE1heExldmVsID0gcmVhZExldmVsOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIGlmKGNhbE1heExldmVsID4gbWF4TGV2ZWwpew0KICAgICAgICAgICAgY2FsTWF4TGV2ZWwJPSBtYXhMZXZlbDsNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gQ1VzZXJfU2V0VXNlck1heExldmVsKGluZm8sY2FsTWF4TGV2ZWwpOw0KICAgIH0sICdwb2ludGVyJywgWydwb2ludGVyJ10pKTsNCn0NCg0KLyoqDQogKiB0b2RvIOavj+aXpeeahOaXpeW4uOS7u+WKoQ0KICogQHBhcmFtIG1heExldmVsDQogKi8NCmZ1bmN0aW9uIGlzVGhlcmVEYWlseVRyYWluaW5nUXVlc3RMaXN0KG1heExldmVsKXsNCiAgICBJbnRlcmNlcHRvci5yZXBsYWNlKHB0cigweDA4MzY0MTFlKSwgbmV3IE5hdGl2ZUNhbGxiYWNrKGZ1bmN0aW9uIChpbmZvLCBhMSwgYTIpIHsNCiAgICAgICAgdmFyIGxldmVsID0gYTE7DQogICAgICAgIGlmKGxldmVsPD0wIHx8IGxldmVsID4gbWF4TGV2ZWwpew0KICAgICAgICAgICAgcmV0dXJuIDA7DQogICAgICAgIH0NCiAgICAgICAgdmFyIHF1ZXJzdCA9IGEyOw0KICAgICAgICAvLyBjb25zb2xlLmxvZygidXNlciBhbmQgbGV2ZWwgOiIraW5mbysiICwiK2xldmVsKycgLCcrcXVlcnN0KTsNCiAgICAgICAgdmFyIHF1ZXN0TGlzdCA9IENEYXRhTWFuYWdlcl9nZXREYWlseVRyYWluaW5nUXVlc3QoaW5mbyxsZXZlbCk7DQoNCiAgICAgICAgdmFyIGkgPSAwOw0KICAgICAgICBmb3IgKGkgPSAwOyBpIDwgNjsgaSsrKSB7DQogICAgICAgICAgICB2YXIgdmFsID0gcXVlc3RMaXN0LmFkZChpKjIpLnJlYWRVMTYoKTsNCiAgICAgICAgICAgIGlmKHF1ZXJzdCA9PSB2YWwpew0KICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdpc1RoZXJlRGFpbHlUcmFpbmluZ1F1ZXN0TGlzdCAgdmFsOicrdmFsKycgICcraSk7DQogICAgICAgICAgICAgICAgcmV0dXJuIDE7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIDA7DQogICAgfSwgJ2ludCcsIFsncG9pbnRlcicsICdpbnQnLCAnaW50J10pKTsNCn0NCg0KDQpmdW5jdGlvbiBnZXRSZXR1cm5Vc2VyTGV2ZWxLZXkobWF4TGV2ZWwpew0KICAgIEludGVyY2VwdG9yLnJlcGxhY2UocHRyKDB4MDg2OTIzMGEpLCBuZXcgTmF0aXZlQ2FsbGJhY2soZnVuY3Rpb24gKHN0Tm90aWZ5SW5nYW1lQURJbmZvLCBhMiwgYTMpIHsNCiAgICAgICAgY29uc29sZS5sb2coJ2dldFJldHVyblVzZXJMZXZlbEtleSAnK3N0Tm90aWZ5SW5nYW1lQURJbmZvKycgJythMisnICcrYTMpOw0KICAgICAgICBpZihhMyE9MCl7DQogICAgICAgICAgICBpZihhMiA8PTE5KXsNCiAgICAgICAgICAgICAgICByZXR1cm4gMTU7DQogICAgICAgICAgICB9DQogICAgICAgIH1lbHNlew0KICAgICAgICAgICAgaWYoYTIgPD05KXsNCiAgICAgICAgICAgICAgICByZXR1cm4gNTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmKGEyIDw9MTQpew0KICAgICAgICAgICAgICAgIHJldHVybiAxMDsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmKGEyIDw9MTkpew0KICAgICAgICAgICAgICAgIHJldHVybiAxNTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICBpZihhMiA8PTI5KXsNCiAgICAgICAgICAgIHJldHVybiAyMDsNCiAgICAgICAgfQ0KICAgICAgICBpZihhMiA8PTM5KXsNCiAgICAgICAgICAgIHJldHVybiAzMDsNCiAgICAgICAgfQ0KICAgICAgICBpZihhMiA8PTQ5KXsNCiAgICAgICAgICAgIHJldHVybiA0MDsNCiAgICAgICAgfQ0KICAgICAgICBpZihhMiA8PTU5KXsNCiAgICAgICAgICAgIHJldHVybiA1MDsNCiAgICAgICAgfQ0KICAgICAgICBpZihhMiA8PTY5KXsNCiAgICAgICAgICAgIHJldHVybiA2MDsNCiAgICAgICAgfQ0KICAgICAgICBpZihhMiA8PTc5KXsNCiAgICAgICAgICAgIHJldHVybiA3MDsNCiAgICAgICAgfQ0KICAgICAgICBpZihhMiA8PTg2KXsNCiAgICAgICAgICAgIHJldHVybiA4MDsNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gNjA7DQogICAgfSwgJ2ludCcsIFsncG9pbnRlcicsICdpbnQnLCAnaW50J10pKTsNCn0NCg0KLyoqDQogKiDojrflj5bnrYnnuqfmrrXnu4/pqowg77yM5Yqg6L295Yiw5LqGMjAwDQogKi8NCmZ1bmN0aW9uIGdldExldmVsU2VjdGlvbkV4cCgpew0KICAgIC8vIDA4MzYwNEI2DQogICAgSW50ZXJjZXB0b3IucmVwbGFjZShwdHIoMHgwODM2MDRCNiksIG5ldyBOYXRpdmVDYWxsYmFjayhmdW5jdGlvbiAoY2hhcmFjQWR2YW5jZUFsdGFyTWFuYWdlciwgZXhwKSB7DQogICAgICAgIGlmKGV4cCA+MSAmJiBleHAgPD0gMjAwKXsNCiAgICAgICAgICAgIC8vIOi/lOWbnuS7gOS5iOi1nuaYr+S4jeeciw0KICAgICAgICAgICAgdmFyIGV4cFNlY3Rpb24gPSBjaGFyYWNBZHZhbmNlQWx0YXJNYW5hZ2VyLmFkZCgoZXhwKzEwOTEyKSo0KS5yZWFkVTMyKCktY2hhcmFjQWR2YW5jZUFsdGFyTWFuYWdlci5hZGQoKGV4cCsxMDkxMSkqNCkucmVhZFUzMigpDQogICAgICAgICAgICByZXR1cm4gZXhwU2VjdGlvbjsNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gMDsNCiAgICB9LCAnaW50JywgWydwb2ludGVyJywgJ2ludCddKSk7DQp9DQoNCi8qKg0KICog5qOA5p+l5piv5ZCm5piv5Y2H57qn6aG5IOS+i+WmguWNh+e6p+WIuCznlKjlpITkuI3lpKcNCiAqIEBwYXJhbSBtYXhMZXZlbA0KICovDQpmdW5jdGlvbiBjYWxMZXZlbFVwSXRlbUNoZWNrKG1heExldmVsKXsNCiAgICBJbnRlcmNlcHRvci5yZXBsYWNlKHB0cigweDA4Njg5ZDA2KSwgbmV3IE5hdGl2ZUNhbGxiYWNrKGZ1bmN0aW9uICh1c2VyLCBpdGVtX2lkKSB7DQogICAgICAgIGNvbnNvbGUubG9nKCJjYWxMZXZlbFVwSXRlbUNoZWNrIGV4ZWMiKQ0KICAgICAgICB2YXIgY2hhcmFjX2xldmVsID0gQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfbGV2ZWwodXNlcik7DQogICAgICAgIGlmKGEyPT0yNjc1Mzg4KXsNCiAgICAgICAgICAgIHJldHVybiBjaGFyYWNfbGV2ZWwgPiAwICYmIGNoYXJhY19sZXZlbCA8PSA2OTsNCiAgICAgICAgfQ0KICAgICAgICBpZihpdGVtX2lkID4gMHgyOEQyQkMpew0KICAgICAgICAgICAgaWYgKCBpdGVtX2lkICE9IDEwMDAwOTE1ICYmIGl0ZW1faWQgIT0gNjkwMDAwMDk3ICkNCiAgICAgICAgICAgICAgICByZXR1cm4gMDsNCiAgICAgICAgICAgIHJldHVybiBjaGFyYWNfbGV2ZWwgPiAwICYmIGNoYXJhY19sZXZlbCA8PSBtYXhMZXZlbDsNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gaXRlbV9pZCA9PSA4MDQ5ICYmIGNoYXJhY19sZXZlbCA+IDE4ICYmIGNoYXJhY19sZXZlbCA8PSA1OTsNCiAgICB9LCAnaW50JywgWydwb2ludGVyJywgJ2ludCddKSk7DQp9DQoNCg0KDQovKioNCiAqIHNw54K5IOWSjHB2ZuacieWFs+ezuw0KICogQHBhcmFtIG1heExldmVsDQogKi8NCmZ1bmN0aW9uIGdldFNwQXRMZXZlbFVwKG1heExldmVsKXsNCiAgICBJbnRlcmNlcHRvci5yZXBsYWNlKHB0cigweDA4MzYwY2I4KSwgbmV3IE5hdGl2ZUNhbGxiYWNrKGZ1bmN0aW9uIChjaGFyYWNBZHZhbmNlQWx0YXJNYW5hZ2VyLCBsZXZlbCkgew0KICAgICAgICBpZihsZXZlbCA+MCAmJiBsZXZlbCA8PSBtYXhMZXZlbCl7DQogICAgICAgICAgICB2YXIgcmVzID0gY2hhcmFjQWR2YW5jZUFsdGFyTWFuYWdlci5hZGQoKGxldmVsKzEzOTg4KSo0KS5yZWFkVTE2KCk7DQogICAgICAgICAgICByZXR1cm4gcmVzOw0KICAgICAgICB9DQogICAgICAgIHJldHVybiAwOw0KICAgIH0sICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50J10pKTsNCn0NCg0KLyoqDQogKiDmnKrnn6UNCiAqIEBwYXJhbSBtYXhMZXZlbA0KICovDQpmdW5jdGlvbiBzZXRMZXZlbEV4cChtYXhMZXZlbCl7DQogICAgLy8gSW50ZXJjZXB0b3IucmVwbGFjZShwdHIoMHgwODM2MDQwMCksIG5ldyBOYXRpdmVDYWxsYmFjayhmdW5jdGlvbiAoY2hhcmFjQWR2YW5jZUFsdGFyTWFuYWdlcikgew0KICAgIC8vICAgICBjb25zb2xlLmxvZygic2V0TGV2ZWxFeHAgZXhlYyIpDQogICAgLy8gICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMjAwOyBpKyspIHsNCiAgICAvLyAgICAgICAgIGNoYXJhY0FkdmFuY2VBbHRhck1hbmFnZXIuYWRkKChpKzEwOTEzKSo0KS53cml0ZVVJbnQoMTAwMDAwK2kpOw0KICAgIC8vICAgICB9DQogICAgLy8gICAgIHJldHVybiAxOw0KICAgIC8vIH0sICdpbnQnLCBbJ3BvaW50ZXInXSkpOw0KfQ0KDQovKioNCiAqIOiuvue9ruavj+S4quetiee6p+mAgeeahHNwICzku47mlofku7bkuK3or7vlj5blh7rmnaXvvIzlpKfmpoLmnIDlpJrliLAyMDANCiAqIEBwYXJhbSBtYXhMZXZlbA0KICovDQpmdW5jdGlvbiBzZXRSZXdhcmRTcChtYXhMZXZlbCl7DQogICAgSW50ZXJjZXB0b3IucmVwbGFjZShwdHIoMHgwODM2MGJkZSksIG5ldyBOYXRpdmVDYWxsYmFjayhmdW5jdGlvbiAoY2hhcmFjQWR2YW5jZUFsdGFyTWFuYWdlcikgew0KICAgICAgICB2YXIgcmVzOw0KICAgICAgICB2YXIgcmVmTGlzdCA9IE1lbW9yeS5hbGxvYygxMik7DQogICAgICAgIHN0U3BQZXJMZXZlbFRhYmxlKHJlZkxpc3QpOw0KICAgICAgICB2YXIgbXNnID0gTWVtb3J5LmFsbG9jVXRmOFN0cmluZygiRXRjL3NwVGFibGUuZXRjIik7DQogICAgICAgIGlmKEltcG9ydFNwUGVyTGV2ZWxSZWZlcmVuY2VUYWJsZShtc2cscmVmTGlzdCkhPTApew0KICAgICAgICAgICAgcmVzID0gMDsNCiAgICAgICAgfWVsc2V7DQogICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8PW1heExldmVsOyBpKyspIHsNCiAgICAgICAgICAgICAgICBjaGFyYWNBZHZhbmNlQWx0YXJNYW5hZ2VyLmFkZCgoaSsxMzk4OCkqNCkud3JpdGVVSW50KDApOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZm9yICh2YXIgaT0wO2k8PW1heExldmVsO2krKyl7DQogICAgICAgICAgICAgICAgdmFyIHJlYWRWYWwgPSB2ZWN0b3JfdW5zaWduZWRfaW50X29wZXJhdG9yKHJlZkxpc3QsaSkucmVhZFVJbnQoKTsNCiAgICAgICAgICAgICAgICBjaGFyYWNBZHZhbmNlQWx0YXJNYW5hZ2VyLmFkZCgoaSsxMzk4OCkqNCkud3JpdGVVSW50KHJlYWRWYWwpDQogICAgICAgICAgICB9DQogICAgICAgICAgICByZXMgPSAxOw0KICAgICAgICB9DQogICAgICAgIHJldHVybiByZXM7DQogICAgfSwgJ2ludCcsIFsncG9pbnRlciddKSk7DQp9DQoNCi8qKg0KICog5qOA5p+l562J57qn5Y2H57qnDQogKiBmbGFnIDAg57uP6aqM5Lmm5Y2H57qnICAxIOadgOaAquWNh+e6pyAyIOmAmuWFsyAgMTMg5Lu75YqhDQogKiByZXR1cm4gIOWNh+e6pzEg5LiN5Y2H57qnMA0KICovDQpmdW5jdGlvbiBjaGVja0xldmVsVXAobWF4TGV2ZWwpew0KICAgIEludGVyY2VwdG9yLnJlcGxhY2UocHRyKDB4MDg2NjJhZWEpLCBuZXcgTmF0aXZlQ2FsbGJhY2soZnVuY3Rpb24gKHN0Tm90aWZ5SW5nYW1lQURJbmZvLGFkZEV4cCxhcmdzQSxhcmdzQixmbGFnKSB7DQogICAgICAgIHZhciBhcmdzMiA9IHB0cihhcmdzQSk7DQogICAgICAgIHZhciBhcmdzMyA9IHB0cihhcmdzQik7DQogICAgICAgIHZhciB2bG9nID0gTWVtb3J5LmFsbG9jKDE2KTsNCiAgICAgICAgdmFyIHZsb2cyID0gTWVtb3J5LmFsbG9jKDE2KTsNCiAgICAgICAgdmFyIHZsb2czID0gTWVtb3J5LmFsbG9jKDE2KTsNCiAgICAgICAgdmFyIHZsb2c0ID0gTWVtb3J5LmFsbG9jKDE2KTsNCiAgICAgICAgdmFyIHY0MSA9IE1lbW9yeS5hbGxvYygxMCk7DQogICAgICAgIC8vIGNvbnNvbGUubG9nKCdjaGVja0xldmVsVXAgYXJnczonKyAgc3ROb3RpZnlJbmdhbWVBREluZm8rJywnK2FkZEV4cCsnLCcrYXJnc0ErJywnK2FyZ3NCKycsJytmbGFnKQ0KICAgICAgICB2YXIgbmV4dExldmVsID0gQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfbGV2ZWwoc3ROb3RpZnlJbmdhbWVBREluZm8pKzE7DQogICAgICAgIHZhciByZXNWYWwgPSAwOw0KICAgICAgICBpZihDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjUihzdE5vdGlmeUluZ2FtZUFESW5mbykhPTApew0KICAgICAgICAgICAgaWYoQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfbGV2ZWwoc3ROb3RpZnlJbmdhbWVBREluZm8pID4gMCl7DQogICAgICAgICAgICAgICAgd2hpbGUgKCBhZGRFeHAgPjAgJiYgbmV4dExldmVsIDw9IG1heExldmVsICl7DQogICAgICAgICAgICAgICAgICAgIHZhciBub3dMZXZlbEV4cCA9IENEYXRhTWFuYWdlcl9nZXRfbGV2ZWxfZXhwKEdfQ0RhdGFNYW5hZ2VyKCksQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfbGV2ZWwoc3ROb3RpZnlJbmdhbWVBREluZm8pKTsNCiAgICAgICAgICAgICAgICAgICAgdmFyIG5leHRMZXZlbEV4cCA9IENEYXRhTWFuYWdlcl9nZXRfbGV2ZWxfZXhwKEdfQ0RhdGFNYW5hZ2VyKCksbmV4dExldmVsKTsNCiAgICAgICAgICAgICAgICAgICAgdmFyIGNoYXJhY0V4cCA9IENVc2VyQ2hhcmFjSW5mb19nZXRfY2hhcmFjX2V4cChzdE5vdGlmeUluZ2FtZUFESW5mbyk7DQogICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCJ1c2VyIG5vd0xldmVsIG5leHRMZXZlbCBub3dFeHAgbm93TGV2ZWxFeHAgbmV4dExldmVsRXhwIDoiICsgQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfbGV2ZWwoc3ROb3RpZnlJbmdhbWVBREluZm8pDQogICAgICAgICAgICAgICAgICAgIC8vICAgICArJywnK25leHRMZXZlbCsnLCcrY2hhcmFjRXhwKycsJytub3dMZXZlbEV4cCsnLCcrbmV4dExldmVsRXhwKTsNCiAgICAgICAgICAgICAgICAgICAgLy8g6ZmN57qn5oiW5Y2H57qnDQogICAgICAgICAgICAgICAgICAgIGlmKGNoYXJhY0V4cDxub3dMZXZlbEV4cCB8fCBjaGFyYWNFeHA+bmV4dExldmVsRXhwKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIOWSjOW9k+WJjee7j+mqjOS4jeWMuemFjSDku47mlrDorr7nva7nu4/pqowNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjaGFyY05hbWUgPSAnJzsNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjaGFyY05hbWVWYWwgPSBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjTmFtZShzdE5vdGlmeUluZ2FtZUFESW5mbyk7DQogICAgICAgICAgICAgICAgICAgICAgICBpZighY2hhcmNOYW1lVmFsLmlzTnVsbCgpKQ0KICAgICAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYXJjTmFtZSA9ICBjaGFyY05hbWVWYWwucmVhZFV0ZjhTdHJpbmcoLTEpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgY015VHJhY2VfY015VHJhY2UodmxvZzMsTWVtb3J5LmFsbG9jVXRmOFN0cmluZygiYm9vbCBDVXNlcjo6X2NoZWNrX2xldmVsX3VwKGludCwgaW50JiwgaW50JiwgZUV4cEFkZFJlYXNvbiwgaW50KSIpLDE2NDQzLDUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgY015VHJhY2Vfb3BlcmF0b3IodmxvZzMudG9JbnQzMigpLE1lbW9yeS5hbGxvY1V0ZjhTdHJpbmcoIiVzIGlzIExldmVsKCVkKSBhbmQgRXhwKCVkKSBJbmNvbnNpc3RlbmN5KGJvdHRvbSglZCksIHRvcCglZCkpIiksTWVtb3J5LmFsbG9jVXRmOFN0cmluZyhjaGFyY05hbWUpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIOi/meW6lOivpeWwseaYr+S4uuS7gOS5iOWHuueOsOWNh+e6p+WQjue7j+mqjOeZvuWIhuavlOS4ujANCiAgICAgICAgICAgICAgICAgICAgICAgIENVc2VyQ2hhcmFjSW5mb19zZXRDdXJDaGFyYWNFeHAoc3ROb3RpZnlJbmdhbWVBREluZm8sbm93TGV2ZWxFeHApOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGlmKCBuZXh0TGV2ZWxFeHAtIG5vd0xldmVsRXhwIDw9MCl7DQogICAgICAgICAgICAgICAgICAgICAgICAvLyDmu6HnuqfkuoYg5LiL5Liq562J57qn5pyJ6Zeu6aKYDQogICAgICAgICAgICAgICAgICAgICAgICBjTXlUcmFjZV9jTXlUcmFjZSh2bG9nNCxNZW1vcnkuYWxsb2NVdGY4U3RyaW5nKCJib29sIENVc2VyOjpfY2hlY2tfbGV2ZWxfdXAoaW50LCBpbnQmLCBpbnQmLCBlRXhwQWRkUmVhc29uLCBpbnQpIiksMTY0NTQsNSk7DQogICAgICAgICAgICAgICAgICAgICAgICBjTXlUcmFjZV9vcGVyYXRvcih2bG9nNC50b0ludDMyKCksTWVtb3J5LmFsbG9jVXRmOFN0cmluZygiQ1VzZXI6Ol9jaGVja19sZXZlbF91cCwgTEVWRUw6JWQgVE9QOiVkIEJPVFRPTTolZCIpLE1lbW9yeS5hbGxvY1V0ZjhTdHJpbmcobmV4dExldmVsKycnKSk7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMDsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBjaGFyYWNFeHAgPSBDVXNlckNoYXJhY0luZm9fZ2V0X2NoYXJhY19leHAoc3ROb3RpZnlJbmdhbWVBREluZm8pOw0KICAgICAgICAgICAgICAgICAgICAvLyDnu4/pqozlgLzliKTmlq0NCiAgICAgICAgICAgICAgICAgICAgaWYoIE51bWJlcihhZGRFeHArY2hhcmFjRXhwKSA8IG5leHRMZXZlbEV4cCApew0KICAgICAgICAgICAgICAgICAgICAgICAgQ1VzZXJDaGFyYWNJbmZvX2FkZEN1ckNoYXJhY0V4cChzdE5vdGlmeUluZ2FtZUFESW5mbywgYWRkRXhwKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGZsYWcgIT0gMCl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGhhZGVzID0gQ1VzZXJfZ2V0SGFkZXMoc3ROb3RpZnlJbmdhbWVBREluZm8pOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIFhOdWNsZWFyX0NIYWRlc19FeHBVcChoYWRlcyxhZGRFeHApOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgYWRkRXhwID0gMDsNCiAgICAgICAgICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgICAgICAgICAgICAvLyDljYfnuqfkuoYNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2MTQgPSBhcmdzMi5yZWFkVTE2KCk7DQogICAgICAgICAgICAgICAgICAgICAgICAvLyDojrflj5bnrYnnuqfmj5DljYfnmoQgc3DngrkNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzcEF0TGV2ZWxVcCA9IENEYXRhTWFuYWdlcl9HZXRTcEF0TGV2ZWxVcChHX0NEYXRhTWFuYWdlcigpLG5leHRMZXZlbCk7DQogICAgICAgICAgICAgICAgICAgICAgICAvLyDorr7nva7lvZPliY3nrYnnuqfnmoRzcOeCuQ0KICAgICAgICAgICAgICAgICAgICAgICAgYXJnczIud3JpdGVVMTYodjE0K3NwQXRMZXZlbFVwKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIOWmguaenOetiee6p+WcqDQ557qn5Lul5LiKDQogICAgICAgICAgICAgICAgICAgICAgICBpZihuZXh0TGV2ZWw+NDkpew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3MzID0gYXJnczMuYWRkKDQpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRpZmZFeHAgID0gbmV4dExldmVsRXhwIC0gQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfZXhwKHN0Tm90aWZ5SW5nYW1lQURJbmZvKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICsrbmV4dExldmVsOw0KICAgICAgICAgICAgICAgICAgICAgICAgQ1VzZXJDaGFyYWNJbmZvX2luY0N1ckNoYXJhY0xldmVsKHN0Tm90aWZ5SW5nYW1lQURJbmZvKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGFkZEV4cCA9IGFkZEV4cCArIChDVXNlckNoYXJhY0luZm9fZ2V0X2NoYXJhY19leHAoc3ROb3RpZnlJbmdhbWVBREluZm8pLW5leHRMZXZlbEV4cCk7DQogICAgICAgICAgICAgICAgICAgICAgICBpZihDVXNlckNoYXJhY0luZm9fZ2V0X2NoYXJhY19sZXZlbChzdE5vdGlmeUluZ2FtZUFESW5mbykgPjkgJiYgQ1VzZXJfR2V0VHV0b3JpYWxTa2lwYWJsZShzdE5vdGlmeUluZ2FtZUFESW5mbykhPTApew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIENVc2VyX1VwZGF0ZVR1dG9yaWFsU2tpcGFibGUoc3ROb3RpZnlJbmdhbWVBREluZm8pOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgQ1VzZXJDaGFyYWNJbmZvX3NldEN1ckNoYXJhY0V4cChzdE5vdGlmeUluZ2FtZUFESW5mbyxuZXh0TGV2ZWxFeHApOw0KICAgICAgICAgICAgICAgICAgICAgICAgQ1VzZXJfdXBkYXRlX2NoYXJhY19zdGF0KHN0Tm90aWZ5SW5nYW1lQURJbmZvLDEpOw0KICAgICAgICAgICAgICAgICAgICAgICAgcmVzVmFsID0gMTsNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRvZG8g6K6w5b2V5pel5b+XICDmlofku7bmjIfpkogg5YWz5rOo5piv5ZCm5Y+v5Lul5q2j5bi4DQogICAgICAgICAgICAgICAgICAgICAgICBIaXN0b3J5TG9nX1dyaXRlTGV2ZWxVcChzdE5vdGlmeUluZ2FtZUFESW5mby5hZGQoNCoxMjQzNTApLHB0cihDVXNlckNoYXJhY0luZm9fZ2V0X2NoYXJhY19leHAoc3ROb3RpZnlJbmdhbWVBREluZm8pKSk7DQogICAgICAgICAgICAgICAgICAgICAgICB2YXIgZ29sZEJvbnVzID0gIFdvbmdXb3JrX0NVc2VyUHJlbWl1bV9HZXRHb2xkQm9udXMoc3ROb3RpZnlJbmdhbWVBREluZm8uYWRkKDQ2MzM4OCksQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfbGV2ZWwoc3ROb3RpZnlJbmdhbWVBREluZm8pKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGdvbGRCb251cyE9MCl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIEN1ckNoYXJhY0ludmVuVyA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNJbnZlblcoc3ROb3RpZnlJbmdhbWVBREluZm8pOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIENJbnZlbnRvcnlfZ2Fpbl9tb25leShDdXJDaGFyYWNJbnZlblcsZ29sZEJvbnVzLDEzLDEsMCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgQ1VzZXJfU2VuZFVwZGF0ZUl0ZW1MaXN0KHN0Tm90aWZ5SW5nYW1lQURJbmZvLDEsMCwwKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiQ0ludmVudG9yeV9nYWluX21vbmV5IGlzIHN1Y2Nlc3MhISEiKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIFdvbmdXb3JrX0NVc2VyUHJlbWl1bV9SZWNhbGNBZGRpdGlvbmFsSW5mbyhzdE5vdGlmeUluZ2FtZUFESW5mby5hZGQoNDYzMzg4KSxzdE5vdGlmeUluZ2FtZUFESW5mbyk7DQogICAgICAgICAgICAgICAgICAgICAgICBpZihmbGFnICE9IDApew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBoYWRlcyA9IENVc2VyX2dldEhhZGVzKHN0Tm90aWZ5SW5nYW1lQURJbmZvKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBYTnVjbGVhcl9DSGFkZXNfRXhwVXAoaGFkZXMsZGlmZkV4cCk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICBjVXNlckhpc3RvcnlMb2dfTGV2ZWxVcChzdE5vdGlmeUluZ2FtZUFESW5mby5hZGQoNDk3NDA4KSxDVXNlckNoYXJhY0luZm9fZ2V0X2NoYXJhY19sZXZlbChzdE5vdGlmeUluZ2FtZUFESW5mbyksQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfbGV2ZWwoc3ROb3RpZnlJbmdhbWVBREluZm8pKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKENVc2VyQ2hhcmFjSW5mb19nZXRfY2hhcmFjX2xldmVsKHN0Tm90aWZ5SW5nYW1lQURJbmZvKSA+IDU5KXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0b2RvIDYw57qnICDlvILnlYwgICAg6L+Y5pyJ5aSp55WMPw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIENVc2VyX0RpbWVuc2lvbklub3V0VXBkYXRlKHN0Tm90aWZ5SW5nYW1lQURJbmZvLDEsMSk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICBpZihDVXNlckNoYXJhY0luZm9fZ2V0X2NoYXJhY19sZXZlbChzdE5vdGlmeUluZ2FtZUFESW5mbykgPT0gbWF4TGV2ZWwpew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKFdvbmdXb3JrX0NHTUFjY291bnRzX2lzR00ocHRyKHB0cigweDA5NDFGNzEwKS5yZWFkVTMyKCkpLENVc2VyX2dldF9hY2NfaWQoc3ROb3RpZnlJbmdhbWVBREluZm8pKSE9MCl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBhY2tldF9Nb25pdG9yX01heF9MZXZlbF9Ccm9hZENhc3RfUGFja2V0X01vbml0b3JfTWF4X0xldmVsX0Jyb2FkQ2FzdCh2NDEpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2VydmVyUHJveHkgPSBDU2VydmVyUHJveHlNZ3JfQ01vbml0b3JTZXJ2ZXJQcm94eV9HZXRTZXJ2ZXJQcm94eShwdHIocHRyKDB4MDk0MEJFMjgpLnJlYWRVMzIoKSksQ1VzZXJfR2V0U2VydmVyR3JvdXAoc3ROb3RpZnlJbmdhbWVBREluZm8pKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ01vbml0b3JTZXJ2ZXJQcm94eV9TZW5kUGFja2V0KHNlcnZlclByb3h5LHY0MSw0MCk7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICBpZihDVXNlckNoYXJhY0luZm9fZ2V0X2NoYXJhY19sZXZlbChzdE5vdGlmeUluZ2FtZUFESW5mbykgPT0gR2FtZVdvcmxkX2dldER1bmdlb25NaW5pbXVtUmVxdWlyZWRMZXZlbChHX0dhbWVXb3JsZCgpLDI1NSkpew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKFNlcnZlclBhcmFtZXRlclNjcmlwdF9pc0R1bmdlb25PcGVuKCkhPTApew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBHYW1lV29ybGRfc2VuZF91c2VyX2R1bmdlb25faW5vdXRfbWVzc2FnZShHX0dhbWVXb3JsZCgpLHN0Tm90aWZ5SW5nYW1lQURJbmZvLDExMDA3LDEpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBHYW1lV29ybGRfc2VuZF91c2VyX2R1bmdlb25faW5vdXRfbWVzc2FnZShHX0dhbWVXb3JsZCgpLHN0Tm90aWZ5SW5nYW1lQURJbmZvLDExMDA3LDApOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIENVc2VyX21ha2VHdWlsZExldmVsVXBNZXNzYWdlKHN0Tm90aWZ5SW5nYW1lQURJbmZvLENVc2VyQ2hhcmFjSW5mb19nZXRfY2hhcmFjX2xldmVsKHN0Tm90aWZ5SW5nYW1lQURJbmZvKSk7DQogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygndXNlciBsZXZlbCBzdWNjZXNzJyk7DQogICAgICAgICAgICAgICAgICAgICAgICAvLyDliLDov5nph4zlt7Lnu4/ljYfnuqflrozmiJDkuoYgIOaJp+ihjOWNh+e6p+S6i+S7tg0KICAgICAgICAgICAgICAgICAgICAgICAgQ1VzZXJfb25MZXZlbFVwKHN0Tm90aWZ5SW5nYW1lQURJbmZvKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAvL0NVc2VyX1NlbmROb3RpUGFja2V0KHN0Tm90aWZ5SW5nYW1lQURJbmZvLDEsMzcsMCk7DQogICAgICAgICAgICAgICAgcmV0dXJuIHJlc1ZhbDsNCiAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgIGNNeVRyYWNlX2NNeVRyYWNlKHZsb2cyLE1lbW9yeS5hbGxvY1V0ZjhTdHJpbmcoImJvb2wgQ1VzZXI6Ol9jaGVja19sZXZlbF91cChpbnQsIGludCYsIGludCYsIGVFeHBBZGRSZWFzb24sIGludCkiKSwxNjQxOCw1KTsNCiAgICAgICAgICAgICAgICBjTXlUcmFjZV9vcGVyYXRvcih2bG9nMi50b0ludDMyKCksTWVtb3J5LmFsbG9jVXRmOFN0cmluZygiQ1VzZXI6Ol9jaGVja19sZXZlbF91cCBtX3NlbGVjdGVkLT5tX2xldmVsIGlzIDAiKSwnVTAwMDAnKTsNCiAgICAgICAgICAgICAgICByZXR1cm4gMDsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfWVsc2V7DQogICAgICAgICAgICBjTXlUcmFjZV9jTXlUcmFjZSh2bG9nLE1lbW9yeS5hbGxvY1V0ZjhTdHJpbmcoImJvb2wgQ1VzZXI6Ol9jaGVja19sZXZlbF91cChpbnQsIGludCYsIGludCYsIGVFeHBBZGRSZWFzb24sIGludCkiKSwxNjQxMSw1KTsNCiAgICAgICAgICAgIGNNeVRyYWNlX29wZXJhdG9yKHZsb2csTWVtb3J5LmFsbG9jVXRmOFN0cmluZygiQ1VzZXI6Ol9jaGVja19sZXZlbF91cCBtX3NlbGVjdGVkIGlzIE5VTEwiKSwnVTAwMDAnKTsNCiAgICAgICAgICAgIHJldHVybiAwOw0KICAgICAgICB9DQogICAgfSwgJ2ludCcsIFsncG9pbnRlcicsJ2ludCcsJ2ludCcsJ2ludCcsJ2ludCddKSk7DQp9DQoNCi8qKg0KICog6I635b6X57uP6aqM5ZKMc3DngrkNCiAqIGE2IOaAqueJqWlkICBhMyBzcOeCuQ0KICogQHBhcmFtIG1heExldmVsDQogKi8NCmZ1bmN0aW9uIGdhaW5FeHBTcChtYXhMZXZlbCl7DQogICAgSW50ZXJjZXB0b3IucmVwbGFjZShwdHIoMHgwODY2YTNmZSksIG5ldyBOYXRpdmVDYWxsYmFjayhmdW5jdGlvbiAodXNlckluZm8sYWRkRXhwLGEzLGE0LHNvdXJjZVR5cGUsYTYsYTcpIHsNCiAgICAgICAgLy8gY29uc29sZS5sb2coJ2dhaW5FeHBTcCBhcmdzOicrdXNlckluZm8rJywnK2FkZEV4cCsnLCcrYTMrJywnK2E0KycsJytzb3VyY2VUeXBlKycsJythNisnLCcrYTcpDQogICAgICAgIHZhciBvbm1lbnQgPSBHX0NFbnZpcm9ubWVudCgpLmFkZCg0MjQqNCkucmVhZFUxNigpOw0KICAgICAgICBpZihvbm1lbnQgPT0gMiAmJiBDVXNlckNoYXJhY0luZm9fZ2V0X2NoYXJhY19sZXZlbCh1c2VySW5mbykgPiA0OSl7DQogICAgICAgICAgICBhZGRFeHAgPSAwOw0KICAgICAgICB9DQogICAgICAgIGlmKCAoYWRkRXhwICYgMHg4MDAwMDAwMCkgIT0wICl7DQogICAgICAgICAgICBhZGRFeHAgPSAwOw0KICAgICAgICB9DQogICAgICAgIHZhciBhZGRWYWxUZW1wID0gdXNlckluZm8uYWRkKDE0NTQzNCo0KTsNCiAgICAgICAgaWYoc291cmNlVHlwZT09MSB8fCBzb3VyY2VUeXBlPT0yKXsNCiAgICAgICAgICAgIHZhciBhZGRWYWwgPSBhZGRWYWxUZW1wLnJlYWRVMTYoKTsNCiAgICAgICAgICAgIHVzZXJJbmZvLmFkZCgxNDU0MzQqNCkud3JpdGVVMTYoYWRkVmFsK2FkZEV4cCk7DQogICAgICAgIH0NCiAgICAgICAgdmFyIGFkZFZhbCA9IGFkZFZhbFRlbXAucmVhZFUxNigpOw0KICAgICAgICB1c2VySW5mby5hZGQoMTQ1NDMxKjQpLndyaXRlVTE2KGFkZFZhbCthZGRFeHApOw0KICAgICAgICBDVXNlcl9pbmNQbGF5RXhwQWRkKHVzZXJJbmZvLGFkZEV4cCk7DQogICAgICAgIHZhciB1cExldmVsVGFnID0gMDsNCiAgICAgICAgaWYoQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfbGV2ZWwodXNlckluZm8pIDw9IG1heExldmVsLTEpew0KICAgICAgICAgICAgdXBMZXZlbFRhZyA9IENVc2VyX2NoZWNrX2xldmVsX3VwKHVzZXJJbmZvLCBhZGRFeHAsIGEzLGE0LHNvdXJjZVR5cGUpOw0KICAgICAgICAgICAgdmFyIGN1ckNoYXJhY1NraWxsUiA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNTa2lsbFIodXNlckluZm8pOw0KICAgICAgICAgICAgdmFyIHJlYW1pblNwQXRJbmRleCA9IFNraWxsU2xvdF9nZXRfcmVtYWluX3NwX2F0X2luZGV4KGN1ckNoYXJhY1NraWxsUixNZW1vcnkuYWxsb2NVdGY4U3RyaW5nKCcwJykpOw0KICAgICAgICAgICAgdmFyIGEzVmFsID0gcHRyKGEzKS5yZWFkVUludCgpOw0KICAgICAgICAgICAgQ1VzZXJfZ2Fpbl9zcCh1c2VySW5mbyxhM1ZhbCk7DQogICAgICAgICAgICBDVXNlcl9oaXN0b3J5X2xvZ19zcCh1c2VySW5mbyxyZWFtaW5TcEF0SW5kZXgsYTMsMCk7DQogICAgICAgICAgICBjdXJDaGFyYWNTa2lsbFIgPSBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjU2tpbGxSKHVzZXJJbmZvKTsNCiAgICAgICAgICAgIHZhciByZWFtaW5TdHBBdEluZGV4ID0gU2tpbGxTbG90X2dldF9yZW1haW5fc2ZwX2F0X2luZGV4KGN1ckNoYXJhY1NraWxsUixNZW1vcnkuYWxsb2NVdGY4U3RyaW5nKCcyJykpOw0KICAgICAgICAgICAgdmFyIGE0VmFsID0gcHRyKGE0KS5yZWFkVUludCgpOw0KICAgICAgICAgICAgQ1VzZXJfZ2Fpbl9zZnAodXNlckluZm8sYTRWYWwpOw0KICAgICAgICAgICAgQ1VzZXJfaGlzdG9yeV9sb2dfc2ZwKHVzZXJJbmZvLHJlYW1pblN0cEF0SW5kZXgsYTQsMCk7DQogICAgICAgIH0NCiAgICAgICAgdmFyIHYzMyA9IE1lbW9yeS5hbGxvYygxMik7DQogICAgICAgIFBhY2tldEd1YXJkX1BhY2tldEd1YXJkKHYzMyk7DQogICAgICAgIC8vIOiuvue9ruinkuiJsuWPr+mXr+WIsOetiee6pw0KICAgICAgICBpZih1cExldmVsVGFnPT0xKXsNCiAgICAgICAgICAgIENVc2VyX0NhbGN1cmF0ZVVzZXJNYXhMZXZlbCh1c2VySW5mbyk7DQogICAgICAgICAgICBpZihDVXNlckNoYXJhY0luZm9fR2V0Q3VyQ2hhcmFjTWF4RXF1aXBMZXZlbCh1c2VySW5mbykgIT0wKXsNCiAgICAgICAgICAgICAgICB2YXIgdXNlckN1ckxldmVsID0gQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfbGV2ZWwodXNlckluZm8pOw0KICAgICAgICAgICAgICAgIGlmKHVzZXJDdXJMZXZlbCA9PSBDVXNlckNoYXJhY0luZm9fR2V0Q3VyQ2hhcmFjTWF4RXF1aXBMZXZlbCh1c2VySW5mbykpew0KICAgICAgICAgICAgICAgICAgICBDVXNlckNoYXJhY0luZm9fU2V0Q3VyQ2hhcmFjTWF4RXF1aXBMZXZlbCh1c2VySW5mbywwKTsNCiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0NVc2VyQ2hhcmFjSW5mb19TZXRDdXJDaGFyYWNNYXhFcXVpcExldmVsIGlzIDAnKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICB2YXIgY3VyQ2hhcmFjUXVlc3RXID0gQ1VzZXJfZ2V0Q3VyQ2hhcmFjUXVlc3RXKHVzZXJJbmZvKTsNCiAgICAgICAgICAgIFVzZXJRdWVzdF9SZXNldFVyZ2VudFF1ZXN0V2FpdGluZ0xpc3QoY3VyQ2hhcmFjUXVlc3RXKTsNCiAgICAgICAgICAgIHZhciBjdXJDaGFyYWNRdWVzdFIgPUNVc2VyX2dldEN1ckNoYXJhY1F1ZXN0Uih1c2VySW5mbyk7DQogICAgICAgICAgICBVc2VyUXVlc3RfZ2V0X3F1ZXN0X2luZm8oY3VyQ2hhcmFjUXVlc3RSLHYzMyk7DQogICAgICAgICAgICBDQ2hhcmFjdGVyVmlld19lbmFibGVTYXZlQ2hhcmFjVmlldyh1c2VySW5mby5hZGQoNDk3Mzk2KSk7DQogICAgICAgICAgICBDVXNlcl9TZW5kKHVzZXJJbmZvLHYzMyk7DQogICAgICAgICAgICBpZihDVXNlckNoYXJhY0luZm9fZ2V0X2NoYXJhY19sZXZlbCh1c2VySW5mbykgPT0gbWF4TGV2ZWwpew0KICAgICAgICAgICAgICAgIENVc2VyQ2hhcmFjSW5mb19yZXNldENoYXJhY0ZhdGlndWVHcm93blVwQnVmZih1c2VySW5mbyk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBDVXNlcl9VcGRhdGVVc2VySW5mbzRHdWlsZCh1c2VySW5mbyk7DQogICAgICAgICAgICB2YXIgY3VyQ2hhcmFHcm93VHlwZSA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNHcm93VHlwZSh1c2VySW5mbyk7DQogICAgICAgICAgICB2YXIgY3VyQ2hhcmFMZXZlbCA9IENVc2VyQ2hhcmFjSW5mb19nZXRfY2hhcmFjX2xldmVsKHVzZXJJbmZvKTsNCiAgICAgICAgICAgIHZhciBjaGFyYWNObyA9IENVc2VyX2dldF9jaGFyYWNfbm8odXNlckluZm8sLTEpOw0KICAgICAgICAgICAgdmFyIGFjY0lkID0gQ1VzZXJfZ2V0X2FjY19pZCh1c2VySW5mbyk7DQogICAgICAgICAgICB2YXIgc2VydmVyR3JvdXAgPSBDVXNlcl9HZXRTZXJ2ZXJHcm91cCh1c2VySW5mbyk7DQogICAgICAgICAgICB2YXIgc2VydmVyUHJveHkgPSBDU2VydmVyUHJveHlNZ3JfQ0d1aWxkU2VydmVyUHJveHlfR2V0U2VydmVyUHJveHkocHRyKHB0cigweDA5NDBCRTJDKS5yZWFkVTMyKCkpLHNlcnZlckdyb3VwKTsNCiAgICAgICAgICAgIENHdWlsZFNlcnZlclByb3h5X1NlbmRDaGFyTGV2ZWxHcm93VHlwZShzZXJ2ZXJQcm94eSxhY2NJZCxjaGFyYWNObyxjdXJDaGFyYUxldmVsLGN1ckNoYXJhR3Jvd1R5cGUpOw0KICAgICAgICAgICAgc2VydmVyUHJveHkgPSBDU2VydmVyUHJveHlNZ3JfQ01vbml0b3JTZXJ2ZXJQcm94eV9HZXRTZXJ2ZXJQcm94eShwdHIocHRyKDB4MDk0MEJFMjgpLnJlYWRVMzIoKSksc2VydmVyR3JvdXApOw0KICAgICAgICAgICAgQ01vbml0b3JTZXJ2ZXJQcm94eV9TZW5kQ2hhckxldmVsR3Jvd1R5cGUoc2VydmVyUHJveHksYWNjSWQsY2hhcmFjTm8sY3VyQ2hhcmFMZXZlbCxjdXJDaGFyYUdyb3dUeXBlKTsNCiAgICAgICAgICAgIHZhciB2ZXJpZnkgPSBDVXNlcl9WZXJpZnlQcmVzZW50QXZlbmdlclRpdGxlKHVzZXJJbmZvKTsNCiAgICAgICAgICAgIGlmKHZlcmlmeSAhPSAxKXsNCiAgICAgICAgICAgICAgICB2YXIgdjM0ID0gTWVtb3J5LmFsbG9jKDE2KTsNCiAgICAgICAgICAgICAgICB2YXIgYWNjSWQgPSBDVXNlcl9nZXRfYWNjX2lkKHVzZXJJbmZvKTsNCiAgICAgICAgICAgICAgICBjTXlUcmFjZV9jTXlUcmFjZSh2MzQsTWVtb3J5LmFsbG9jVXRmOFN0cmluZygiYm9vbCBDVXNlcjo6Z2Fpbl9leHBfc3AoaW50LCBpbnQmLCBpbnQmLCBlRXhwQWRkUmVhc29uLCBpbnQsIGJvb2wpIiksMjA1NTAsMCk7DQogICAgICAgICAgICAgICAgY015VHJhY2Vfb3BlcmF0b3IodjM0LnRvSW50MzIoKSxNZW1vcnkuYWxsb2NVdGY4U3RyaW5nKCJDVXNlcjo6VmVyaWZ5UHJlc2VudEF2ZW5nZXJUaXRsZSgpIG1faWQoJXMpLCBjaGFyYWNfbm8oJXUpIiksTWVtb3J5LmFsbG9jVXRmOFN0cmluZyhhY2NJZCsnJykpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgQ1VzZXJfQWRkQ3VyQ2hhcmFjTWVyY2VuYXJ5SW5mbyh1c2VySW5mbyk7DQogICAgICAgIH0NCiAgICAgICAgdmFyIHJlYWRUZW1wVmFsID0gdXNlckluZm8uYWRkKDE0NDM2OSo0KS5yZWFkVTE2KCk7DQogICAgICAgIGlmKHJlYWRUZW1wVmFsPT01IHx8IHJlYWRUZW1wVmFsPT04IHx8IHJlYWRUZW1wVmFsPT03IHx8IHJlYWRUZW1wVmFsPT0xMCB8fCByZWFkVGVtcFZhbD09MTIgKXsNCiAgICAgICAgICAgIGlmKGE3ICE9IDEpew0KICAgICAgICAgICAgICAgIENVc2VyX1NlbmROb3RpUGFja2V0KHVzZXJJbmZvLDEsMzcsMCk7DQogICAgICAgICAgICAgICAgQ1VzZXJDaGFyYWNJbmZvX3NldF9jaGFyYWNfZmF0aWd1ZV9idWZfYm9udXNfZXhwKHVzZXJJbmZvLDApOw0KICAgICAgICAgICAgfWVsc2UgaWYodXBMZXZlbFRhZyA9PTEpew0KICAgICAgICAgICAgICAgIENVc2VyX1NlbmROb3RpUGFja2V0KHVzZXJJbmZvLDEsMzcsMCk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZih1cExldmVsVGFnPT0xKXsNCiAgICAgICAgICAgICAgICBDVXNlcl9kZWNpZGVfZ3Jvd3RoX3Bvd2VyX3Jld2FyZF9zeXN0ZW0odXNlckluZm8pOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIGlmKHVwTGV2ZWxUYWcgPT0gMSl7DQogICAgICAgICAgICB2YXIgcGxheUNvdW50ID0gQ1VzZXJDaGFyYWNJbmZvX0dldEN1ckNoYXJhY0R1bmdlb25QbGF5Q291bnQodXNlckluZm8pOw0KICAgICAgICAgICAgdmFyIGN1ckNoYXJhTGV2ZWwgPSBDVXNlckNoYXJhY0luZm9fZ2V0X2NoYXJhY19sZXZlbCh1c2VySW5mbyk7DQogICAgICAgICAgICBDTGV2ZWxEdW5nZW9uUGxheVN0YXRpc3RpY19JbmNyZWFzZUxldmVsRHVuZ2VvblBsYXkocHRyKHB0cigweDA5NDFGNzY0KS5yZWFkVTMyKCkpLGN1ckNoYXJhTGV2ZWwscGxheUNvdW50KTsNCiAgICAgICAgICAgIENVc2VyQ2hhcmFjSW5mb19SZXNldEN1ckNoYXJhY0R1bmdlb25QbGF5Q291bnQodXNlckluZm8pOw0KICAgICAgICAgICAgLy8g5Ymv6IGM5LiaDQogICAgICAgICAgICB2YXIgZXhwZXJ0Sm9iRXhwID0gQ1VzZXJDaGFyYWNJbmZvX0dldEN1ckNoYXJhY0V4cGVydEpvYkV4cCh1c2VySW5mbyk7DQogICAgICAgICAgICBleHBlcnRfam9iX0NFeHBlcnRKb2JfSW5jcmVhc2VFeHBlcnRKb2JFeHAodXNlckluZm8scHRyKGV4cGVydEpvYkV4cCkpOw0KICAgICAgICAgICAgQ1VzZXJfUmVDYWxjQ2hhdHRpbmdFbW90aWNvbih1c2VySW5mbyk7DQogICAgICAgICAgICBDVXNlcl9TZW5kQ2hhdHRpbmdFbW90aWNvbih1c2VySW5mbyk7DQogICAgICAgIH0NCiAgICAgICAgaWYodXBMZXZlbFRhZyA9PSAxKXsNCiAgICAgICAgICAgIGlmKENVc2VyQ2hhcmFjSW5mb19nZXRfY2hhcmFjX2xldmVsKHVzZXJJbmZvKSA9PSBtYXhMZXZlbCl7DQogICAgICAgICAgICAgICAgQVBTeXN0ZW1fQ1VzZXJQcm9jX0NsZWFyQWN0aW9uQW5kU2VuZHRvVXNlcih1c2VySW5mbywzMywwLDApOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIENVc2VyX1NlbmROb3RpUGFja2V0KHVzZXJJbmZvLDEsMzcsMCk7DQogICAgICAgIC8vIOmHiuaUviB2MzM7DQogICAgICAgIHJldHVybiB1cExldmVsVGFnOw0KICAgIH0sICdpbnQnLCBbJ3BvaW50ZXInLCdpbnQnLCdpbnQnLCdpbnQnLCdpbnQnLCdpbnQnLCdpbnQnXSkpOw0KfQ0KDQovKioNCiAqIOinkuiJsuWNh+e6p+WkhOeQhg0KICog5Y6f5pyJ55qE5pa55byP5pqC5pe25rKh5pyJ5a6e546wIOOAguOAguOAgiDlj6rog73mm7Lnur/mlZHlm70NCiAqIEBwYXJhbSBtYXhMZXZlbA0KICovDQpmdW5jdGlvbiBvbkxldmVsVXAobWF4TGV2ZWwpew0KICAgIEludGVyY2VwdG9yLnJlcGxhY2UocHRyKDB4MDg2NjMxMWEpLCBuZXcgTmF0aXZlQ2FsbGJhY2soZnVuY3Rpb24gKHVzZXJJbmZvKSB7DQogICAgICAgIHZhciBjdXJMZXZlbCA9IENVc2VyQ2hhcmFjSW5mb19nZXRfY2hhcmFjX2xldmVsKHVzZXJJbmZvKTsNCiAgICAgICAgdmFyIGNyZWF0ZVRpbWUgPSBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjQ3JlYXRlVGltZSh1c2VySW5mbyk7DQogICAgICAgIHZhciBjdXJTZWMgPSBDU3lzdGVtVGltZV9nZXRDdXJTZWMocHRyKDB4MDk0MUY3MTQpKTsNCiAgICAgICAgY29uc29sZS5sb2coIm9uTGV2ZWxVcCBhcmdzOiIrY3VyTGV2ZWwrJywnK2NyZWF0ZVRpbWUrJywnK2N1clNlYyk7DQogICAgICAgIC8vIDIwMjQtMTItMTEgMTE6MDY6NDkNCiAgICAgICAgaWYoY3VyTGV2ZWw9PTE1ICYmIGNyZWF0ZVRpbWU+MTIwMzU0MTE5OSAmJiBjdXJTZWM8PSAxNzMzODg2NDA5KXsNCiAgICAgICAgICAgIHZhciBjaGFyY05hbWUgPSAnJzsNCiAgICAgICAgICAgIHZhciBjaGFyY05hbWVWYWwgPSBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjTmFtZSh1c2VySW5mbyk7DQogICAgICAgICAgICBpZighY2hhcmNOYW1lVmFsLmlzTnVsbCgpKQ0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgIGNoYXJjTmFtZSA9ICBjaGFyY05hbWVWYWwucmVhZFV0ZjhTdHJpbmcoLTEpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdmFyIGNoYXJjTm8gPSBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjTm8odXNlckluZm8pOw0KICAgICAgICAgICAgdmFyIGFjY0lkID0gQ1VzZXJfZ2V0X2FjY19pZCh1c2VySW5mbyk7DQogICAgICAgICAgICBEQl9JbnNlcnRVbmxpbWl0U3VwcG9ydExvZ19tYWtlUmVxdWVzdChNZW1vcnkuYWxsb2NVdGY4U3RyaW5nKGFjY0lkKycnKSxjaGFyY05vLE1lbW9yeS5hbGxvY1V0ZjhTdHJpbmcoY2hhcmNOYW1lKSkNCiAgICAgICAgfQ0KICAgICAgICB2YXIgY2hhcmNKb2IgPSBDVXNlckNoYXJhY0luZm9fZ2V0X2NoYXJhY19qb2IodXNlckluZm8pOw0KICAgICAgICB2YXIgY2hhcmNObyA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNObyh1c2VySW5mbyk7DQogICAgICAgIENVc2VyX3Byb2Nlc3NMZXZlbFJld2FyZCh1c2VySW5mbyxjdXJMZXZlbCxjaGFyY05vLGNoYXJjSm9iKTsNCiAgICAgICAgdmFyIGZpbmRTdHJpbmdMZW5ndGggPSAwOw0KICAgICAgICB2YXIgaXNBZmZlY3RlZFByZW1pdW0gPSBDVXNlcl9pc0FmZmVjdGVkUHJlbWl1bSh1c2VySW5mby50b0ludDMyKCksMTYpOw0KICAgICAgICBpZihpc0FmZmVjdGVkUHJlbWl1bSE9MCAmJiBDU3lzdGVtVGltZV9nZXRDdXJTZWMocHRyKDB4MDk0MUY3MTQpKSA8PSB1aW50NjQoMHg0NzhFNzA1MCkpew0KDQogICAgICAgIH0NCiAgICAgICAgQ1VzZXJfcHJvY2Vzc05QQ0dpZnRPbkxldmVsVXAodXNlckluZm8pOw0KICAgICAgICBDVXNlcl9wcm9jZXNzTGV2ZWxVcEV2ZW50UmV3YXJkKHVzZXJJbmZvLDApOw0KICAgICAgICBDVXNlcl9wcm9jZXNzTGV2ZWxVcEV2ZW50KHVzZXJJbmZvKTsNCiAgICAgICAgaWYoQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfbGV2ZWwodXNlckluZm8pID09IG1heExldmVsKXsNCg0KICAgICAgICB9DQogICAgICAgIGlmKENVc2VyQ2hhcmFjSW5mb19nZXRfY2hhcmFjX2xldmVsKHVzZXJJbmZvKSA8PSBtYXhMZXZlbCl7DQogICAgICAgICAgICBjb25zb2xlLmxvZygicXVlcnktLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLTc2MTYiKQ0KICAgICAgICAgICAgdmFyIGl0ZW1JZCA9IDc2MTY7DQogICAgICAgICAgICB2YXIgaXRlbU51bSA9IDEwOw0KICAgICAgICAgICAgdmFyIGl0ZW1fc3BhY2UgPSBNZW1vcnkuYWxsb2MoNCk7DQogICAgICAgICAgICB2YXIgaXRlbSA9IENEYXRhTWFuYWdlcl9maW5kX2l0ZW0oR19DRGF0YU1hbmFnZXIoKSw3NjE2KTsNCiAgICAgICAgICAgIGlmKCFpdGVtLmlzTnVsbCgpKXsNCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiZmluZCBpdGVtIDc2MTYiKTsNCiAgICAgICAgICAgICAgICB2YXIgaXRlbUFkZHIgPSBNZW1vcnkuYWxsb2MoMTE2KTsNCiAgICAgICAgICAgICAgICAvLyDpgIHpgoDor7flh70NCiAgICAgICAgICAgICAgICBJbnZlbl9JdGVtX0ludmVuX0l0ZW0oaXRlbUFkZHIpOw0KICAgICAgICAgICAgICAgIHZhciBpbnZlblJlZiA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNJbnZlblIodXNlckluZm8pOw0KICAgICAgICAgICAgICAgIC8vIC8vIGludmVuRGFUQSDmmK/moLzlrZDnmoTkvY3nva4NCiAgICAgICAgICAgICAgICB2YXIgaW52ZW5EYXRhID0gQ0ludmVudG9yeV9HZXRJbnZlbkRhdGEoaW52ZW5SZWYsNzYxNixpdGVtQWRkcik7DQogICAgICAgICAgICAgICAgY29uc29sZS5sb2coImludmVuRGF0YSA6IitpbnZlbkRhdGEpOw0KICAgICAgICAgICAgICAgIGlmKGludmVuRGF0YSA+PTApew0KICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiaW52ZW4gdXNlciBoYXZlIGl0ZW0gIDc2MTYiKTsNCiAgICAgICAgICAgICAgICAgICAgLy8g6IOM5YyF5pyJ5YC8IOmihOiuoeaYr+aVsOmHjw0KICAgICAgICAgICAgICAgICAgICB2YXIgcmVhZHZhbCA9IGl0ZW1BZGRyLmFkZCg3KS5yZWFkVTE2KCk7DQogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJyZWFkVmFsIDoiK3JlYWR2YWwpOw0KICAgICAgICAgICAgICAgICAgICBpZihyZWFkdmFsIDwgaXRlbU51bSl7DQogICAgICAgICAgICAgICAgICAgICAgICBpbnZlbkRhdGEgPSBDVXNlcl9BZGRJdGVtKHVzZXJJbmZvLCBpdGVtSWQsIGl0ZW1OdW0tcmVhZHZhbCwgNiwgaXRlbV9zcGFjZSwgMCk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICAgICAgaW52ZW5EYXRhID0gQ1VzZXJfQWRkSXRlbSh1c2VySW5mbywgaXRlbUlkLCBpdGVtTnVtLCA2LCBpdGVtX3NwYWNlLCAwKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgaWYoaW52ZW5EYXRhID49MCApew0KICAgICAgICAgICAgICAgICAgICAvL+mAmuefpeWuouaIt+err+aciea4uOaIj+mBk+WFt+abtOaWsA0KICAgICAgICAgICAgICAgICAgICBDVXNlcl9TZW5kVXBkYXRlSXRlbUxpc3QodXNlckluZm8sIDEsIGl0ZW1fc3BhY2UucmVhZEludCgpLCBpbnZlbkRhdGEpOw0KICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygic2VuZCBzdWNjZXNzIikNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgdmFyIGV2ZW50X3NjcmlwdF9tbmcgPSBDRGF0YU1hbmFnZXJfZ2V0X2V2ZW50X3NjcmlwdF9tbmcoR19DRGF0YU1hbmFnZXIoKSk7DQogICAgICAgIEV2ZW50Q2xhc3NpZnlfQ0V2ZW50U2NyaXB0TW5nX3Byb2Nlc3NfbGV2ZWxfdXBfcmV3YXJkKGV2ZW50X3NjcmlwdF9tbmcsdXNlckluZm8sMCk7DQogICAgfSwgJ3ZvaWQnLCBbJ3BvaW50ZXInXSkpOw0KfQ0KDQovKioNCiAqIOeJqeWTgeS9v+eUqOeKtuaAgSAgMTIwNQnog4zliLronJjom5sNCiAqLw0KZnVuY3Rpb24gaW5jcmVhc2VTdGF0dXMobWF4TGV2ZWwpew0KDQogICAgSW50ZXJjZXB0b3IucmVwbGFjZShwdHIoMHgwODY2NTdmYyksIG5ldyBOYXRpdmVDYWxsYmFjayhmdW5jdGlvbiAodXNlciwgc2xvZikgew0KICAgICAgICBjb25zb2xlLmxvZygiaW5jcmVhc2VTdGF0dXM6Iit1c2VyKycsJytzbG9mKTsNCiAgICAgICAgdmFyIGJ1ZmYgPSAgTWVtb3J5LmFsbG9jKDEyKTsNCiAgICAgICAgUGFja2V0R3VhcmRfUGFja2V0R3VhcmQoYnVmZik7DQogICAgICAgIGNvbnNvbGUubG9nKCdDVXNlcl9DaGVja0luVHJhZGUodXNlcik6JytDVXNlcl9DaGVja0luVHJhZGUodXNlcikpDQogICAgICAgIGlmKENVc2VyX0NoZWNrSW5UcmFkZSh1c2VyKSE9MCl7DQogICAgICAgICAgICBDVXNlcl9TZW5kQ21kRXJyb3JQYWNrZXQodXNlciwgMzIsIDE5LCBidWZmKTsNCiAgICAgICAgICAgIFBhY2tldEd1YXJkX2ZyZWVfUGFja2V0R3VhcmQoYnVmZik7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCiAgICAgICAgdmFyIHVzZXJJdGVtID0gIE1lbW9yeS5hbGxvYygxMjgpOw0KICAgICAgICB2YXIgY3VyQ2hhcmFjSW52ZW5SZWYgPSBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjSW52ZW5SKHVzZXIpOw0KICAgICAgICBDSW52ZW50b3J5X0dldEludmVuU2xvdCh1c2VySXRlbSxjdXJDaGFyYWNJbnZlblJlZi50b0ludDMyKCksMSxwYXJzZUludChzbG9mKSk7DQogICAgICAgIHZhciBpdGVtSWQgPSB1c2VySXRlbS5hZGQoMikucmVhZFUzMigpOw0KICAgICAgICAvLyDmoIflv5fnsbvlnosNCiAgICAgICAgdmFyIHYxODQgPSAtMTsNCiAgICAgICAgLy8g6KaB5Yqg55qE5YC8DQogICAgICAgIHZhciBndWlsZEV4cEJvb2sgPSAwOw0KDQogICAgICAgIGlmKGl0ZW1JZCA9PSAxMjA1KXsNCiAgICAgICAgICAgIHYxODQgPSAxNzsNCiAgICAgICAgICAgIGd1aWxkRXhwQm9vayA9IDU7DQogICAgICAgICAgICBnb3RvMTkxKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCiAgICAgICAgaWYoaXRlbUlkIDw9IDEyMDUpew0KICAgICAgICAgICAgaWYoaXRlbUlkID09IDEwMzYpew0KICAgICAgICAgICAgICAgIHYxODQgPSAxOw0KICAgICAgICAgICAgICAgIGd1aWxkRXhwQm9vayA9IDEwMDAwOw0KICAgICAgICAgICAgICAgIGdvdG8xOTEodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKTsNCiAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZihpdGVtSWQgPD0gMTAzNil7DQogICAgICAgICAgICAgICAgaWYoaXRlbUlkIT0gMjAxKXsNCiAgICAgICAgICAgICAgICAgICAgaWYoaXRlbUlkID4gMjAxKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGl0ZW1JZCA9PSA5NjMpew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdvdG8xMjUodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICBpZihpdGVtSWQgPiA5NjMpew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGl0ZW1JZCA9PSAxMDM0KXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdjE4NCA9IDE7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGd1aWxkRXhwQm9vayA9IDEwMDsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ290bzE5MSh1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGl0ZW1JZD4xMDM0KXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdjE4NCA9IDE7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGd1aWxkRXhwQm9vayA9IDEwMDA7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdvdG8xOTEodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihpdGVtSWQgPT0gMTAzMSl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYxODQgPSAwOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBndWlsZEV4cEJvb2sgPSA1Ow0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnb3RvMTkxKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZ290bzE3OCh1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGl0ZW1JZD09OTE2IHx8IGl0ZW1JZD09OTYwKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnb3RvMTI1KHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgZ290bzE3OCh1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpOw0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGlmKGl0ZW1JZCE9NDIpew0KICAgICAgICAgICAgICAgICAgICAgICAgaWYoaXRlbUlkPD00Mil7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoaXRlbUlkIT0zICYmIGl0ZW1JZCE9Mjgpew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnb3RvMTc4KHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZ290bzEyNSh1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGl0ZW1JZD09MTA5IHx8IGl0ZW1JZD49MTA5ICYmIGl0ZW1JZC0xNjE8PTEpew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdvdG8xMjUodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICBnb3RvMTc4KHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgdjE4NCA9IDIxOw0KICAgICAgICAgICAgICAgICAgICBndWlsZEV4cEJvb2sgPSAxOw0KICAgICAgICAgICAgICAgICAgICBnb3RvMTkxKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgdmFyIHJlcGVhdEV2ZW50ID0gQ0V2ZW50TWFuYWdlcl9HZXRSZXBlYXRFdmVudChwdHIocHRyKDB4MDk0MUY3MzApLnJlYWRVMzIoKSksMTUpOw0KICAgICAgICAgICAgICAgIHZhciB0ZW1wTWV0aG9kID0gIG5ldyBOYXRpdmVGdW5jdGlvbihyZXBlYXRFdmVudC5hZGQoNTIqNCksICdpbnQnLCBbJ3BvaW50ZXInLCdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KICAgICAgICAgICAgICAgIGlmKHJlcGVhdEV2ZW50IT0wICYmIHRlbXBNZXRob2QocmVwZWF0RXZlbnQsMCkhPTApew0KICAgICAgICAgICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfY2xlYXIoYnVmZik7DQogICAgICAgICAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfaGVhZGVyKGJ1ZmYsMSwzMik7DQogICAgICAgICAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfYnl0ZShidWZmLDApOw0KICAgICAgICAgICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2J5dGUoYnVmZiwxOSk7DQogICAgICAgICAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9maW5hbGl6ZShidWZmLDEpOw0KICAgICAgICAgICAgICAgICAgICBDVXNlcl9TZW5kKHVzZXIsYnVmZik7DQogICAgICAgICAgICAgICAgICAgIFBhY2tldEd1YXJkX2ZyZWVfUGFja2V0R3VhcmQoYnVmZik7DQogICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgaWYoQ1VzZXJfZ2V0Q3VyQ2hhcmFjVG90YWxGYXRpZ3VlKHVzZXIpIT0wKXsNCiAgICAgICAgICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX2NsZWFyKGJ1ZmYpOw0KICAgICAgICAgICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2hlYWRlcihidWZmLDEsMzIpOw0KICAgICAgICAgICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2J5dGUoYnVmZiwwKTsNCiAgICAgICAgICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9ieXRlKGJ1ZmYsNjcpOw0KICAgICAgICAgICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfZmluYWxpemUoYnVmZiwxKTsNCiAgICAgICAgICAgICAgICAgICAgQ1VzZXJfU2VuZCh1c2VyLGJ1ZmYpOw0KICAgICAgICAgICAgICAgICAgICBQYWNrZXRHdWFyZF9mcmVlX1BhY2tldEd1YXJkKGJ1ZmYpOw0KICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHYxODQgPSAxNDsNCiAgICAgICAgICAgICAgICBndWlsZEV4cEJvb2sgPSAwOw0KICAgICAgICAgICAgICAgIGdvdG8xOTEodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKTsNCiAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZihpdGVtSWQgPT0gMTA0Myl7DQogICAgICAgICAgICAgICAgdjE4NCA9IDI7DQogICAgICAgICAgICAgICAgZ3VpbGRFeHBCb29rID0gMjUwOw0KICAgICAgICAgICAgICAgIGdvdG8xOTEodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKTsNCiAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZihpdGVtSWQgPD0gMTA0Myl7DQogICAgICAgICAgICAgICAgaWYoaXRlbUlkID09IDEwMzkpew0KICAgICAgICAgICAgICAgICAgICB2MTg0ID0gNDsNCiAgICAgICAgICAgICAgICAgICAgZ3VpbGRFeHBCb29rID0gNTA7DQogICAgICAgICAgICAgICAgfWVsc2UgaWYoaXRlbUlkID4gMTAzOSl7DQogICAgICAgICAgICAgICAgICAgIGlmKGl0ZW1JZCA9PSAxMDQxKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIHYxODQgPSA1Ow0KICAgICAgICAgICAgICAgICAgICAgICAgZ3VpbGRFeHBCb29rID0gNTA7DQogICAgICAgICAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgICAgICAgICAgaWYoaXRlbUlkID4gMTA0MSl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjE4NCA9IDc7DQogICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MTg0ID0gNjsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIGd1aWxkRXhwQm9vayA9IDUwOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfWVsc2UgaWYoaXRlbUlkID09IDEwMzcpew0KICAgICAgICAgICAgICAgICAgICB2MTg0ID0gMTsNCiAgICAgICAgICAgICAgICAgICAgZ3VpbGRFeHBCb29rID0gMTAwMDAwOw0KICAgICAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgICAgICB2MTg0ID0gMDsNCiAgICAgICAgICAgICAgICAgICAgZ3VpbGRFeHBCb29rID0yMDsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgZ290bzE5MSh1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpOw0KICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmKGl0ZW1JZCA9PSAxMDQ2KXsNCiAgICAgICAgICAgICAgICAvLyDmipfmgKfkuYvnn7MNCiAgICAgICAgICAgICAgICB2MTg0ID0gOTsNCiAgICAgICAgICAgICAgICBndWlsZEV4cEJvb2sgPSAxMDsNCiAgICAgICAgICAgICAgICBnb3RvMTkxKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYoaXRlbUlkIDw9IDEwNDYpew0KICAgICAgICAgICAgICAgIC8vIHRvZG8g6a2U5Yqb5LmL55+zDQogICAgICAgICAgICAgICAgaWYoaXRlbUlkID09IDEwNDQpew0KICAgICAgICAgICAgICAgICAgICB2MTg0ID0gMzsNCiAgICAgICAgICAgICAgICAgICAgZ3VpbGRFeHBCb29rID0gMjUwOw0KICAgICAgICAgICAgICAgIH1lbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgdjE4NCA9IDg7DQogICAgICAgICAgICAgICAgICAgIGd1aWxkRXhwQm9vayA9IDEwOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBnb3RvMTkxKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYoaXRlbUlkIDwgMTIwMCl7DQogICAgICAgICAgICAgICAgZ290bzE3OCh1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpOw0KICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmKGl0ZW1JZCA+IDEyMDIpew0KICAgICAgICAgICAgICAgIGlmKGl0ZW1JZCA9PSAxMjA0KXsNCiAgICAgICAgICAgICAgICAgICAgdjE4NCA9IDE3Ow0KICAgICAgICAgICAgICAgICAgICBndWlsZEV4cEJvb2sgPSAxOw0KICAgICAgICAgICAgICAgICAgICBnb3RvMTkxKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgZ290bzE3OCh1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpOw0KICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGdvdG8xNzEodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfQ0KICAgICAgICBpZihpdGVtSWQgPD0gODI2OCl7DQogICAgICAgICAgICBpZihpdGVtSWQgPCA4MjY3KXsNCiAgICAgICAgICAgICAgICBpZihpdGVtSWQgPT0gNzEwMSl7DQogICAgICAgICAgICAgICAgICAgIGlmKENVc2VyX2dldF9zdGF0ZSh1c2VyKSE9Myl7DQogICAgICAgICAgICAgICAgICAgICAgICBDVXNlcl9TZW5kQ21kRXJyb3JQYWNrZXQodXNlciwzMiwxOSxidWZmKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIFBhY2tldEd1YXJkX2ZyZWVfUGFja2V0R3VhcmQoYnVmZik7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgdjE4NCA9IDEzOw0KICAgICAgICAgICAgICAgICAgICBndWlsZEV4cEJvb2sgPSA4Ow0KICAgICAgICAgICAgICAgICAgICBnb3RvMTkxKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgaWYoaXRlbUlkIDw9IDcxMDEpew0KICAgICAgICAgICAgICAgICAgICBpZihpdGVtSWQ9PTEyMzIpew0KICAgICAgICAgICAgICAgICAgICAgICAgdjE4NCA9IDE7DQogICAgICAgICAgICAgICAgICAgICAgICBndWlsZEV4cEJvb2sgPSAxMDAwMDAwMDsNCiAgICAgICAgICAgICAgICAgICAgICAgIGdvdG8xOTEodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBpZihpdGVtSWQgPD0gMTIzMil7DQogICAgICAgICAgICAgICAgICAgICAgICBpZihpdGVtSWQhPTEyMDYpew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGl0ZW1JZD09MTIzMSl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYxODQgPSAxOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBndWlsZEV4cEJvb2sgPSAxMDAwMDAwOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnb3RvMTkxKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZ290bzE3OCh1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIGdvdG8xMjUodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBpZihpdGVtSWQgPT0gMTI1Myl7DQogICAgICAgICAgICAgICAgICAgICAgICBnb3RvMTI1KHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgaWYoaXRlbUlkICE9MzIwNCl7DQogICAgICAgICAgICAgICAgICAgICAgICBpZihpdGVtSWQ9PTEyNDcpew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYxODQgPSAxOTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBndWlsZEV4cEJvb2sgPSAxMDsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnb3RvMTkxKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgZ290bzE3OCh1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpOw0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGlmKENVc2VyQ2hhcmFjSW5mb19nZXRfY2hhcmFjX2d1aWxka2V5KHVzZXIpIT0wKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIHYxODQgPSAxMTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGd1aWxkRXhwQm9vayA9IDEwOw0KICAgICAgICAgICAgICAgICAgICAgICAgZ290bzE5MSh1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpOw0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIENVc2VyX1NlbmRDbWRFcnJvclBhY2tldCh1c2VyLDMyLDY0LGJ1ZmYpOw0KICAgICAgICAgICAgICAgICAgICBQYWNrZXRHdWFyZF9mcmVlX1BhY2tldEd1YXJkKGJ1ZmYpOw0KICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGlmKGl0ZW1JZD09NzE4MSl7DQogICAgICAgICAgICAgICAgICAgIHYxODQgPSAxMzsNCiAgICAgICAgICAgICAgICAgICAgZ3VpbGRFeHBCb29rID0gNTsNCiAgICAgICAgICAgICAgICAgICAgZ290bzE5MSh1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpOw0KICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGlmKGl0ZW1JZCA8PSA3MTgxKXsNCiAgICAgICAgICAgICAgICAgICAgaWYoaXRlbUlkICE9IDcxMDUpew0KICAgICAgICAgICAgICAgICAgICAgICAgaWYoaXRlbUlkID09IDcxODApew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYxODQgPSAxMzsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBndWlsZEV4cEJvb2sgPSAxOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdvdG8xOTEodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICBnb3RvMTc4KHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgaWYoQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfZ3VpbGRrZXkodXNlcikpew0KICAgICAgICAgICAgICAgICAgICAgICAgdjE4NCA9IDExOw0KICAgICAgICAgICAgICAgICAgICAgICAgZ3VpbGRFeHBCb29rID0gNTA7DQogICAgICAgICAgICAgICAgICAgICAgICBnb3RvMTkxKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgQ1VzZXJfU2VuZENtZEVycm9yUGFja2V0KHVzZXIsMzIsNjQsYnVmZik7DQogICAgICAgICAgICAgICAgICAgIFBhY2tldEd1YXJkX2ZyZWVfUGFja2V0R3VhcmQoYnVmZik7DQogICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgaWYoaXRlbUlkID09IDc5NTgpew0KICAgICAgICAgICAgICAgICAgICB2MTg0ID0gMjA7DQogICAgICAgICAgICAgICAgICAgIGd1aWxkRXhwQm9vayA9IDA7DQogICAgICAgICAgICAgICAgICAgIGdvdG8xOTEodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKTsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBpZihpdGVtSWQhPTgwNDkpew0KICAgICAgICAgICAgICAgICAgICBpZihpdGVtSWQgIT0gNzI5OCl7DQogICAgICAgICAgICAgICAgICAgICAgICBnb3RvMTc4KHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgaWYoQ1VzZXJfZ2V0X3N0YXRlKHVzZXIpIT0zKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIENVc2VyX1NlbmRDbWRFcnJvclBhY2tldCh1c2VyLDMyLDE5LGJ1ZmYpOw0KICAgICAgICAgICAgICAgICAgICAgICAgUGFja2V0R3VhcmRfZnJlZV9QYWNrZXRHdWFyZChidWZmKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB2MTg0ID0gMTM7DQogICAgICAgICAgICAgICAgICAgIGd1aWxkRXhwQm9vayA9IDI7DQogICAgICAgICAgICAgICAgICAgIGdvdG8xOTEodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKTsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGdvdG85Nih1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQogICAgICAgIGlmKGl0ZW1JZD09MjY3MDAwOCl7DQogICAgICAgICAgICB2YXIgcmVwZWF0RXZlbnQgPSBDRXZlbnRNYW5hZ2VyX0dldFJlcGVhdEV2ZW50KHB0cihwdHIoMHgwOTQxRjczMCkucmVhZFUzMigpKSwxNSk7DQogICAgICAgICAgICB2YXIgdGVtcE1ldGhvZCA9ICBuZXcgTmF0aXZlRnVuY3Rpb24ocmVwZWF0RXZlbnQuYWRkKDUyKjQpLCAnaW50JywgWydwb2ludGVyJywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCiAgICAgICAgICAgIGlmKHJlcGVhdEV2ZW50IT0wICYmIHRlbXBNZXRob2QocmVwZWF0RXZlbnQsMCkhPTApew0KICAgICAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9jbGVhcihidWZmKTsNCiAgICAgICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2hlYWRlcihidWZmLDEsMzIpOw0KICAgICAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfYnl0ZShidWZmLDApOw0KICAgICAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfYnl0ZShidWZmLDE5KTsNCiAgICAgICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfZmluYWxpemUoYnVmZiwxKTsNCiAgICAgICAgICAgICAgICBDVXNlcl9TZW5kKHVzZXIsYnVmZik7DQogICAgICAgICAgICAgICAgUGFja2V0R3VhcmRfZnJlZV9QYWNrZXRHdWFyZChidWZmKTsNCiAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZihDVXNlcl9nZXRDdXJDaGFyYWNUb3RhbEZhdGlndWUodXNlcikhPTApew0KICAgICAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9jbGVhcihidWZmKTsNCiAgICAgICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2hlYWRlcihidWZmLDEsMzIpOw0KICAgICAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfYnl0ZShidWZmLDApOw0KICAgICAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfYnl0ZShidWZmLDY3KTsNCiAgICAgICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfZmluYWxpemUoYnVmZiwxKTsNCiAgICAgICAgICAgICAgICBDVXNlcl9TZW5kKHVzZXIsYnVmZik7DQogICAgICAgICAgICAgICAgUGFja2V0R3VhcmRfZnJlZV9QYWNrZXRHdWFyZChidWZmKTsNCiAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICB9DQogICAgICAgICAgICB2MTg0ID0gMTQ7DQogICAgICAgICAgICBndWlsZEV4cEJvb2sgPSAwOw0KICAgICAgICAgICAgZ290bzE5MSh1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQogICAgICAgIGlmKGl0ZW1JZD4yNjcwMDA4KXsNCiAgICAgICAgICAgIGlmKGl0ZW1JZCE9MTAwMDA5MTUpew0KICAgICAgICAgICAgICAgIGlmKGl0ZW1JZDw9MTAwMDA5MTUpew0KICAgICAgICAgICAgICAgICAgICBpZihpdGVtSWQ9PTI2NzUwMjEpew0KICAgICAgICAgICAgICAgICAgICAgICAgdjE4NCA9IDIxOw0KICAgICAgICAgICAgICAgICAgICAgICAgZ3VpbGRFeHBCb29rID0gMTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGdvdG8xOTEodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBpZihpdGVtSWQhPTI2NzUzODgpew0KICAgICAgICAgICAgICAgICAgICAgICAgZ290bzE3OCh1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpOw0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGdvdG85Nih1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpOw0KICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGlmICggaXRlbUlkID09IDY5MDAwMDIyMCApew0KICAgICAgICAgICAgICAgICAgICBnb3RvMTcxKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgaWYgKCBpdGVtSWQgPT0gNjkwMDAwMzAxICkNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIHYxODQgPSAyNTsNCiAgICAgICAgICAgICAgICAgICAgZ3VpbGRFeHBCb29rID0gMTsNCiAgICAgICAgICAgICAgICAgICAgZ290bzE5MSh1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpOw0KICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGlmICggaXRlbUlkICE9IDY5MDAwMDA5NyApew0KICAgICAgICAgICAgICAgICAgICBnb3RvMTc4KHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICB2YXIgdGVtcFYxODRUYWcgPSBNZW1vcnkuYWxsb2MoMSk7DQogICAgICAgICAgICB0ZW1wVjE4NFRhZy53cml0ZVU4KHYxODQpOw0KICAgICAgICAgICAgdmFyIHRlbXBHdWlsZEV4cEJvb2tUYWcgPSBNZW1vcnkuYWxsb2MoNCk7DQogICAgICAgICAgICB0ZW1wR3VpbGRFeHBCb29rVGFnLndyaXRlVTMyKGd1aWxkRXhwQm9vayk7DQogICAgICAgICAgICBpZihDVXNlcl9DYWxMZXZlbFVwSXRlbVN0YXRlKHVzZXIsdGVtcFYxODRUYWcsdGVtcEd1aWxkRXhwQm9va1RhZywxLDY5KSE9MSl7DQogICAgICAgICAgICAgICAgdjE4NCA9IHRlbXBWMTg0VGFnLnJlYWRVOCgpOw0KICAgICAgICAgICAgICAgIGd1aWxkRXhwQm9vayA9IHRlbXBHdWlsZEV4cEJvb2tUYWcucmVhZFUzMigpOw0KICAgICAgICAgICAgICAgIENVc2VyX1NlbmRDbWRFcnJvclBhY2tldCh1c2VyLDMyLDE5LGJ1ZmYpOw0KICAgICAgICAgICAgICAgIFBhY2tldEd1YXJkX2ZyZWVfUGFja2V0R3VhcmQoYnVmZik7DQogICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdjE4NCA9IHRlbXBWMTg0VGFnLnJlYWRVOCgpOw0KICAgICAgICAgICAgZ3VpbGRFeHBCb29rID0gdGVtcEd1aWxkRXhwQm9va1RhZy5yZWFkVTMyKCk7DQogICAgICAgICAgICBnb3RvMTkxKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCiAgICAgICAgaWYoaXRlbUlkICE9IDI2NjAxNzEpew0KICAgICAgICAgICAgaWYoaXRlbUlkPD0yNjYwMTcxKXsNCiAgICAgICAgICAgICAgICBpZihpdGVtSWQtODI3MD4xKXsNCiAgICAgICAgICAgICAgICAgICAgZ290bzE3OCh1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpOw0KICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGdvdG85Nih1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpOw0KICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmKGl0ZW1JZCE9MjY2MDIzMil7DQogICAgICAgICAgICAgICAgaWYoaXRlbUlkIT0yNjYwMzk2KXsNCiAgICAgICAgICAgICAgICAgICAgaWYoaXRlbUlkIT0yNjYwMTcyKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIGdvdG8xNzgodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBpZihHYW1lV29ybGRfSXNQdlBTa2lsVHJlZUNoYW5uZWwoR19HYW1lV29ybGQpIT0xKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIENVc2VyX1NlbmRDbWRFcnJvclBhY2tldCh1c2VyLDMyLDIzLGJ1ZmYpOw0KICAgICAgICAgICAgICAgICAgICAgICAgUGFja2V0R3VhcmRfZnJlZV9QYWNrZXRHdWFyZChidWZmKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB2YXIgY2hlY2sgPSBDU2VjdV9Qcm90ZWN0aW9uRmllbGRfQ2hlY2socHRyKHB0cigweDA5NDFGN0NDKS5yZWFkVTMyKCkpLHVzZXIsNDQpOw0KICAgICAgICAgICAgICAgICAgICBpZihjaGVjayE9MCl7DQogICAgICAgICAgICAgICAgICAgICAgICBDVXNlcl9TZW5kQ21kRXJyb3JQYWNrZXQodXNlciwzMixjaGVjayxidWZmKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIFBhY2tldEd1YXJkX2ZyZWVfUGFja2V0R3VhcmQoYnVmZik7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgaWYoQ1VzZXJfaXNBZmZlY3RlZFByZW1pdW0odXNlci50b0ludDMyKCksMzMpPT0xKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIGd1aWxkRXhwQm9vayA9IDA7DQogICAgICAgICAgICAgICAgICAgICAgICB2MTg0ID0gMjM7DQogICAgICAgICAgICAgICAgICAgICAgICBnb3RvMTkxKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgQ1VzZXJfU2VuZENtZEVycm9yUGFja2V0KHVzZXIsMzIsMjE2LGJ1ZmYpOw0KICAgICAgICAgICAgICAgICAgICBQYWNrZXRHdWFyZF9mcmVlX1BhY2tldEd1YXJkKGJ1ZmYpOw0KICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGdvdG8xMjUodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKTsNCiAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgaWYoR2FtZVdvcmxkX0lzUHZQU2tpbFRyZWVDaGFubmVsKEdfR2FtZVdvcmxkKCkpIT0xKXsNCiAgICAgICAgICAgIENVc2VyX1NlbmRDbWRFcnJvclBhY2tldCh1c2VyLDMyLDIzLGJ1ZmYpOw0KICAgICAgICAgICAgUGFja2V0R3VhcmRfZnJlZV9QYWNrZXRHdWFyZChidWZmKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfQ0KICAgICAgICB2YXIgY2hlY2sgPSBDU2VjdV9Qcm90ZWN0aW9uRmllbGRfQ2hlY2socHRyKHB0cigweDA5NDFGN0NDKS5yZWFkVTMyKCkpLHVzZXIsNDQpOw0KICAgICAgICBpZihjaGVjayE9MCl7DQogICAgICAgICAgICBDVXNlcl9TZW5kQ21kRXJyb3JQYWNrZXQodXNlciwzMixjaGVjayxidWZmKTsNCiAgICAgICAgICAgIFBhY2tldEd1YXJkX2ZyZWVfUGFja2V0R3VhcmQoYnVmZik7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCiAgICAgICAgaWYoV29uZ1dvcmtfQ1NraWxsQ2hhbmdlcl9DaGVja0NvbmRpdGlvbih1c2VyKSE9MSl7DQogICAgICAgICAgICBDVXNlcl9TZW5kQ21kRXJyb3JQYWNrZXQodXNlciwzMiwxLGJ1ZmYpOw0KICAgICAgICAgICAgUGFja2V0R3VhcmRfZnJlZV9QYWNrZXRHdWFyZChidWZmKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfQ0KICAgICAgICBndWlsZEV4cEJvb2sgPSAwOw0KICAgICAgICB2MTg0ID0gMjI7DQogICAgICAgIGlmKGl0ZW1JZCA9PSAyNjYwMjMyKXsNCiAgICAgICAgICAgIGd1aWxkRXhwQm9vayA9IDE7DQogICAgICAgIH0NCiAgICAgICAgLy8g5qC55o2u57G75Z6L5aSE55CG5pWw5o2uIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiAgICAgICAgZ290bzE5MSh1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpOw0KICAgICAgICByZXR1cm47DQogICAgfSwgJ3ZvaWQnLCBbJ3BvaW50ZXInLCAnaW50J10pKTsNCn0NCg0KZnVuY3Rpb24gZ290bzE3MSh1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpew0KICAgIGlmKGl0ZW1JZCA9PSA2OTAwMDAyMjAgJiYgQ1VzZXJfSXNHdWlsZE1hc3Rlcih1c2VyKSE9MSl7DQogICAgICAgIENVc2VyX1NlbmRDbWRFcnJvclBhY2tldCh1c2VyLDMyLDIxOSxidWZmKTsNCiAgICAgICAgUGFja2V0R3VhcmRfZnJlZV9QYWNrZXRHdWFyZChidWZmKTsNCiAgICAgICAgcmV0dXJuOw0KICAgIH0NCiAgICB2YXIgZ3VpbGRWYWwgPSB1c2VyLmFkZCg1Nzc1OTUpLnJlYWRVMzIoKSArMTsNCiAgICB2YXIgZ3VpbGRMZXZlbFVwUGFyYW0gPSBHdWlsZFBhcmFtZXRlclNjcmlwdF9nZXRHdWlsZExldmVsVXBQYXJhbShHX0NEYXRhTWFuYWdlcigpLmFkZCg0MjI1MiksZ3VpbGRWYWwpOw0KICAgIHZhciBndWlsZERCSW5mbyA9IENVc2VyX0dldEd1aWxkREJJbmZvKHVzZXIpOw0KICAgIGlmKGd1aWxkTGV2ZWxVcFBhcmFtIT0wIHx8IGd1aWxkREJJbmZvLmFkZCg0MSkucmVhZFUzMigpID49Z3VpbGRMZXZlbFVwUGFyYW0uYWRkKDQpLnJlYWRVMzIoKSl7DQogICAgICAgIENVc2VyX1NlbmRDbWRFcnJvclBhY2tldCh1c2VyLDMyLDIxMCxidWZmKTsNCiAgICAgICAgUGFja2V0R3VhcmRfZnJlZV9QYWNrZXRHdWFyZChidWZmKTsNCiAgICAgICAgcmV0dXJuOw0KICAgIH0NCiAgICB2MTg0ID0gMTY7DQogICAgZ3VpbGRFeHBCb29rID0gR3VpbGRQYXJhbWV0ZXJTY3JpcHRfZ2V0R3VpbGRFeHBCb29rKEdfQ0RhdGFNYW5hZ2VyKCkuYWRkKDQyMjUyKSxpdGVtSWQpOw0KICAgIGdvdG8xOTEodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKTsNCn0NCg0KZnVuY3Rpb24gZ290bzk2KHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCl7DQogICAgdmFyIHRlbXBWMTg0VGFnID0gTWVtb3J5LmFsbG9jKDEpOw0KICAgIHRlbXBWMTg0VGFnLndyaXRlVTgodjE4NCk7DQogICAgdmFyIHRlbXBHdWlsZEV4cEJvb2tUYWcgPSBNZW1vcnkuYWxsb2MoNCk7DQogICAgdGVtcEd1aWxkRXhwQm9va1RhZy53cml0ZVUzMihndWlsZEV4cEJvb2spOw0KICAgIGlmKENVc2VyX0NhbExldmVsVXBJdGVtQ2hlY2sodXNlcixpdGVtX2lkKSE9MCAmJiBDVXNlcl9DYWxMZXZlbFVwSXRlbVN0YXRlKHVzZXIsdGVtcFYxODRUYWcsdGVtcEd1aWxkRXhwQm9va1RhZywxOSw1OSkhPTEpew0KICAgICAgICB2MTg0ID0gdGVtcFYxODRUYWcucmVhZFU4KCk7DQogICAgICAgIGd1aWxkRXhwQm9vayA9IHRlbXBHdWlsZEV4cEJvb2tUYWcucmVhZFUzMigpOw0KICAgICAgICBDVXNlcl9TZW5kQ21kRXJyb3JQYWNrZXQodXNlciwzMiwxOSxidWZmKTsNCiAgICAgICAgUGFja2V0R3VhcmRfZnJlZV9QYWNrZXRHdWFyZChidWZmKTsNCiAgICAgICAgcmV0dXJuOw0KICAgIH0NCiAgICB2MTg0ID0gdGVtcFYxODRUYWcucmVhZFU4KCk7DQogICAgZ3VpbGRFeHBCb29rID0gdGVtcEd1aWxkRXhwQm9va1RhZy5yZWFkVTMyKCk7DQogICAgZ290bzE5MSh1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpOw0KfQ0KDQpmdW5jdGlvbiBnb3RvMTI1KHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCl7DQogICAgdmFyIGNoZWNrID0gQ1NlY3VfUHJvdGVjdGlvbkZpZWxkX0NoZWNrKHB0cihwdHIoMHgwOTQxRjdDQykucmVhZFUzMigpKSx1c2VyLDQ0KTsNCiAgICBpZihjaGVjayE9MCl7DQogICAgICAgIENVc2VyX1NlbmRDbWRFcnJvclBhY2tldCh1c2VyLDMyLGNoZWNrLGJ1ZmYpOw0KICAgICAgICBQYWNrZXRHdWFyZF9mcmVlX1BhY2tldEd1YXJkKGJ1ZmYpOw0KICAgICAgICByZXR1cm47DQogICAgfQ0KICAgIGlmKEdhbWVXb3JsZF9Jc1B2UFNraWxUcmVlQ2hhbm5lbChHX0dhbWVXb3JsZCgpKSE9MCl7DQogICAgICAgIENVc2VyX1NlbmRDbWRFcnJvclBhY2tldCh1c2VyLDMyLDIzLGJ1ZmYpOw0KICAgICAgICBQYWNrZXRHdWFyZF9mcmVlX1BhY2tldEd1YXJkKGJ1ZmYpOw0KICAgICAgICByZXR1cm47DQogICAgfQ0KICAgIGlmKENVc2VyX0NoZWNrSXRlbUxvY2sodXNlciwxLHNsb2YpIT0wKXsNCiAgICAgICAgQ1VzZXJfU2VuZENtZEVycm9yUGFja2V0KHVzZXIsMzIsMjEzLGJ1ZmYpOw0KICAgICAgICBQYWNrZXRHdWFyZF9mcmVlX1BhY2tldEd1YXJkKGJ1ZmYpOw0KICAgICAgICByZXR1cm47DQogICAgfQ0KICAgIGlmKFdvbmdXb3JrX0NTa2lsbENoYW5nZXJfQ2hlY2tDb25kaXRpb24odXNlcikhPTEpew0KICAgICAgICB2YXIgbGV2ZWxFeHAgPSBDRGF0YU1hbmFnZXJfZ2V0X2xldmVsX2V4cChHX0NEYXRhTWFuYWdlcigpLENVc2VyQ2hhcmFjSW5mb19nZXRfY2hhcmFjX2xldmVsKHVzZXIpKTsNCiAgICAgICAgQ1VzZXJDaGFyYWNJbmZvX3NldEN1ckNoYXJhY0V4cCh1c2VyLGxldmVsRXhwKTsNCiAgICB9DQogICAgaWYoaXRlbUlkIT0xMjA2ICYmIGl0ZW1JZCE9MTI1Myl7DQogICAgICAgIGlmKGl0ZW1JZD09OTE2KXsNCiAgICAgICAgICAgIGd1aWxkRXhwQm9vayA9IDE7DQogICAgICAgICAgICB2MTg0ID0gMTA7DQogICAgICAgIH1lbHNlIGlmKGl0ZW1JZCA9PSA5NjApew0KICAgICAgICAgICAgZ3VpbGRFeHBCb29rID0gIDE7DQogICAgICAgICAgICB2MTg0ID0gMjQ7DQogICAgICAgICAgICB2YXIgZXhwYW5kRGF0YSA9IENVc2VyX0dldENoYXJhY0V4cGFuZERhdGEodXNlciwxMSk7DQogICAgICAgICAgICBpZihleHBhbmREYXRhKXsNCiAgICAgICAgICAgICAgICBDUXVlc3RTaG9wX2NsZWFyUVAoZXhwYW5kRGF0YSx1c2VyKTsNCiAgICAgICAgICAgICAgICBDUXVlc3RTaG9wX3NlbmRDaGFyYWNRcChleHBhbmREYXRhLHVzZXIsMCk7DQogICAgICAgICAgICB9DQogICAgICAgIH1lbHNlew0KICAgICAgICAgICAgZ3VpbGRFeHBCb29rICA9IGl0ZW1JZD09OTYzIHx8IGl0ZW1JZD09MjY2MDM5NjsNCiAgICAgICAgICAgIHYxODQgPSAxMDsNCiAgICAgICAgfQ0KICAgICAgICBnb3RvMTkxKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgIHJldHVybjsNCiAgICB9DQogICAgaWYoQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfbGV2ZWwodXNlcikgPD00OSl7DQogICAgICAgIFBhY2tldEd1YXJkX2ZyZWVfUGFja2V0R3VhcmQoYnVmZik7DQogICAgICAgIHJldHVybjsNCiAgICB9DQogICAgaWYoQ1VzZXJfaXNBZmZlY3RlZFByZW1pdW0odXNlci50b0ludDMyKCksMzMpPT0wKXsNCiAgICAgICAgZ3VpbGRFeHBCb29rID0gMTsNCiAgICAgICAgdjE4NCA9IDE4Ow0KICAgICAgICBnb3RvMTkxKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgIHJldHVybjsNCiAgICB9DQogICAgQ1VzZXJfU2VuZENtZEVycm9yUGFja2V0KHVzZXIsMzIsMjE2LGJ1ZmYpOw0KICAgIFBhY2tldEd1YXJkX2ZyZWVfUGFja2V0R3VhcmQoYnVmZik7DQogICAgcmV0dXJuOw0KfQ0KDQpmdW5jdGlvbiBnb3RvMTc4KHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCl7DQogICAgdmFyIGl0ZW1JZFZhbCA9IEdfQ0RhdGFNYW5hZ2VyKCkuYWRkKDIwNjg0KS5yZWFkVTMyKCk7DQogICAgY29uc29sZS5sb2coJ2l0ZW1JZFZhbCA6ICcraXRlbUlkVmFsKTsNCiAgICBpZihpdGVtSWQgPT0gaXRlbUlkVmFsKXsNCiAgICAgICAgdmFyIGl0ZW0gPSBDRGF0YU1hbmFnZXJfZmluZF9pdGVtKEdfQ0RhdGFNYW5hZ2VyKCksaXRlbUlkVmFsKTsNCiAgICAgICAgaWYoaXRlbUlkVmFsPT0wKXsNCiAgICAgICAgICAgIENVc2VyX1NlbmRDbWRFcnJvclBhY2tldCh1c2VyLDMyLDE3LGJ1ZmYpOw0KICAgICAgICAgICAgUGFja2V0R3VhcmRfZnJlZV9QYWNrZXRHdWFyZChidWZmKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfQ0KICAgICAgICBpZihDSXRlbV9pc19zdGFja2FibGUoaXRlbSkhPTEpew0KICAgICAgICAgICAgQ1VzZXJfU2VuZENtZEVycm9yUGFja2V0KHVzZXIsMzIsMTcsYnVmZik7DQogICAgICAgICAgICBQYWNrZXRHdWFyZF9mcmVlX1BhY2tldEd1YXJkKGJ1ZmYpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQogICAgICAgIHZhciBjaGFyYWNMZXZlbCA9IENVc2VyQ2hhcmFjSW5mb19nZXRfY2hhcmFjX2xldmVsKHVzZXIpOw0KICAgICAgICB2YXIgdXNhYmxlTGV2ZWwgPUNJdGVtX0dldFVzYWJsZUxldmVsKGl0ZW0pOw0KICAgICAgICBpZihjaGFyYWNMZXZlbCA8IHVzYWJsZUxldmVsKXsNCiAgICAgICAgICAgIENVc2VyX1NlbmRDbWRFcnJvclBhY2tldCh1c2VyLDMyLDE3LGJ1ZmYpOw0KICAgICAgICAgICAgUGFja2V0R3VhcmRfZnJlZV9QYWNrZXRHdWFyZChidWZmKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfQ0KICAgICAgICBpZihjaGFyYWNMZXZlbCA+IG1heExldmVsKzEpew0KICAgICAgICAgICAgQ1VzZXJfU2VuZENtZEVycm9yUGFja2V0KHVzZXIsMzIsMTcsYnVmZik7DQogICAgICAgICAgICBQYWNrZXRHdWFyZF9mcmVlX1BhY2tldEd1YXJkKGJ1ZmYpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQogICAgICAgIHYxODQgPTE7DQogICAgICAgIHZhciBhbGxvYyA9IE1lbW9yeS5hbGxvYyg0KTsNCiAgICAgICAgaWYoQ0l0ZW1fR2V0SW5jcmVhc2VTdGF0dXNJbnREYXRhKGl0ZW0sMCxhbGxvYykhPTEpew0KICAgICAgICAgICAgQ1VzZXJfU2VuZENtZEVycm9yUGFja2V0KHVzZXIsMzIsMTcsYnVmZik7DQogICAgICAgICAgICBQYWNrZXRHdWFyZF9mcmVlX1BhY2tldEd1YXJkKGJ1ZmYpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQogICAgICAgIGd1aWxkRXhwQm9vayA9IGFsbG9jLnJlYWRVMzIoKTsNCiAgICB9ZWxzZXsNCiAgICAgICAgdmFyIGl0ZW0gPSBDRGF0YU1hbmFnZXJfZmluZF9pdGVtKEdfQ0RhdGFNYW5hZ2VyKCksaXRlbUlkKTsNCiAgICAgICAgaWYoaXRlbSE9MCl7DQogICAgICAgICAgICBpZihDSXRlbV9HZXRJbmNyZWFzZVN0YXR1c1R5cGUoaXRlbSkgPT0xKXsNCiAgICAgICAgICAgICAgICB2YXIgYWxsb2MgPSBNZW1vcnkuYWxsb2MoNCk7DQogICAgICAgICAgICAgICAgQ0l0ZW1fR2V0SW5jcmVhc2VTdGF0dXNJbnREYXRhKGl0ZW0sMCxhbGxvYyk7DQogICAgICAgICAgICAgICAgZ3VpbGRFeHBCb29rID0gYWxsb2MucmVhZFUzMigpOw0KICAgICAgICAgICAgICAgIHYxODQgPSAxOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfQ0KICAgIGdvdG8xOTEodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKTsNCiAgICByZXR1cm47DQp9DQoNCmZ1bmN0aW9uIGdvdG8xOTEodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKXsNCiAgICBpZih2MTg0PT0tMSl7DQogICAgICAgIENVc2VyX1NlbmRDbWRFcnJvclBhY2tldCh1c2VyLDMyLDE3LGJ1ZmYpOw0KICAgICAgICBQYWNrZXRHdWFyZF9mcmVlX1BhY2tldEd1YXJkKGJ1ZmYpOw0KICAgICAgICByZXR1cm47DQogICAgfQ0KICAgIGlmKHYxODQ9PTE1KXsNCiAgICAgICAgaWYoQ1VzZXJfZ2V0X3N0YXRlKHVzZXIpPT0zKXsNCiAgICAgICAgICAgIHZhciBjdXJDaGFyYWNGYXRpZ3VlID0gQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY0ZhdGlndWUodXNlcik7DQogICAgICAgICAgICBpZihjdXJDaGFyYWNGYXRpZ3VlIDwgZ3VpbGRFeHBCb29rKXsNCiAgICAgICAgICAgICAgICBDVXNlcl9TZW5kQ21kRXJyb3JQYWNrZXQodXNlciwzMiw5NSxidWZmKTsNCiAgICAgICAgICAgICAgICBQYWNrZXRHdWFyZF9mcmVlX1BhY2tldEd1YXJkKGJ1ZmYpOw0KICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfWVsc2V7DQogICAgICAgICAgICBDVXNlcl9TZW5kQ21kRXJyb3JQYWNrZXQodXNlciwzMiwxOSxidWZmKTsNCiAgICAgICAgICAgIFBhY2tldEd1YXJkX2ZyZWVfUGFja2V0R3VhcmQoYnVmZik7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCiAgICB9DQogICAgaWYodjE4NCE9MCB8fCB2MTg0PT0xNyB8fCB2MTg0PT0xKXsNCiAgICAgICAgaWYoR2FtZVdvcmxkX0lzUHZQU2tpbFRyZWVDaGFubmVsKEdfR2FtZVdvcmxkKCkpIT0wKXsNCiAgICAgICAgICAgIENVc2VyX1NlbmRDbWRFcnJvclBhY2tldCh1c2VyLDMyLDE5LGJ1ZmYpOw0KICAgICAgICAgICAgUGFja2V0R3VhcmRfZnJlZV9QYWNrZXRHdWFyZChidWZmKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfQ0KICAgIH0NCiAgICB2YXIgaXRlbSA9IENEYXRhTWFuYWdlcl9maW5kX2l0ZW0oR19DRGF0YU1hbmFnZXIoKSxpdGVtSWQpOw0KICAgIGlmKGl0ZW09PTApew0KICAgICAgICBQYWNrZXRHdWFyZF9mcmVlX1BhY2tldEd1YXJkKGJ1ZmYpOw0KICAgICAgICByZXR1cm47DQogICAgfQ0KICAgIHZhciB1c2FibGVQdnBSYW5rID0gQ0l0ZW1fR2V0VXNhYmxlUHZQUmFuayhpdGVtKTsNCiAgICBpZih1c2FibGVQdnBSYW5rPkNVc2VyQ2hhcmFjSW5mb19nZXRfcHZwX2dyYWRlKHVzZXIpKXsNCiAgICAgICAgQ1VzZXJfU2VuZENtZEVycm9yUGFja2V0KHVzZXIsMzIsMSxidWZmKTsNCiAgICAgICAgUGFja2V0R3VhcmRfZnJlZV9QYWNrZXRHdWFyZChidWZmKTsNCiAgICAgICAgcmV0dXJuOw0KICAgIH0NCiAgICB2YXIgdGVtcE1ldGhvZCA9ICBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKGl0ZW0ucmVhZFUzMigpKS5hZGQoMTIqNCkucmVhZFBvaW50ZXIoKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQogICAgaWYodGVtcE1ldGhvZChpdGVtKSAhPTIxKXsNCiAgICAgICAgdmFyIGN1ckNoYXJhY0ludmVuVyA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNJbnZlblcodXNlcik7DQogICAgICAgIGlmKCBDSW52ZW50b3J5X2RlbGV0ZV9pdGVtKGN1ckNoYXJhY0ludmVuVywxLHNsb2YsMSwxMCwxKSAhPTEgKXsNCiAgICAgICAgICAgIENVc2VyX1NlbmRDbWRFcnJvclBhY2tldCh1c2VyLDMyLDE3LGJ1ZmYpOw0KICAgICAgICAgICAgUGFja2V0R3VhcmRfZnJlZV9QYWNrZXRHdWFyZChidWZmKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfQ0KICAgIH0NCiAgICB2YXIgdjE3MiA9IE1lbW9yeS5hbGxvYygxNTEpOw0KICAgIGNvbnNvbGUubG9nKCJpdGVtIGFsbCBoYW5kbGUgc3VjY2VzczogIit2MTg0KyIgLCIrZ3VpbGRFeHBCb29rKTsNCiAgICBzd2l0Y2ggKHYxODQpew0KICAgICAgICBjYXNlIDA6DQogICAgICAgICAgICBDVXNlcl9nYWluX3NwKHVzZXIsZ3VpbGRFeHBCb29rKTsNCiAgICAgICAgICAgIENVc2VyX2hpc3RvcnlfbG9nX3NwKHVzZXIsLTEsZ3VpbGRFeHBCb29rLDEpOw0KICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX2NsZWFyKGJ1ZmYpOw0KICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9oZWFkZXIoYnVmZiwgMSwgMzIpOw0KICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9ieXRlKGJ1ZmYsIDEpOw0KICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9zaG9ydChidWZmLCBzbG9mKTsNCiAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfYnl0ZShidWZmLCB2MTg0KTsNCiAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfaW50KGJ1ZmYsIGd1aWxkRXhwQm9vayk7DQogICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X3Nob3J0KGJ1ZmYsIDApOw0KICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9zaG9ydChidWZmLCAwKTsNCiAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9maW5hbGl6ZShidWZmLCAxKTsNCiAgICAgICAgICAgIENVc2VyX1NlbmQodXNlciwgYnVmZik7DQogICAgICAgICAgICBQYWNrZXRHdWFyZF9mcmVlX1BhY2tldEd1YXJkKGJ1ZmYpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICBjYXNlIDE6DQogICAgICAgICAgICBpZihDVXNlckNoYXJhY0luZm9fZ2V0X2NoYXJhY19sZXZlbCh1c2VyKT5tYXhMZXZlbC0xKXsNCiAgICAgICAgICAgICAgICBndWlsZEV4cEJvb2sgPSAwOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdmFyIHYxODAgPSBNZW1vcnkuYWxsb2MoNCk7DQogICAgICAgICAgICB2MTgwLndyaXRlVTMyKDApOw0KICAgICAgICAgICAgdmFyIHYxNzkgPSBNZW1vcnkuYWxsb2MoNCk7DQogICAgICAgICAgICB2MTc5LndyaXRlVTMyKDApOw0KICAgICAgICAgICAgdmFyIHYxODEgPSBNZW1vcnkuYWxsb2MoNCk7DQogICAgICAgICAgICB2MTgxLndyaXRlVTMyKDApOw0KICAgICAgICAgICAgdmFyIHNwVmFsID0gTWVtb3J5LmFsbG9jKDQpOw0KICAgICAgICAgICAgc3BWYWwud3JpdGVVMzIoMCk7DQogICAgICAgICAgICBpZihpdGVtSWQgPT0gR19DRGF0YU1hbmFnZXIoKS5hZGQoMjA2ODQpLnJlYWRVMzIoKSl7DQogICAgICAgICAgICAgICAgQ1VzZXJfcmV3YXJkRXhwKHVzZXIsZ3VpbGRFeHBCb29rLHNwVmFsLnRvSW50MzIoKSx2MTgxLnRvSW50MzIoKSx2MTgwLHYxNzksMywxKTsNCiAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgIENVc2VyX3Jld2FyZEV4cCh1c2VyLGd1aWxkRXhwQm9vayxzcFZhbC50b0ludDMyKCksdjE4MS50b0ludDMyKCksdjE4MCx2MTc5LDAsMSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBjb25zb2xlLmxvZygnMTExMTExMTExMTExMScpDQogICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfY2xlYXIoYnVmZik7DQogICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2hlYWRlcihidWZmLCAxLCAzMik7DQogICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2J5dGUoYnVmZiwgMSk7DQogICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X3Nob3J0KGJ1ZmYsIHNsb2YpOw0KICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9ieXRlKGJ1ZmYsIHYxODQpOw0KICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9pbnQoYnVmZiwgZ3VpbGRFeHBCb29rKTsNCiAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfc2hvcnQoYnVmZiwgdjE3OS5yZWFkVTMyKCktdjE4MC5yZWFkVTMyKCkpOw0KICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9zaG9ydChidWZmLCB2MTgxLnJlYWRVMzIoKSk7DQogICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfZmluYWxpemUoYnVmZiwgMSk7DQogICAgICAgICAgICBDVXNlcl9TZW5kKHVzZXIsIGJ1ZmYpOw0KICAgICAgICAgICAgUGFja2V0R3VhcmRfZnJlZV9QYWNrZXRHdWFyZChidWZmKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgY2FzZSAyOg0KICAgICAgICAgICAgdmFyIHVzZXJBZGRJbmZvID0gQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY0FkZEluZm9SZWZXKHVzZXIpOw0KICAgICAgICAgICAgcHRyKHVzZXJBZGRJbmZvKS53cml0ZVUzMihwdHIodXNlckFkZEluZm8pLnJlYWRVMzIoKStndWlsZEV4cEJvb2spOw0KICAgICAgICAgICAgZ290bzMyKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgY2FzZSAzOg0KICAgICAgICAgICAgdmFyIHVzZXJBZGRJbmZvID0gQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY0FkZEluZm9SZWZXKHVzZXIpOw0KICAgICAgICAgICAgdXNlckFkZEluZm8gPSB1c2VyQWRkSW5mby5hZGQoNCk7DQogICAgICAgICAgICBwdHIodXNlckFkZEluZm8pLndyaXRlVTMyKHB0cih1c2VyQWRkSW5mbykucmVhZFUzMigpK2d1aWxkRXhwQm9vayk7DQogICAgICAgICAgICBnb3RvMzIodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICBjYXNlIDQ6DQogICAgICAgICAgICB2YXIgdXNlckFkZEluZm8gPSBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjQWRkSW5mb1JlZlcodXNlcik7DQogICAgICAgICAgICB1c2VyQWRkSW5mbyA9IHVzZXJBZGRJbmZvLmFkZCg4KTsNCiAgICAgICAgICAgIHB0cih1c2VyQWRkSW5mbykud3JpdGVVMTYocHRyKHVzZXJBZGRJbmZvKS5yZWFkVTE2KCkrZ3VpbGRFeHBCb29rKTsNCiAgICAgICAgICAgIGdvdG8zMih1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZik7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIGNhc2UgNToNCiAgICAgICAgICAgIHZhciB1c2VyQWRkSW5mbyA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNBZGRJbmZvUmVmVyh1c2VyKTsNCiAgICAgICAgICAgIHVzZXJBZGRJbmZvID0gdXNlckFkZEluZm8uYWRkKDEwKTsNCiAgICAgICAgICAgIHB0cih1c2VyQWRkSW5mbykud3JpdGVVMTYocHRyKHVzZXJBZGRJbmZvKS5yZWFkVTE2KCkrZ3VpbGRFeHBCb29rKTsNCiAgICAgICAgICAgIGdvdG8zMih1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZik7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIGNhc2UgNjoNCiAgICAgICAgICAgIHZhciB1c2VyQWRkSW5mbyA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNBZGRJbmZvUmVmVyh1c2VyKTsNCiAgICAgICAgICAgIHVzZXJBZGRJbmZvID0gdXNlckFkZEluZm8uYWRkKDEyKTsNCiAgICAgICAgICAgIHB0cih1c2VyQWRkSW5mbykud3JpdGVVMTYocHRyKHVzZXJBZGRJbmZvKS5yZWFkVTE2KCkrZ3VpbGRFeHBCb29rKTsNCiAgICAgICAgICAgIGdvdG8zMih1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZik7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIGNhc2UgNzoNCiAgICAgICAgICAgIHZhciB1c2VyQWRkSW5mbyA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNBZGRJbmZvUmVmVyh1c2VyKTsNCiAgICAgICAgICAgIHVzZXJBZGRJbmZvID0gdXNlckFkZEluZm8uYWRkKDE0KTsNCiAgICAgICAgICAgIHB0cih1c2VyQWRkSW5mbykud3JpdGVVMTYocHRyKHVzZXJBZGRJbmZvKS5yZWFkVTE2KCkrZ3VpbGRFeHBCb29rKTsNCiAgICAgICAgICAgIGdvdG8zMih1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZik7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIGNhc2UgODoNCiAgICAgICAgICAgIHZhciB1c2VyQWRkSW5mbyA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNBZGRJbmZvUmVmVyh1c2VyKTsNCiAgICAgICAgICAgIHVzZXJBZGRJbmZvID0gdXNlckFkZEluZm8uYWRkKDY2KTsNCiAgICAgICAgICAgIHB0cih1c2VyQWRkSW5mbykud3JpdGVVMzIocHRyKHVzZXJBZGRJbmZvKS5yZWFkVTMyKCkrZ3VpbGRFeHBCb29rKTsNCiAgICAgICAgICAgIGdvdG8zMih1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZik7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIGNhc2UgOToNCiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMzsgaSsrKSB7DQogICAgICAgICAgICAgICAgdmFyIHVzZXJBZGRJbmZvID0gQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY0FkZEluZm9SZWZXKHVzZXIpOw0KICAgICAgICAgICAgICAgIHVzZXJBZGRJbmZvID0gdXNlckFkZEluZm8uYWRkKDIqKGkqOCkpOw0KICAgICAgICAgICAgICAgIHB0cih1c2VyQWRkSW5mbykud3JpdGVVMTYocHRyKHVzZXJBZGRJbmZvKS5yZWFkVTE2KCkrZ3VpbGRFeHBCb29rKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGdvdG8zMih1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZik7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIGNhc2UgMTA6DQogICAgICAgIGNhc2UgMjQ6DQogICAgICAgICAgICBpZihndWlsZEV4cEJvb2sgPT0xKXsNCiAgICAgICAgICAgICAgICB2YXIgY3VyQ2hhcmFjU2tpbGxXID0gQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY1NraWxsVyh1c2VyKTsNCiAgICAgICAgICAgICAgICBTa2lsbFNsb3RfY2xlYXJfYWxsX3NraWxsc19ib3RoKGN1ckNoYXJhY1NraWxsVyk7DQogICAgICAgICAgICAgICAgY3VyQ2hhcmFjU2tpbGxXID0gQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY1NraWxsVyh1c2VyKTsNCiAgICAgICAgICAgICAgICBTa2lsbFNsb3Rfc2V0X3BhcmVudChjdXJDaGFyYWNTa2lsbFcsdXNlcik7DQogICAgICAgICAgICAgICAgdmFyIGNoYXJjSm9iID0gQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfam9iKHVzZXIpOw0KICAgICAgICAgICAgICAgIGN1ckNoYXJhY1NraWxsVyA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNTa2lsbFcodXNlcik7DQogICAgICAgICAgICAgICAgYWRkU2tpbGxPbkNyZWF0ZUNoYXJhY3RlcihjdXJDaGFyYWNTa2lsbFcrNzAsY2hhcmNKb2IpOw0KICAgICAgICAgICAgICAgIGNoYXJjSm9iID0gQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfam9iKHVzZXIpOw0KICAgICAgICAgICAgICAgIGN1ckNoYXJhY1NraWxsVyA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNTa2lsbFcodXNlcik7DQogICAgICAgICAgICAgICAgYWRkU2tpbGxPbkNyZWF0ZUNoYXJhY3RlcihjdXJDaGFyYWNTa2lsbFcrNDc4LGNoYXJjSm9iKTsNCiAgICAgICAgICAgICAgICAvLyDov5nlupTor6XmmK/mioDog73lj6rog70xMuS4quWOn+WboA0KICAgICAgICAgICAgICAgIHZhciBza2lsbExpc3QgPSBNZW1vcnkuYWxsb2MoMTIpOw0KICAgICAgICAgICAgICAgIHN0ZF92ZWN0b3Jfc3RkX3BhaXJfaW50X2ludF92ZWN0b3Ioc2tpbGxMaXN0KTsNCg0KICAgICAgICAgICAgICAgIHZhciBjdXJDaGFyU2Vjb25kR3Jvd1R5cGUgPSBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhclNlY29uZEdyb3dUeXBlKHVzZXIpOw0KICAgICAgICAgICAgICAgIHZhciBjdXJDaGFyRmlyc3RHcm93VHlwZSA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyRmlyc3RHcm93VHlwZSh1c2VyKTsNCiAgICAgICAgICAgICAgICB2YXIgZGF0YU1hbmFnZSA9IEdfQ0RhdGFNYW5hZ2VyKCkuYWRkKDIwKS5yZWFkVTMyKCk7DQogICAgICAgICAgICAgICAgdmFyIGdpdmVTa2lsbCA9IENDaGFyYWN0ZXJfZ2V0X2dpdmVfc2tpbGwoZGF0YU1hbmFnZSsyMDEyKkNVc2VyQ2hhcmFjSW5mb19nZXRfY2hhcmFjX2pvYih1c2VyKSxjdXJDaGFyRmlyc3RHcm93VHlwZSxjdXJDaGFyU2Vjb25kR3Jvd1R5cGUsc2tpbGxMaXN0LnRvSW50MzIoKSwwKTsNCiAgICAgICAgICAgICAgICB2YXIgdjgwOw0KICAgICAgICAgICAgICAgIGlmKGdpdmVTa2lsbCAhPTEpew0KICAgICAgICAgICAgICAgICAgICB2YXIgY2hhcmNOYW1lID0gJyc7DQogICAgICAgICAgICAgICAgICAgIHZhciBjaGFyY05hbWVWYWwgPSBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjTmFtZSh1c2VySW5mbyk7DQogICAgICAgICAgICAgICAgICAgIGlmKCFjaGFyY05hbWVWYWwuaXNOdWxsKCkpDQogICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNoYXJjTmFtZSA9ICBjaGFyY05hbWVWYWwucmVhZFV0ZjhTdHJpbmcoLTEpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIHZhciB2MTg0QWRyciA9IE1lbW9yeS5hbGxvYygxKTsNCiAgICAgICAgICAgICAgICAgICAgdjE4NEFkcnIud3JpdGVVOCh2MTg0KTsNCiAgICAgICAgICAgICAgICAgICAgTG9nTWFuYWdlcl9sb2dGb3JtYXQoTWVtb3J5LmFsbG9jKDEpLE1lbW9yeS5hbGxvY1V0ZjhTdHJpbmcoInVzZXIuY3BwIikudG9JbnQzMigpDQogICAgICAgICAgICAgICAgICAgICAgICAsTWVtb3J5LmFsbG9jVXRmOFN0cmluZygndm9pZCBDVXNlcjo6aW5jcmVhc2Vfc3RhdHVzKHNob3J0IGludCknKSxwdHIoMHg0YWVlKQ0KICAgICAgICAgICAgICAgICAgICAgICAgLE1lbW9yeS5hbGxvY1V0ZjhTdHJpbmcoJ1VzZXIgJXMgLSBDVXNlcjo6c2V0X2dyb3dfdHlwZSAlZCcpLE1lbW9yeS5hbGxvY1V0ZjhTdHJpbmcoY2hhcmNOYW1lKSx2MTg0QWRycik7DQogICAgICAgICAgICAgICAgICAgIHY4MCA9IDA7DQogICAgICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOzsgaSsrKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBpZihzdGRfdmVjdG9yX3N0ZF9wYWlyX2ludF9pbnRfc2l6ZShza2lsbExpc3QpIDw9aSl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2tpbGwgPSBzdGRfdmVjdG9yX3N0ZF9wYWlyX2ludF9pbnRfb3BlcmF0b3Ioc2tpbGxMaXN0LGkpOw0KICAgICAgICAgICAgICAgICAgICAgICAgU2tpbGxTbG90X2dyb3d0eXBlX3NraWxsKENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNTa2lsbFcodXNlciksQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfam9iKHVzZXIpLHNraWxsLnJlYWRVOCgpLHNraWxsLmFkZCgxKS5yZWFkVTgoKSwwKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIFNraWxsU2xvdF9ncm93dHlwZV9za2lsbChDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjU2tpbGxXKHVzZXIpLENVc2VyQ2hhcmFjSW5mb19nZXRfY2hhcmFjX2pvYih1c2VyKSxza2lsbC5yZWFkVTgoKSxza2lsbC5hZGQoMSkucmVhZFU4KCksMSk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgdmFyIGN1ckNoYXJhY0V4cGVydEpvYlR5cGUgPUNVc2VyQ2hhcmFjSW5mb19HZXRDdXJDaGFyYWNFeHBlcnRKb2JUeXBlKHVzZXIpOw0KICAgICAgICAgICAgICAgICAgICB2YXIgZXhwZXJ0Sm9iU2NyaXB0ID0gQ0RhdGFNYW5hZ2VyX0dldEV4cGVydEpvYlNjcmlwdChHX0NEYXRhTWFuYWdlcigpLGN1ckNoYXJhY0V4cGVydEpvYlR5cGUpOw0KICAgICAgICAgICAgICAgICAgICBpZihleHBlcnRKb2JTY3JpcHQhPTApew0KICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IDsgaSsrKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoc3RkX3ZlY3Rvcl9zdGRfcGFpcl9pbnRfaW50X3NpemUoZXhwZXJ0Sm9iU2NyaXB0LmFkZCgxMikpIDw9aSl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VyQ2hhcmFjRXhwZXJ0Sm9iRXhwID0gQ1VzZXJDaGFyYWNJbmZvX0dldEN1ckNoYXJhY0V4cGVydEpvYkV4cCh1c2VyKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VyRXhwZXJ0Sm9iTGV2ZWwgPSBDVXNlcl9HZXRDdXJFeHBlcnRKb2JMZXZlbCh1c2VyLCBjdXJDaGFyYWNFeHBlcnRKb2JFeHApOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBleHBlcnRKb2IgPSBzdGRfdmVjdG9yX3N0ZF9wYWlyX2ludF9pbnRfb3BlcmF0b3IoZXhwZXJ0Sm9iU2NyaXB0LmFkZCgxMiksaSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgU2tpbGxTbG90X2dyb3d0eXBlX3NraWxsKENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNTa2lsbFcodXNlciksQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfam9iKHVzZXIpLGV4cGVydEpvYi5yZWFkVTE2KCksY3VyRXhwZXJ0Sm9iTGV2ZWwsMCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgU2tpbGxTbG90X2dyb3d0eXBlX3NraWxsKENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNTa2lsbFcodXNlciksQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfam9iKHVzZXIpLGV4cGVydEpvYi5yZWFkVTE2KCksY3VyRXhwZXJ0Sm9iTGV2ZWwsMSk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgV29uZ1dvcmtfQ1NraWxsQ2hhbmdlcl9DU2tpbGxDaGFuZ2VyKHYxNzIpOw0KICAgICAgICAgICAgICAgICAgICBXb25nV29ya19DU2tpbGxDaGFuZ2VyX1NraWxsSW5pdGlhbGl6ZSh2MTcyLHVzZXIsMCwwKTsNCiAgICAgICAgICAgICAgICAgICAgQ1VzZXJfc2VuZF9za2lsbF9pbmZvKHVzZXIpOw0KICAgICAgICAgICAgICAgICAgICB2YXIgcHJlbWl1bUxldGhlTWFuYWdlciA9IENHYW1lTWFuYWdlcl9HZXRQcmVtaXVtTGV0aGVNYW5hZ2VyKEdfQ0dhbWVNYW5hZ2VyKCkpOw0KICAgICAgICAgICAgICAgICAgICBpZihDVXNlcl9pc0FmZmVjdGVkUHJlbWl1bSh1c2VyLnRvSW50MzIoKSwzMykhPTApew0KICAgICAgICAgICAgICAgICAgICAgICAgaWYocHJlbWl1bUxldGhlTWFuYWdlciE9MCAmJiBDVXNlcl9pc0FmZmVjdGVkUHJlbWl1bSh1c2VyLnRvSW50MzIoKSwzMykhPTApew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIENQcmVtaXVtTGV0aGVNYW5hZ2VyX0luaXRMZXRoZVNraWxsKHByZW1pdW1MZXRoZU1hbmFnZXIsIHVzZXIsIDApOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIENQcmVtaXVtTGV0aGVNYW5hZ2VyX0luaXRMZXRoZVNraWxsKHByZW1pdW1MZXRoZU1hbmFnZXIsIHVzZXIsIDEpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9ZWxzZSBpZihwcmVtaXVtTGV0aGVNYW5hZ2VyIT0wKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIENQcmVtaXVtTGV0aGVNYW5hZ2VyX1VwZGF0ZUJhY2t1cFNraWxsRmxhZyhwcmVtaXVtTGV0aGVNYW5hZ2VyLHVzZXIsMCk7DQogICAgICAgICAgICAgICAgICAgICAgICBDUHJlbWl1bUxldGhlTWFuYWdlcl9VcGRhdGVCYWNrdXBTa2lsbEZsYWcocHJlbWl1bUxldGhlTWFuYWdlcix1c2VyLDEpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIFdvbmdXb3JrX0NTa2lsbENoYW5nZXJfZF9DU2tpbGxDaGFuZ2VyKHYxNzIpOw0KICAgICAgICAgICAgICAgICAgICB2ODAgPSAxOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBzdGRfdmVjdG9yX3N0ZF9wYWlyX2ludF9pbnRfZF92ZWN0b3Ioc2tpbGxMaXN0KTsNCiAgICAgICAgICAgICAgICBpZih2ODA9PTEpew0KICAgICAgICAgICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfY2xlYXIoYnVmZik7DQogICAgICAgICAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfaGVhZGVyKGJ1ZmYsIDEsIDMyKTsNCiAgICAgICAgICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9ieXRlKGJ1ZmYsIDEpOw0KICAgICAgICAgICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X3Nob3J0KGJ1ZmYsIHNsb2YpOw0KICAgICAgICAgICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2J5dGUoYnVmZiwgdjE4NCk7DQogICAgICAgICAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfaW50KGJ1ZmYsIGd1aWxkRXhwQm9vayk7DQogICAgICAgICAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfc2hvcnQoYnVmZiwgMCk7DQogICAgICAgICAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfc2hvcnQoYnVmZiwgMCk7DQogICAgICAgICAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9maW5hbGl6ZShidWZmLCAxKTsNCiAgICAgICAgICAgICAgICAgICAgQ1VzZXJfU2VuZCh1c2VyLCBidWZmKTsNCiAgICAgICAgICAgICAgICAgICAgaWYodXNlci5hZGQoMTQ0MzY5KjQpLnJlYWRVMzIoKSA9PSA1KXsNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwYXJ0eSA9IENVc2VyX0dldFBhcnR5KHVzZXIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgaWYocGFydHkhPTApew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9jbGVhcihidWZmKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2hlYWRlcihidWZmLCAwLCAyKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2J5dGUoYnVmZiwgMSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9zaG9ydChidWZmLCAxKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBDVXNlcl9tYWtlX2Jhc2ljX2luZm8odXNlciwgYnVmZiwgMSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX2ZpbmFsaXplKGJ1ZmYsIDEpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIENQYXJ0eV9zZW5kX3RvX3BhcnR5KHBhcnR5LCBidWZmKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfWVsc2UgaWYodXNlci5hZGQoMTQ0MzY5KjQpLnJlYWRVMzIoKSA9PSA4KXsNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB3YXJSb29tID0gQ1VzZXJfR2V0V2FyUm9vbSh1c2VyKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHdhclJvb20hPTApew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9jbGVhcihidWZmKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2hlYWRlcihidWZmLCAwLCAyKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2J5dGUoYnVmZiwgMSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9zaG9ydChidWZmLCAxKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBDVXNlcl9tYWtlX2Jhc2ljX2luZm8odXNlciwgYnVmZiwgMSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX2ZpbmFsaXplKGJ1ZmYsIDEpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIFdhclJvb21fU2VuZFRvUm9vbSh3YXJSb29tLCBidWZmKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH1lbHNlIHsNCiAgICAgICAgICAgICAgICB2YXIgY3VyQ2hhcmFjU2tpbGxUcmVlSW5kZXggPSBDVXNlckNoYXJhY0luZm9fR2V0Q3VyQ2hhcmFjU2tpbGxUcmVlSW5kZXgodXNlcik7DQogICAgICAgICAgICAgICAgdmFyIGN1ckNoYXJhY1NraWxsVyA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNTa2lsbFcodXNlcik7DQogICAgICAgICAgICAgICAgU2tpbGxTbG90X2NsZWFyX2FsbF9za2lsbHMoY3VyQ2hhcmFjU2tpbGxXLHVzZXIpOw0KICAgICAgICAgICAgICAgIGN1ckNoYXJhY1NraWxsVyA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNTa2lsbFcodXNlcik7DQogICAgICAgICAgICAgICAgU2tpbGxTbG90X3NldF9wYXJlbnQoY3VyQ2hhcmFjU2tpbGxXLHVzZXIpOw0KICAgICAgICAgICAgICAgIGN1ckNoYXJhY1NraWxsVHJlZUluZGV4ID0gQ1VzZXJDaGFyYWNJbmZvX0dldEN1ckNoYXJhY1NraWxsVHJlZUluZGV4KHVzZXIpOw0KICAgICAgICAgICAgICAgIGlmKGN1ckNoYXJhY1NraWxsVHJlZUluZGV4PT0tMSB8fCBjdXJDaGFyYWNTa2lsbFRyZWVJbmRleCE9MCl7DQogICAgICAgICAgICAgICAgICAgIGN1ckNoYXJhY1NraWxsVyA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNTa2lsbFcodXNlcik7DQogICAgICAgICAgICAgICAgICAgIGFkZFNraWxsT25DcmVhdGVDaGFyYWN0ZXIoY3VyQ2hhcmFjU2tpbGxXLmFkZCg3MCksQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfam9iKHVzZXIpKTsNCiAgICAgICAgICAgICAgICB9ZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIGN1ckNoYXJhY1NraWxsVyA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNTa2lsbFcodXNlcik7DQogICAgICAgICAgICAgICAgICAgIGFkZFNraWxsT25DcmVhdGVDaGFyYWN0ZXIoY3VyQ2hhcmFjU2tpbGxXLmFkZCg0NzgpLENVc2VyQ2hhcmFjSW5mb19nZXRfY2hhcmFjX2pvYih1c2VyKSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIC8vIOi/meW6lOivpeaYr+aKgOiDveWPquiDvTEy5Liq5Y6f5ZugDQogICAgICAgICAgICAgICAgdmFyIHNraWxsTGlzdCA9IE1lbW9yeS5hbGxvYygxMik7DQogICAgICAgICAgICAgICAgc3RkX3ZlY3Rvcl9zdGRfcGFpcl9pbnRfaW50X3ZlY3Rvcihza2lsbExpc3QpOw0KDQogICAgICAgICAgICAgICAgdmFyIGN1ckNoYXJTZWNvbmRHcm93VHlwZSA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyU2Vjb25kR3Jvd1R5cGUodXNlcik7DQogICAgICAgICAgICAgICAgdmFyIGN1ckNoYXJGaXJzdEdyb3dUeXBlID0gQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJGaXJzdEdyb3dUeXBlKHVzZXIpOw0KICAgICAgICAgICAgICAgIHZhciBkYXRhTWFuYWdlID0gR19DRGF0YU1hbmFnZXIoKS5hZGQoMjApLnJlYWRVMzIoKTsNCiAgICAgICAgICAgICAgICB2YXIgZ2l2ZVNraWxsID0gQ0NoYXJhY3Rlcl9nZXRfZ2l2ZV9za2lsbChkYXRhTWFuYWdlKzIwMTIqQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfam9iKHVzZXIpLGN1ckNoYXJGaXJzdEdyb3dUeXBlLGN1ckNoYXJTZWNvbmRHcm93VHlwZSxza2lsbExpc3QudG9JbnQzMigpLDApOw0KICAgICAgICAgICAgICAgIHZhciB2ODA7DQogICAgICAgICAgICAgICAgaWYoZ2l2ZVNraWxsICE9MSl7DQogICAgICAgICAgICAgICAgICAgIHZhciBjaGFyY05hbWUgPSAnJzsNCiAgICAgICAgICAgICAgICAgICAgdmFyIGNoYXJjTmFtZVZhbCA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNOYW1lKHVzZXJJbmZvKTsNCiAgICAgICAgICAgICAgICAgICAgaWYoIWNoYXJjTmFtZVZhbC5pc051bGwoKSkNCiAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgY2hhcmNOYW1lID0gIGNoYXJjTmFtZVZhbC5yZWFkVXRmOFN0cmluZygtMSk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgdmFyIHYxODRBZHJyID0gTWVtb3J5LmFsbG9jKDEpOw0KICAgICAgICAgICAgICAgICAgICB2MTg0QWRyci53cml0ZVU4KHYxODQpOw0KICAgICAgICAgICAgICAgICAgICBMb2dNYW5hZ2VyX2xvZ0Zvcm1hdChNZW1vcnkuYWxsb2MoMSksTWVtb3J5LmFsbG9jVXRmOFN0cmluZygidXNlci5jcHAiKS50b0ludDMyKCkNCiAgICAgICAgICAgICAgICAgICAgICAgICxNZW1vcnkuYWxsb2NVdGY4U3RyaW5nKCd2b2lkIENVc2VyOjppbmNyZWFzZV9zdGF0dXMoc2hvcnQgaW50KScpLHB0cigweDRCNDgpDQogICAgICAgICAgICAgICAgICAgICAgICAsTWVtb3J5LmFsbG9jVXRmOFN0cmluZygnVXNlciAlcyAtIENVc2VyOjpzZXRfZ3Jvd190eXBlICVkJyksTWVtb3J5LmFsbG9jVXRmOFN0cmluZyhjaGFyY05hbWUpLHYxODRBZHJyKTsNCiAgICAgICAgICAgICAgICAgICAgdjgwID0gMDsNCiAgICAgICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7OyBpKyspIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHN0ZF92ZWN0b3Jfc3RkX3BhaXJfaW50X2ludF9zaXplKHNraWxsTGlzdCkgPD1pKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBza2lsbCA9IHN0ZF92ZWN0b3Jfc3RkX3BhaXJfaW50X2ludF9vcGVyYXRvcihza2lsbExpc3QsaSk7DQogICAgICAgICAgICAgICAgICAgICAgICBTa2lsbFNsb3RfZ3Jvd3R5cGVfc2tpbGwoQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY1NraWxsVyh1c2VyKSxDVXNlckNoYXJhY0luZm9fZ2V0X2NoYXJhY19qb2IodXNlciksc2tpbGwucmVhZFU4KCksc2tpbGwuYWRkKDEpLnJlYWRVOCgpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLENVc2VyQ2hhcmFjSW5mb19HZXRDdXJDaGFyYWNTa2lsbFRyZWVJbmRleCh1c2VyKSk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgdmFyIGN1ckNoYXJhY0V4cGVydEpvYlR5cGUgPUNVc2VyQ2hhcmFjSW5mb19HZXRDdXJDaGFyYWNFeHBlcnRKb2JUeXBlKHVzZXIpOw0KICAgICAgICAgICAgICAgICAgICB2YXIgZXhwZXJ0Sm9iU2NyaXB0ID0gQ0RhdGFNYW5hZ2VyX0dldEV4cGVydEpvYlNjcmlwdChHX0NEYXRhTWFuYWdlcigpLGN1ckNoYXJhY0V4cGVydEpvYlR5cGUpOw0KICAgICAgICAgICAgICAgICAgICBpZihleHBlcnRKb2JTY3JpcHQhPTApew0KICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IDsgaSsrKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoc3RkX3ZlY3Rvcl9zdGRfcGFpcl9pbnRfaW50X3NpemUoZXhwZXJ0Sm9iU2NyaXB0LmFkZCgxMikpIDw9aSl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VyQ2hhcmFjRXhwZXJ0Sm9iRXhwID0gQ1VzZXJDaGFyYWNJbmZvX0dldEN1ckNoYXJhY0V4cGVydEpvYkV4cCh1c2VyKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VyRXhwZXJ0Sm9iTGV2ZWwgPSBDVXNlcl9HZXRDdXJFeHBlcnRKb2JMZXZlbCh1c2VyLCBjdXJDaGFyYWNFeHBlcnRKb2JFeHApOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBleHBlcnRKb2IgPSBzdGRfdmVjdG9yX3N0ZF9wYWlyX2ludF9pbnRfb3BlcmF0b3IoZXhwZXJ0Sm9iU2NyaXB0LmFkZCgxMiksaSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgU2tpbGxTbG90X2dyb3d0eXBlX3NraWxsKENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNTa2lsbFcodXNlciksQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfam9iKHVzZXIpLGV4cGVydEpvYi5yZWFkVTE2KCksY3VyRXhwZXJ0Sm9iTGV2ZWwsMCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgU2tpbGxTbG90X2dyb3d0eXBlX3NraWxsKENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNTa2lsbFcodXNlciksQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfam9iKHVzZXIpLGV4cGVydEpvYi5yZWFkVTE2KCksY3VyRXhwZXJ0Sm9iTGV2ZWwsMSk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgV29uZ1dvcmtfQ1NraWxsQ2hhbmdlcl9DU2tpbGxDaGFuZ2VyKHYxNzIpOw0KICAgICAgICAgICAgICAgICAgICB2YXIgdjIxOSA9IDA7DQogICAgICAgICAgICAgICAgICAgIGN1ckNoYXJhY1NraWxsVHJlZUluZGV4ID0gQ1VzZXJDaGFyYWNJbmZvX0dldEN1ckNoYXJhY1NraWxsVHJlZUluZGV4KHVzZXIpOw0KICAgICAgICAgICAgICAgICAgICBpZihjdXJDaGFyYWNTa2lsbFRyZWVJbmRleD09LTEgfHwgY3VyQ2hhcmFjU2tpbGxUcmVlSW5kZXghPTApew0KICAgICAgICAgICAgICAgICAgICAgICAgdjIxOSA9IDE7DQogICAgICAgICAgICAgICAgICAgIH1lbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHYyMTkgPSAyOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIFdvbmdXb3JrX0NTa2lsbENoYW5nZXJfU2tpbGxJbml0aWFsaXplKHYxNzIsdXNlcix2MjE5LDApOw0KICAgICAgICAgICAgICAgICAgICBDVXNlcl9zZW5kX3NraWxsX2luZm8odXNlcik7DQogICAgICAgICAgICAgICAgICAgIHZhciBwcmVtaXVtTGV0aGVNYW5hZ2VyID0gQ0dhbWVNYW5hZ2VyX0dldFByZW1pdW1MZXRoZU1hbmFnZXIoR19DR2FtZU1hbmFnZXIoKSk7DQogICAgICAgICAgICAgICAgICAgIGlmKENVc2VyX2lzQWZmZWN0ZWRQcmVtaXVtKHVzZXIudG9JbnQzMigpLDMzKSE9MCl7DQogICAgICAgICAgICAgICAgICAgICAgICBpZihwcmVtaXVtTGV0aGVNYW5hZ2VyIT0wICYmIENVc2VyX2lzQWZmZWN0ZWRQcmVtaXVtKHVzZXIudG9JbnQzMigpLDMzKSE9MCl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VyQ2hhcmFjU2tpbGxUcmVlSW5kZXggPSBDVXNlckNoYXJhY0luZm9fR2V0Q3VyQ2hhcmFjU2tpbGxUcmVlSW5kZXgodXNlcik7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgQ1ByZW1pdW1MZXRoZU1hbmFnZXJfSW5pdExldGhlU2tpbGwocHJlbWl1bUxldGhlTWFuYWdlciwgdXNlciwgY3VyQ2hhcmFjU2tpbGxUcmVlSW5kZXgpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9ZWxzZSBpZihwcmVtaXVtTGV0aGVNYW5hZ2VyIT0wKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIGN1ckNoYXJhY1NraWxsVHJlZUluZGV4ID0gQ1VzZXJDaGFyYWNJbmZvX0dldEN1ckNoYXJhY1NraWxsVHJlZUluZGV4KHVzZXIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgQ1ByZW1pdW1MZXRoZU1hbmFnZXJfVXBkYXRlQmFja3VwU2tpbGxGbGFnKHByZW1pdW1MZXRoZU1hbmFnZXIsdXNlcixjdXJDaGFyYWNTa2lsbFRyZWVJbmRleCk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgV29uZ1dvcmtfQ1NraWxsQ2hhbmdlcl9kX0NTa2lsbENoYW5nZXIodjE3Mik7DQogICAgICAgICAgICAgICAgICAgIHY4MCA9IDE7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHN0ZF92ZWN0b3Jfc3RkX3BhaXJfaW50X2ludF9kX3ZlY3Rvcihza2lsbExpc3QpOw0KICAgICAgICAgICAgICAgIGlmKHY4MD09MSl7DQogICAgICAgICAgICAgICAgICAgIGdvdG8zMih1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZik7DQogICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICBQYWNrZXRHdWFyZF9mcmVlX1BhY2tldEd1YXJkKGJ1ZmYpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICBjYXNlIDExOg0KICAgICAgICAgICAgaWYoQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfZ3VpbGRrZXkodXNlcikhPTApew0KICAgICAgICAgICAgICAgIENVc2VyQ2hhcmFjSW5mb19hZGRfZ3VpbGRfZXhwKHVzZXIsZ3VpbGRFeHBCb29rKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGdvdG8zMih1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZik7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIGNhc2UgMTI6DQogICAgICAgICAgICBDVXNlckNoYXJhY0luZm9fc2V0Q3VyQ2hhcmFjU3RhbWluYSh1c2VyLGd1aWxkRXhwQm9vayk7DQogICAgICAgICAgICBnb3RvMzIodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICBjYXNlIDEzOg0KICAgICAgICAgICAgdmFyIGludmVuUiA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNJbnZlblIodXNlcik7DQogICAgICAgICAgICB2YXIgY29pbiA9IENJbnZlbnRvcnlfR2V0RXZlbnRDb2luKGludmVuUik7DQogICAgICAgICAgICB2YXIgYWxsQ29pbiA9IGNvaW4rZ3VpbGRFeHBCb29rOw0KICAgICAgICAgICAgdmFyIGludmVuVyA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNJbnZlblcodXNlcik7DQogICAgICAgICAgICBDSW52ZW50b3J5X1NldEV2ZW50Q29pbihpbnZlblcsYWxsQ29pbik7DQogICAgICAgICAgICBpbnZlblIgPSBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjSW52ZW5SKHVzZXIpOw0KICAgICAgICAgICAgY29pbiA9IENJbnZlbnRvcnlfR2V0RXZlbnRDb2luKGludmVuUik7DQogICAgICAgICAgICBjVXNlckhpc3RvcnlMb2dfRXZlbnRDb2luQWRkKHVzZXIuYWRkKDQ5NzQwOCksY29pbixndWlsZEV4cEJvb2ssMik7DQogICAgICAgICAgICBDVXNlcl9TZW5kVXBkYXRlSXRlbUxpc3QodXNlciwxLDAsMSk7DQogICAgICAgICAgICBnb3RvMzIodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICBjYXNlIDE0Og0KICAgICAgICAgICAgQ1VzZXJfUmVjb3ZlckZhdGlndWUodXNlcixndWlsZEV4cEJvb2spOw0KICAgICAgICAgICAgQ1VzZXJfU2VuZEZhdGlndWUodXNlcik7DQogICAgICAgICAgICBnb3RvMzIodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICBjYXNlIDE1Og0KICAgICAgICAgICAgdmFyIGN1ckNoYXJhY0ZhdGlndWUgPSBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjRmF0aWd1ZSh1c2VyKTsNCiAgICAgICAgICAgIHZhciB2YWwgPSBjdXJDaGFyYWNGYXRpZ3VlIC0gZ3VpbGRFeHBCb29rIDwwID8wOmN1ckNoYXJhY0ZhdGlndWUgLSBndWlsZEV4cEJvb2sNCiAgICAgICAgICAgIENVc2VyQ2hhcmFjSW5mb19zZXRDdXJDaGFyYWNGYXRpZ3VlKHVzZXIsdmFsKTsNCiAgICAgICAgICAgIENVc2VyX1NlbmRGYXRpZ3VlKHVzZXIpOw0KICAgICAgICAgICAgZ290bzMyKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgY2FzZSAxNjoNCiAgICAgICAgICAgIGlmKENVc2VyQ2hhcmFjSW5mb19nZXRfY2hhcmFjX2d1aWxka2V5KHVzZXIpIT0wKXsNCiAgICAgICAgICAgICAgICB2YXIgY2hhcmNObyA9IENVc2VyX2dldF9jaGFyYWNfbm8odXNlciwtMSk7DQogICAgICAgICAgICAgICAgdmFyIGNoYXJjR3VpbGRLZXkgPSBDVXNlckNoYXJhY0luZm9fZ2V0X2NoYXJhY19ndWlsZGtleSh1c2VyKTsNCiAgICAgICAgICAgICAgICB2YXIgc2VydmVyR3JvdXAgPSBDVXNlcl9HZXRTZXJ2ZXJHcm91cCh1c2VyKTsNCiAgICAgICAgICAgICAgICB2YXIgc2VydmVyUHJveHkgPSBDU2VydmVyUHJveHlNZ3JfQ0d1aWxkU2VydmVyUHJveHlfR2V0U2VydmVyUHJveHkocHRyKHB0cigweDA5NDBCRTJDKS5yZWFkVTMyKCkpLHNlcnZlckdyb3VwKTsNCiAgICAgICAgICAgICAgICBDR3VpbGRTZXJ2ZXJQcm94eV9TZW5kSW5jcmVhc2VHdWlsZEV4cChzZXJ2ZXJQcm94eSxjaGFyY0d1aWxkS2V5LGNoYXJjTm8sZ3VpbGRFeHBCb29rLDEpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZ290bzMyKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgY2FzZSAxNzoNCiAgICAgICAgICAgIENVc2VyX2dhaW5fc2ZwKHVzZXIsIGd1aWxkRXhwQm9vayk7DQogICAgICAgICAgICBDVXNlcl9oaXN0b3J5X2xvZ19zZnAodXNlciwgLTEsIGd1aWxkRXhwQm9vaywgMSk7DQogICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfY2xlYXIoYnVmZik7DQogICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2hlYWRlcihidWZmLCAxLCAzMik7DQogICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2J5dGUoYnVmZiwgMSk7DQogICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X3Nob3J0KGJ1ZmYsIHNsb2YpOw0KICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9ieXRlKGJ1ZmYsIHYxODQpOw0KICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9pbnQoYnVmZiwgZ3VpbGRFeHBCb29rKTsNCiAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfc2hvcnQoYnVmZiwgMCk7DQogICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X3Nob3J0KGJ1ZmYsIDApOw0KICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX2ZpbmFsaXplKGJ1ZmYsIDEpOw0KICAgICAgICAgICAgQ1VzZXJfU2VuZCh1c2VyLCBidWZmKTsNCiAgICAgICAgICAgIFBhY2tldEd1YXJkX2ZyZWVfUGFja2V0R3VhcmQoYnVmZik7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIGNhc2UgMTg6DQogICAgICAgICAgICBTa2lsbFNsb3RfY2xlYXJfc2ZwX3NraWxscyhDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjU2tpbGxXKHVzZXIpLnRvSW50MzIoKSxDVXNlckNoYXJhY0luZm9fZ2V0X2NoYXJhY19qb2IodXNlcikscHRyKENVc2VyQ2hhcmFjSW5mb19HZXRDdXJDaGFyYWNTa2lsbFRyZWVJbmRleCh1c2VyKSkpOw0KICAgICAgICAgICAgU2tpbGxTbG90X3NldF9wYXJlbnQoQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY1NraWxsVyh1c2VyKSx1c2VyKTsNCiAgICAgICAgICAgIHZhciB2MjAyID0gMDsNCiAgICAgICAgICAgIGlmICggQ1VzZXJDaGFyYWNJbmZvX0dldEN1ckNoYXJhY1NraWxsVHJlZUluZGV4KHVzZXIpID09IC0xIHx8IENVc2VyQ2hhcmFjSW5mb19HZXRDdXJDaGFyYWNTa2lsbFRyZWVJbmRleCh1c2VyKSE9MCApew0KICAgICAgICAgICAgICAgIHYyMDIgPSAzOw0KICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgICAgdjIwMiA9IDQ7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBXb25nV29ya19DU2tpbGxDaGFuZ2VyX0NTa2lsbENoYW5nZXIodjE3Mik7DQogICAgICAgICAgICBXb25nV29ya19DU2tpbGxDaGFuZ2VyX1NraWxsSW5pdGlhbGl6ZSh2MTcyLCB1c2VyLCB2MjAyLCAwKTsNCiAgICAgICAgICAgIENVc2VyX3NlbmRfc2tpbGxfaW5mbyh1c2VyKTsNCiAgICAgICAgICAgIFdvbmdXb3JrX0NTa2lsbENoYW5nZXJfZF9DU2tpbGxDaGFuZ2VyKHYxNzIpOw0KICAgICAgICAgICAgZ290bzMyKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgY2FzZSAxOToNCiAgICAgICAgICAgIENVc2VyQ2hhcmFjSW5mb19JbmNyZWFzZVBvd2VyV2FyUG9pbnQodXNlcixndWlsZEV4cEJvb2spOw0KICAgICAgICAgICAgZ290bzMyKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgY2FzZSAyMDoNCiAgICAgICAgICAgIENVc2VyX2FkanVzdF9jaGFyYWNfc3RhdCh1c2VyKTsNCiAgICAgICAgICAgIGlmKHVzZXIuYWRkKDE0NDM2OSkucmVhZFUzMigpPT0zKXsNCiAgICAgICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfY2xlYXIoYnVmZik7DQogICAgICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9oZWFkZXIoYnVmZiwgMCwgMik7DQogICAgICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9ieXRlKGJ1ZmYsIDEpOw0KICAgICAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfc2hvcnQoYnVmZiwgMSk7DQogICAgICAgICAgICAgICAgQ1VzZXJfbWFrZV9iYXNpY19pbmZvKHVzZXIsIGJ1ZmYsIDEpOw0KICAgICAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9maW5hbGl6ZShidWZmLCAxKTsNCiAgICAgICAgICAgICAgICBDVXNlcl9TZW5kKHVzZXIsIGJ1ZmYpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZ290bzMyKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgY2FzZSAyMToNCiAgICAgICAgICAgIHZhciBjb2luID0gQ0ludmVudG9yeV9HZXRDb2luKENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNJbnZlblIodXNlcikpOw0KICAgICAgICAgICAgQ0ludmVudG9yeV9TZXRDb2luKENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNJbnZlblcodXNlciksY29pbitndWlsZEV4cEJvb2spOw0KICAgICAgICAgICAgY29pbiA9IENJbnZlbnRvcnlfR2V0Q29pbihDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjSW52ZW5SKHVzZXIpKTsNCiAgICAgICAgICAgIGNVc2VySGlzdG9yeUxvZ19Db2luQWRkKHVzZXIuYWRkKDQ5NzQwOCksY29pbixndWlsZEV4cEJvb2ssMyk7DQogICAgICAgICAgICBDVXNlcl9TZW5kVXBkYXRlSXRlbUxpc3QodXNlciwxLDAsMSk7DQogICAgICAgICAgICBnb3RvMzIodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICBjYXNlIDIyOg0KICAgICAgICAgICAgaWYoZ3VpbGRFeHBCb29rPT0xKXsNCiAgICAgICAgICAgICAgICB2YXIgc2tpbGxXID0gQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY1NraWxsVyh1c2VyKTsNCiAgICAgICAgICAgICAgICBTa2lsbFNsb3RfY2xlYXJfYWxsX3NraWxsc19ib3RoKHNraWxsVyk7DQogICAgICAgICAgICAgICAgc2tpbGxXID0gQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY1NraWxsVyh1c2VyKTsNCiAgICAgICAgICAgICAgICBTa2lsbFNsb3Rfc2V0X3BhcmVudChza2lsbFcsdXNlcik7DQogICAgICAgICAgICAgICAgQ1VzZXJfZ2l2ZVB2UFNraWxsVHJlZSh1c2VyLDAsMSwzKTsNCiAgICAgICAgICAgICAgICB2YXIgcHZwR3JhZGUgPSBDVXNlckNoYXJhY0luZm9fZ2V0X3B2cF9ncmFkZSh1c2VyKTsNCiAgICAgICAgICAgICAgICB2YXIgcHZQU2tpbGxQb2ludCA9IFB2UFNraWxsVHJlZVBhcmFtZXRlclNjcmlwdF9nZXRQdlBTa2lsbFBvaW50KA0KICAgICAgICAgICAgICAgICAgICBHX0NEYXRhTWFuYWdlcigpLmFkZCg0MzAwOCksQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfam9iKHVzZXIpDQogICAgICAgICAgICAgICAgICAgICxDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhckZpcnN0R3Jvd1R5cGUodXNlcikNCiAgICAgICAgICAgICAgICAgICAgLENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyU2Vjb25kR3Jvd1R5cGUodXNlcikNCiAgICAgICAgICAgICAgICAgICAgLHB2cEdyYWRlLDANCiAgICAgICAgICAgICAgICApOw0KICAgICAgICAgICAgICAgIHNraWxsVyA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNTa2lsbFcodXNlcik7DQogICAgICAgICAgICAgICAgU2tpbGxTbG90X3NldF9yZW1haW5fc3BfYXRfaW5kZXgoc2tpbGxXLnRvSW50MzIoKSxwdlBTa2lsbFBvaW50LDApOw0KICAgICAgICAgICAgICAgIHNraWxsVyA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNTa2lsbFcodXNlcik7DQogICAgICAgICAgICAgICAgU2tpbGxTbG90X3NldF9yZW1haW5fc3BfYXRfaW5kZXgoc2tpbGxXLnRvSW50MzIoKSxwdlBTa2lsbFBvaW50LDEpOw0KICAgICAgICAgICAgICAgIENVc2VyX3NlbmRfc2tpbGxfaW5mbyh1c2VyKTsNCiAgICAgICAgICAgICAgICB2YXIgcHJlbWl1bUxldGhlTWFuYWdlciA9IENHYW1lTWFuYWdlcl9HZXRQcmVtaXVtTGV0aGVNYW5hZ2VyKEdfQ0dhbWVNYW5hZ2VyKCkpOw0KICAgICAgICAgICAgICAgIGlmKENVc2VyX2lzQWZmZWN0ZWRQcmVtaXVtKHVzZXIudG9JbnQzMigpLDMzKSE9MCl7DQogICAgICAgICAgICAgICAgICAgIGlmKHByZW1pdW1MZXRoZU1hbmFnZXIhPTAgJiYgQ1VzZXJfaXNBZmZlY3RlZFByZW1pdW0odXNlci50b0ludDMyKCksMzMpIT0wKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIENQcmVtaXVtTGV0aGVNYW5hZ2VyX0luaXRMZXRoZVNraWxsKHByZW1pdW1MZXRoZU1hbmFnZXIsIHVzZXIsIDApOw0KICAgICAgICAgICAgICAgICAgICAgICAgQ1ByZW1pdW1MZXRoZU1hbmFnZXJfSW5pdExldGhlU2tpbGwocHJlbWl1bUxldGhlTWFuYWdlciwgdXNlciwgMSk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9ZWxzZSBpZihwcmVtaXVtTGV0aGVNYW5hZ2VyIT0wKXsNCiAgICAgICAgICAgICAgICAgICAgQ1ByZW1pdW1MZXRoZU1hbmFnZXJfVXBkYXRlQmFja3VwU2tpbGxGbGFnKHByZW1pdW1MZXRoZU1hbmFnZXIsdXNlciwwKTsNCiAgICAgICAgICAgICAgICAgICAgQ1ByZW1pdW1MZXRoZU1hbmFnZXJfVXBkYXRlQmFja3VwU2tpbGxGbGFnKHByZW1pdW1MZXRoZU1hbmFnZXIsdXNlciwxKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICB2YXIgY3VyQ2hhcmFjU2tpbGxUcmVlSW5kZXggPSBDVXNlckNoYXJhY0luZm9fR2V0Q3VyQ2hhcmFjU2tpbGxUcmVlSW5kZXgodXNlcik7DQogICAgICAgICAgICAgICAgdmFyIHNraWxsVyA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNTa2lsbFcodXNlcik7DQogICAgICAgICAgICAgICAgU2tpbGxTbG90X2NsZWFyX2FsbF9za2lsbHMoc2tpbGxXLGN1ckNoYXJhY1NraWxsVHJlZUluZGV4KTsNCiAgICAgICAgICAgICAgICBza2lsbFcgPSBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjU2tpbGxXKHVzZXIpOw0KICAgICAgICAgICAgICAgIFNraWxsU2xvdF9zZXRfcGFyZW50KHNraWxsVyx1c2VyKTsNCiAgICAgICAgICAgICAgICB2YXIgdjIxOSA9IDA7DQogICAgICAgICAgICAgICAgY3VyQ2hhcmFjU2tpbGxUcmVlSW5kZXggPSBDVXNlckNoYXJhY0luZm9fR2V0Q3VyQ2hhcmFjU2tpbGxUcmVlSW5kZXgodXNlcik7DQogICAgICAgICAgICAgICAgaWYoY3VyQ2hhcmFjU2tpbGxUcmVlSW5kZXg9PS0xIHx8IGN1ckNoYXJhY1NraWxsVHJlZUluZGV4IT0wKXsNCiAgICAgICAgICAgICAgICAgICAgdjIxOSA9IDE7DQogICAgICAgICAgICAgICAgfWVsc2Ugew0KICAgICAgICAgICAgICAgICAgICB2MjE5ID0gMjsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgQ1VzZXJfZ2l2ZVB2UFNraWxsVHJlZSh1c2VyLDAsMSx2MjE5KTsNCiAgICAgICAgICAgICAgICB2YXIgcHZwR3JhZGUgPSBDVXNlckNoYXJhY0luZm9fZ2V0X3B2cF9ncmFkZSh1c2VyKTsNCiAgICAgICAgICAgICAgICB2YXIgcHZQU2tpbGxQb2ludCA9IFB2UFNraWxsVHJlZVBhcmFtZXRlclNjcmlwdF9nZXRQdlBTa2lsbFBvaW50KA0KICAgICAgICAgICAgICAgICAgICBHX0NEYXRhTWFuYWdlcigpLmFkZCg0MzAwOCksQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfam9iKHVzZXIpDQogICAgICAgICAgICAgICAgICAgICxDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhckZpcnN0R3Jvd1R5cGUodXNlcikNCiAgICAgICAgICAgICAgICAgICAgLENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyU2Vjb25kR3Jvd1R5cGUodXNlcikNCiAgICAgICAgICAgICAgICAgICAgLHB2cEdyYWRlLDANCiAgICAgICAgICAgICAgICApOw0KICAgICAgICAgICAgICAgIHNraWxsVyA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNTa2lsbFcodXNlcik7DQogICAgICAgICAgICAgICAgU2tpbGxTbG90X3NldF9yZW1haW5fc3BfYXRfaW5kZXgoc2tpbGxXLnRvSW50MzIoKSxwdlBTa2lsbFBvaW50LENVc2VyQ2hhcmFjSW5mb19HZXRDdXJDaGFyYWNTa2lsbFRyZWVJbmRleCh1c2VyKSk7DQogICAgICAgICAgICAgICAgQ1VzZXJfc2VuZF9za2lsbF9pbmZvKHVzZXIpOw0KICAgICAgICAgICAgICAgIHZhciBwcmVtaXVtTGV0aGVNYW5hZ2VyID0gQ0dhbWVNYW5hZ2VyX0dldFByZW1pdW1MZXRoZU1hbmFnZXIoR19DR2FtZU1hbmFnZXIoKSk7DQogICAgICAgICAgICAgICAgaWYoQ1VzZXJfaXNBZmZlY3RlZFByZW1pdW0odXNlci50b0ludDMyKCksMzMpIT0wKXsNCiAgICAgICAgICAgICAgICAgICAgaWYocHJlbWl1bUxldGhlTWFuYWdlciE9MCAmJiBDVXNlcl9pc0FmZmVjdGVkUHJlbWl1bSh1c2VyLnRvSW50MzIoKSwzMykhPTApew0KICAgICAgICAgICAgICAgICAgICAgICAgY3VyQ2hhcmFjU2tpbGxUcmVlSW5kZXggPSBDVXNlckNoYXJhY0luZm9fR2V0Q3VyQ2hhcmFjU2tpbGxUcmVlSW5kZXgodXNlcik7DQogICAgICAgICAgICAgICAgICAgICAgICBDUHJlbWl1bUxldGhlTWFuYWdlcl9Jbml0TGV0aGVTa2lsbChwcmVtaXVtTGV0aGVNYW5hZ2VyLCB1c2VyLCBjdXJDaGFyYWNTa2lsbFRyZWVJbmRleCk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9ZWxzZSBpZihwcmVtaXVtTGV0aGVNYW5hZ2VyIT0wKXsNCiAgICAgICAgICAgICAgICAgICAgY3VyQ2hhcmFjU2tpbGxUcmVlSW5kZXggPSBDVXNlckNoYXJhY0luZm9fR2V0Q3VyQ2hhcmFjU2tpbGxUcmVlSW5kZXgodXNlcik7DQogICAgICAgICAgICAgICAgICAgIENQcmVtaXVtTGV0aGVNYW5hZ2VyX1VwZGF0ZUJhY2t1cFNraWxsRmxhZyhwcmVtaXVtTGV0aGVNYW5hZ2VyLHVzZXIsY3VyQ2hhcmFjU2tpbGxUcmVlSW5kZXgpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGdvdG8zMih1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZik7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIGNhc2UgMjM6DQogICAgICAgICAgICB2YXIgdmxvZzMgPSBNZW1vcnkuYWxsb2MoMTYpOw0KICAgICAgICAgICAgdmFyIGNoYXJjTmFtZSA9ICcnOw0KICAgICAgICAgICAgdmFyIGNoYXJjTmFtZVZhbCA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNOYW1lKHN0Tm90aWZ5SW5nYW1lQURJbmZvKTsNCiAgICAgICAgICAgIGlmKCFjaGFyY05hbWVWYWwuaXNOdWxsKCkpDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgY2hhcmNOYW1lID0gIGNoYXJjTmFtZVZhbC5yZWFkVXRmOFN0cmluZygtMSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBjTXlUcmFjZV9jTXlUcmFjZSh2bG9nMyxNZW1vcnkuYWxsb2NVdGY4U3RyaW5nKCJ2b2lkIENVc2VyOjppbmNyZWFzZV9zdGF0dXMoc2hvcnQgaW50KSIpLDE5NDY2LDApOw0KICAgICAgICAgICAgY015VHJhY2Vfb3BlcmF0b3IodmxvZzMudG9JbnQzMigpLE1lbW9yeS5hbGxvY1V0ZjhTdHJpbmcoIk9ORV9EQVlfTEVUSEUgOiBCVVlfU0tJTExfQ09ORklSTV9USUNLRVQsIGNoYXIoJXMpLCBjaGFyX25vKCVkKSwgc3R5bGUoJWQpIiksTWVtb3J5LmFsbG9jVXRmOFN0cmluZyhjaGFyY05hbWUpKTsNCiAgICAgICAgICAgIHZhciBwcmVtaXVtTGV0aGVNYW5hZ2VyID0gQ0dhbWVNYW5hZ2VyX0dldFByZW1pdW1MZXRoZU1hbmFnZXIoR19DR2FtZU1hbmFnZXIoKSk7DQogICAgICAgICAgICBpZihwcmVtaXVtTGV0aGVNYW5hZ2VyIT0wKXsNCiAgICAgICAgICAgICAgICBDUHJlbWl1bUxldGhlTWFuYWdlcl9Db25maXJtU2tpbGxSZXEocHJlbWl1bUxldGhlTWFuYWdlcix1c2VyKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGdvdG8zMih1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZik7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIGNhc2UgMjU6DQogICAgICAgICAgICB2YXIgaXZlblcgPSBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjSW52ZW5XKHVzZXIpOw0KICAgICAgICAgICAgQXZhdGFyQ29pbl9BZGQoaXZlblcuYWRkKDE2MjQpLGd1aWxkRXhwQm9vayk7DQogICAgICAgICAgICBBdmF0YXJDb2luX1NhdmVUb0RCKHVzZXIpOw0KICAgICAgICAgICAgQXZhdGFyQ29pbl9TZW5kU3luY1BhY2tldCh1c2VyKTsNCiAgICAgICAgICAgIEF2YXRhckNvaW5fSGlzdG9yeUxvZ19BZGRMb2codXNlcixwdHIoZ3VpbGRFeHBCb29rKSk7DQogICAgICAgICAgICBnb3RvMzIodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICBkZWZhdWx0Og0KICAgICAgICAgICAgZ290bzMyKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICB9DQp9DQoNCmZ1bmN0aW9uIGdvdG8zMih1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZil7DQogICAgSW50ZXJmYWNlUGFja2V0QnVmX2NsZWFyKGJ1ZmYpOw0KICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfaGVhZGVyKGJ1ZmYsIDEsIDMyKTsNCiAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2J5dGUoYnVmZiwgMSk7DQogICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9zaG9ydChidWZmLCBzbG9mKTsNCiAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2J5dGUoYnVmZiwgdjE4NCk7DQogICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9pbnQoYnVmZiwgZ3VpbGRFeHBCb29rKTsNCiAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X3Nob3J0KGJ1ZmYsIDApOw0KICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfc2hvcnQoYnVmZiwgMCk7DQogICAgSW50ZXJmYWNlUGFja2V0QnVmX2ZpbmFsaXplKGJ1ZmYsIDEpOw0KICAgIENVc2VyX1NlbmQodXNlciwgYnVmZik7DQogICAgaWYodXNlci5hZGQoMTQ0MzY5KjQpLnJlYWRVMzIoKSA9PSA1KXsNCiAgICAgICAgdmFyIHBhcnR5ID0gQ1VzZXJfR2V0UGFydHkodXNlcik7DQogICAgICAgIGlmKHBhcnR5IT0wKXsNCiAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9jbGVhcihidWZmKTsNCiAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfaGVhZGVyKGJ1ZmYsIDAsIDIpOw0KICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9ieXRlKGJ1ZmYsIDEpOw0KICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9zaG9ydChidWZmLCAxKTsNCiAgICAgICAgICAgIENVc2VyX21ha2VfYmFzaWNfaW5mbyh1c2VyLCBidWZmLCAxKTsNCiAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9maW5hbGl6ZShidWZmLCAxKTsNCiAgICAgICAgICAgIENQYXJ0eV9zZW5kX3RvX3BhcnR5KHBhcnR5LCBidWZmKTsNCiAgICAgICAgfQ0KICAgIH1lbHNlIGlmKHVzZXIuYWRkKDE0NDM2OSo0KS5yZWFkVTMyKCkgPT0gOCl7DQogICAgICAgIHZhciB3YXJSb29tID0gQ1VzZXJfR2V0V2FyUm9vbSh1c2VyKTsNCiAgICAgICAgaWYod2FyUm9vbSE9MCl7DQogICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfY2xlYXIoYnVmZik7DQogICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2hlYWRlcihidWZmLCAwLCAyKTsNCiAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfYnl0ZShidWZmLCAxKTsNCiAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfc2hvcnQoYnVmZiwgMSk7DQogICAgICAgICAgICBDVXNlcl9tYWtlX2Jhc2ljX2luZm8odXNlciwgYnVmZiwgMSk7DQogICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfZmluYWxpemUoYnVmZiwgMSk7DQogICAgICAgICAgICBXYXJSb29tX1NlbmRUb1Jvb20od2FyUm9vbSwgYnVmZik7DQogICAgICAgIH0NCiAgICB9DQogICAgUGFja2V0R3VhcmRfZnJlZV9QYWNrZXRHdWFyZChidWZmKTsNCn0NCg0KLy/orr7nva7mnIDlpKfnrYnnuqcNCmZ1bmN0aW9uIHNldE1heFVwR3JhZGUobWF4TGV2ZWwpew0KICAgIGNvbnNvbGUubG9nKCI9PT09PT09PT09PT09PT09PT09PT09PiDorr7nva7mnIDlpKfnrYnnuqciICsgbWF4TGV2ZWwpDQogICAgaWYobWF4TGV2ZWwpIHsNCiAgICAgICAgY2FsY3VyYXRlVXNlck1heExldmVsKG1heExldmVsKTsNCiAgICAgICAgc2V0VXNlck1heExldmVsKG1heExldmVsKTsNCiAgICAgICAgaXNUaGVyZURhaWx5VHJhaW5pbmdRdWVzdExpc3QobWF4TGV2ZWwpOw0KICAgICAgICBjYWxMZXZlbFVwSXRlbUNoZWNrKG1heExldmVsKTsNCiAgICAgICAgZ2V0TGV2ZWxTZWN0aW9uRXhwKCk7DQogICAgICAgIGdldFNwQXRMZXZlbFVwKG1heExldmVsKTsNCiAgICAgICAgc2V0TGV2ZWxFeHAobWF4TGV2ZWwpOw0KICAgICAgICBzZXRSZXdhcmRTcChtYXhMZXZlbCk7DQogICAgICAgIGNoZWNrTGV2ZWxVcChtYXhMZXZlbCk7DQogICAgICAgIGdhaW5FeHBTcChtYXhMZXZlbCk7DQogICAgICAgIG9uTGV2ZWxVcChtYXhMZXZlbCk7DQogICAgICAgIGluY3JlYXNlU3RhdHVzKG1heExldmVsKTsNCiAgICAgICAgZ2V0UmV0dXJuVXNlckxldmVsS2V5KG1heExldmVsKQ0KICAgIH0NCn0=', '设置最大等级', 'setUserMaxLevel', 0);
            INSERT INTO da_frida_function (children_function, function_name, function_context, remark, function_key, is_system_fun) VALUES('api_GameWorld_SendNotiPacketMessage,sever_base_funcation,load_json_config', '角色登入登出处理', 'Ly/op5LoibLnmbvlhaXnmbvlh7rlpITnkIYNCiANCi8v6KeS6Imy55m75YWl55m75Ye65aSE55CGDQpmdW5jdGlvbiBob29rX3VzZXJfaW5vdXRfZ2FtZV93b3JsZCgpIHsNCiAgICBjb25zb2xlLmxvZygiPT09PT09PT09PT09PT09PT09PT09PT4g5byA5ZCv6KeS6Imy55m75YWl55m75Ye65aSE55CGIik7DQogICAgLy/pgInmi6nop5LoibLlpITnkIblh73mlbAgSG9vayBHYW1lV29ybGQ6OnJlYWNoX2dhbWVfd29ybGQNCiAgICBJbnRlcmNlcHRvci5hdHRhY2gocHRyKDB4ODZDNEU1MCksIHsNCiAgICAgICAgLy/lh73mlbDlhaXlj6MsIOaLv+WIsOWHveaVsOWPguaVsGFyZ3MNCiAgICAgICAgb25FbnRlcjogZnVuY3Rpb24gKGFyZ3MpIHsNCiAgICAgICAgICAgIC8v5L+d5a2Y5Ye95pWw5Y+C5pWwDQogICAgICAgICAgICB0aGlzLnVzZXIgPSBhcmdzWzFdOyAgICAgICAgICANCiAgICAgICAgICAgIHZhciBjaGFyYWNfbm8gPSBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjTm8odGhpcy51c2VyKTsNCiAgICAgICAgICAgIHZhciBjaGFyYWNfTmFtZSA9IGFwaV9DVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjTmFtZSh0aGlzLnVzZXIpOw0KICAgICAgICAgICAgY29uc29sZS5sb2coJ+inkuiJsjwnK2NoYXJhY19OYW1lKyc6JytjaGFyYWNfbm8rJz7nmbvlvZXmuLjmiI8nKTsNCiAgICAgICAgICAgIHZhciBnYW1lX2NvbmZpZyA9IGdsb2JhbF9jb25maWdbJ2dhbWVfY29uZmlnJ107DQogICAgICAgICAgICBpZihnYW1lX2NvbmZpZ1snZW5hYmxlX3VzZXJfbG9naW5fd2VsY29tZSddID09PSAndHJ1ZScpew0KICAgICAgICAgICAgIC8v57uZ6KeS6Imy5Y+R5raI5oGv6Zeu5YCZDQogICAgICAgICAgICAgYXBpX0NVc2VyX1NlbmROb3RpUGFja2V0TWVzc2FnZSh0aGlzLnVzZXIsIGdhbWVfY29uZmlnWydlbmFibGVfdXNlcl9sb2dpbl93ZWxjb21lX3RleHQnXS5yZXBsYWNlKCclcycsIGNoYXJhY19OYW1lKSwgMSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICAvL+mikemBk+WFrOWRig0KICAgICAgICAgICAgaWYoZ2FtZV9jb25maWdbJ2VuYWJsZV91c2VyX2xvZ2luX25vdGljZSddID09PSAndHJ1ZScpew0KICAgICAgICAgICAgIHB1c2hTZW5kTm90aVBhY2tldE1lc3NhZ2UoZ2FtZV9jb25maWdbJ2VuYWJsZV91c2VyX2xvZ2luX25vdGljZV90ZXh0J10ucmVwbGFjZSgnJXMnLCBjaGFyYWNfTmFtZSksMTYpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdmFyIHVzZXJEdG89ew0KICAgICAgICAgICAgICAgICd0eXBlJzonZ2FtZV91c2VyX2xvZ2luJywNCiAgICAgICAgICAgICAgICAnZGF0YSc6IGNoYXJhY19ubw0KICAgICAgICAgICAgfTsNCiAgICAgICAgICAgIHNlbmQoSlNPTi5zdHJpbmdpZnkodXNlckR0bykpOw0KICAgICAgICB9LA0KICAgICAgICAvL+WOn+WHveaVsOaJp+ihjOWujOavlSwg6L+Z6YeM5Y+v5Lul5b6X5Yiw5bm25L+u5pS56L+U5Zue5YC8cmV0dmFsDQogICAgICAgIG9uTGVhdmU6IGZ1bmN0aW9uIChyZXR2YWwpIHsNCiAgICAgICAgfQ0KICAgIH0pOw0KDQogICAgLy/op5LoibLpgIDlh7rml7blpITnkIblh73mlbAgSG9vayBHYW1lV29ybGQ6OmxlYXZlX2dhbWVfd29ybGQNCiAgICBJbnRlcmNlcHRvci5hdHRhY2gocHRyKDB4ODZDNTI4OCksIHsNCiAgICAgICAgb25FbnRlcjogZnVuY3Rpb24gKGFyZ3MpIHsNCiAgICAgICAgICAgIHZhciB1c2VyID0gYXJnc1sxXTsNCiAgICAgICAgICAgIHRoaXMudXNlciA9IHVzZXI7DQogICAgICAgIH0NCiAgICB9KTsNCiAgICAvL+inkuiJsumAgOWHuuaXtuWkhOeQhuWHveaVsCBIb29rIENHYW1lTWFuYWdlcjo6dXNlcl9leGl0DQogICAgSW50ZXJjZXB0b3IuYXR0YWNoKHB0cigweDA4Mjk4NWE4KSwgew0KDQogICAgICAgIG9uRW50ZXI6IGZ1bmN0aW9uIChhcmdzKSB7DQogICAgICAgICAgICB2YXIgdXNlciA9IGFyZ3NbMV07DQogICAgICAgICAgICB0aGlzLnVzZXIgPSB1c2VyOw0KICAgICAgICAgICAgdmFyIGNoYXJhY19ubyA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNObyh0aGlzLnVzZXIpOw0KICAgICAgICAgICAgdmFyIGNoYXJhY19OYW1lID0gYXBpX0NVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNOYW1lKHRoaXMudXNlcik7DQogICAgICAgICAgICBjb25zb2xlLmxvZygn6KeS6ImyPCcrY2hhcmFjX05hbWUrJzonK2NoYXJhY19ubysnPumAgOWHuua4uOaIjycpOw0KICAgICAgICAgICAgLy/popHpgZPlhazlkYoNCiAgICAgICAgICAgIGlmKGdhbWVfY29uZmlnWydlbmFibGVfdXNlcl9leGl0X25vdGljZSddID09PSAndHJ1ZScpew0KICAgICAgICAgICAgIHB1c2hTZW5kTm90aVBhY2tldE1lc3NhZ2UoZ2FtZV9jb25maWdbJ2VuYWJsZV91c2VyX2V4aXRfbm90aWNlX3RleHQnXS5yZXBsYWNlKCclcycsIGNoYXJhY19OYW1lKSwxNik7DQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIG9uTGVhdmU6IGZ1bmN0aW9uIChyZXR2YWwpIHsNCiAgICAgICAgICAgIC8vIHZhciBhY2NJZCA9IENVc2VyX2dldF9hY2NfaWQodGhpcy51c2VyKTsNCiAgICAgICAgfQ0KICAgIH0pOw0KfQ==', '角色登入登出处理', 'hook_user_inout_game_world', 0);
            INSERT INTO da_frida_function (children_function, function_name, function_context, remark, function_key, is_system_fun) VALUES('sever_base_funcation', '魔法封印自动解封', 'Ly/prZTms5XlsIHljbDoh6rliqjop6PlsIENCmZ1bmN0aW9uIGF1dG9fdW5zZWFsX3JhbmRvbV9vcHRpb25fZXF1aXBtZW50KCkgew0KICAgIC8vQ0ludmVudG9yeTo6aW5zZXJ0SXRlbUludG9JbnZlbnRvcnkNCiAgICBjb25zb2xlLmxvZygiPT09PT09PT09PT09PT09PT09PT09PT4g6a2U5rOV5bCB5Y2w6Ieq5Yqo6Kej5bCBIik7DQogICAgSW50ZXJjZXB0b3IuYXR0YWNoKHB0cigweDg1MDJEODYpLCB7DQogICAgICAgIG9uRW50ZXI6IGZ1bmN0aW9uIChhcmdzKSB7DQogICAgICAgICAgICB0aGlzLnVzZXIgPSBhcmdzWzBdLnJlYWRQb2ludGVyKCk7DQogICAgICAgIH0sDQogICAgICAgIG9uTGVhdmU6IGZ1bmN0aW9uIChyZXR2YWwpIHsNCg0KICAgICAgICAgICAgLy/nianlk4HmoI/mlrDlop7nianlk4HnmoTkvY3nva4NCiAgICAgICAgICAgIHZhciBzbG90ID0gcmV0dmFsLnRvSW50MzIoKTsNCiAgICAgICAgICAgIGlmIChzbG90ID4gMCkgew0KICAgICAgICAgICAgICAgIC8v6I635Y+W6YGT5YW355qE6KeS6ImyDQogICAgICAgICAgICAgICAgdmFyIHVzZXIgPSB0aGlzLnVzZXI7DQoNCiAgICAgICAgICAgICAgICAvL+inkuiJsuiDjOWMhQ0KICAgICAgICAgICAgICAgIHZhciBpbnZlbiA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNJbnZlblcodXNlcik7DQoNCiAgICAgICAgICAgICAgICAvL+iDjOWMheS4reaWsOWinueahOmBk+WFtw0KICAgICAgICAgICAgICAgIHZhciBpbnZlbl9pdGVtID0gQ0ludmVudG9yeV9HZXRJbnZlblJlZihpbnZlbiwgSU5WRU5UT1JZX1RZUEVfSVRFTSwgc2xvdCk7DQoNCiAgICAgICAgICAgICAgICAvL+i/h+a7pOmBk+WFt+exu+Weiw0KICAgICAgICAgICAgICAgIGlmICghSW52ZW5fSXRlbV9pc0VxdWlwYWJsZUl0ZW1UeXBlKGludmVuX2l0ZW0pKQ0KICAgICAgICAgICAgICAgICAgICByZXR1cm47DQoNCiAgICAgICAgICAgICAgICAvL+ijheWkh2lkDQogICAgICAgICAgICAgICAgdmFyIGl0ZW1faWQgPSBJbnZlbl9JdGVtX2dldEtleShpbnZlbl9pdGVtKTsNCg0KICAgICAgICAgICAgICAgIC8vcHZm5Lit6I635Y+W6KOF5aSH5pWw5o2uDQogICAgICAgICAgICAgICAgdmFyIGNpdGVtID0gQ0RhdGFNYW5hZ2VyX2ZpbmRfaXRlbShHX0NEYXRhTWFuYWdlcigpLCBpdGVtX2lkKTsNCg0KICAgICAgICAgICAgICAgIC8v5qOA5p+l6KOF5aSH5piv5ZCm5Li66a2U5rOV5bCB5Y2w57G75Z6LDQogICAgICAgICAgICAgICAgaWYgKCFDRXF1aXBJdGVtX0lzUmFuZG9tT3B0aW9uKGNpdGVtKSkNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KDQogICAgICAgICAgICAgICAgLy/mmK/lkKblt7Looqvop6PpmaTprZTms5XlsIHljbDvvIjprZTms5XlsIHljbDliY0xMOS4quWtl+iKguaYr+WQpuS4ujDvvIkNCiAgICAgICAgICAgICAgICB2YXIgcmFuZG9tX29wdGlvbiA9IGludmVuX2l0ZW0uYWRkKDM3KTsNCiAgICAgICAgICAgICAgICBpZiAocmFuZG9tX29wdGlvbi5yZWFkVTMyKCkgfHwgcmFuZG9tX29wdGlvbi5hZGQoNCkucmVhZFUzMigpIHx8IHJhbmRvbV9vcHRpb24uYWRkKDgpLnJlYWRTaG9ydCgpKSB7DQogICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAvL+Wwneivleino+mZpOmtlOazleWwgeWNsA0KICAgICAgICAgICAgICAgIHZhciByZXQgPSByYW5kb21fb3B0aW9uX0NSYW5kb21PcHRpb25JdGVtSGFuZGxlX2dpdmVfb3B0aW9uKHB0cigweDk0MUY4MjApLnJlYWRQb2ludGVyKCksIGl0ZW1faWQsIENJdGVtX0dldFJhcml0eShjaXRlbSksIENJdGVtX0dldFVzYWJsZUxldmVsKGNpdGVtKQ0KICAgICAgICAgICAgICAgICAgICAsIENJdGVtX0dldEl0ZW1Hcm91cE5hbWUoY2l0ZW0pLCBDRXF1aXBJdGVtX0dldFJhbmRvbU9wdGlvbkdyYWRlKGNpdGVtKSwgaW52ZW5faXRlbS5hZGQoMzcpKTsNCiAgICAgICAgICAgICAgICBpZiAocmV0KSB7DQogICAgICAgICAgICAgICAgICAgIC8v6YCa55+l5a6i5oi356uv5pyJ6KOF5aSH5pu05pawDQogICAgICAgICAgICAgICAgICAgIENVc2VyX1NlbmRVcGRhdGVJdGVtTGlzdCh1c2VyLCAxLCAwLCBzbG90KTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9KTsNCn0=', '魔法封印自动解封', 'auto_unseal_random_option_equipment', 0);
            INSERT INTO da_frida_function (children_function, function_name, function_context, remark, function_key, is_system_fun) VALUES('sever_base_funcation', '发送邮件', 'DQoNCg0KLy/lj5Hns7vnu5/pgq7ku7Yo5aSa6YGT5YW3KSjop5LoibJjaGFyYWNfbm8sIOmCruS7tuagh+mimCwg6YKu5Lu25q2j5paHLCDph5HluIHmlbDph48sIOmBk+WFt+WIl+ihqCkNCmZ1bmN0aW9uIGFwaV9Xb25nV29ya19DTWFpbEJveEhlbHBlcl9SZXFEQlNlbmROZXdTeXN0ZW1NdWx0aU1haWwodGFyZ2V0X2NoYXJhY19ubywgdGl0bGUsIHRleHQsIGdvbGQsIGl0ZW1fbGlzdCkgew0KICAgIGNvbnNvbGUubG9nKCI9PT09PT09PT09PT09PT09PT09PT09PiDlj5Hns7vnu5/pgq7ku7Yo5aSa6YGT5YW3KSIpDQogICAgLy/mt7vliqDpgZPlhbfpmYTku7YNCiAgICB2YXIgdmVjdG9yID0gTWVtb3J5LmFsbG9jKDEwMCk7DQogICAgc3RkX3ZlY3Rvcl9zdGRfcGFpcl9pbnRfaW50X3ZlY3Rvcih2ZWN0b3IpOw0KICAgIHN0ZF92ZWN0b3Jfc3RkX3BhaXJfaW50X2ludF9jbGVhcih2ZWN0b3IpOw0KDQogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpdGVtX2xpc3QubGVuZ3RoOyArK2kpIHsNCiAgICAgICAgdmFyIGl0ZW1faWQgPSBNZW1vcnkuYWxsb2MoNCk7ICAgICAgICAgIC8v6YGT5YW3aWQNCiAgICAgICAgdmFyIGl0ZW1fY250ID0gTWVtb3J5LmFsbG9jKDQpOyAgICAgICAgIC8v6YGT5YW35pWw6YePDQoNCiAgICAgICAgaXRlbV9pZC53cml0ZUludChpdGVtX2xpc3RbaV1bMF0pOw0KICAgICAgICBpdGVtX2NudC53cml0ZUludChpdGVtX2xpc3RbaV1bMV0pOw0KDQogICAgICAgIHZhciBwYWlyID0gTWVtb3J5LmFsbG9jKDEwMCk7DQogICAgICAgIHN0ZF9tYWtlX3BhaXJfaW50X2ludChwYWlyLCBpdGVtX2lkLCBpdGVtX2NudCk7DQoNCiAgICAgICAgc3RkX3ZlY3Rvcl9zdGRfcGFpcl9pbnRfaW50X3B1c2hfYmFjayh2ZWN0b3IsIHBhaXIpOw0KICAgIH0NCg0KICAgIC8v6YKu5Lu25pSv5oyBMTDkuKrpgZPlhbfpmYTku7bmoLzlrZANCiAgICB2YXIgYWRkaXRpb25fc2xvdHMgPSBNZW1vcnkuYWxsb2MoMTAwMCk7DQogICAgZm9yICh2YXIgaSA9IDA7IGkgPCAxMDsgKytpKSB7DQogICAgICAgIEludmVuX0l0ZW1fSW52ZW5fSXRlbShhZGRpdGlvbl9zbG90cy5hZGQoaSAqIDYxKSk7DQogICAgfQ0KICAgIFdvbmdXb3JrX0NNYWlsQm94SGVscGVyX01ha2VTeXN0ZW1NdWx0aU1haWxQb3N0YWwodmVjdG9yLCBhZGRpdGlvbl9zbG90cywgMTApOw0KDQoNCiAgICB2YXIgdGl0bGVfcHRyID0gTWVtb3J5LmFsbG9jVXRmOFN0cmluZyh0aXRsZSk7ICAgICAgLy/pgq7ku7bmoIfpopgNCiAgICB2YXIgdGV4dF9wdHIgPSBNZW1vcnkuYWxsb2NVdGY4U3RyaW5nKHRleHQpOyAgICAgICAgLy/pgq7ku7bmraPmlocNCiAgICB2YXIgdGV4dF9sZW4gPSBzdHJsZW4odGV4dF9wdHIpOyAgICAgICAgICAgICAgICAgICAgLy/pgq7ku7bmraPmlofplb/luqYNCg0KICAgIC8v5Y+R6YKu5Lu257uZ6KeS6ImyDQogICAgV29uZ1dvcmtfQ01haWxCb3hIZWxwZXJfUmVxREJTZW5kTmV3U3lzdGVtTXVsdGlNYWlsKHRpdGxlX3B0ciwgYWRkaXRpb25fc2xvdHMsIGl0ZW1fbGlzdC5sZW5ndGgsIGdvbGQsIHRhcmdldF9jaGFyYWNfbm8sIHRleHRfcHRyLCB0ZXh0X2xlbiwgMCwgOTksIDEpOw0KfQ==', '发送邮件', 'send_mail_api', 0);
            INSERT INTO da_frida_function (children_function, function_name, function_context, remark, function_key, is_system_fun) VALUES('hook_TimerDispatcher_dispatch', '世界广播(频道内公告)', 'DQoNCi8v5Y+R6YCB5a2X56ym5Liy57uZ5a6i5oi356uvDQpmdW5jdGlvbiBhcGlfSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9zdHJpbmcocGFja2V0X2d1YXJkLCBzKQ0Kew0KICAgIHZhciBwID0gTWVtb3J5LmFsbG9jVXRmOFN0cmluZyhzKTsNCiAgICB2YXIgbGVuID0gc3RybGVuKHApOw0KICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfaW50KHBhY2tldF9ndWFyZCwgbGVuKTsNCiAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2JpbmFyeShwYWNrZXRfZ3VhcmQsIHAsIGxlbik7DQoNCiAgICByZXR1cm47DQp9DQoNCiAvL+S4lueVjOW5v+aSrSjpopHpgZPlhoXlhazlkYopDQpmdW5jdGlvbiBhcGlfR2FtZVdvcmxkX1NlbmROb3RpUGFja2V0TWVzc2FnZShtc2csIG1zZ190eXBlKQ0Kew0KICAgIHZhciBwYWNrZXRfZ3VhcmQgPSBhcGlfUGFja2V0R3VhcmRfUGFja2V0R3VhcmQoKTsNCiAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2hlYWRlcihwYWNrZXRfZ3VhcmQsIDAsIDEyKTsNCiAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2J5dGUocGFja2V0X2d1YXJkLCBtc2dfdHlwZSk7DQogICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9zaG9ydChwYWNrZXRfZ3VhcmQsIDApOw0KICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfYnl0ZShwYWNrZXRfZ3VhcmQsIDApOw0KICAgIGFwaV9JbnRlcmZhY2VQYWNrZXRCdWZfcHV0X3N0cmluZyhwYWNrZXRfZ3VhcmQsIG1zZyk7DQogICAgSW50ZXJmYWNlUGFja2V0QnVmX2ZpbmFsaXplKHBhY2tldF9ndWFyZCwgMSk7DQogICAgR2FtZVdvcmxkX3NlbmRfYWxsX3dpdGhfc3RhdGUoR19HYW1lV29ybGQoKSwgcGFja2V0X2d1YXJkLCAzKTsgIC8v5Y+q57uZc3RhdGUgPj0gMyDnmoTnjqnlrrblj5HlhazlkYoNCiAgICBEZXN0cm95X1BhY2tldEd1YXJkX1BhY2tldEd1YXJkKHBhY2tldF9ndWFyZCk7DQp9DQoNCi8v5ZCR5a6a5pe25Lu75Yqh5YiX6KGo5re75Yqg5LiA5Liq5Y+R6YCB5YWs5ZGK55qE5a6a5pe25Lu75YqhDQpmdW5jdGlvbiBwdXNoU2VuZE5vdGlQYWNrZXRNZXNzYWdlKG1zZywgbXNnX3R5cGUpew0KICB2YXIgYXJncyA9IFtdOw0KICBhcmdzLnB1c2gobXNnKTsNCiAgYXJncy5wdXNoKG1zZ190eXBlKTsNCiAgYXBpX3NjaGVkdWxlT25NYWluVGhyZWFkKGFwaV9HYW1lV29ybGRfU2VuZE5vdGlQYWNrZXRNZXNzYWdlLCBhcmdzKTsNCn0NCg==', '世界广播(频道内公告)', 'api_GameWorld_SendNotiPacketMessage', 0);
            INSERT INTO da_frida_function (children_function, function_name, function_context, remark, function_key, is_system_fun) VALUES('sever_base_funcation', '点券或代币券充值', 'Ly/ngrnliLjlhYXlgLwgKOemgeatouebtOaOpeS/ruaUuWJpbGxpbmflupPmiYDmnInooajlrZfmrrUsIOeCueWIuOebuOWFs+aTjeS9nOWKoeW/heiwg+eUqOaVsOaNruW6k+WtmOWCqOi/h+eoiyEpDQpmdW5jdGlvbiBhcGlfcmVjaGFyZ2VfY2FzaF9jZXJhKHVzZXIsIGFtb3VudCkNCnsNCiAgICAvL+WFheWAvA0KICAgIFdvbmdXb3JrX0lQR19DSVBHSGVscGVyX0lQR0lucHV0KHB0cigweDk0MUY3MzQpLnJlYWRQb2ludGVyKCksIHVzZXIsIDUsIGFtb3VudCwgcHRyKDB4OEM3RkEyMCksIHB0cigweDhDN0ZBMjApLA0KICAgICAgICBNZW1vcnkuYWxsb2NVdGY4U3RyaW5nKCdHTScpLCBwdHIoMCksIHB0cigwKSwgcHRyKDApKTsNCg0KICAgIC8v6YCa55+l5a6i5oi356uv5YWF5YC857uT5p6cDQogICAgV29uZ1dvcmtfSVBHX0NJUEdIZWxwZXJfSVBHUXVlcnkocHRyKDB4OTQxRjczNCkucmVhZFBvaW50ZXIoKSwgdXNlcik7DQp9DQoNCi8v5Luj5biB5YWF5YC8ICjnpoHmraLnm7TmjqXkv67mlLliaWxsaW5n5bqT5omA5pyJ6KGo5a2X5q61LCDngrnliLjnm7jlhbPmk43kvZzliqHlv4XosIPnlKjmlbDmja7lupPlrZjlgqjov4fnqIshKQ0KZnVuY3Rpb24gYXBpX3JlY2hhcmdlX2Nhc2hfY2VyYV9wb2ludCh1c2VyLCBhbW91bnQpDQp7DQogICAgLy/lhYXlgLwNCiAgICBXb25nV29ya19JUEdfQ0lQR0hlbHBlcl9JUEdJbnB1dFBvaW50KHB0cigweDk0MUY3MzQpLnJlYWRQb2ludGVyKCksIHVzZXIsIGFtb3VudCwgNCwgcHRyKDApLCBwdHIoMCkpOw0KDQogICAgLy/pgJrnn6XlrqLmiLfnq6/lhYXlgLznu5PmnpwNCiAgICBXb25nV29ya19JUEdfQ0lQR0hlbHBlcl9JUEdRdWVyeShwdHIoMHg5NDFGNzM0KS5yZWFkUG9pbnRlcigpLCB1c2VyKTsNCn0=', '点券或代币券充值', 'api_recharge_cash_cera_point', 0);
            INSERT INTO da_frida_function (children_function, function_name, function_context, remark, function_key, is_system_fun) VALUES('sever_base_funcation', '挂接消息分发线程', 'DQoNCg0KLy/pnIDopoHlnKhkaXNwYXRjaGVy57q/56iL5omn6KGM55qE5Lu75Yqh6Zif5YiXKOeDreWKoOi9veWQjuS8muiiq+a4heepuikNCnZhciB0aW1lcl9kaXNwYXRjaGVyX2xpc3QgPSBbXTsNCg0KLy/lnKhkaXNwYXRjaGVy57q/56iL5omn6KGMKGFyZ3PkuLrlh73mlbBm55qE5Y+C5pWw57uE5oiQ55qE5pWw57uELCDoi6Vm5peg5Y+C5pWwYXJnc+WPr+S4um51bGwpDQpmdW5jdGlvbiBhcGlfc2NoZWR1bGVPbk1haW5UaHJlYWQoZiwgYXJncykNCnsNCiAgICAvL+e6v+eoi+WuieWFqA0KICAgIHZhciBndWFyZCA9IGFwaV9HdWFyZF9NdXRleF9HdWFyZCgpOw0KDQogICAgdGltZXJfZGlzcGF0Y2hlcl9saXN0LnB1c2goW2YsIGFyZ3NdKTsNCg0KICAgIERlc3Ryb3lfR3VhcmRfTXV0ZXhfR3VhcmQoZ3VhcmQpOw0KDQogICAgcmV0dXJuOw0KfQ0KDQovL+iuvue9ruWumuaXtuWZqCDliLDmnJ/lkI7lnKhkaXNwYXRjaGVy57q/56iL5omn6KGMDQpmdW5jdGlvbiBhcGlfc2NoZWR1bGVPbk1haW5UaHJlYWRfZGVsYXkoZiwgYXJncywgZGVsYXkpDQp7DQogICAgc2V0VGltZW91dChhcGlfc2NoZWR1bGVPbk1haW5UaHJlYWQsIGRlbGF5LCBmLCBhcmdzKTsNCn0NCg0KDQovL+eUs+ivt+mUgSjnlLPor7flkI7liqHlv4XmiYvliqjph4rmlL4hISEpDQpmdW5jdGlvbiBhcGlfR3VhcmRfTXV0ZXhfR3VhcmQoKQ0Kew0KICAgIHZhciBhMSA9IE1lbW9yeS5hbGxvYygxMDApOw0KICAgIEd1YXJkX011dGV4X0d1YXJkKGExLCBHX1RpbWVyUXVldWUoKS5hZGQoMTYpKTsNCg0KICAgIHJldHVybiBhMTsNCn0NCg0KLy/lpITnkIbliLDmnJ/nmoToh6rlrprkuYnlrprml7blmagNCmZ1bmN0aW9uIGRvX3RpbWVyX2Rpc3BhdGNoKCkNCnsNCiAgICAvL+W9k+WJjeW+heWkhOeQhueahOWumuaXtuWZqOS7u+WKoeWIl+ihqA0KICAgIHZhciB0YXNrX2xpc3QgPSBbXTsNCg0KICAgIC8v57q/56iL5a6J5YWoDQogICAgdmFyIGd1YXJkID0gYXBpX0d1YXJkX011dGV4X0d1YXJkKCk7DQoNCiAgICAvL+S+neasoeWPluWHuumYn+WIl+S4reeahOS7u+WKoQ0KICAgIHdoaWxlKHRpbWVyX2Rpc3BhdGNoZXJfbGlzdC5sZW5ndGggPiAwKQ0KICAgIHsNCiAgICAgICAgLy/lhYjlhaXlhYjlh7oNCiAgICAgICAgdmFyIHRhc2sgPSB0aW1lcl9kaXNwYXRjaGVyX2xpc3Quc2hpZnQoKTsNCiAgICAgICAgdGFza19saXN0LnB1c2godGFzayk7DQogICAgfQ0KDQogICAgRGVzdHJveV9HdWFyZF9NdXRleF9HdWFyZChndWFyZCk7DQoNCiAgICAvL+aJp+ihjOS7u+WKoQ0KICAgIGZvcih2YXIgaT0wOyBpPHRhc2tfbGlzdC5sZW5ndGg7ICsraSkNCiAgICB7DQogICAgICAgIHZhciB0YXNrID0gdGFza19saXN0W2ldOw0KDQogICAgICAgIHZhciBmID0gdGFza1swXTsNCiAgICAgICAgdmFyIGFyZ3MgPSB0YXNrWzFdOw0KDQogICAgICAgIGYuYXBwbHkobnVsbCwgYXJncyk7DQogICAgfQ0KfQ0KDQoNCi8v5oyC5o6l5raI5oGv5YiG5Y+R57q/56iLIOehruS/neS7o+eggee6v+eoi+WuieWFqA0KZnVuY3Rpb24gaG9va19UaW1lckRpc3BhdGNoZXJfZGlzcGF0Y2goKQ0Kew0KICAgIC8vaG9vayBUaW1lckRpc3BhdGNoZXI6OmRpc3BhdGNoDQogICAgLy/mnI3liqHlmajlhoXnva7lrprml7blmagg5q+P56eS6Iez5bCR5omn6KGM5LiA5qyhDQogICAgSW50ZXJjZXB0b3IuYXR0YWNoKHB0cigweDg2MzJBMTgpLCB7DQoNCiAgICAgICAgb25FbnRlcjogZnVuY3Rpb24gKGFyZ3MpIHsNCiAgICAgICAgfSwNCiAgICAgICAgb25MZWF2ZTogZnVuY3Rpb24gKHJldHZhbCkgew0KDQogICAgICAgICAgICAvL+a4heepuuetieW+heaJp+ihjOeahOS7u+WKoemYn+WIlw0KICAgICAgICAgICAgZG9fdGltZXJfZGlzcGF0Y2goKTsNCiAgICAgICAgfQ0KICAgIH0pOw0KfQ==', '挂接消息分发线程 执行需要在主线程运行的代码', 'hook_TimerDispatcher_dispatch', 0);
            INSERT INTO da_frida_function (children_function, function_name, function_context, remark, function_key, is_system_fun) VALUES('load_json_config', '深渊强制非常困难', 'DQoNCkludGVyY2VwdG9yLmF0dGFjaChwdHIoMHgwODJGRkEyRSksIHsNCiAgICBvbkxlYXZlOiBmdW5jdGlvbiAocmV0dmFsKSB7DQogICAgICAgIGlmIChnbG9iYWxfY29uZmlnWydnYW1lX2NvbmZpZyddWydzdGFydEhlbGxQYXJ0eVZlcnltaXNlcmFibGUnXSA9PT0gJ3RydWUnKSB7DQogICAgICAgICAgICByZXR2YWwucmVwbGFjZSgxKTsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCI9PT09PT09PT09PT09PT09PT09PT09PiDmt7HmuIrlvLrliLbpnZ7luLjlm7Dpmr4iKQ0KICAgICAgICB9DQogICAgfQ0KfSkNCg0K', '深渊强制非常困难', 'startHellPartyVerymiserable', 0);
            INSERT INTO da_frida_function (children_function, function_name, function_context, remark, function_key, is_system_fun) VALUES('use_item_handler,processing_data', '捕获玩家游戏事件', 'Ly/mjZXojrfnjqnlrrbmuLjmiI/kuovku7YNCmZ1bmN0aW9uIGhvb2tfaGlzdG9yeV9sb2coKSB7DQogICAgLy9jSGlzdG9yeVRyYWNlOjpvcGVyYXRvcigpDQogICAgSW50ZXJjZXB0b3IuYXR0YWNoKHB0cigweDg1NEY5OTApLCB7DQoNCiAgICAgICAgb25FbnRlcjogZnVuY3Rpb24gKGFyZ3MpIHsNCg0KICAgICAgICAgICAgLy/op6PmnpDml6Xlv5flhoXlrrk6ICIxODAwMDAwOCIsMTgwMDAwMDgsRCwxNDU2MzYsIm5pY2tuYW1lIiwxLDcyLDgsMCwxOTIuMTY4LjIwMC4xLDE5Mi4xNjguMjAwLjEsNTA5NjMsMTEsIER1bmdlb25MZWF2ZSwi6b6N5Lq65LmL5aGUIiwwLDAsImFhYmIiLCJhYWJiIiwiTi9BIiwiTi9BIiwiTi9BIg0KICAgICAgICAgICAgdmFyIGhpc3RvcnlfbG9nID0gYXJnc1sxXS5yZWFkVXRmOFN0cmluZygtMSk7DQogICAgICAgICAgICB2YXIgZ3JvdXAgPSBoaXN0b3J5X2xvZy5zcGxpdCgnLCcpOw0KDQogICAgICAgICAgICAvL+inkuiJsuS/oeaBrw0KICAgICAgICAgICAgdmFyIGFjY291bnRfaWQgPSBwYXJzZUludChncm91cFsxXSk7DQogICAgICAgICAgICB2YXIgdGltZV9oaF9tbV9zcyA9IGdyb3VwWzNdOw0KICAgICAgICAgICAgdmFyIGNoYXJhY19uYW1lID0gZ3JvdXBbNF07DQogICAgICAgICAgICB2YXIgY2hhcmFjX25vID0gZ3JvdXBbNV07DQogICAgICAgICAgICB2YXIgY2hhcmFjX2xldmVsID0gZ3JvdXBbNl07DQogICAgICAgICAgICB2YXIgY2hhcmFjX2pvYiA9IGdyb3VwWzddOw0KICAgICAgICAgICAgdmFyIGNoYXJhY19ncm93dHlwZSA9IGdyb3VwWzhdOw0KICAgICAgICAgICAgdmFyIHVzZXJfd2ViX2FkZHJlc3MgPSBncm91cFs5XTsNCiAgICAgICAgICAgIHZhciB1c2VyX3BlZXJfaXAyID0gZ3JvdXBbMTBdOw0KICAgICAgICAgICAgdmFyIHVzZXJfcG9ydCA9IGdyb3VwWzExXTsNCiAgICAgICAgICAgIHZhciBjaGFubmVsX2luZGV4ID0gZ3JvdXBbMTJdOyAgICAgICAgICAgICAgLy/lvZPliY3popHpgZNpZA0KDQogICAgICAgICAgICAvL+eOqeWutua4uOaIj+S6i+S7tg0KICAgICAgICAgICAgdmFyIGdhbWVfZXZlbnQgPSBncm91cFsxM10uc2xpY2UoMSk7ICAgICAgICAvL+WIoOmZpOWkmuS9meepuuagvA0KDQogICAgICAgICAgICAvL+inpuWPkea4uOaIj+S6i+S7tueahOinkuiJsg0KICAgICAgICAgICAgdmFyIHVzZXIgPSBHYW1lV29ybGRfZmluZF91c2VyX2Zyb21fd29ybGRfYnlhY2NpZChHX0dhbWVXb3JsZCgpLCBhY2NvdW50X2lkKTsNCg0KICAgICAgICAgICAgaWYgKHVzZXIuaXNOdWxsKCkpDQogICAgICAgICAgICAgICAgcmV0dXJuOw0KDQogICAgICAgICAgICAvL+mBk+WFt+WHj+WwkTogIEl0ZW0tLDEsMTAwMDAxMTMsNjMsMSwzLDYzLDAsMCwwLDAsMCwwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwLDAsMCwwMDAwMDAwMDAwMDAwMDAwMDAwMA0KICAgICAgICAgICAgaWYgKGdhbWVfZXZlbnQgPT0gJ0l0ZW0tJykgew0KICAgICAgICAgICAgICAgIHZhciBpdGVtX2lkID0gcGFyc2VJbnQoZ3JvdXBbMTVdKTsgICAgICAgICAgICAgICAgLy/mnKzmrKHmk43kvZzpgZPlhbdpZA0KICAgICAgICAgICAgICAgIHZhciBpdGVtX2NudCA9IHBhcnNlSW50KGdyb3VwWzE3XSk7ICAgICAgICAgICAgICAgLy/mnKzmrKHmk43kvZzpgZPlhbfmlbDph48NCiAgICAgICAgICAgICAgICB2YXIgcmVhc29uID0gcGFyc2VJbnQoZ3JvdXBbMThdKTsgICAgICAgICAgICAgICAgIC8v5pys5qyh5pON5L2c5Y6f5ZugDQoNCg0KICAgICAgICAgICAgICAgIC8vbG9nKCfnjqnlrrZbJyArIGNoYXJhY19uYW1lICsgJ13pgZPlhbflh4/lsJEsIOWOn+WboDonICsgcmVhc29uICsgJyjpgZPlhbdpZD0nICsgaXRlbV9pZCArICcsIOS9v+eUqOaVsOmHjz0nICsgaXRlbV9jbnQpOw0KDQogICAgICAgICAgICAgICAgaWYgKDUgPT0gcmVhc29uKSB7DQogICAgICAgICAgICAgICAgICAgIC8v5Lii5byD6YGT5YW3DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGVsc2UgaWYgKDMgPT0gcmVhc29uKSB7DQogICAgICAgICAgICAgICAgICAgIC8v5L2/55So6YGT5YW3DQogICAgICAgICAgICAgICAgICAgIC8v6L+Z6YeM5bm25pyq5pS55Y+Y6YGT5YW35Y6f5aeL5pWI5p6cIOWOn+Wni+aViOaenOaIkOWKn+aJp+ihjOWQjuinpuWPkeS4i+mdoueahOS7o+eggQ0KICAgICAgICAgICAgICAgICAgICB1c2VfaXRlbV9oYW5kbGVyKHVzZXIsaXRlbV9pZCkNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgZWxzZSBpZiAoOSA9PSByZWFzb24pIHsNCiAgICAgICAgICAgICAgICAgICAgLy/liIbop6PpgZPlhbcNCiAgICAgICAgICAgICAgICAgICAgLy9kaXNpbnRlZ3JhdGVfaXRlbV9oYW5kbGVyKGl0ZW1faWQpDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGVsc2UgaWYgKDEwID09IHJlYXNvbikgew0KICAgICAgICAgICAgICAgICAgICAvL+S9v+eUqOWxnuaAp+efs+WktA0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGVsc2UgaWYgKGdhbWVfZXZlbnQgPT0gJ0tpbGxNb2InKSB7DQogICAgICAgICAgICAgICAgLy/mnYDmrbvmgKrniakNCiAgICAgICAgICAgICAgICAvL+mtlOazleWwgeWNsOijheWkh+ivjeadoeWNh+e6pw0KICAgICAgICAgICAgICAgIC8vYm9vc3RfcmFuZG9tX29wdGlvbl9lcXUodXNlcik7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBlbHNlIGlmIChnYW1lX2V2ZW50ID09ICdNb25leSsnKSB7DQogICAgICAgICAgICAgICAgdmFyIGN1cl9tb25leSA9IHBhcnNlSW50KGdyb3VwWzE0XSk7ICAgICAgICAgICAgICAgIC8v5b2T5YmN5oyB5pyJ55qE6YeR5biB5pWw6YePDQogICAgICAgICAgICAgICAgdmFyIGFkZF9tb25leSA9IHBhcnNlSW50KGdyb3VwWzE1XSk7ICAgICAgICAgICAgICAgIC8v5pys5qyh6I635b6X6YeR5biB5pWw6YePDQogICAgICAgICAgICAgICAgdmFyIHJlYXNvbiA9IHBhcnNlSW50KGdyb3VwWzE2XSk7ICAgICAgICAgICAgICAgICAgIC8v5pys5qyh6I635b6X6YeR5biB5Y6f5ZugDQoNCiAgICAgICAgICAgICAgICAvL2xvZygn546p5a62WycgKyBjaGFyYWNfbmFtZSArICdd6I635Y+W6YeR5biBLCDljp/lm6A6JyArIHJlYXNvbiArICco5b2T5YmN5oyB5pyJ6YeR5biBPScgKyBjdXJfbW9uZXkgKyAnLCDmnKzmrKHojrflvpfph5HluIHmlbDph489JyArIGFkZF9tb25leSk7DQoNCiAgICAgICAgICAgICAgICBpZiAoNCA9PSByZWFzb24pIHsNCiAgICAgICAgICAgICAgICAgICAgLy/lia/mnKzmi77lj5YNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgZWxzZSBpZiAoNSA9PSByZWFzb24pIHsNCiAgICAgICAgICAgICAgICAgICAgLy/lia/mnKzpgJrlhbPnv7vniYzojrflj5bph5HluIENCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICBlbHNlIGlmIChnYW1lX2V2ZW50ID09ICdEdW5nZW9uTGVhdmUnKSB7DQogICAgICAgICAgICAgICAgLy/nprvlvIDlia/mnKwNCiAgICAgICAgICAgICAgICAvL+WIt+WujOWJr+acrOWQjiwg6YeN572u5byC55WMK+aegemZkOelreWdm+asoeaVsA0KICAgICAgICAgICAgICAgIC8vQ1VzZXJfRGltZW5zaW9uSW5vdXRVcGRhdGUodXNlciwgMSwgMSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBlbHNlIGlmIChnYW1lX2V2ZW50ID09ICdJdGVtKycpIHsNCiAgICAgICAgICAgICAgICB2YXIgaXRlbV9pZCA9IHBhcnNlSW50KGdyb3VwWzE1XSk7DQogICAgICAgICAgICAgICAgdmFyIGdyb3VwXzE4ID0gcGFyc2VJbnQoZ3JvdXBbMThdKTsNCiAgICAgICAgICAgICAgICBpZiAoZ3JvdXBfMTggPT0gNCkgew0KICAgICAgICAgICAgICAgICAgICAvL+WJr+acrOaNoeS4nOilv+WWiuWWh+WPree7meeCueWIuA0KICAgICAgICAgICAgICAgICAgICBwcm9jZXNzaW5nX2RhdGEoaXRlbV9pZCwgdXNlcik7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KDQogICAgICAgIH0sDQogICAgICAgIG9uTGVhdmU6IGZ1bmN0aW9uIChyZXR2YWwpIHsNCg0KICAgICAgICB9DQogICAgfSk7DQp9DQo=', '捕获玩家游戏事件', 'hook_user_history_log', 0);
            INSERT INTO da_frida_function (children_function, function_name, function_context, remark, function_key, is_system_fun) VALUES('', '玩家使用道具回调', 'ZnVuY3Rpb24gdXNlX2l0ZW1faGFuZGxlcih1c2VyLCBpdGVtX2lkKXsNCiAgICAvLyDku7vliqHmuIXpmaTliLjvvIwgIOS7u+WKoeWujOaIkOWIuCDmiJDlsLHku7vliqHlrozmiJDliLgg5Li757q/562JDQoNCiAgICAvLyBpZignODA3MCcgPT0gaXRlbV9pZCkNCiAgICAvLyB7DQogICAgLy8gICAgIC8v5omA5pyJ55qE5Lu75Yqh5a6M5oiQ5Yi4DQogICAgLy8gICAgIGNsZWFyX2FsbF9xdWVzdF9ieV9jaGFyYWN0ZXJfbGV2ZWwodXNlcik7DQogICAgLy8gfQ0KICAgIC8vIGlmKCc2OTAwMDAxMTknID09PSBpdGVtX2lkKQ0KICAgIC8vIHsNCiAgICAvLyAgICAgLy/ku6XmjqXku7vliqHlrozmiJDliLgNCiAgICAvLyAgICAgZXF1SW5oZXJpdCh1c2VyKTsNCiAgICAvLyB9DQogICAgLy8gaWYoJzgwNzEnID09IGl0ZW1faWQpew0KICAgIC8vICAgICAvLyDoo4XlpIfnu6fmib8gIOWujOe+jue7p+aJv+W8uuWMlu+8jOWinuW5hSDvvIzlrp3nj6Ag77yM6ZS76YCg77yI6L+Y5Y+v5Lul5a6e546wICtu55qE6ZS76YCg5Yi477yJDQogICAgLy8gICAgIGVxdUluaGVyaXQodXNlcik7DQogICAgLy8gfQ0KDQogICAgLy8gaWYoJzgwNzMnID09IGl0ZW1faWQpew0KICAgIC8vICAgICAvLyDoo4XlpIfot6jnlYwNCiAgICAvLyAgICAgY3Jvc3NvdmVyKHVzZXIpOw0KICAgIC8vIH0NCiAgICAvLyBpZignMjAyMjA5MTInID09IGl0ZW1faWQpew0KICAgIC8vICAgICAvLyDliIbop6MNCiAgICAvLyAgICAgZGVjb21wb3NlKHVzZXIpDQogICAgLy8gfQ0KICAgIC8vIGlmKCcxMjMwJyA9PSBpdGVtX2lkKXsNCiAgICAvLyAgICAgLy8g6a2U5rOV5bCB5Y2w6YeN572uDQogICAgLy8gICAgIHFjKHVzZXIpDQogICAgLy8gfQ0KICAgIC8vIGlmKCcyNzQ5MTAxJyA9PSBpdGVtX2lkKXsNCiAgICAvLyAgICAgLy8g56ew5Y+35ZCI5oiQDQogICAgLy8gICAgIGNoaGModXNlcikNCiAgICAvLyB9DQogICAgLy8gaWYoJzYxMDAwMDAxJyA9PSBpdGVtX2lkKXsNCiAgICAvLyAgICAgLy8g5q+P5pel5Lu75Yqh5a6M5oiQDQogICAgLy8gICAgIGFwaV9mb3JjZV9jbGVhcl9xdWVzdF9saXN0KHVzZXIsIHF1ZXN0X2xpc3QpDQogICAgLy8gfQ0KICAgIC8vIGlmKCc4MDY4JyA9PSBpdGVtX2lkKXsNCiAgICAvLyAgICAgLy8g5Yid6Zi25byC55WM5YWl5Zy66YeN572uDQogICAgLy8gICAgIHJlc2V0UmVzZXREaW1lbnNpb25Jbm91dCh1c2VyLDApDQogICAgLy8gICAgIHJlc2V0UmVzZXREaW1lbnNpb25Jbm91dCh1c2VyLDEpDQogICAgLy8gICAgIHJlc2V0UmVzZXREaW1lbnNpb25Jbm91dCh1c2VyLDIpDQogICAgLy8gfQ0KICAgIC8vIGlmKCc4MDY5JyA9PSBpdGVtX2lkKXsNCiAgICAvLyAgICAgLy8g6auY6Zi25byC55WM5YWl5Zy66YeN572uDQogICAgLy8gICAgIHJlc2V0UmVzZXREaW1lbnNpb25Jbm91dCh1c2VyLDMpDQogICAgLy8gICAgIHJlc2V0UmVzZXREaW1lbnNpb25Jbm91dCh1c2VyLDQpDQogICAgLy8gICAgIHJlc2V0UmVzZXREaW1lbnNpb25Jbm91dCh1c2VyLDUpDQogICAgLy8gfQ0KfQ==', '玩家使用道具回调', 'use_item_handler', 0);
            INSERT INTO da_frida_function (children_function, function_name, function_context, remark, function_key, is_system_fun) VALUES('debug_message_handler,fix_TOD,hook_TimerDispatcher_dispatch,hook_user_inout_game_world,init_for_game_config,json_message_exec,load_json_config,no_json_message_exec,skillUpgrading,startHellParty,startHellPartyVerymiserable,hook_user_history_log', 'dnf-admin的firda主函数', 'DQoNCg0KLy/liJ3lp4vljJbliqDovb3lh73mlbANCmZ1bmN0aW9uIHN0YXJ0KGNoYW5uZWwpIHsNCiAgICBjb25zb2xlLmxvZygiPT09PT09PT09PT09PT09PT09PT09PT09PnN0YXJ0IGluaXQgZnJpZGEiKTsNCiAgICAvL+aMguaOpea2iOaBr+WIhuWPkee6v+eoiyDmiafooYzpnIDopoHlnKjkuLvnur/nqIvov5DooYznmoTku6PnoIENCiAgICBob29rX1RpbWVyRGlzcGF0Y2hlcl9kaXNwYXRjaCgpOw0KICAgIGxvYWRfY29uZmlnKGNoYW5uZWwpOw0KICAgIGluaXRGb3JDb25maWcoKTsNCiAgICAvL+S/ruWkjee7neacm+S5i+WhlA0KICAgIGZpeF9UT0QoKTsNCiAgICAvL+inkuiJsueZu+WFpeeZu+WHuuWkhOeQhg0KICAgIGhvb2tfdXNlcl9pbm91dF9nYW1lX3dvcmxkKCkNCiAgICAvL+aNleiOt+eOqeWutua4uOaIj+S6i+S7tg0KICAgIGhvb2tfaGlzdG9yeV9sb2coKTsNCiAgICBjb25zb2xlLmxvZygiPT09PT09PT09PT09PT09PT09PT09PT09PmZyaWRhIHN0YXJ0IHN1Y2Nlc3MiKTsNCn0NCg0KDQovL+WHveaVsOWvvOWHuuOAgeWPguaVsOiwg+ivlQ0KcnBjLmV4cG9ydHMgPSB7DQogICAgc3RhcnQ6IGZ1bmN0aW9uIChjaGFubmVsKSB7DQogICAgICAgIHN0YXJ0KGNoYW5uZWwpOw0KICAgIH0sDQogICAgaGFuZGxlckZjTWVzc2FnZTogZnVuY3Rpb24gKHBhcmFtKSB7DQogICAgICAgIHZhciBwYXJhbUpzb24gPSB1bmRlZmluZWQ7DQogICAgICAgIHRyeSB7DQogICAgICAgICAgICBwYXJhbUpzb24gPSBKU09OLnBhcnNlKHBhcmFtKTsNCiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsNCiAgICAgICAgICAgIC8v6Z2eanNvbuagvOW8j+eahOa2iOaBrw0KICAgICAgICAgICAgZXhlY05vSnNvbk1lc3NhZ2UocGFyYW0pOw0KICAgICAgICB9DQogICAgICAgIGlmIChwYXJhbUpzb24gIT09IHVuZGVmaW5lZCkgew0KICAgICAgICAgICAgaWYgKHBhcmFtSnNvbi50eXBlID09PSAnZGVidWcnKSB7DQogICAgICAgICAgICAgICAgZGVidWdmcmlkYShwYXJhbUpzb24uZGF0YSkNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgZXhlY0pzb25NZXNzYWdlKHBhcmFtSnNvbikNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgfSwNCn07', '使用配套服务端和firda必选', 'da_frida_main', 1);
        </sql>
    </changeSet>

    <changeSet author="yuzhanfeng" id="20231217-2" dbms="mysql" failOnError="true">
    <sql dbms="mysql">
        INSERT INTO da_frida_script (script_name, script_context, children_function, remark) VALUES('菜逗逗-1204', 'Ly/lj7DmnI1ETkbmnI3liqHnq69GcmlkYeiEmuacrA0KLy/mnKzohJrmnKzmlLbpm4bkuobluILpnaLkuIrlt7LliIbkuqvnmoTkvJflpJpGcmlkYeiEmuacrO+8jOi/m+ihjOaVtOeQhu+8jOW5tuWBmuWlveebuOW6lOazqOmHiu+8jOWkp+WkmuaVsOWKn+iDveW3sue7j+a1i+ivlQ0KLy/niYjmnYPmiYDmnInkuLrnpZ7niZvlpKflpKfnrYnotKHnjK7ogIXvvIzmnKzkurrku4XlgZrmlLbpm4bmlbTnkIbku6Xlj4rmtYvor5UNCi8v5pW055CG6ICF77ya6I+c6YCX6YCXDQovL+abtOaWsOaXtumXtO+8mjIwMjMtMTItNA0KDQovKioNCiAqICDmnI3liqHnq6/lh73mlbDlo7DmmI4NCiAqLw0KLy/ojrflj5bns7vnu5/ml7bpl7QNCnZhciBDU3lzdGVtVGltZV9nZXRDdXJTZWMgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODBDQkM5RSksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIEdsb2JhbERhdGFfc19zeXN0ZW1UaW1lXyA9IHB0cigweDk0MUY3MTQpOw0KLy/ojrflj5ZVVEPml7bpl7Qo56eSKQ0KdmFyIGdldEN1clNlYyA9IG5ldyBOYXRpdmVGdW5jdGlvbihNb2R1bGUuZ2V0RXhwb3J0QnlOYW1lKG51bGwsICd0aW1lJyksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KDQovL+S7juWuouaIt+err+WwgeWMheS4reivu+WPluaVsOaNrg0KdmFyIFBhY2tldEJ1Zl9nZXRfYnl0ZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4NThDRjIyKSwgJ2ludCcsIFsncG9pbnRlcicsICdwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBQYWNrZXRCdWZfZ2V0X3Nob3J0ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDg1OENGQzApLCAnaW50JywgWydwb2ludGVyJywgJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIFBhY2tldEJ1Zl9nZXRfaW50ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDg1OEQyN0UpLCAnaW50JywgWydwb2ludGVyJywgJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIFBhY2tldEJ1Zl9nZXRfYmluYXJ5ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDg1OEQzQjIpLCAnaW50JywgWydwb2ludGVyJywgJ3BvaW50ZXInLCAnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCg0KLy/mnI3liqHlmajnu4TljIUNCnZhciBQYWNrZXRHdWFyZF9QYWNrZXRHdWFyZCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4NThERDRDKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9oZWFkZXIgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODBDQjhGQyksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50JywgJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9ieXRlID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgwQ0I5MjApLCAnaW50JywgWydwb2ludGVyJywgJ3VpbnQ4J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X3Nob3J0ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgwRDlFQTQpLCAnaW50JywgWydwb2ludGVyJywgJ3VpbnQxNiddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9pbnQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODBDQjkzQyksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2JpbmFyeSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MTFERjA4KSwgJ2ludCcsIFsncG9pbnRlcicsICdwb2ludGVyJywgJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgSW50ZXJmYWNlUGFja2V0QnVmX2ZpbmFsaXplID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgwQ0I5NTgpLCAnaW50JywgWydwb2ludGVyJywgJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgRGVzdHJveV9QYWNrZXRHdWFyZF9QYWNrZXRHdWFyZCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4NThERTgwKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgSW50ZXJmYWNlUGFja2V0QnVmX2NsZWFyID0gIG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODBjYjhlNiksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfcGFja2V0ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MTUwOThlKSwgJ2ludCcsIFsncG9pbnRlcicsJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIFBhY2tldEd1YXJkX2ZyZWVfUGFja2V0R3VhcmQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg1OGRlODApLCAndm9pZCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgUGFja2V0X01vbml0b3JfTWF4X0xldmVsX0Jyb2FkQ2FzdF9QYWNrZXRfTW9uaXRvcl9NYXhfTGV2ZWxfQnJvYWRDYXN0ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4Njk0NTYwKSwgJ3ZvaWQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KDQovL+acjeWKoeWZqOeOr+Wigw0KdmFyIEdfQ0Vudmlyb25tZW50ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MENDMTgxKSwgJ3BvaW50ZXInLCBbXSwgeyJhYmkiOiJzeXN2In0pOw0KLy/ojrflj5blvZPliY3mnI3liqHlmajphY3nva7mlofku7blkI0NCnZhciBDRW52aXJvbm1lbnRfZ2V0X2ZpbGVfbmFtZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MERBMzlBKSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KLy/ojrflj5ZHYW1lV29ybGTlrp7kvosNCnZhciBHX0dhbWVXb3JsZCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MERBM0E3KSwgJ3BvaW50ZXInLCBbXSwgeyJhYmkiOiJzeXN2In0pOw0KLy/moLnmja5zZXJ2ZXJfaWTmn6Xmib51c2VyDQp2YXIgR2FtZVdvcmxkX2ZpbmRfZnJvbV93b3JsZCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4NkM0QjlDKSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInLCAnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCi8v5Z+O6ZWH556s56e7DQp2YXIgR2FtZVdvcmxkX21vdmVfYXJlYSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4NkM1QTg0KSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInLCAncG9pbnRlcicsICdpbnQnLCAnaW50JywgJ2ludCcsICdpbnQnLCAnaW50JywgJ2ludCcsICdpbnQnLCAnaW50JywgJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQovL+agueaNrui0puWPt+afpeaJvuW3sueZu+W9leinkuiJsg0KdmFyIEdhbWVXb3JsZF9maW5kX3VzZXJfZnJvbV93b3JsZF9ieWFjY2lkID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDg2QzRENDApLCAncG9pbnRlcicsIFsncG9pbnRlcicsICdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KLy/lsIbljY/orq7lj5Hnu5nmiYDmnInlnKjnur/njqnlrrYo5oWO55SoISDlub/mkq3nsbvmjqXlj6Plv4XpobvpmZDliLbosIPnlKjpopHnjocsIOmYsuatokND5pS75Ye7KQ0KLy/pmaTpnZ7lv4Xpobvkvb/nlKgsIOWQpuWImeaUueeUqOWvueixoeabtOWKoOaYjuehrueahENQYXJ0eTo6c2VuZF90b19wYXJ0eS9HYW1lV29ybGQ6OnNlbmRfdG9fYXJlYQ0KdmFyIEdhbWVXb3JsZF9zZW5kX2FsbCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4NkM4QzE0KSwgICdpbnQnLCBbJ3BvaW50ZXInLCAncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgR2FtZVdvcmxkX3NlbmRfYWxsX3dpdGhfc3RhdGUgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODZDOTE4NCksICAnaW50JywgWydwb2ludGVyJywgJ3BvaW50ZXInLCAnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCi8v6I635Y+W5Zyo57q/546p5a625pWw6YePDQp2YXIgR2FtZVdvcmxkX2dldF9Vc2VyQ291bnRfSW5Xb3JsZCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4NkM0NTUwKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQovL+WcqOe6v+eOqeWutuWIl+ihqCjnlKjkuo5zdGQ6Om1hcOmBjeWOhikNCnZhciBHYW1ld29ybGRfdXNlcl9tYXBfYmVnaW4gPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODBGNzhBNiksICdpbnQnLCBbJ3BvaW50ZXInLCAncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgR2FtZXdvcmxkX3VzZXJfbWFwX2VuZCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MEY3OENDKSwgJ2ludCcsIFsncG9pbnRlcicsICdwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBHYW1ld29ybGRfdXNlcl9tYXBfbm90X2VxdWFsID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgwRjc4RjIpLCAnYm9vbCcsIFsncG9pbnRlcicsICdwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBHYW1ld29ybGRfdXNlcl9tYXBfZ2V0ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgwRjc5NDQpLCAncG9pbnRlcicsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgR2FtZXdvcmxkX3VzZXJfbWFwX25leHQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODBGNzkwNiksICdwb2ludGVyJywgWydwb2ludGVyJywgJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIEdhbWVXb3JsZF9Jc0VuY2hhbnRSZXZpc2lvbkNoYW5uZWwgPW5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODIzNDNmYyksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIEdhbWVXb3JsZF9nZXREdW5nZW9uTWluaW11bVJlcXVpcmVkTGV2ZWwgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2YzkwNzYpLCAnaW50JywgWydwb2ludGVyJywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBHYW1lV29ybGRfc2VuZF91c2VyX2R1bmdlb25faW5vdXRfbWVzc2FnZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODZjOGZjOCksICd2b2lkJywgWydwb2ludGVyJywncG9pbnRlcicsJ2ludCcsJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgR2FtZVdvcmxkX0lzUHZQU2tpbFRyZWVDaGFubmVsID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MjM0NDFlKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQoNCnZhciBHX0NHYW1lTWFuYWdlciA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODBjYzE4ZSksICdwb2ludGVyJywgW10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDR2FtZU1hbmFnZXJfR2V0UHJlbWl1bUxldGhlTWFuYWdlciA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODI5OGU4OCksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENFdmVudE1hbmFnZXJfR2V0UmVwZWF0RXZlbnQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgxMTU5OTgpLCAncG9pbnRlcicsIFsncG9pbnRlcicsJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgRXZlbnRDbGFzc2lmeV9DRXZlbnRTY3JpcHRNbmdfcHJvY2Vzc19sZXZlbF91cF9yZXdhcmQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgxMGJmNTYpLCAncG9pbnRlcicsIFsncG9pbnRlcicsJ3BvaW50ZXInLCdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIEd1aWxkUGFyYW1ldGVyU2NyaXB0X2dldEd1aWxkTGV2ZWxVcFBhcmFtID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4OTc5NjQ4KSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInLCdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIEd1aWxkUGFyYW1ldGVyU2NyaXB0X2dldEd1aWxkRXhwQm9vayA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODk3OTY3MiksICdpbnQnLCBbJ3BvaW50ZXInLCdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KDQovL+iOt+WPlkRhdGFNYW5hZ2Vy5a6e5L6L77yM55So5LqO5aSE55CGcHZm55qEDQp2YXIgR19DRGF0YU1hbmFnZXIgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODBDQzE5QiksICdwb2ludGVyJywgW10sIHsiYWJpIjoic3lzdiJ9KTsNCi8v5LuOcHZm5Lit6I635Y+W5Lu75Yqh5pWw5o2uDQp2YXIgQ0RhdGFNYW5hZ2VyX2ZpbmRfcXVlc3QgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODM1RkRDNiksICdwb2ludGVyJywgWydwb2ludGVyJywgJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQovL+iOt+WPluijheWkh3B2ZuaVsOaNrg0KdmFyIENEYXRhTWFuYWdlcl9maW5kX2l0ZW0gPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODM1RkEzMiksICdwb2ludGVyJywgWydwb2ludGVyJywgJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ0RhdGFNYW5hZ2VyX2dldF9sZXZlbF9leHAgPSAgbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MzYwNDQyKSwgJ2ludCcsIFsncG9pbnRlcicsJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ0RhdGFNYW5hZ2VyX2dldERhaWx5VHJhaW5pbmdRdWVzdCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODM2NDBmZSksICdwb2ludGVyJywgWydwb2ludGVyJywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDRGF0YU1hbmFnZXJfR2V0U3BBdExldmVsVXAgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgzNjBjYjgpLCAnaW50JywgWydwb2ludGVyJywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDRGF0YU1hbmFnZXJfZ2V0X2V2ZW50X3NjcmlwdF9tbmcgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgxMTBiNjIpLCAncG9pbnRlcicsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ0RhdGFNYW5hZ2VyX0dldEV4cGVydEpvYlNjcmlwdCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODIyYjVmMiksICdwb2ludGVyJywgWydwb2ludGVyJywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDRGF0YU1hbmFnZXJfZ2V0X2RpbWVuc2lvbklub3V0ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MjJiNjEyKSwgJ2ludCcsIFsncG9pbnRlcicsJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQoNCi8v6YCa55+l5a6i5oi356uvUXVlc3RQaWVjZeabtOaWsA0KdmFyIEdFVF9VU0VSID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NGJiOWNmKSwgICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KLy/nu5nop5LoibLlj5Hmtojmga8NCnZhciBDVXNlcl9TZW5kTm90aVBhY2tldE1lc3NhZ2UgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODY4ODZDRSksICdpbnQnLCBbJ3BvaW50ZXInLCAncG9pbnRlcicsICdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KLy/op5LoibLlop7liqDnu4/pqowNCnZhciBDVXNlcl9nYWluX2V4cF9zcCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4NjZBM0ZFKSwgJ2ludCcsIFsncG9pbnRlcicsICdpbnQnLCAncG9pbnRlcicsICdwb2ludGVyJywgJ2ludCcsICdpbnQnLCAnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCi8v5Y+R6YCB6YGT5YW3DQp2YXIgQ1VzZXJfQWRkSXRlbSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4NjdCNkQ0KSwgJ2ludCcsIFsncG9pbnRlcicsICdpbnQnLCAnaW50JywgJ2ludCcsICdwb2ludGVyJywgJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQovL+mAmuefpeWuouaIt+err+mBk+WFt+abtOaWsCjlrqLmiLfnq6/mjIfpkogsIOmAmuefpeaWueW8j1vku4XlrqLmiLfnq689MSwg5LiW55WM5bm/5pKtPTAsIOWwj+mYnz0yLCB3YXIgcm9vbT0zXSwgaXRlbVNwYWNlW+ijheWkhz0wLCDml7boo4U9MV0sIOmBk+WFt+aJgOWcqOeahOiDjOWMheanvSkNCnZhciBDVXNlcl9TZW5kVXBkYXRlSXRlbUxpc3QgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODY3QzY1QSksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50JywgJ2ludCcsICdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KLy8g6YCa55+l5a6i5oi356uv5pu05paw6IOM5YyF5qCPDQp2YXIgQ1VzZXJfc2VuZF9pdGVtc3BhY2UgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODY1REI2QyksICAnaW50JywgWydwb2ludGVyJywgJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQovL+iOt+WPlueOqeWutuS7u+WKoeS/oeaBrw0KdmFyIENVc2VyX2dldEN1ckNoYXJhY1F1ZXN0VyA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MTRBQTVFKSwgICdwb2ludGVyJywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCi8v5Lu75Yqh55u45YWz5pON5L2cKOesrOS6jOS4quWPguaVsOS4uuWNj+iurue8luWPtzogMzM95o6l5Y+X5Lu75YqhLCAzND3mlL7lvIPku7vliqEsIDM1PeS7u+WKoeWujOaIkOadoeS7tuW3sua7oei2sywgMzY95o+Q5Lqk5Lu75Yqh6aKG5Y+W5aWW5YqxKQ0KdmFyIENVc2VyX3F1ZXN0X2FjdGlvbiA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY2REE4QSksICAnaW50JywgWydwb2ludGVyJywgJ2ludCcsICdpbnQnLCAnaW50JywgJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQovL+WPkeWMhee7meWuouaIt+errw0KdmFyIENVc2VyX1NlbmQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODY0ODVCQSksICdpbnQnLCBbJ3BvaW50ZXInLCAncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQovL+iuvue9rkdN5a6M5oiQ5Lu75Yqh5qih5byPKOaXoOadoeS7tuWujOaIkOS7u+WKoSkNCnZhciBDVXNlcl9zZXRHbVF1ZXN0RmxhZyA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MjJGQzhFKSwgICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCi8v5piv5ZCmR03ku7vliqHmqKHlvI8NCnZhciBDVXNlcl9nZXRHbVF1ZXN0RmxhZyA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MjJGQzhFKSwgICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KLy/pgJrnn6XlrqLmiLfnq6/mm7TmlrDlt7LlrozmiJDku7vliqHliJfooagNCnZhciBDVXNlcl9zZW5kX2NsZWFyX3F1ZXN0X2xpc3QgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODY4QjA0NCksICAnaW50JywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCi8v6K6h566X5Lu75Yqh5Z+656GA5aWW5YqxKOS4jeWMheWQq+mBk+WFt+WlluWKsSkNCnZhciBDVXNlcl9xdWVzdF9iYXNpY19yZXdhcmQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODY2RTdBOCksICAnaW50JywgWydwb2ludGVyJywgJ3BvaW50ZXInLCAncG9pbnRlcicsICdwb2ludGVyJywgJ3BvaW50ZXInLCAncG9pbnRlcicsICdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KLy/pgJrnn6XlrqLmiLfnq69RUOabtOaWsA0KdmFyIENVc2VyX3NlbmRDaGFyYWNRcCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4NjhBQzI0KSwgICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KLy/pgJrnn6XlrqLmiLfnq69RdWVzdFBpZWNl5pu05pawDQp2YXIgQ1VzZXJfc2VuZENoYXJhY1F1ZXN0UGllY2UgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODY4QUYyQyksICAnaW50JywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCi8v6I635Y+W6KeS6Imy54q25oCBDQp2YXIgQ1VzZXJfZ2V0X3N0YXRlID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgwREEzOEMpLCAnaW50JywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCi8v6YCa55+l5a6i5oi356uv6KeS6Imy5bGe5oCn5pu05pawDQp2YXIgQ1VzZXJfU2VuZE5vdGlQYWNrZXQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODY3QkE1QyksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50JywgJ2ludCcsICdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KLy8g6I635Y+W6LSm5Y+36YeR5bqTDQp2YXIgQ1VzZXJfR2V0QWNjb3VudENhcmdvID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MjJmYzIyKSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KLy/ph43nva7lvILnlYwv5p6B6ZmQ56Wt5Z2b5qyh5pWwDQp2YXIgQ1VzZXJfRGltZW5zaW9uSW5vdXRVcGRhdGUgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODY1NkMxMiksICAnaW50JywgWydwb2ludGVyJywgJ2ludCcsICdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KLy/pgZPlhbfmmK/lkKbooqvplIENCnZhciBDVXNlcl9DaGVja0l0ZW1Mb2NrID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDg2NDY5NDIpLCAnaW50JywgWydwb2ludGVyJywgJ2ludCcsICdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KLy8g6K6+572u55So5oi35pyA5aSn562J57qnIGludOS4uuetiee6pw0KdmFyIENVc2VyX1NldFVzZXJNYXhMZXZlbCAgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2OGZlYzgpLCAncG9pbnRlcicsIFsncG9pbnRlcicsICdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyX0NhbGN1cmF0ZVVzZXJNYXhMZXZlbCAgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2OGZmMDQpLCAncG9pbnRlcicsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQovL+iOt+WPluinkuiJsuaJgOWcqOmYn+S8jQ0KdmFyIENVc2VyX0dldFBhcnR5ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NjU1MTRDKSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KLy/ojrflj5bop5LoibLmianlsZXmlbDmja4NCnZhciBDVXNlcl9HZXRDaGFyYWNFeHBhbmREYXRhID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MERENTg0KSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInLCAnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCi8v6I635Y+W6KeS6Imy54K55Yi45L2Z6aKdDQp2YXIgQ1VzZXJfR2V0Q2VyYSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODBGREY3QSksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KLy/ojrflj5bop5LoibLotKblj7dpZA0KdmFyIENVc2VyX2dldF9hY2NfaWQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODBEQTM2RSksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KLy/ov5Tlm57pgInmi6nop5LoibLnlYzpnaINCnZhciBDVXNlcl9SZXR1cm5Ub1NlbGVjdENoYXJhY0xpc3QgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODY4NkZFRSksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDVXNlcl9TZW5kQ21kRXJyb3JQYWNrZXQgPW5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY3YmY0MiksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50JywgJ3VpbnQ4J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDVXNlcl9DaGVja01vbmV5ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NjZhZjFjKSwgJ2ludCcsIFsncG9pbnRlcicsICdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyX0dldENoYXJhY0V4cGFuZERhdGFSID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MjhiNWRlKSwgJ2ludCcsIFsnaW50JywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDVXNlcl9pc0dNVXNlciA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODE0NTg5YyksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyX29uTGV2ZWxVcCA9ICBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2NjMxMWEpLCAndm9pZCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ1VzZXJfZ2V0SGFkZXMgID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MjMwODAwKSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyX2NoZWNrX2xldmVsX3VwICA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY2MmFlYSksICdpbnQnLCBbJ3BvaW50ZXInLCdpbnQnLCdpbnQnLCdpbnQnLCdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyX2dhaW5fc3AgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2NmE5YTApLCAnaW50JywgWydwb2ludGVyJywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDVXNlcl9nYWluX3NmcCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY2YWFkMiksICdpbnQnLCBbJ3BvaW50ZXInLCdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyX2hpc3RvcnlfbG9nX3NwID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NjZhYzBlKSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInLCdpbnQnLCdpbnQnLCdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyX2hpc3RvcnlfbG9nX3NmcCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY2YWNkMCksICdwb2ludGVyJywgWydwb2ludGVyJywnaW50JywnaW50JywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDVXNlcl9HZXRUdXRvcmlhbFNraXBhYmxlICA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODRlY2FkNCksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyX1VwZGF0ZVR1dG9yaWFsU2tpcGFibGUgID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4Njk3MzE4KSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ1VzZXJfdXBkYXRlX2NoYXJhY19zdGF0ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NjY0NmM4KSwgJ2ludCcsIFsncG9pbnRlcicsJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ1VzZXJfR2V0U2VydmVyR3JvdXAgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgwY2JjOTApLCAnaW50JywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDVXNlcl9tYWtlR3VpbGRMZXZlbFVwTWVzc2FnZSA9ICBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2Nzk3NTQpLCAndm9pZCcsIFsncG9pbnRlcicsJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ1VzZXJfZ2V0Q3VyQ2hhcmFjUXVlc3RSPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgxOWE4YTYpLCAgJ3BvaW50ZXInLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyX1VwZGF0ZVVzZXJJbmZvNEd1aWxkID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NjdjZDIwKSwgJ3ZvaWQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyX2dldF9jaGFyYWNfbm8gPSAgbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MTU3NDFjKSwgJ2ludCcsIFsncG9pbnRlcicsJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ1VzZXJfVmVyaWZ5UHJlc2VudEF2ZW5nZXJUaXRsZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY4YjU1MiksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyX0FkZEN1ckNoYXJhY01lcmNlbmFyeUluZm8gPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2OGU1OTYpLCAncG9pbnRlcicsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ1VzZXJfZGVjaWRlX2dyb3d0aF9wb3dlcl9yZXdhcmRfc3lzdGVtID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NjhkNzgwKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ1VzZXJfUmVDYWxjQ2hhdHRpbmdFbW90aWNvbiA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY4OWEyMiksICd2b2lkJywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDVXNlcl9TZW5kQ2hhdHRpbmdFbW90aWNvbiA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY4OWI5MCksICd2b2lkJywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDVXNlcl9pc0FmZmVjdGVkUHJlbWl1bSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODBlNjAwZSksICdpbnQnLCBbJ2ludCcsICdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyX3Byb2Nlc3NOUENHaWZ0T25MZXZlbFVwID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NjY0MDdhKSwgJ3ZvaWQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyX3Byb2Nlc3NMZXZlbFVwRXZlbnRSZXdhcmQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2NjNjYzApLCAnaW50JywgWydwb2ludGVyJywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDVXNlcl9wcm9jZXNzTGV2ZWxVcEV2ZW50ICA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY5MTE1YSksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyX2luY1BsYXlFeHBBZGQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2OTcyOWEpLCAncG9pbnRlcicsIFsncG9pbnRlcicsICdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyX0NoZWNrSW5UcmFkZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODBkYTJmZSksICd1aW50MTYnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyX2dldEN1ckNoYXJhY1RvdGFsRmF0aWd1ZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY1Nzc2NiksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyX0lzR3VpbGRNYXN0ZXIgPSAgbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MjMwMTcyKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ1VzZXJfR2V0R3VpbGREQkluZm8gPSAgbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MjMwMTY0KSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyX0NhbExldmVsVXBJdGVtQ2hlY2sgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2ODlkMDYpLCAnaW50JywgWydwb2ludGVyJywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDVXNlcl9DYWxMZXZlbFVwSXRlbVN0YXRlID0gIG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY4OWQ3NCksICdpbnQnLCBbJ3BvaW50ZXInLCAncG9pbnRlcicsICdwb2ludGVyJywnaW50JywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDVXNlcl9HZXRDdXJFeHBlcnRKb2JMZXZlbCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY4YmM3YyksICdpbnQnLCBbJ3BvaW50ZXInLCdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyX3NlbmRfc2tpbGxfaW5mbyA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY2YzQ2YSksICd2b2lkJywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDVXNlcl9tYWtlX2Jhc2ljX2luZm8gPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2NWE0NGUpLCAnaW50JywgWydwb2ludGVyJywncG9pbnRlcicsJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ1VzZXJfR2V0V2FyUm9vbSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY1NTFkZSksICdwb2ludGVyJywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDVXNlcl9hZGp1c3RfY2hhcmFjX3N0YXQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2NjQ3NjYpLCAnaW50JywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDVXNlcl9pbmNyZWFzZV9zdGF0dXMgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2NjU3ZmMpLCAndm9pZCcsIFsncG9pbnRlcicsICdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyX1NlbmRUYWdDaGFyYWNJbmZvID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NjkwM2Y4KSwgJ3ZvaWQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyX2dpdmVDaGFyYWNMaW5rQm9udXNFeHA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY1MjU2NCksICd2b2lkJywgWydwb2ludGVyJywgJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ1VzZXJfZ2V0X2NoYXJhY19ubyAgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2NGRmYTApLCAnaW50JywgWydwb2ludGVyJywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDVXNlcl9SZWNvdmVyRmF0aWd1ZSA9bmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NjU3YWRhKSwgJ2ludCcsIFsncG9pbnRlcicsJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ1VzZXJfU2VuZEZhdGlndWUgPW5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY1NjU0MCksICd2b2lkJywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDVXNlcl9wcm9jZXNzTGV2ZWxSZXdhcmQgID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4Njg3NDVlKSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInLCdpbnQnLCdpbnQnLCdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyX2dpdmVQdlBTa2lsbFRyZWUgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2NjU0MDApLCAnaW50JywgWydwb2ludGVyJywnaW50JywnaW50JywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDVXNlcl9yZXdhcmRFeHAgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2OGIyMGMpLCAndm9pZCcsIFsncG9pbnRlcicsICdpbnQnLCAnaW50JywgJ2ludCcsICdwb2ludGVyJywgJ3BvaW50ZXInLCdpbnQnLCdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KDQp2YXIgQ1VzZXJDaGFyYWNJbmZvX3NldERlbWVuc2lvbklub3V0VmFsdWUgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgyMmYxODQpLCAnaW50JywgWydwb2ludGVyJywnaW50JywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCi8v6I635Y+W6KeS6Imy5ZCN5a2XDQp2YXIgQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY05hbWUgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODEwMTAyOCksICdwb2ludGVyJywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCi8v6I635Y+W6KeS6Imy5LiK5qyh6YCA5Ye65ri45oiP5pe26Ze0DQp2YXIgQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY0xhc3RQbGF5VGljayA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MkE2NkFBKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQovL+iOt+WPluinkuiJsuetiee6pw0KdmFyIENVc2VyQ2hhcmFjSW5mb19nZXRfY2hhcmFjX2xldmVsID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgwREEyQjgpLCAnaW50JywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCi8v6I635Y+W6KeS6Imy5b2T5YmN562J57qn5Y2H57qn5omA6ZyA57uP6aqMDQp2YXIgQ1VzZXJDaGFyYWNJbmZvX2dldF9sZXZlbF91cF9leHAgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2NEUzQkEpLCAnaW50JywgWydwb2ludGVyJywgJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQovL+iOt+WPluinkuiJsuiDjOWMhQ0KdmFyIENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNJbnZlblcgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODBEQTI4RSksICdwb2ludGVyJywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCi8v6I635Y+W6KeS6Imy5Ymv6IGM5LiaDQp2YXIgQ1VzZXJDaGFyYWNJbmZvX0dldEN1ckNoYXJhY0V4cGVydEpvYiA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MjJmOGQ0KSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQovL+iuvue9ruW5uOi/kOeCueaVsA0KdmFyIENVc2VyQ2hhcmFjSW5mb19TZXRDdXJDaGFyYWNMdWNrUG9pbnQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2NDY3MEEpLCAnaW50JywgWydwb2ludGVyJywgJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQovL+iOt+WPluinkuiJsuW9k+WJjeW5uOi/kOeCuQ0KdmFyIENVc2VyQ2hhcmFjSW5mb19HZXRDdXJDaGFyYWNMdWNrUG9pbnQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODIyRjgyOCksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KLy/orr7nva7op5LoibLlsZ7mgKfmlLnlj5johI/moIforrAo6KeS6Imy5LiK57q/5pe25oqK5omA5pyJ5bGe5oCn5LuO5pWw5o2u5bqT57yT5a2Y5Yiw5YaF5a2Y5LitLCDlj6rmnInorr7nva7kuobohI/moIforrAsIOinkuiJsuS4i+e6v+aXtuaJjeiDveato+ehruWtmOaho+WIsOaVsOaNruW6kywg5ZCm5YiZ5Y+Y5Yqo55qE5bGe5oCn5LiL57q/5ZCO5Y+v6IO95Lya5Zue5qGjKQ0KdmFyIENVc2VyQ2hhcmFjSW5mb19lbmFibGVTYXZlQ2hhcmFjU3RhdCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MTlBODcwKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQovL+acrOasoeeZu+W9leaXtumXtA0KdmFyIENVc2VyQ2hhcmFjSW5mb19HZXRMb2dpblRpY2sgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODIyRjY5MiksICAnaW50JywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCi8v6I635Y+W5b2T5YmN6KeS6ImyaWQNCnZhciBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjTm8gPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODBDQkM0RSksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNNb25leT0gIG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODE3YTE4OCksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyQ2hhcmFjSW5mb19HZXRDdXJDaGFyYWNNYXhFcXVpcExldmVsID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NjQ2N2EwKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ1VzZXJDaGFyYWNJbmZvX1NldEN1ckNoYXJhY01heEVxdWlwTGV2ZWwgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2NDY3YzIpLCAnaW50JywgWydwb2ludGVyJywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjU2tpbGxSID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MjJmMTMwKSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNTa2lsbFcgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgyMmYxNDApLCAncG9pbnRlcicsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY1IgPSAgbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NTRmNzE4KSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfZXhwID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NGVjMDVjKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ1VzZXJDaGFyYWNJbmZvX3NldEN1ckNoYXJhY0V4cCA9ICBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgxOWE4N2MpLCAnaW50JywgWydwb2ludGVyJywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDVXNlckNoYXJhY0luZm9fYWRkQ3VyQ2hhcmFjRXhwID0gIG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY5NjdiZSksICdpbnQnLCBbJ3BvaW50ZXInLCdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyQ2hhcmFjSW5mb19pbmNDdXJDaGFyYWNMZXZlbCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY5Njc2MiksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyQ2hhcmFjSW5mb19zZXRDdXJDaGFyYWNFeHAgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgxOWE4N2MpLCAnaW50JywgWydwb2ludGVyJywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDVXNlckNoYXJhY0luZm9fcmVzZXRDaGFyYWNGYXRpZ3VlR3Jvd25VcEJ1ZmYgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2OTYzODYpLCAnaW50JywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjR3Jvd1R5cGUgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgxNTc0MWMpLCAnaW50JywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDVXNlckNoYXJhY0luZm9fc2V0X2NoYXJhY19mYXRpZ3VlX2J1Zl9ib251c19leHAgPSAgbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NDY5YTAyKSwgJ2ludCcsIFsncG9pbnRlcicsICdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNDcmVhdGVUaW1lID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MjJmMjAyKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ1VzZXJDaGFyYWNJbmZvX1Jlc2V0Q3VyQ2hhcmFjRHVuZ2VvblBsYXlDb3VudCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY5NjlmZSksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyQ2hhcmFjSW5mb19HZXRDdXJDaGFyYWNFeHBlcnRKb2JFeHAgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgzNzUwMjYpLCAnaW50JywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDVXNlckNoYXJhY0luZm9fR2V0Q3VyQ2hhcmFjRHVuZ2VvblBsYXlDb3VudCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODViZmM3OCksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyQ2hhcmFjSW5mb19nZXRfY2hhcmFjX2pvYiA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODBmZGYyMCksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyQ2hhcmFjSW5mb19nZXRfcHZwX2dyYWRlID0gIG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODE5ZWU0YSksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyQ2hhcmFjSW5mb19nZXRfY2hhcmFjX2pvYiA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODBmZGYyMCksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyU2Vjb25kR3Jvd1R5cGUgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgyMmYyM2MpLCAnaW50JywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhckZpcnN0R3Jvd1R5cGUgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgxMTBjOTQpLCAnaW50JywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDVXNlckNoYXJhY0luZm9fR2V0Q3VyQ2hhcmFjRXhwZXJ0Sm9iVHlwZSA9ICBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgyMmY4OTQpLCAnaW50JywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDVXNlckNoYXJhY0luZm9fR2V0Q3VyQ2hhcmFjU2tpbGxUcmVlSW5kZXggPW5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODIyZjMzYyksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyQ2hhcmFjSW5mb19zZXRDdXJDaGFyYWNGYXRpZ3VlID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MjJmMmNlKSwgJ2ludCcsIFsncG9pbnRlcicsJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ1VzZXJDaGFyYWNJbmZvX2FkZF9ndWlsZF9leHAgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2NDVjNzYpLCAnaW50JywgWydwb2ludGVyJywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDVXNlckNoYXJhY0luZm9fc2V0Q3VyQ2hhcmFjU3RhbWluYSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODJmMDkxNCksICdpbnQnLCBbJ3BvaW50ZXInLCdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyQ2hhcmFjSW5mb19JbmNyZWFzZVBvd2VyV2FyUG9pbnQgPSAgbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4Njg3ZWZjKSwgJ2ludCcsIFsncG9pbnRlcicsJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY1IgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgxMjA0MzIpLCAncG9pbnRlcicsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY0ludmVuUiA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODBkYTI3ZSksICdwb2ludGVyJywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDVXNlckNoYXJhY0luZm9fZ2V0X2NoYXJhY19ndWlsZGtleSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODIyZjQ2YyksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNGYXRpZ3VlID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MjJmMmFlKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY0FkZEluZm9SZWZXID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4Njk2MGQ4KSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQoNCnZhciBDSW52ZW50b3J5X0dldEludmVuUmVmID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDg0RkMxREUpLCAncG9pbnRlcicsIFsncG9pbnRlcicsICdpbnQnLCAnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCi8v5YeP5bCR6YeR5biBDQp2YXIgQ0ludmVudG9yeV91c2VfbW9uZXkgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODRGRjU0QyksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50JywgJ2ludCcsICdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KLy/lop7liqDph5HluIENCnZhciBDSW52ZW50b3J5X2dhaW5fbW9uZXkgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODRGRjI5QyksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50JywgJ2ludCcsICdpbnQnLCAnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCi8v6I635Y+W6KeS6Imy5b2T5YmN5oyB5pyJ6YeR5biB5pWw6YePDQp2YXIgQ0ludmVudG9yeV9nZXRfbW9uZXkgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODEzNDdENiksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KLy/ojrflj5bml7boo4XnrqHnkIblmagNCnZhciBDSW52ZW50b3J5X0dldEF2YXRhckl0ZW1NZ3JSID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgwREQ1NzYpLCAncG9pbnRlcicsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQovL+iDjOWMheS4reWIoOmZpOmBk+WFtyjog4zljIXmjIfpkogsIOiDjOWMheexu+Weiywg5qe9LCDmlbDph48sIOWIoOmZpOWOn+WboCwg6K6w5b2V5Yig6Zmk5pel5b+XKQ0KdmFyIENJbnZlbnRvcnlfZGVsZXRlX2l0ZW0gPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODUwNDAwQyksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50JywgJ2ludCcsICdpbnQnLCAnaW50JywgJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ0ludmVudG9yeV9HZXRJbnZlbkRhdGEgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg0ZmJmMmMpLCAnaW50JywgWydwb2ludGVyJywnaW50JywncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ0ludmVudG9yeV9HZXRJbnZlblNsb3QgID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NGZiOTE4KSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInLCAnaW50JywgJ2ludCcsICdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENJbnZlbnRvcnlfdXBkYXRlX2l0ZW09IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODUwMDBhZSksICdpbnQnLCBbJ3BvaW50ZXInLCdpbnQnLCdpbnQnLCdpbnQnLCdpbnQnLCdpbnQnLCdpbnQnLCdpbnQnLCdpbnQnLCdpbnQnLCdpbnQnLCdpbnQnLCdpbnQnLCdpbnQnLCdpbnQnLCdpbnQnLCdpbnQnLCdpbnQnLCdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENJbnZlbnRvcnlfaW5zZXJ0SXRlbUludG9JbnZlbnRvcnkgPSAgbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NTAyZDg2KSwgJ2ludCcsIFsncG9pbnRlcicsJ2ludCcsJ2ludCcsJ2ludCcsJ2ludCcsJ2ludCcsJ2ludCcsJ2ludCcsJ2ludCcsJ2ludCcsJ2ludCcsJ2ludCcsJ2ludCcsJ2ludCcsJ2ludCcsJ2ludCcsJ2ludCcsJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ0ludmVudG9yeV9HZXRFdmVudENvaW4gID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MTEwYzdhKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ0ludmVudG9yeV9TZXRFdmVudENvaW4gPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgxMTBjODYpLCAncG9pbnRlcicsIFsncG9pbnRlcicsJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ0ludmVudG9yeV9HZXRDb2luID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MjJkNjhhKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ0ludmVudG9yeV9TZXRDb2luID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MjJkNjdjKSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInLCdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENJbnZlbnRvcnlfZ2V0X2ludmVuX3Nsb3Rfbm89IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODUwY2Q2MiksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCg0KLy8g5YiG6Kej5py6IOWPguaVsCDop5LoibIg5L2N572uIOiDjOWMheexu+WeiyAgMjM5ICDop5LoibLvvIjosIHnmoTvvIkgMHhGRkZGDQp2YXIgRGlzUGF0Y2hlcl9EaXNKb2ludEl0ZW1fZGlzam9pbnQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODFmOTJjYSksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50JywgJ2ludCcsICdpbnQnLCdwb2ludGVyJywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCg0KdmFyIEFjY291bnRDYXJnb1NjcmlwdF9HZXRDdXJyVXBncmFkZUluZm8gPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg4YzgwYmEpLCAnaW50JywgWydwb2ludGVyJywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDQWNjb3VudENhcmdvX0NoZWNrVmFsaWRTbG90ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MjhBNTU0KSwgJ2ludCcsIFsncG9pbnRlcicsJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ0FjY291bnRDYXJnb19SZXNldFNsb3QgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgyODk4YzApLCAnaW50JywgWydwb2ludGVyJywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDQWNjb3VudENhcmdvX0NoZWNrTW9uZXlMaW1pdCA9bmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MjhhNGNhKSwgJ2ludCcsIFsncG9pbnRlcicsJ3VpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENBY2NvdW50Q2FyZ29fQWRkTW9uZXkgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgyOGE3NDIpLCAncG9pbnRlcicsIFsncG9pbnRlcicsICd1aW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDQWNjb3VudENhcmdvX1NlbmROb3RpZnlNb25leSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODI4YTdkYyksICdwb2ludGVyJywgWydpbnQnLCAnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDQWNjb3VudENhcmdvX1N1Yk1vbmV5ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MjhhNzY0KSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInLCAndWludCddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ0FjY291bnRDYXJnb19HZXRJdGVtQ291bnQgPW5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODI4YTc5NCksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENBY2NvdW50Q2FyZ29fR2V0TW9uZXkgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgyMmYwMjApLCAnaW50JywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDQWNjb3VudENhcmdvX1NldFN0YWJsZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODQ0ZGMxNiksICdwb2ludGVyJywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCi8vIOiOt+WPlui0puWPt+mHkeW6k+S4gOS4quepuueahOagvOWtkA0KdmFyIENBY2NvdW50Q2FyZ29fR2V0RW1wdHlTbG90PSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgyOGE1ODApLCAnaW50JywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCi8vIOWwhuW3sue7j+eJqeWTgeenu+WKqOWIsOafkOS4quagvOWtkCDnrKzkuIDkuKrotKblj7fph5HlupPvvIznrKzkuozkuKrnp7vlhaXnmoTnianlk4HvvIznrKzkuInkuKrmoLzlrZDkvY3nva4NCnZhciBDQWNjb3VudENhcmdvX0luc2VydEl0ZW0gPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgyODljODIpLCAnaW50JywgWydwb2ludGVyJywncG9pbnRlcicsJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQovLyDlkJHlrqLmiLfnq6/lj5HpgIHotKblj7fph5HlupPliJfooagNCnZhciBDQWNjb3VudENhcmdvX1NlbmRJdGVtTGlzdCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODI4YTg4YSksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KDQovL+WIoOmZpOiDjOWMheanveS4reeahOmBk+WFtw0KdmFyIEludmVuX0l0ZW1fcmVzZXQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgwQ0I3RDgpLCAgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQovL+ajgOafpeiDjOWMheS4remBk+WFt+aYr+WQpuS4uuepug0KdmFyIEludmVuX0l0ZW1faXNFbXB0eSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MTFFRDY2KSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQovL+iOt+WPluiDjOWMheS4remBk+WFt2l0ZW1faWQNCnZhciBJbnZlbl9JdGVtX2dldEtleSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4NTBEMTRFKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQovL+mBk+WFt+aYr+WQpuaYr+ijheWkhw0KdmFyIEludmVuX0l0ZW1faXNFcXVpcGFibGVJdGVtVHlwZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODE1MDgxMiksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KLy/og4zljIXpgZPlhbcNCnZhciBJbnZlbl9JdGVtX0ludmVuX0l0ZW0gPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODBDQjg1NCksICdwb2ludGVyJywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCi8v6I635Y+W6YGT5YW36ZmE5Yqg5L+h5oGvDQp2YXIgSW52ZW5fSXRlbV9nZXRfYWRkX2luZm8gPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODBGNzgzQSksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KDQp2YXIgQ0l0ZW1fR2V0SW5kZXggPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODExMGM0OCksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENJdGVtX0dldEdyYWRlID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgxMTBjNTQpLCAnaW50JywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDSXRlbV9HZXRJdGVtTmFtZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MTFlZDgyKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ0l0ZW1fR2V0UHJpY2UgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODIyYzg0YSksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENJdGVtX0dldEdlblJhdGUgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODIyYzg0YSksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENJdGVtX0dldE5lZWRMZXZlbCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4NTQ1ZmRhKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ0l0ZW1fR2V0VXNhYmxlTGV2ZWwgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODBmMTJlZSksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENJdGVtX0dldFJhcml0eSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MGYxMmQ2KSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ0l0ZW1fR2V0QXR0YWNoVHlwZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MGYxMmUyKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ0l0ZW1fR2V0SXRlbUdyb3VwTmFtZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MGYxMzEyKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ0l0ZW1fR2V0VXBTa2lsbFR5cGUgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODU0NWZjYyksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENJdGVtX0dldEdldEV4cGVydEpvYkNvbXBvdW5kTWF0ZXJpYWxWYXJpYXRpb24gPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODUwZDI5MiksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENJdGVtX0dldEV4cGVydEpvYkNvbXBvdW5kUmF0ZVZhcmlhdGlvbiA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4NTBkMmFhKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ0l0ZW1fR2V0RXhwZXJ0Sm9iQ29tcG91bmRSZXN1bHRWYXJpYXRpb24gPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODUwZDJjMiksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENJdGVtX0dldEV4cGVydEpvYlNlbGZEaXNqb2ludEJpZ1dpblJhdGUgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODUwZDJkZSksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENJdGVtX0dldEV4cGVydEpvYlNlbGZEaXNqb2ludFJlc3VsdFZhcmlhdGlvbiA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4NTBkMmY2KSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ0l0ZW1fR2V0RXhwZXJ0Sm9iQWRkaXRpb25hbEV4cCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4NTBkMzBlKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQovL+mBk+WFt+aYr+WQpuS4uua2iOiAl+WTgQ0KdmFyIENJdGVtX2lzX3N0YWNrYWJsZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MEYxMkZBKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ0l0ZW1faXNQYWNrYWdhYmxlID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MjhiNWI0KSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ0l0ZW1fZ2V0VXNhYmxlUGVyaW9kID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MTEwYzYwKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ0l0ZW1fZ2V0RXhwaXJhdGlvbkRhdGUgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgwZjEzMDYpLCAnaW50JywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDSXRlbV9HZXRJbmNyZWFzZVN0YXR1c0ludERhdGEgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2OTQ2NTgpLCAnaW50JywgWydwb2ludGVyJywnaW50JywncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ0l0ZW1fR2V0SW5jcmVhc2VTdGF0dXNUeXBlID0gIG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY5NDZiNiksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENJdGVtX0dldFVzYWJsZVB2UFJhbmsgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2OTQ2YzQpLCAnaW50JywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCg0KdmFyIENFcXVpcEl0ZW1fR2V0VXNhYmxlRXF1aXBtZW50VHlwZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODMyZTAzNiksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENFcXVpcEl0ZW1fR2V0U3ViVHlwZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MzNlZWNjKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQovL+aYr+WQpumtlOazleWwgeWNsOijheWkhw0KdmFyIENFcXVpcEl0ZW1fSXNSYW5kb21PcHRpb24gPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODUxNEU1RSksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KLy/ojrflj5boo4XlpIfprZTms5XlsIHljbDnrYnnuqcNCnZhciBDRXF1aXBJdGVtX0dldFJhbmRvbU9wdGlvbkdyYWRlID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDg1MTRFNkUpLCAnaW50JywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCg0KdmFyIFVzZXJRdWVzdF9maW5pc2hfcXVlc3QgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODZBQzg1NCksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCi8v6YCa55+l5a6i5oi356uv5pu05paw6KeS6Imy5Lu75Yqh5YiX6KGoDQp2YXIgVXNlclF1ZXN0X2dldF9xdWVzdF9pbmZvID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDg2QUJCQTgpLCAnaW50JywgWydwb2ludGVyJywgJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KLy/ph43nva7miYDmnInku7vliqHkuLrmnKrlrozmiJDnirbmgIENCnZhciBVc2VyUXVlc3RfcmVzZXQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODZBQjg5NCksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIFVzZXJRdWVzdF9nZXRfbWFpbF9xdWVzdF9pbmZvID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NmFiZDdhKSwgJ2ludCcsIFsnaW50JywnaW50JywncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgVXNlclF1ZXN0X1Jlc2V0VXJnZW50UXVlc3RXYWl0aW5nTGlzdCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODZhZDE3OCksICAncG9pbnRlcicsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQoNCi8v6K6+572u5Lu75Yqh5Li65bey5a6M5oiQ54q25oCBDQp2YXIgV29uZ1dvcmtfQ1F1ZXN0Q2xlYXJfc2V0Q2xlYXJlZFF1ZXN0ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgwOEJBNzgpLCAnaW50JywgWydwb2ludGVyJywgJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQovL+mHjee9ruS7u+WKoeS4uuacquWujOaIkOeKtuaAgQ0KdmFyIFdvbmdXb3JrX0NRdWVzdENsZWFyX3Jlc2V0Q2xlYXJlZFF1ZXN0cyA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MDhCQUFDKSwgJ2ludCcsIFsncG9pbnRlcicsICdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KLy/ku7vliqHmmK/lkKblt7LlrozmiJANCnZhciBXb25nV29ya19DUXVlc3RDbGVhcl9pc0NsZWFyZWRRdWVzdCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MDhCQUUwKSwgJ2ludCcsIFsncG9pbnRlcicsICdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KLy/ngrnliLjlhYXlgLwNCnZhciBXb25nV29ya19JUEdfQ0lQR0hlbHBlcl9JUEdJbnB1dCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MEZGQ0E0KSwgICdpbnQnLCBbJ3BvaW50ZXInLCAncG9pbnRlcicsICdpbnQnLCAnaW50JywgJ3BvaW50ZXInLCAncG9pbnRlcicsICdwb2ludGVyJywgJ3BvaW50ZXInLCAncG9pbnRlcicsICdwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCi8v5Luj5biB5YWF5YC8DQp2YXIgV29uZ1dvcmtfSVBHX0NJUEdIZWxwZXJfSVBHSW5wdXRQb2ludCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MEZGRkMwKSwgICdpbnQnLCBbJ3BvaW50ZXInLCAncG9pbnRlcicsJ2ludCcsICdpbnQnLCAncG9pbnRlcicsICdwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCi8v5ZCM5q2l54K55Yi45pWw5o2u5bqTDQp2YXIgV29uZ1dvcmtfSVBHX0NJUEdIZWxwZXJfSVBHUXVlcnkgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODEwMDc5MCksICAnaW50JywgWydwb2ludGVyJywgJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KLy/ojrflj5bml7boo4Xmj5Lmp73mlbDmja4NCnZhciBXb25nV29ya19DQXZhdGFySXRlbU1ncl9nZXRKZXdlbFNvY2tldERhdGEgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODJGOThGOCksICdwb2ludGVyJywgWydwb2ludGVyJywgJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQovL+WPkeezu+e7n+mCruS7tijlpJrpgZPlhbcpDQp2YXIgV29uZ1dvcmtfQ01haWxCb3hIZWxwZXJfUmVxREJTZW5kTmV3U3lzdGVtTXVsdGlNYWlsID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDg1NTZCNjgpLCAnaW50JywgWydwb2ludGVyJywgJ3BvaW50ZXInLCAnaW50JywgJ2ludCcsICdpbnQnLCAncG9pbnRlcicsICdpbnQnLCAnaW50JywgJ2ludCcsICdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIFdvbmdXb3JrX0NNYWlsQm94SGVscGVyX01ha2VTeXN0ZW1NdWx0aU1haWxQb3N0YWwgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODU1NkExNCksICdpbnQnLCBbJ3BvaW50ZXInLCAncG9pbnRlcicsICdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KLy/lj5Hns7vnu5/pgq7ku7Yo5pe26KOFKSjku4XmlK/mjIHlnKjnur/op5LoibLlj5Hkv6EpDQp2YXIgV29uZ1dvcmtfQ01haWxCb3hIZWxwZXJfUmVxREJTZW5kTmV3QXZhdGFyTWFpbCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4NTU2MUIwKSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInLCAnaW50JywgJ2ludCcsICdpbnQnLCAnaW50JywgJ2ludCcsICdpbnQnLCAncG9pbnRlcicsICdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIFdvbmdXb3JrX0NVc2VyUHJlbWl1bV9HZXRHb2xkQm9udXMgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2OTRhNjQpLCAnaW50JywgWydwb2ludGVyJywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBXb25nV29ya19DVXNlclByZW1pdW1fUmVjYWxjQWRkaXRpb25hbEluZm8gPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2YWU4YzYpLCAncG9pbnRlcicsIFsncG9pbnRlcicsJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIFdvbmdXb3JrX0NHTUFjY291bnRzX2lzR00gPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgxMDkzNDYpLCAnaW50JywgWydwb2ludGVyJywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBXb25nV29ya19DU2tpbGxDaGFuZ2VyX0NoZWNrQ29uZGl0aW9uID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NjA5ZDEwKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgV29uZ1dvcmtfQ1NraWxsQ2hhbmdlcl9kX0NTa2lsbENoYW5nZXIgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgyMzRmYzQpLCAndm9pZCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgV29uZ1dvcmtfQ1NraWxsQ2hhbmdlcl9DU2tpbGxDaGFuZ2VyID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MjM0ZmJlKSwgJ3ZvaWQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIFdvbmdXb3JrX0NTa2lsbENoYW5nZXJfU2tpbGxJbml0aWFsaXplID1uZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2MDllOTApLCAncG9pbnRlcicsIFsncG9pbnRlcicsJ3BvaW50ZXInLCdpbnQnLCdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIFdvbmdXb3JrX0NNYWlsQm94SGVscGVyX1JlcURCU2VuZE5ld1N5c3RlbU1haWwgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg1NTU1ZTgpLCAnaW50JywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCg0KLy/mo4DmtYvlvZPliY3op5LoibLmmK/lkKblj6/mjqXor6Xku7vliqENCnZhciBzdFNlbGVjdFF1ZXN0UGFyYW1fc3RTZWxlY3RRdWVzdFBhcmFtID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgzNDgwQjQpLCAncG9pbnRlcicsIFsncG9pbnRlcicsICdwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBRdWVzdF9jaGVja19wb3NzaWJsZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MzUyRDg2KSwgJ2ludCcsIFsncG9pbnRlcicsICdwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCg0KLy/ojrflj5blia/mnKxpZA0KdmFyIENEdW5nZW9uX2dldF9pbmRleCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODBGRENGMCksICAnaW50JywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCg0KLy/op6PlsIHprZTms5XlsIHljbANCnZhciByYW5kb21fb3B0aW9uX0NSYW5kb21PcHRpb25JdGVtSGFuZGxlX2dpdmVfb3B0aW9uID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDg1RjJDQzYpLCAgJ2ludCcsIFsncG9pbnRlcicsICdpbnQnLCAnaW50JywgJ2ludCcsICdpbnQnLCAnaW50JywgJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KDQp2YXIgQXZhdGFyQ29pbl9BZGQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgxN2ZlZmEpLCAnaW50JywgWydwb2ludGVyJywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBBdmF0YXJDb2luX1NhdmVUb0RCID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MTgwMGQ2KSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQXZhdGFyQ29pbl9TZW5kU3luY1BhY2tldCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODE3ZmZlNCksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIEF2YXRhckNvaW5fSGlzdG9yeUxvZ19BZGRMb2cgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgxN2ZmOWMpLCAndm9pZCcsIFsncG9pbnRlcicsJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KDQp2YXIgQ1ByZW1pdW1MZXRoZU1hbmFnZXJfSW5pdExldGhlU2tpbGwgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg1YzQwMDgpLCAnaW50JywgWydpbnQnLCdwb2ludGVyJywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDUHJlbWl1bUxldGhlTWFuYWdlcl9VcGRhdGVCYWNrdXBTa2lsbEZsYWcgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg1YzNmMzApLCAnaW50JywgWydpbnQnLCdwb2ludGVyJywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDUHJlbWl1bUxldGhlTWFuYWdlcl9Db25maXJtU2tpbGxSZXEgPW5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODVjM2Q3MCksICdpbnQnLCBbJ3BvaW50ZXInLCdwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCg0KdmFyIFNraWxsU2xvdF9nZXRfcmVtYWluX3NwX2F0X2luZGV4ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NjAzNTI4KSwgJ2ludCcsIFsncG9pbnRlcicsJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIFNraWxsU2xvdF9nZXRfcmVtYWluX3NmcF9hdF9pbmRleCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODYwMzVmMiksICdpbnQnLCBbJ3BvaW50ZXInLCdwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBTa2lsbFNsb3RfZ3Jvd3R5cGVfc2tpbGwgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2MDQwYmMpLCAnaW50JywgWydwb2ludGVyJywncG9pbnRlcicsJ2ludCcsJ2ludCcsJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgU2tpbGxTbG90X3NldF9yZW1haW5fc3BfYXRfaW5kZXggPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2MDM0ZjgpLCAnaW50JywgWydpbnQnLCdpbnQnLCdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIFNraWxsU2xvdF9jbGVhcl9zZnBfc2tpbGxzID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NjA0ZTc4KSwgJ2ludCcsIFsnaW50JywnaW50JywncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgU2tpbGxTbG90X2NsZWFyX2FsbF9za2lsbHMgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2MDRkOTApLCAnaW50JywgWydwb2ludGVyJywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBTa2lsbFNsb3RfY2xlYXJfYWxsX3NraWxsc19ib3RoID0gIG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODYwNGUwOCksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIFNraWxsU2xvdF9zZXRfcGFyZW50ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MjJlZTJlKSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInLCdwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBhZGRTa2lsbE9uQ3JlYXRlQ2hhcmFjdGVyID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NjA0ZmUyKSwgJ3ZvaWQnLCBbJ2ludCcsJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ0NoYXJhY3Rlcl9nZXRfZ2l2ZV9za2lsbCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODM0ODc5OCksICdpbnQnLCBbJ2ludCcsJ2ludCcsJ2ludCcsJ2ludCcsJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQoNCnZhciBDUXVlc3RTaG9wX2NsZWFyUVAgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg1ZWY1NGMpLCAnaW50JywgWydwb2ludGVyJywgJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENRdWVzdFNob3Bfc2VuZENoYXJhY1FwID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NWVmNmZjKSwgJ3ZvaWQnLCBbJ3BvaW50ZXInLCAncG9pbnRlcicsJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQoNCi8v6I635Y+W5raI6ICX5ZOB57G75Z6LDQp2YXIgQ1N0YWNrYWJsZUl0ZW1fR2V0SXRlbVR5cGUgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODUxNEE4NCksICAnaW50JywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCi8v6I635Y+W5b6956ug5pSv5oyB55qE6ZW25bWM5qe957G75Z6LDQp2YXIgQ1N0YWNrYWJsZUl0ZW1fZ2V0SmV3ZWxUYXJnZXRTb2NrZXQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgyMkNBMjgpLCAgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQoNCnZhciBDTW9uaXRvclNlcnZlclByb3h5X1NlbmRDaGFyTGV2ZWxHcm93VHlwZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODQ3MGMwNCksICdpbnQnLCBbJ3BvaW50ZXInLCdpbnQnLCdpbnQnLCdpbnQnLCdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENNb25pdG9yU2VydmVyUHJveHlfU2VuZFBhY2tldCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODQ3MGRmNCksICdpbnQnLCBbJ3BvaW50ZXInLCdwb2ludGVyJywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDU2VydmVyUHJveHlNZ3JfQ01vbml0b3JTZXJ2ZXJQcm94eV9HZXRTZXJ2ZXJQcm94eSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODExMjA4YSksICdwb2ludGVyJywgWydwb2ludGVyJywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDU2VydmVyUHJveHlNZ3JfQ0d1aWxkU2VydmVyUHJveHlfR2V0U2VydmVyUHJveHkgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgxMWQzYjgpLCAncG9pbnRlcicsIFsncG9pbnRlcicsJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ0d1aWxkU2VydmVyUHJveHlfU2VuZENoYXJMZXZlbEdyb3dUeXBlID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NDZkYTlhKSwgJ2ludCcsIFsncG9pbnRlcicsJ2ludCcsJ2ludCcsJ2ludCcsJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQoNCi8v5pe26KOF6ZW25bWM5pWw5o2u5a2Y55uYDQp2YXIgREJfVXBkYXRlQXZhdGFySmV3ZWxTbG90X21ha2VSZXF1ZXN0ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDg0MzA4MUMpLCAncG9pbnRlcicsIFsnaW50JywgJ2ludCcsICdwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCg0KLy/ojrflj5blrZfnrKbkuLLplb/luqYNCnZhciBzdHJsZW4gPSBuZXcgTmF0aXZlRnVuY3Rpb24oTW9kdWxlLmdldEV4cG9ydEJ5TmFtZShudWxsLCAnc3RybGVuJyksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KDQovL+e6v+eoi+WuieWFqOmUgQ0KdmFyIEd1YXJkX011dGV4X0d1YXJkID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgxMDU0NEMpLCAnaW50JywgWydwb2ludGVyJywgJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIERlc3Ryb3lfR3VhcmRfTXV0ZXhfR3VhcmQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODEwNTQ2OCksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KDQovL+acjeWKoeWZqOWGhee9ruWumuaXtuWZqOmYn+WIlw0KdmFyIEdfVGltZXJRdWV1ZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MEY2NDdDKSwgJ3BvaW50ZXInLCBbXSwgeyJhYmkiOiJzeXN2In0pOw0KDQovL+aJp+ihjGRlYnVn5ZG95LukDQp2YXIgRG9Vc2VyRGVmaW5lQ29tbWFuZCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODIwQkE5MCksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50JywgJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KDQovL+iuvue9ruinkuiJsuetiee6pyjmnIDpq5g3MOe6pykNCnZhciBEaXNQYXRjaGVyX0RlYnVnQ29tbWFuZF9fZGVidWdDb21tYW5kU2V0TGV2ZWwgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg1OEVGREUpLCAnaW50JywgWydwb2ludGVyJywgJ3BvaW50ZXInLCAnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsvL+mcgOimgeS4tOaXtuW8gEdN5p2D6ZmQDQoNCi8vdmVjdG9y55u45YWz5pON5L2cDQp2YXIgc3RkX3ZlY3Rvcl9zdGRfcGFpcl9pbnRfaW50X3ZlY3RvciA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MTM0OUQ2KSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIHN0ZF92ZWN0b3Jfc3RkX3BhaXJfaW50X2ludF9jbGVhciA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MTdBMzQyKSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIHN0ZF9tYWtlX3BhaXJfaW50X2ludCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MUI4RDQxKSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInLCAncG9pbnRlcicsICdwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBzdGRfdmVjdG9yX3N0ZF9wYWlyX2ludF9pbnRfcHVzaF9iYWNrID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgwREQ2MDYpLCAncG9pbnRlcicsIFsncG9pbnRlcicsICdwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciB2ZWN0b3JfdW5zaWduZWRfaW50X29wZXJhdG9yPSAgbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MDhlMWRjKSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInLCdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIHN0ZF92ZWN0b3Jfc3RkX3BhaXJfaW50X2ludF9zaXplID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MGRkODE0KSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgc3RkX3ZlY3Rvcl9zdGRfcGFpcl9pbnRfaW50X29wZXJhdG9yID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MGVhOGE0KSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInLCdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIHN0ZF92ZWN0b3Jfc3RkX3BhaXJfaW50X2ludF9kX3ZlY3RvciA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODEzNDllYSksICd2b2lkJywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBzdGRfdmVjdG9yX2NoYXJhY19pbmZvX3NpemUgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgxYTBiOWEpLCAnaW50JywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBzdGRfdmVjdG9yX0NoYXJhY19pbmZvX29wZXJhdG9yQXJyID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MWEwYmI4KSwgJ2ludCcsIFsncG9pbnRlcicsJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQoNCnZhciBMb2dNYW5hZ2VyX2xvZ0Zvcm1hdCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwOGFkM2MwYSksICdpbnQnLCBbJ3BvaW50ZXInLCdpbnQnLCdwb2ludGVyJywncG9pbnRlcicsJ3BvaW50ZXInLCdwb2ludGVyJywnLi4uJywncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgY1VzZXJIaXN0b3J5TG9nX0V2ZW50Q29pbkFkZCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY4M2M1OCksICdwb2ludGVyJywgWydwb2ludGVyJywnaW50JywnaW50JywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBjVXNlckhpc3RvcnlMb2dfQ29pbkFkZCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY4M2I5MCksICdpbnQnLCBbJ3BvaW50ZXInLCdpbnQnLCdpbnQnLCdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIEhpc3RvcnlMb2dfV3JpdGVMZXZlbFVwID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NGI5ZTVlKSwgJ2ludCcsIFsncG9pbnRlcicsJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIGNVc2VySGlzdG9yeUxvZ19MZXZlbFVwICA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY4NDViMiksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50JywgJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgY1VzZXJIaXN0b3J5TG9nX0l0ZW1BZGQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2ODJlODQpLCAnaW50JywgWydpbnQnLCdpbnQnLCdpbnQnLCdpbnQnLCdwb2ludGVyJywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCg0KLy/lvIDlkK/mgKrnianmlLvln44NCnZhciBJbnRlcl9WaWxsYWdlQXR0YWNrZWRTdGFydF9kaXNwYXRjaF9zaWcgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODRERjQ3QSksICdwb2ludGVyJywgWydwb2ludGVyJywgJ3BvaW50ZXInLCAncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQovL+e7k+adn+aAqueJqeaUu+Wfjg0KdmFyIHZpbGxhZ2VfYXR0YWNrZWRfQ1ZpbGxhZ2VNb25zdGVyTWdyX09uRGVzdHJveVZpbGxhZ2VNb25zdGVyID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NkI0M0Q0KSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInLCAnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBHbG9iYWxEYXRhX3NfdmlsbGFnZU1vbnN0ZXJNZ3IgPSBwdHIoMHg5NDFGNzdDKTsNCg0KLy/ojrflj5bpmJ/kvI3kuK3njqnlrrYNCnZhciBDUGFydHlfZ2V0X3VzZXIgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgxNDU3NjQpLCAncG9pbnRlcicsIFsncG9pbnRlcicsICdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENQYXJ0eV9zZW5kX3RvX3BhcnR5ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NTlkMTRlKSwgJ2ludCcsIFsncG9pbnRlcicsJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KDQovL+e7neacm+S5i+WhlOWxguaVsA0KdmFyIFRPRF9MYXllcl9UT0RfTGF5ZXIgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg1RkU3QjQpLCAncG9pbnRlcicsIFsncG9pbnRlcicsICdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KLy/orr7nva7nu53mnJvkuYvloZTlsYLmlbANCnZhciBUT0RfVXNlclN0YXRlX3NldEVudGVyTGF5ZXIgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2NDM4RkMpLCAncG9pbnRlcicsIFsncG9pbnRlcicsICdwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCg0KdmFyIGNNeVRyYWNlX2NNeVRyYWNlID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NTRmNzE4KSwgJ3ZvaWQnLCBbJ3BvaW50ZXInLCdwb2ludGVyJywnaW50JywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBjTXlUcmFjZV9vcGVyYXRvciA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODU0Zjc4OCksICd2b2lkJywgWydpbnQnLCdwb2ludGVyJywncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQoNCnZhciBNc2dRdWV1ZU1ncl9wdXQgPSAgbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NTcwZmRlKSwgJ2ludCcsIFsnaW50JywnaW50JywncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgTnVtYmVyVG9TdHJpbmc9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODEwOTA0YiksICd1aW50JywgWyd1aW50JywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCg0KdmFyIEdldEludGVncmF0ZWRQdlBJdGVtQXR0ciA9bmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NGZjNWZmKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQVJBRF9TaW5nbGV0b25fU2VydmljZVJlc3RyaWN0TWFuYWdlcl9HZXQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgxNjI1ZTYpLCAncG9pbnRlcicsIFtdLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgU2VydmljZVJlc3RyaWN0TWFuYWdlcl9pc1Jlc3RyaWN0ZWQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgxNmU2YjgpLCAndWludDgnLCBbJ2ludCcsJ3BvaW50ZXInLCdpbnQnLCdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENTZWN1X1Byb3RlY3Rpb25GaWVsZF9DaGVjayA9ICBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgyODhhMDIpLCAnaW50JywgWydwb2ludGVyJywncG9pbnRlcicsJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQoNCnZhciBzdEFtcGxpZnlPcHRpb25fdF9nZXRBYmlsaXR5VHlwZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODE1MDczMiksICd1aW50OCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgc3RBbXBsaWZ5T3B0aW9uX3RfZ2V0QWJpbGl0eVZhbHVlID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MTUwNzcyKSwgJ3VpbnQxNicsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgc3RBbXBsaWZ5T3B0aW9uX3RfR2V0TG9jayA9ICBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgyOGI1YTgpLCAnaW50JywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCg0KdmFyIFN0cmVhbVBvb2xfQWNxdWlyZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODI4ZmE4NiksICdwb2ludGVyJywgWydwb2ludGVyJywncG9pbnRlcicsJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ1N0cmVhbUd1YXJkX0NTdHJlYW1HdWFyZCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODBjOGMyNiksICd2b2lkJywgWydwb2ludGVyJywncG9pbnRlcicsJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ1N0cmVhbUd1YXJkX29wZXJhdG9yID0gIG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODBjOGM0NiksICdpbnQnLCBbJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ1N0cmVhbUd1YXJkX29wZXJhdG9yX2ludCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODBjOGM1NiksICdpbnQnLCBbJ3BvaW50ZXInLCdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENTdHJlYW1HdWFyZF9vcGVyYXRvcl9wID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MGM4YzRlKSwgJ2ludCcsIFsnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDU3RyZWFtR3VhcmRfR2V0SW5CdWZmZXJfU0lHX0FDQ09VTlRfQ0FSR09fREFUQSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODQ1M2ExMCksICdwb2ludGVyJywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBEZXN0cm95X0NTdHJlYW1HdWFyZF9DU3RyZWFtR3VhcmQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2MWM4ZDIpLCAndm9pZCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQoNCnZhciBDU3RhY2thYmxlSXRlbV9nZXRTdGFja2FibGVMaW1pdCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODIyYzlmYyksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIGl0ZW1fbG9ja19DSXRlbUxvY2tfQ2hlY2tJdGVtTG9jayA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODU0MWE5NiksICdpbnQnLCBbJ2ludCcsJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgVXBncmFkZVNlcGFyYXRlSW5mb19Jc1RyYWRlUmVzdHJpY3Rpb24gPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgxMTBiMGEpLCAnaW50JywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBTdHJlYW1fb3BlcmF0b3JfcCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODYxYzc5NiksICdpbnQnLCBbJ3BvaW50ZXInLCdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIFN0cmVhbV9HZXRPdXRCdWZmZXJfU0lHX0FDQ09VTlRfQ0FSR09fREFUQSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODQ1M2EyNiksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KDQp2YXIgQ0d1aWxkU2VydmVyUHJveHlfU2VuZEluY3JlYXNlR3VpbGRFeHAgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg0NmVjZTIpLCAnaW50JywgWydwb2ludGVyJywnaW50JywnaW50JywnaW50JywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBQdlBTa2lsbFRyZWVQYXJhbWV0ZXJTY3JpcHRfZ2V0UHZQU2tpbGxQb2ludCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwOGE1ZGQ2MiksICdpbnQnLCBbJ3BvaW50ZXInLCdpbnQnLCdpbnQnLCdpbnQnLCdpbnQnLCdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIFNlcnZlclBhcmFtZXRlclNjcmlwdF9pc0R1bmdlb25PcGVuICA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODI2ODdmYyksICdpbnQnLCBbXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIFhOdWNsZWFyX0NIYWRlc19FeHBVcCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODRiOTUzZSksICdpbnQnLCBbJ3BvaW50ZXInLCdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIFdhclJvb21fU2VuZFRvUm9vbSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODZiZTBjYyksICdpbnQnLCBbJ3BvaW50ZXInLCdwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCg0KdmFyIENDaGFyYWN0ZXJWaWV3X2VuYWJsZVNhdmVDaGFyYWNWaWV3ID0gIG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODIyZmJkYSksICdwb2ludGVyJywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDTGV2ZWxEdW5nZW9uUGxheVN0YXRpc3RpY19JbmNyZWFzZUxldmVsRHVuZ2VvblBsYXkgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2MGVjYzYpLCAncG9pbnRlcicsIFsncG9pbnRlcicsJ2ludCcsJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgZXhwZXJ0X2pvYl9DRXhwZXJ0Sm9iX0luY3JlYXNlRXhwZXJ0Sm9iRXhwID0gIG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODM3NTAyNiksICd2b2lkJywgWydwb2ludGVyJywncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQVBTeXN0ZW1fQ1VzZXJQcm9jX0NsZWFyQWN0aW9uQW5kU2VuZHRvVXNlciA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODEyMjM5MCksICd2b2lkJywgWydwb2ludGVyJywnaW50JywnaW50JywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBEQl9JbnNlcnRVbmxpbWl0U3VwcG9ydExvZ19tYWtlUmVxdWVzdCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODBjYmM5ZSksICd2b2lkJywgWydwb2ludGVyJywnaW50JywncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgREJfSW5zZXJ0QXJjaGlldmVFdmVudExvZ19tYWtlUmVxdWVzdCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODExNTk5OCksICd2b2lkJywgWydpbnQnLCdpbnQnLCdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIFJEQVJTY3JpcHRTdHJpbmdNYW5hZ2VyX2ZpbmRTdHJpbmcgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDhhYTU3ZmUpLCAncG9pbnRlcicsIFsncG9pbnRlcicsJ2ludCcsJ3BvaW50ZXInLCdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIEltcG9ydFNwUGVyTGV2ZWxSZWZlcmVuY2VUYWJsZSA9ICBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg5MTA1MDUpLCAnaW50JywgWydwb2ludGVyJywncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgc3RTcFBlckxldmVsVGFibGUgPSAgbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MzdmNTQ0KSwgJ3ZvaWQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KDQovL+iOt+WPluiDjOWMheanveS4reeahOmBk+WFtw0KdmFyIElOVkVOVE9SWV9UWVBFX0JPRFkgPSAwOyAgICAgICAgICAgIC8v6Lqr5LiK56m/55qE6KOF5aSHKDAtMjYpDQp2YXIgSU5WRU5UT1JZX1RZUEVfSVRFTSA9IDE7ICAgICAgICAgICAgLy/nianlk4HmoI8oMC0zMTEpDQp2YXIgSU5WRU5UT1JZX1RZUEVfQVZBUlRBUiA9IDI7ICAgICAgICAgLy/ml7boo4XmoI8oMC0xMDQpDQp2YXIgSU5WRU5UT1JZX1RZUEVfQ1JFQVRVUkUgPSAzOyAgICAgICAgLy/lrqDnianoo4XlpIcoMC0yNDEpDQoNCi8v6YCa55+l5a6i5oi356uv5pu05paw6IOM5YyF5qCPDQp2YXIgRU5VTV9JVEVNU1BBQ0VfSU5WRU5UT1JZID0gMDsgICAgICAgLy/nianlk4HmoI8NCnZhciBFTlVNX0lURU1TUEFDRV9BVkFUQVIgPSAxOyAgICAgICAgICAvL+aXtuijheagjw0KdmFyIEVOVU1fSVRFTVNQQUNFX0NBUkdPID0gMjsgICAgICAgICAgIC8v5LuT5bqTDQp2YXIgRU5VTV9JVEVNU1BBQ0VfQ1JFQVRVUkUgPSA3OyAgICAgICAgLy/lrqDnianmoI8NCnZhciBFTlVNX0lURU1TUEFDRV9BQ0NPVU5UX0NBUkdPID0gMTI7ICAvL+i0puWPt+S7k+W6kw0KDQovL01ZU1FM5pON5L2cDQovL+a4uOaIj+S4reW3suaJk+W8gOeahOaVsOaNruW6k+e0ouW8lSjmuLjmiI/mlbDmja7lupPpnZ7nur/nqIvlronlhagg6LCo5oWO5pON5L2cKQ0KdmFyIFRBSVdBTl9DQUlOID0gMjsNCnZhciBEQk1ncl9HZXREQkhhbmRsZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4M0Y1MjNFKSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInLCAnaW50JywgJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgTXlTUUxfTXlTUUwgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODNGM0FDOCksICdwb2ludGVyJywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBNeVNRTF9pbml0ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgzRjNDRTQpLCAnaW50JywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBNeVNRTF9vcGVuID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgzRjQwMjQpLCAnaW50JywgWydwb2ludGVyJywgJ3BvaW50ZXInLCAnaW50JywgJ3BvaW50ZXInLCAncG9pbnRlcicsICdwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBNeVNRTF9jbG9zZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4M0YzRTc0KSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgTXlTUUxfc2V0X3F1ZXJ5XzIgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODNGNDFDMCksICdpbnQnLCBbJ3BvaW50ZXInLCAncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgTXlTUUxfc2V0X3F1ZXJ5XzMgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODNGNDFDMCksICdpbnQnLCBbJ3BvaW50ZXInLCAncG9pbnRlcicsICdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIE15U1FMX3NldF9xdWVyeV80ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgzRjQxQzApLCAnaW50JywgWydwb2ludGVyJywgJ3BvaW50ZXInLCAnaW50JywgJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgTXlTUUxfc2V0X3F1ZXJ5XzUgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODNGNDFDMCksICdpbnQnLCBbJ3BvaW50ZXInLCAncG9pbnRlcicsICdpbnQnLCAnaW50JywgJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgTXlTUUxfc2V0X3F1ZXJ5XzYgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODNGNDFDMCksICdpbnQnLCBbJ3BvaW50ZXInLCAncG9pbnRlcicsICdpbnQnLCAnaW50JywgJ2ludCcsICdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIE15U1FMX2V4ZWMgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODNGNDMyNiksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBNeVNRTF9leGVjX3F1ZXJ5PSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgzRjUzNDgpLCAnaW50JywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBNeVNRTF9nZXRfbl9yb3dzID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgwRTIzNkMpLCAnaW50JywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBNeVNRTF9mZXRjaCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4M0Y0NEJDKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgTXlTUUxfZ2V0X2ludCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MTE2OTJDKSwgJ2ludCcsIFsncG9pbnRlcicsICdpbnQnLCAncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgTXlTUUxfZ2V0X3VpbnQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODBFMjJGMiksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50JywgJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIE15U1FMX2dldF91bG9uZ2xvbmcgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODE3NTRDOCksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50JywgJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIE15U1FMX2dldF91c2hvcnQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODExNjk5MCksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIE15U1FMX2dldF9mbG9hdCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4NDRENkQwKSwgJ2ludCcsIFsncG9pbnRlcicsICdpbnQnLCAncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgTXlTUUxfZ2V0X2JpbmFyeSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MTI1MzFBKSwgJ2ludCcsIFsncG9pbnRlcicsICdpbnQnLCAncG9pbnRlcicsICdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIE15U1FMX2dldF9iaW5hcnlfbGVuZ3RoID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgxMjUzREUpLCAnaW50JywgWydwb2ludGVyJywgJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgTXlTUUxfZ2V0X3N0ciA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MEVDREVBKSwgJ2ludCcsIFsncG9pbnRlcicsICdpbnQnLCAncG9pbnRlcicsICdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIE15U1FMX2Jsb2JfdG9fc3RyID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgzRjQ1MkEpLCAncG9pbnRlcicsIFsncG9pbnRlcicsICdpbnQnLCAncG9pbnRlcicsICdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIGNvbXByZXNzX3ppcCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4NkIyMDFGKSwgJ2ludCcsIFsncG9pbnRlcicsICdwb2ludGVyJywgJ3BvaW50ZXInLCAnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciB1bmNvbXByZXNzX3ppcCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4NkIyMTAyKSwgJ2ludCcsIFsncG9pbnRlcicsICdwb2ludGVyJywgJ3BvaW50ZXInLCAnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCg0KdmFyIE15U1FMX3NldF9xdWVyeV8zX3B0ciA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4M0Y0MUMwKSwgJ2ludCcsIFsncG9pbnRlcicsICdwb2ludGVyJywgJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KDQovL+W3suaJk+W8gOeahOaVsOaNruW6k+WPpeafhA0KdmFyIG15c3FsX3RhaXdhbl9jYWluID0gbnVsbDsNCnZhciBteXNxbF90YWl3YW5fY2Fpbl8ybmQgPSBudWxsOw0KdmFyIG15c3FsX3RhaXdhbl9iaWxsaW5nID0gbnVsbDsNCnZhciBteXNxbF9mcmlkYSA9IG51bGw7DQoNCi8qKg0KICogIOacjeWKoeerr+WHveaVsEhvb2vjgIHlsIHoo4Xlj4roh6rlrprkuYnlip/og70NCiAqLw0KLy/ojrflj5bns7vnu59VVEPml7bpl7Qo56eSKQ0KZnVuY3Rpb24gYXBpX0NTeXN0ZW1UaW1lX2dldEN1clNlYygpDQp7DQogICAgcmV0dXJuIGdldEN1clNlYyhwdHIoMCkpOw0KfQ0KDQovL+e7meinkuiJsuWPkee7j+mqjA0KZnVuY3Rpb24gYXBpX0NVc2VyX2dhaW5fZXhwX3NwKHVzZXIsIGV4cCkNCnsNCiAgICB2YXIgYTIgPSBNZW1vcnkuYWxsb2MoNCk7DQogICAgdmFyIGEzID0gTWVtb3J5LmFsbG9jKDQpOw0KICAgIENVc2VyX2dhaW5fZXhwX3NwKHVzZXIsIGV4cCwgYTIsIGEzLCAwLCAwLCAwKTsNCn0NCg0KLy/nu5nop5LoibLlj5HpgZPlhbcNCmZ1bmN0aW9uIGFwaV9DVXNlcl9BZGRJdGVtKHVzZXIsIGl0ZW1faWQsIGl0ZW1fY250KQ0Kew0KICAgIHZhciBpdGVtX3NwYWNlID0gTWVtb3J5LmFsbG9jKDQpOw0KICAgIHZhciBzbG90ID0gQ1VzZXJfQWRkSXRlbSh1c2VyLCBpdGVtX2lkLCBpdGVtX2NudCwgNiwgaXRlbV9zcGFjZSwgMCk7DQoNCiAgICBpZihzbG90ID49IDApDQogICAgew0KICAgICAgICAvL+mAmuefpeWuouaIt+err+aciea4uOaIj+mBk+WFt+abtOaWsA0KICAgICAgICBDVXNlcl9TZW5kVXBkYXRlSXRlbUxpc3QodXNlciwgMSwgaXRlbV9zcGFjZS5yZWFkSW50KCksIHNsb3QpOw0KICAgIH0NCg0KICAgIHJldHVybjsNCn0NCg0KLy/ojrflj5bop5LoibLlkI3lrZcNCmZ1bmN0aW9uIGFwaV9DVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjTmFtZSh1c2VyKQ0Kew0KICAgIHZhciBwID0gQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY05hbWUodXNlcik7DQogICAgaWYocC5pc051bGwoKSkNCiAgICB7DQogICAgICAgIHJldHVybiAnJzsNCiAgICB9DQoNCiAgICByZXR1cm4gcC5yZWFkVXRmOFN0cmluZygtMSk7DQp9DQoNCi8v57uZ6KeS6Imy5Y+R5raI5oGvDQpmdW5jdGlvbiBhcGlfQ1VzZXJfU2VuZE5vdGlQYWNrZXRNZXNzYWdlKHVzZXIsIG1zZywgbXNnX3R5cGUpDQp7DQogICAgdmFyIHAgPSBNZW1vcnkuYWxsb2NVdGY4U3RyaW5nKG1zZyk7DQogICAgQ1VzZXJfU2VuZE5vdGlQYWNrZXRNZXNzYWdlKHVzZXIsIHAsIG1zZ190eXBlKTsNCg0KICAgIHJldHVybjsNCn0NCg0KLy/lj5HpgIHnprvnur/lpZblirENCmZ1bmN0aW9uIHNlbmRfb2ZmbGluZV9yZXdhcmQodXNlcikNCnsNCiAgICAvL+W9k+WJjeezu+e7n+aXtumXtA0KICAgIHZhciBjdXJfdGltZSA9IGFwaV9DU3lzdGVtVGltZV9nZXRDdXJTZWMoKTsNCg0KICAgIC8v55So5oi35LiK5qyh6YCA5Ye65ri45oiP5pe26Ze0DQogICAgdmFyIHVzZXJfbGFzdF9wbGF5X3RpbWUgPSBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjTGFzdFBsYXlUaWNrKHVzZXIpOw0KDQogICAgLy/mlrDliJvlu7rnmoTop5LoibLpppbmrKHnmbvpmYZ1c2VyX2xhc3RfcGxheV90aW1l5Li6MA0KICAgIGlmKHVzZXJfbGFzdF9wbGF5X3RpbWUgPiAwKQ0KICAgIHsNCiAgICAgICAgLy/nprvnur/ml7bplb8o5YiG6ZKfKQ0KICAgICAgICB2YXIgZGlmZl90aW1lID0gKGN1cl90aW1lIC0gdXNlcl9sYXN0X3BsYXlfdGltZSkgLyA2MDsNCg0KICAgICAgICAvL+emu+e6vzEwbWlu5ZCO5byA5aeL6K6h566XDQogICAgICAgIGlmKGRpZmZfdGltZSA8IDEwKQ0KICAgICAgICAgICAgcmV0dXJuOw0KDQogICAgICAgIC8v56a757q/5aWW5Yqx5pyA5aSa5Y+R6YCBM+WkqQ0KICAgICAgICBpZihkaWZmX3RpbWUgPiAzKjI0KjYwKQ0KICAgICAgICAgICAgZGlmZl90aW1lID0gMyoyNCo2MDsNCg0KICAgICAgICAvL+e7j+mqjOWlluWKsTog5q+P5YiG6ZKf5b2T5YmN562J57qn57uP6aqM55qEMC4yJQ0KICAgICAgICB2YXIgUkVXQVJEX0VYUF9QRVJfTUlOID0gMC4wMDI7DQogICAgICAgIC8v6YeR5biB5aWW5YqxOiDmr4/liIbpkp/lvZPliY3nrYnnuqcqMTAwDQogICAgICAgIHZhciBSRVdBUkRfR09MRF9QRVJfTUlOID0gMTAwOw0KDQogICAgICAgIC8v6K6h566X5aWW5YqxDQogICAgICAgIHZhciBjdXJfbGV2ZWwgPSBDVXNlckNoYXJhY0luZm9fZ2V0X2NoYXJhY19sZXZlbCh1c2VyKTsNCiAgICAgICAgdmFyIHJld2FyZF9leHAgPSBNYXRoLmZsb29yKENVc2VyQ2hhcmFjSW5mb19nZXRfbGV2ZWxfdXBfZXhwKHVzZXIsIGN1cl9sZXZlbCkgKiBSRVdBUkRfRVhQX1BFUl9NSU4gKiBkaWZmX3RpbWUpOw0KICAgICAgICB2YXIgcmV3YXJkX2dvbGQgPSBNYXRoLmZsb29yKGN1cl9sZXZlbCAqIFJFV0FSRF9HT0xEX1BFUl9NSU4gKiBkaWZmX3RpbWUpOw0KDQogICAgICAgIC8v5Y+R57uP6aqMDQogICAgICAgIGFwaV9DVXNlcl9nYWluX2V4cF9zcCh1c2VyLCByZXdhcmRfZXhwKTsNCiAgICAgICAgLy/lj5Hph5HluIENCiAgICAgICAgQ0ludmVudG9yeV9nYWluX21vbmV5KENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNJbnZlblcodXNlciksIHJld2FyZF9nb2xkLCAwLCAwLCAwKTsNCiAgICAgICAgLy/pgJrnn6XlrqLmiLfnq6/mnInmuLjmiI/pgZPlhbfmm7TmlrANCiAgICAgICAgQ1VzZXJfU2VuZFVwZGF0ZUl0ZW1MaXN0KHVzZXIsIDEsIDAsIDApOw0KDQogICAgICAgIC8v5Y+R5raI5oGv6YCa55+l5a6i5oi356uv5aWW5Yqx5bey5Y+R6YCBDQogICAgICAgIGFwaV9DVXNlcl9TZW5kTm90aVBhY2tldE1lc3NhZ2UodXNlciwgJ+emu+e6v+WlluWKseW3suWPkemAgSjnu4/pqozlpZblirE6JyArIHJld2FyZF9leHAgKyAnLCDph5HluIHlpZblirE6JyArIHJld2FyZF9nb2xkICsgJyknLCA2KTsNCiAgICB9DQp9DQoNCi8v5Y+R6YCB5q+P5pel6aaW5qyh55m76ZmG5aWW5YqxDQpmdW5jdGlvbiBzZW5kX2ZpcnN0X2xvZ2luX3Jld2FyZCh1c2VyKQ0Kew0KICAgIC8v5aWW5Yqx6YGT5YW35YiX6KGoKOmBk+WFt2lkLCDmr4/nuqflpZblirHmlbDph48pDQogICAgdmFyIFJFV0FSRF9MSVNUID0gW1s4LCAwLjFdLCBbMzAzNywgMTBdXTsNCg0KICAgIC8v6I635Y+W546p5a6255m75b2VDQogICAgdmFyIGN1cl9sZXZlbCA9IENVc2VyQ2hhcmFjSW5mb19nZXRfY2hhcmFjX2xldmVsKHVzZXIpOw0KICAgIGZvcih2YXIgaT0wOyBpPFJFV0FSRF9MSVNULmxlbmd0aDsgaSsrKQ0KICAgIHsNCiAgICAgICAgLy/pgZPlhbdpZA0KICAgICAgICB2YXIgcmV3YXJkX2l0ZW1faWQgPSBSRVdBUkRfTElTVFtpXVswXTsNCiAgICAgICAgLy/pgZPlhbfmlbDph48NCiAgICAgICAgdmFyIHJld2FyZF9pdGVtX2NudCA9IDEgKyBNYXRoLmZsb29yKChjdXJfbGV2ZWwgKiBSRVdBUkRfTElTVFtpXVsxXSkpOw0KDQogICAgICAgIC8v5Y+R6YCB6YGT5YW35Yiw546p5a626IOM5YyFDQogICAgICAgIGFwaV9DVXNlcl9BZGRJdGVtKHVzZXIsIHJld2FyZF9pdGVtX2lkLCByZXdhcmRfaXRlbV9jbnQpOw0KICAgIH0NCn0NCg0KLy/op5LoibLnmbvlhaXnmbvlh7rlpITnkIYNCmZ1bmN0aW9uIGhvb2tfdXNlcl9pbm91dF9nYW1lX3dvcmxkKCkNCnsNCiAgICAvL+mAieaLqeinkuiJsuWkhOeQhuWHveaVsCBIb29rIEdhbWVXb3JsZDo6cmVhY2hfZ2FtZV93b3JsZA0KICAgIEludGVyY2VwdG9yLmF0dGFjaChwdHIoMHg4NkM0RTUwKSwgew0KICAgICAgICAvL+WHveaVsOWFpeWPoywg5ou/5Yiw5Ye95pWw5Y+C5pWwYXJncw0KICAgICAgICBvbkVudGVyOiBmdW5jdGlvbiAoYXJncykgew0KICAgICAgICAgICAgLy/kv53lrZjlh73mlbDlj4LmlbANCiAgICAgICAgICAgIHRoaXMudXNlciA9IGFyZ3NbMV07DQoNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbR2FtZVdvcmxkOjpyZWFjaF9nYW1lX3dvcmxkXSB0aGlzLnVzZXI9JyArIHRoaXMudXNlcik7DQogICAgICAgIH0sDQogICAgICAgIC8v5Y6f5Ye95pWw5omn6KGM5a6M5q+VLCDov5nph4zlj6/ku6XlvpfliLDlubbkv67mlLnov5Tlm57lgLxyZXR2YWwNCiAgICAgICAgb25MZWF2ZTogZnVuY3Rpb24gKHJldHZhbCkgew0KICAgICAgICAgICAgLy/nu5nop5LoibLlj5Hmtojmga/pl67lgJkNCiAgICAgICAgICAgIGFwaV9DVXNlcl9TZW5kTm90aVBhY2tldE1lc3NhZ2UodGhpcy51c2VyLCAnSGVsbG8gJyArIGFwaV9DVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjTmFtZSh0aGlzLnVzZXIpKyI6IitnZXRfdGltZXN0YW1wKCksIDEpOw0KDQogICAgICAgICAgICAvL+emu+e6v+WlluWKseWkhOeQhg0KICAgICAgICAgICAgc2VuZF9vZmZsaW5lX3Jld2FyZCh0aGlzLnVzZXIpOw0KDQogICAgICAgICAgICAvL+aAqueJqeaUu+Wfjua0u+WKqOabtOaWsOi/m+W6pg0KICAgICAgICAgICAgaWYodmlsbGFnZUF0dGFja0V2ZW50SW5mby5zdGF0ZSAhPSBWSUxMQUdFQVRUQUNLX1NUQVRFX0VORCkNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAvL+mAmuefpeWuouaIt+err+aJk+W8gOa0u+WKqFVJDQogICAgICAgICAgICAgICAgbm90aWZ5X3ZpbGxhZ2VhdHRhY2tfc2NvcmUodGhpcy51c2VyKTsNCg0KICAgICAgICAgICAgICAgIC8v5YWs5ZGK6YCa55+l5a6i5oi356uv5rS75Yqo6L+b5bqmDQogICAgICAgICAgICAgICAgZXZlbnRfdmlsbGFnZWF0dGFja19icm9hZGNhc3RfZGlmZmN1bHQoKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0pOw0KDQogICAgLy/op5LoibLpgIDlh7rml7blpITnkIblh73mlbAgSG9vayBHYW1lV29ybGQ6OmxlYXZlX2dhbWVfd29ybGQNCiAgICBJbnRlcmNlcHRvci5hdHRhY2gocHRyKDB4ODZDNTI4OCksIHsNCiAgICAgICAgb25FbnRlcjogZnVuY3Rpb24gKGFyZ3MpIHsNCg0KICAgICAgICAgICAgdmFyIHVzZXIgPSBhcmdzWzFdOw0KICAgICAgICAgICAgdGhpcy51c2VyID0gdXNlcjsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbR2FtZVdvcmxkOjpsZWF2ZV9nYW1lX3dvcmxkXSB1c2VyPScgKyB1c2VyKTsNCiAgICAgICAgfQ0KICAgIH0pOw0KICAgIC8v6KeS6Imy6YCA5Ye65pe25aSE55CG5Ye95pWwIEhvb2sgQ0dhbWVNYW5hZ2VyOjp1c2VyX2V4aXQNCiAgICBJbnRlcmNlcHRvci5hdHRhY2gocHRyKDB4MDgyOTg1YTgpLCB7DQoNCiAgICAgICAgb25FbnRlcjogZnVuY3Rpb24gKGFyZ3MpIHsNCg0KICAgICAgICAgICAgdmFyIHVzZXIgPSBhcmdzWzFdOw0KICAgICAgICAgICAgdGhpcy51c2VyID0gdXNlcjsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbQ0dhbWVNYW5hZ2VyOjp1c2VyX2V4aXRdIHVzZXI9JyArIHVzZXIpOw0KICAgICAgICB9LA0KICAgICAgICBvbkxlYXZlOiBmdW5jdGlvbiAocmV0dmFsKSB7DQogICAgICAgICAgICB2YXIgYWNjSWQgPSBDVXNlcl9nZXRfYWNjX2lkKHRoaXMudXNlcik7DQogICAgICAgICAgICAvLyDmuIXpmaTotKblj7fku5PlupMg6YeK5pS+56m66Ze0DQogICAgICAgICAgICBpZihhY2NvdW50Q2FyZ2ZvW2FjY0lkXSl7DQogICAgICAgICAgICAgICAgZGVsZXRlIGFjY291bnRDYXJnZm9bYWNjSWRdOw0KICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdjbGVhbiBhY2NvdW50Q2FyZ2ZvIGFjY0lkOicrYWNjSWQpDQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9KTsNCn0NCg0KLy/op5LoibLmr4/ml6XpppbmrKHnmbvlvZXlpZblirENCmZ1bmN0aW9uIGhvb2tfdXNlcl9maXJzdF9sb2dpbigpDQp7DQogICAgLy/op5LoibLmr4/ml6Xph43nva7lpITnkIblh73mlbAgSG9vayBDVXNlcjo6QWRkRGFpbHlJdGVtDQogICAgSW50ZXJjZXB0b3IuYXR0YWNoKHB0cigweDg2NTZDQUEpLCB7DQoNCiAgICAgICAgb25FbnRlcjogZnVuY3Rpb24gKGFyZ3MpIHsNCiAgICAgICAgICAgIC8v5L+d5a2Y5Ye95pWw5Y+C5pWwDQogICAgICAgICAgICB2YXIgdXNlciA9IGFyZ3NbMF07DQoNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbQ1VzZXI6OkFkZERhaWx5SXRlbV0gdXNlcj0nICsgdXNlcik7DQoNCiAgICAgICAgICAgIC8v5Y+R6YCB5q+P5pel6aaW5qyh55m76ZmG5aWW5YqxDQogICAgICAgICAgICBzZW5kX2ZpcnN0X2xvZ2luX3Jld2FyZCh1c2VyKTsNCiAgICAgICAgfSwNCiAgICAgICAgb25MZWF2ZTogZnVuY3Rpb24gKHJldHZhbCkgew0KICAgICAgICB9DQogICAgfSk7DQp9DQoNCi8v5LuO5a6i5oi356uv5bCB5YyF5Lit6K+75Y+W5pWw5o2uKOWksei0peS8muaKm+W8guW4uCwg6LCD55So5pa55b+F6aG75YGa5byC5bi45aSE55CGKQ0KZnVuY3Rpb24gYXBpX1BhY2tldEJ1Zl9nZXRfYnl0ZShwYWNrZXRfYnVmKQ0Kew0KICAgIHZhciBkYXRhID0gTWVtb3J5LmFsbG9jKDEpOw0KDQogICAgaWYoUGFja2V0QnVmX2dldF9ieXRlKHBhY2tldF9idWYsIGRhdGEpKQ0KICAgIHsNCiAgICAgICAgcmV0dXJuIGRhdGEucmVhZFU4KCk7DQogICAgfQ0KDQogICAgdGhyb3cgIG5ldyBFcnJvcignUGFja2V0QnVmX2dldF9ieXRlIEZhaWwhJyk7DQp9DQoNCmZ1bmN0aW9uIGFwaV9QYWNrZXRCdWZfZ2V0X3Nob3J0KHBhY2tldF9idWYpDQp7DQogICAgdmFyIGRhdGEgPSBNZW1vcnkuYWxsb2MoMik7DQoNCiAgICBpZihQYWNrZXRCdWZfZ2V0X3Nob3J0KHBhY2tldF9idWYsIGRhdGEpKQ0KICAgIHsNCiAgICAgICAgcmV0dXJuIGRhdGEucmVhZFNob3J0KCk7DQogICAgfQ0KDQogICAgdGhyb3cgIG5ldyBFcnJvcignUGFja2V0QnVmX2dldF9zaG9ydCBGYWlsIScpOw0KfQ0KDQpmdW5jdGlvbiBhcGlfUGFja2V0QnVmX2dldF9pbnQocGFja2V0X2J1ZikNCnsNCiAgICB2YXIgZGF0YSA9IE1lbW9yeS5hbGxvYyg0KTsNCg0KICAgIGlmKFBhY2tldEJ1Zl9nZXRfaW50KHBhY2tldF9idWYsIGRhdGEpKQ0KICAgIHsNCiAgICAgICAgcmV0dXJuIGRhdGEucmVhZEludCgpOw0KICAgIH0NCg0KDQogICAgdGhyb3cgIG5ldyBFcnJvcignUGFja2V0QnVmX2dldF9pbnQgRmFpbCEnKTsNCn0NCg0KZnVuY3Rpb24gYXBpX1BhY2tldEJ1Zl9nZXRfYmluYXJ5KHBhY2tldF9idWYsIGxlbikNCnsNCiAgICB2YXIgZGF0YSA9IE1lbW9yeS5hbGxvYyhsZW4pOw0KDQogICAgaWYoUGFja2V0QnVmX2dldF9iaW5hcnkocGFja2V0X2J1ZiwgZGF0YSwgbGVuKSkNCiAgICB7DQogICAgICAgIHJldHVybiBkYXRhLnJlYWRCeXRlQXJyYXkobGVuKTsNCiAgICB9DQoNCiAgICB0aHJvdyAgbmV3IEVycm9yKCdQYWNrZXRCdWZfZ2V0X2JpbmFyeSBGYWlsIScpOw0KfQ0KDQovL+iOt+WPluWOn+Wni+WwgeWMheaVsOaNrg0KZnVuY3Rpb24gYXBpX1BhY2tldEJ1Zl9nZXRfYnVmKHBhY2tldF9idWYpDQp7DQogICAgcmV0dXJuIHBhY2tldF9idWYuYWRkKDIwKS5yZWFkUG9pbnRlcigpLmFkZCgxMyk7DQp9DQoNCi8v5aSE55CGR03kv6Hmga8NCmZ1bmN0aW9uIGhvb2tfZ21fY29tbWFuZCgpDQp7DQogICAgLy9IT09LIERpc3BhdGNoZXJfTmV3X0dtZGVidWdfQ29tbWFuZDo6ZGlzcGF0Y2hfc2lnDQogICAgSW50ZXJjZXB0b3IuYXR0YWNoKHB0cigweDgyMEJCREUpLCB7DQoNCiAgICAgICAgb25FbnRlcjogZnVuY3Rpb24gKGFyZ3MpIHsNCg0KICAgICAgICAgICAgLy/ojrflj5bljp/lp4vlsIHljIXmlbDmja4NCiAgICAgICAgICAgIHZhciByYXdfcGFja2V0X2J1ZiA9IGFwaV9QYWNrZXRCdWZfZ2V0X2J1ZihhcmdzWzJdKTsNCg0KICAgICAgICAgICAgLy/op6PmnpBHTSBERUJVR+WRveS7pA0KICAgICAgICAgICAgdmFyIG1zZ19sZW4gPSByYXdfcGFja2V0X2J1Zi5yZWFkSW50KCk7DQogICAgICAgICAgICB2YXIgbXNnID0gcmF3X3BhY2tldF9idWYuYWRkKDQpLnJlYWRVdGY4U3RyaW5nKG1zZ19sZW4pOw0KDQogICAgICAgICAgICB2YXIgdXNlciA9IGFyZ3NbMV07DQoNCg0KICAgICAgICAgICAgY29uc29sZS5sb2coJ+aUtuWIsEdNX0RFQlVH5raI5oGvOiBbJysgYXBpX0NVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNOYW1lKHVzZXIpICsgJ10gJyArIG1zZyk7DQoNCiAgICAgICAgICAgIC8v5Y676Zmk5ZG95Luk5byA5aS055qEICcvLycNCiAgICAgICAgICAgIG1zZyA9IG1zZy5zbGljZSgyKTsNCg0KICAgICAgICAgICAgaWYobXNnID09ICd0ZXN0JykNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAvL+WQkeWuouaIt+err+WPkemAgea2iOaBrw0KICAgICAgICAgICAgICAgIGFwaV9DVXNlcl9TZW5kTm90aVBhY2tldE1lc3NhZ2UodXNlciwgJ+i/meaYr+S4gOadoea1i+ivleWRveS7pCcsIDEpOw0KDQogICAgICAgICAgICAgICAgLy/miafooYzkuIDkupvmtYvor5Xku6PnoIENCg0KICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGVsc2UgaWYobXNnLmluZGV4T2YoJ21vdmUgJykgPT0gMCkNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAvL+WfjumVh+eerOenuw0KICAgICAgICAgICAgICAgIHZhciBtc2dfZ3JvdXAgPSBtc2cuc3BsaXQoJyAnKTsNCiAgICAgICAgICAgICAgICBpZihtc2dfZ3JvdXAubGVuZ3RoID09IDUpDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICB2YXIgdmlsbGFnZSA9IHBhcnNlSW50KG1zZ19ncm91cFsxXSk7DQogICAgICAgICAgICAgICAgICAgIHZhciBhcmVhID0gcGFyc2VJbnQobXNnX2dyb3VwWzJdKTsNCiAgICAgICAgICAgICAgICAgICAgdmFyIHBvc194ID0gcGFyc2VJbnQobXNnX2dyb3VwWzNdKTsNCiAgICAgICAgICAgICAgICAgICAgdmFyIHBvc195ID0gcGFyc2VJbnQobXNnX2dyb3VwWzRdKTsNCiAgICAgICAgICAgICAgICAgICAgR2FtZVdvcmxkX21vdmVfYXJlYShHX0dhbWVXb3JsZCgpLCB1c2VyLCB2aWxsYWdlLCBhcmVhLCBwb3NfeCwgcG9zX3ksIDAsIDAsIDAsIDAsIDApOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBlbHNlDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICBhcGlfQ1VzZXJfU2VuZE5vdGlQYWNrZXRNZXNzYWdlKHVzZXIsICfmoLzlvI/plJnor68uIOS9v+eUqOekuuS+izogLy9tb3ZlIDIgMSAxMDAgMTAwJywgMik7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfWVsc2UgaWYobXNnLmluZGV4T2YoJ2l0ZW0gJykgPT0gMCkNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAvL+iOt+W+l+eJqeWTgQ0KICAgICAgICAgICAgICAgIHZhciBtc2dfZ3JvdXAgPSBtc2cuc3BsaXQoJyAnKTsNCiAgICAgICAgICAgICAgICBpZihtc2dfZ3JvdXAubGVuZ3RoID09IDMpDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICB2YXIgaXRlbV9pZCA9IHBhcnNlSW50KG1zZ19ncm91cFsxXSk7DQogICAgICAgICAgICAgICAgICAgIHZhciBpdGVtX2NudCA9IHBhcnNlSW50KG1zZ19ncm91cFsyXSk7DQogICAgICAgICAgICAgICAgICAgIC8v5Y+R6YCB6YGT5YW35Yiw546p5a626IOM5YyFDQogICAgICAgICAgICAgICAgICAgIGFwaV9DVXNlcl9BZGRJdGVtKHVzZXIsIGl0ZW1faWQsIGl0ZW1fY250KTsNCiAgICAgICAgICAgICAgICAgICAgYXBpX0NVc2VyX1NlbmROb3RpUGFja2V0TWVzc2FnZSh1c2VyLCAnR03lkb3ku6TlrozmiJAnLCAxKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgZWxzZQ0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgYXBpX0NVc2VyX1NlbmROb3RpUGFja2V0TWVzc2FnZSh1c2VyLCAn5qC85byP6ZSZ6K+vLiBpdGVtOiAvL2l0ZW0gMSAxJywgMik7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfWVsc2UgaWYobXNnID09ICdhdHRhY2tzdGFydCcpDQogICAgICAgICAgICB7CS8vR03mqKHlvI/lvIDlkK/mgKrnianmlLvln44NCiAgICAgICAgICAgICAgICBvbl9zdGFydF9ldmVudF92aWxsYWdlYXR0YWNrKCkNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGVsc2UgaWYobXNnID09ICdhdHRhY2tlbmQnKQ0KICAgICAgICAgICAgewkvL0dN5qih5byP5YWz6Zet5oCq54mp5pS75Z+ODQogICAgICAgICAgICAgICAgb25fZW5kX2V2ZW50X3ZpbGxhZ2VhdHRhY2soKTsNCiAgICAgICAgICAgIH1lbHNlIGlmKG1zZyA9PSAnb25oZWxsJyl7DQogICAgICAgICAgICAgICAgaGVmZlBhcnR5VGFnID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICBhcGlfQ1VzZXJfU2VuZE5vdGlQYWNrZXRNZXNzYWdlKHVzZXIsICflvIDlkK/mt7HmuIrmqKHlvI8nLCAxKTsNCiAgICAgICAgICAgIH1lbHNlIGlmKG1zZyA9PSAnb2ZmaGVsbCcpew0KICAgICAgICAgICAgICAgIGhlZmZQYXJ0eVRhZyA9IGZhbHNlOw0KICAgICAgICAgICAgICAgIGFwaV9DVXNlcl9TZW5kTm90aVBhY2tldE1lc3NhZ2UodXNlciwgJ+WFs+mXrea3sea4iuaooeW8jycsIDEpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICBvbkxlYXZlOiBmdW5jdGlvbiAocmV0dmFsKSB7DQogICAgICAgIH0NCiAgICB9KTsNCn0NCg0KLy/lhYHorrjotZvliKnkuprmiL/pl7TnmoTkurrkupLnm7jlj6/op4ENCmZ1bmN0aW9uIHNoYXJlX3NlcmlhX3Jvb20oKQ0Kew0KICAgIC8vSG9vayBBcmVhOjppbnNlcnRfdXNlcg0KICAgIEludGVyY2VwdG9yLmF0dGFjaChwdHIoMHg4NkMyNUE2KSwgew0KDQogICAgICAgIG9uRW50ZXI6IGZ1bmN0aW9uIChhcmdzKSB7DQogICAgICAgICAgICAvL+S/ruaUueagh+W/l+S9jSwg6K6p5pyN5Yqh5Zmo5bm/5pKt6LWb5Yip5Lqa5peF6aaG5raI5oGvDQogICAgICAgICAgICBhcmdzWzBdLmFkZCgweDY4KS53cml0ZUludCgwKTsNCiAgICAgICAgfSwNCiAgICAgICAgb25MZWF2ZTogZnVuY3Rpb24gKHJldHZhbCkgew0KICAgICAgICB9DQogICAgfSk7DQp9DQoNCi8v5pys5Zyw5pe26Ze05oizDQpmdW5jdGlvbiBnZXRfdGltZXN0YW1wKCkNCnsNCiAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKCk7DQogICAgZGF0ZSA9IG5ldyBEYXRlKGRhdGUuc2V0SG91cnMoZGF0ZS5nZXRIb3VycygpKSk7ICAgICAvL+i9rOaNouWIsOacrOWcsOaXtumXtA0KICAgIHZhciB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpLnRvU3RyaW5nKCk7DQogICAgdmFyIG1vbnRoID0gKGRhdGUuZ2V0TW9udGgoKSArIDEpLnRvU3RyaW5nKCk7DQogICAgdmFyIGRheSA9IGRhdGUuZ2V0RGF0ZSgpLnRvU3RyaW5nKCk7DQogICAgdmFyIGhvdXIgPSBkYXRlLmdldEhvdXJzKCkudG9TdHJpbmcoKTsNCiAgICB2YXIgbWludXRlID0gZGF0ZS5nZXRNaW51dGVzKCkudG9TdHJpbmcoKTsNCiAgICB2YXIgc2Vjb25kID0gZGF0ZS5nZXRTZWNvbmRzKCkudG9TdHJpbmcoKTsNCiAgICB2YXIgbXMgPSBkYXRlLmdldE1pbGxpc2Vjb25kcygpLnRvU3RyaW5nKCk7DQoNCg0KICAgIHJldHVybiB5ZWFyICsgJy0nICsgbW9udGggKyAnLScgKyBkYXkgKyAnICcgKyBob3VyICsgJzonICsgbWludXRlICsgJzonICsgc2Vjb25kOw0KfQ0KDQovL2xpbnV45Yib5bu65paH5Lu25aS5DQpmdW5jdGlvbiBhcGlfbWtkaXIocGF0aCkNCnsNCiAgICB2YXIgb3BlbmRpciA9IG5ldyBOYXRpdmVGdW5jdGlvbihNb2R1bGUuZ2V0RXhwb3J0QnlOYW1lKG51bGwsICdvcGVuZGlyJyksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KICAgIHZhciBta2RpciA9IG5ldyBOYXRpdmVGdW5jdGlvbihNb2R1bGUuZ2V0RXhwb3J0QnlOYW1lKG51bGwsICdta2RpcicpLCAnaW50JywgWydwb2ludGVyJywgJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQogICAgdmFyIHBhdGhfcHRyID0gTWVtb3J5LmFsbG9jVXRmOFN0cmluZyhwYXRoKTsNCiAgICBpZihvcGVuZGlyKHBhdGhfcHRyKSkNCiAgICAgICAgcmV0dXJuIHRydWU7DQogICAgcmV0dXJuIG1rZGlyKHBhdGhfcHRyLCAweDFGRik7DQp9DQoNCi8v6I635Y+W5b2T5YmN6aKR6YGT5ZCNDQpmdW5jdGlvbiBhcGlfQ0Vudmlyb25tZW50X2dldF9maWxlX25hbWUoKQ0Kew0KICAgIHZhciBmaWxlbmFtZSA9IENFbnZpcm9ubWVudF9nZXRfZmlsZV9uYW1lKEdfQ0Vudmlyb25tZW50KCkpOw0KICAgIHJldHVybiBmaWxlbmFtZS5yZWFkVXRmOFN0cmluZygtMSk7DQp9DQoNCi8v5paH5Lu26K6w5b2V5pel5b+XDQp2YXIgZnJpZGFfbG9nX2Rpcl9wYXRoID0gJy4vZnJpZGFfbG9nLycNCnZhciBmX2xvZyA9IG51bGw7DQp2YXIgbG9nX2RheSA9IG51bGw7DQpmdW5jdGlvbiBsb2cobXNnKQ0Kew0KICAgIHZhciBkYXRlID0gbmV3IERhdGUoKTsNCiAgICBkYXRlID0gbmV3IERhdGUoZGF0ZS5zZXRIb3VycyhkYXRlLmdldEhvdXJzKCkpKTsgICAgIC8v6L2s5o2i5Yiw5pys5Zyw5pe26Ze0DQogICAgdmFyIHllYXIgPSBkYXRlLmdldEZ1bGxZZWFyKCkudG9TdHJpbmcoKTsNCiAgICB2YXIgbW9udGggPSAoZGF0ZS5nZXRNb250aCgpICsgMSkudG9TdHJpbmcoKTsNCiAgICB2YXIgZGF5ID0gZGF0ZS5nZXREYXRlKCkudG9TdHJpbmcoKTsNCiAgICB2YXIgaG91ciA9IGRhdGUuZ2V0SG91cnMoKS50b1N0cmluZygpOw0KICAgIHZhciBtaW51dGUgPSBkYXRlLmdldE1pbnV0ZXMoKS50b1N0cmluZygpOw0KICAgIHZhciBzZWNvbmQgPSBkYXRlLmdldFNlY29uZHMoKS50b1N0cmluZygpOw0KICAgIHZhciBtcyA9IGRhdGUuZ2V0TWlsbGlzZWNvbmRzKCkudG9TdHJpbmcoKTsNCg0KICAgIC8v5pel5b+X5oyJ5pel5pyf6K6w5b2VDQogICAgaWYoKGZfbG9nID09IG51bGwpIHx8IChsb2dfZGF5ICE9IGRheSkpDQogICAgew0KICAgICAgICBhcGlfbWtkaXIoZnJpZGFfbG9nX2Rpcl9wYXRoKTsNCiAgICAgICAgZl9sb2cgPSBuZXcgRmlsZShmcmlkYV9sb2dfZGlyX3BhdGggKyAnZnJpZGFfJyArIGFwaV9DRW52aXJvbm1lbnRfZ2V0X2ZpbGVfbmFtZSgpICsgJ18nICsgeWVhciArICdfJyArIG1vbnRoICsgJ18nICsgZGF5ICsgJy5sb2cnLCAnYSsnKTsNCiAgICAgICAgbG9nX2RheSA9IGRheTsNCiAgICB9DQoNCiAgICAvL+aXtumXtOaIsw0KICAgIHZhciB0aW1lc3RhbXAgPSB5ZWFyICsgJy0nICsgbW9udGggKyAnLScgKyBkYXkgKyAnICcgKyBob3VyICsgJzonICsgbWludXRlICsgJzonICsgc2Vjb25kICsgJy4nICsgbXM7DQoNCiAgICAvL+aOp+WItuWPsOaXpeW/lw0KICAgIGNvbnNvbGUubG9nKCdbJyArIHRpbWVzdGFtcCArICddJyArIG1zZyArICdcbicpOw0KDQogICAgLy/mlofku7bml6Xlv5cNCiAgICBmX2xvZy53cml0ZSgnWycgKyB0aW1lc3RhbXAgKyAnXScgKyBtc2cgKyAnXG4nKTsNCiAgICAvL+eri+WNs+WGmeaXpeW/l+WIsOaWh+S7tuS4rQ0KICAgIGZfbG9nLmZsdXNoKCk7DQp9DQoNCi8v55Sf5oiQ6ZqP5py65pW05pWwKOS4jeWMheWQq21heCkNCmZ1bmN0aW9uIGdldF9yYW5kb21faW50KG1pbiwgbWF4KQ0Kew0KICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluKSkgKyBtaW47DQp9DQoNCi8v5YaF5a2Y5Y2B5YWt6L+b5Yi25omT5Y2wDQpmdW5jdGlvbiBiaW4yaGV4KHAsIGxlbikNCnsNCiAgICB2YXIgaGV4ID0gJyc7DQogICAgZm9yKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKQ0KICAgIHsNCiAgICAgICAgdmFyIHMgPSBwLmFkZChpKS5yZWFkVTgoKS50b1N0cmluZygxNik7DQogICAgICAgIGlmKHMubGVuZ3RoID09IDEpDQogICAgICAgICAgICBzID0gJzAnICsgczsNCiAgICAgICAgaGV4ICs9IHM7DQogICAgICAgIGlmIChpICE9IGxlbiAtIDEpDQogICAgICAgICAgICBoZXggKz0gJyAnOw0KICAgIH0NCiAgICByZXR1cm4gaGV4Ow0KfQ0KDQovL+aJgOaciei0puWPt+inkuiJsuW8gOWQr0dN5p2D6ZmQDQpmdW5jdGlvbiBob29rX2NoZWNrX2dtKCkNCnsNCiAgICAvL0dN6LSm5oi3DQogICAgLy9Xb25nV29yazo6Q0dNQWNjb3VudHM6OmlzR00NCiAgICBJbnRlcmNlcHRvci5hdHRhY2gocHRyKDB4ODEwOTM0NiksIHsNCg0KICAgICAgICBvbkVudGVyOiBmdW5jdGlvbiAoYXJncykgew0KICAgICAgICB9LA0KICAgICAgICBvbkxlYXZlOiBmdW5jdGlvbiAocmV0dmFsKSB7DQogICAgICAgICAgICAvL+W8uuWItui/lOWbnnRydWUNCiAgICAgICAgICAgIHJldHZhbC5yZXBsYWNlKDEpOw0KICAgICAgICB9DQogICAgfSk7DQoNCiAgICAvL0dN6KeS6ImyDQogICAgLy9DVXNlcjo6aXNHTVVzZXINCiAgICBJbnRlcmNlcHRvci5hdHRhY2gocHRyKDB4ODE0NTg5QyksIHsNCg0KICAgICAgICBvbkVudGVyOiBmdW5jdGlvbiAoYXJncykgew0KICAgICAgICB9LA0KICAgICAgICBvbkxlYXZlOiBmdW5jdGlvbiAocmV0dmFsKSB7DQogICAgICAgICAgICAvL+W8uuWItui/lOWbnnRydWUNCiAgICAgICAgICAgIHJldHZhbC5yZXBsYWNlKDEpOw0KICAgICAgICB9DQogICAgfSk7DQp9DQoNCi8v6Kej6Zmk5q+P5pel5Yib5bu66KeS6Imy5pWw6YeP6ZmQ5Yi2DQpmdW5jdGlvbiBkaXNhYmxlX2NoZWNrX2NyZWF0ZV9jaGFyYWN0ZXJfbGltaXQoKQ0Kew0KICAgIC8vREJfQ3JlYXRlQ2hhcmFjOjpDaGVja0xpbWl0Q3JlYXRlTmV3Q2hhcmFjDQogICAgSW50ZXJjZXB0b3IuYXR0YWNoKHB0cigweDg0MDE5MjIpLCB7DQogICAgICAgIG9uRW50ZXI6IGZ1bmN0aW9uIChhcmdzKSB7DQogICAgICAgIH0sDQogICAgICAgIG9uTGVhdmU6IGZ1bmN0aW9uIChyZXR2YWwpIHsNCiAgICAgICAgICAgIC8v5by65Yi26L+U5Zue5YWB6K645Yib5bu6DQogICAgICAgICAgICByZXR2YWwucmVwbGFjZSgxKTsNCiAgICAgICAgfQ0KICAgIH0pOw0KfQ0KDQovL+S/ruWkjee7neacm+S5i+WhlA0KLy9za2lwX3VzZXJfYXBjOiDkuLp0cnVl5pe2LCDot7Pov4fmr48xMOWxgueahFVzZXJBUEMNCmZ1bmN0aW9uIGZpeF9UT0Qoc2tpcF91c2VyX2FwYykNCnsNCiAgICAvL+avj+aXpei/m+WFpeasoeaVsOmZkOWItg0KICAgIC8vVE9EX1VzZXJTdGF0ZTo6Z2V0RW50ZXJDb3VudA0KICAgIEludGVyY2VwdG9yLmF0dGFjaChwdHIoMHgwODY0Mzg3MiksIHsNCg0KICAgICAgICBvbkVudGVyOiBmdW5jdGlvbiAoYXJncykgew0KICAgICAgICAgICAgLy/ku4rml6Xlt7Lov5vlhaXmrKHmlbDlvLrliLbmuIXpm7YNCiAgICAgICAgICAgIGFyZ3NbMF0uYWRkKDB4MTApLndyaXRlSW50KDApOw0KICAgICAgICB9LA0KICAgICAgICBvbkxlYXZlOiBmdW5jdGlvbiAocmV0dmFsKSB7DQogICAgICAgIH0NCiAgICB9KTsNCg0KICAgIC8v5q+PMTDlsYLmjJHmiJjnjqnlrrZBUEMg5pyN5Yqh5Zmo5YaF6KeS6Imy5LiN6LazMTDkuKrml6Dms5Xov5vlhaUNCiAgICBpZihza2lwX3VzZXJfYXBjKQ0KICAgIHsNCiAgICAgICAgLy/ot7Pov4cxMC8yMC8uLi4vOTDlsYINCiAgICAgICAgLy9UT0RfVXNlclN0YXRlOjpnZXRUb2RheUVudGVyTGF5ZXINCiAgICAgICAgSW50ZXJjZXB0b3IuYXR0YWNoKHB0cigweDA4NjQzODNFKSwgew0KDQogICAgICAgICAgICBvbkVudGVyOiBmdW5jdGlvbiAoYXJncykgew0KICAgICAgICAgICAgICAgIC8v57ud5pyb5LmL5aGU5b2T5YmN5bGC5pWwDQogICAgICAgICAgICAgICAgdmFyIHRvZGF5X2VudGVyX2xheWVyID0gYXJnc1sxXS5hZGQoMHgxNCkucmVhZFNob3J0KCk7DQoNCiAgICAgICAgICAgICAgICBpZigoKHRvZGF5X2VudGVyX2xheWVyJTEwKSA9PSA5KSAmJiAodG9kYXlfZW50ZXJfbGF5ZXIgPiAwKSAmJiAodG9kYXlfZW50ZXJfbGF5ZXIgPCAxMDApKQ0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgLy/lvZPliY3lsYLmlbDkuLoxMOeahOWAjeaVsOaXtiAg55u05o6l6L+b5YWl5LiL5LiA5bGCDQogICAgICAgICAgICAgICAgICAgIGFyZ3NbMV0uYWRkKDB4MTQpLndyaXRlU2hvcnQodG9kYXlfZW50ZXJfbGF5ZXIgKyAxKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgb25MZWF2ZTogZnVuY3Rpb24gKHJldHZhbCkgew0KICAgICAgICAgICAgfQ0KICAgICAgICB9KTsNCiAgICB9DQoNCg0KDQogICAgLy/kv67lpI3ph5HluIHlvILluLgNCiAgICAvL0NQYXJ0eTo6VXNlQW5jaWVudER1bmdlb25JdGVtcw0KICAgIHZhciBDUGFydHlfVXNlQW5jaWVudER1bmdlb25JdGVtc19wdHIgPSBwdHIoMHg4NTlFQUMyKTsNCiAgICB2YXIgQ1BhcnR5X1VzZUFuY2llbnREdW5nZW9uSXRlbXMgPSBuZXcgTmF0aXZlRnVuY3Rpb24oQ1BhcnR5X1VzZUFuY2llbnREdW5nZW9uSXRlbXNfcHRyLCAgJ2ludCcsIFsncG9pbnRlcicsICdwb2ludGVyJywgJ3BvaW50ZXInLCAncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQogICAgSW50ZXJjZXB0b3IucmVwbGFjZShDUGFydHlfVXNlQW5jaWVudER1bmdlb25JdGVtc19wdHIsIG5ldyBOYXRpdmVDYWxsYmFjayhmdW5jdGlvbiAocGFydHksIGR1bmdlb24sIGludmVuX2l0ZW0sIGE0KSB7DQoNCiAgICAgICAgLy/lvZPliY3ov5vlhaXnmoTlnLDkuIvln45pZA0KICAgICAgICB2YXIgZHVuZ2Vvbl9pbmRleCA9IENEdW5nZW9uX2dldF9pbmRleChkdW5nZW9uKTsNCg0KICAgICAgICAvL+agueaNruWcsOS4i+Wfjmlk5Yik5pat5piv5ZCm5Li657ud5pyb5LmL5aGUDQogICAgICAgIGlmKChkdW5nZW9uX2luZGV4ID49IDExMDA4KSAmJiAoZHVuZ2Vvbl9pbmRleCA8PSAxMTEwNykpDQogICAgICAgIHsNCiAgICAgICAgICAgIC8v57ud5pyb5LmL5aGUIOS4jeWGjeaJo+mZpOmHkeW4gQ0KICAgICAgICAgICAgcmV0dXJuIDE7DQogICAgICAgIH0NCg0KICAgICAgICAvL+WFtuS7luWJr+acrOaJp+ihjOWOn+Wni+aJo+mZpOmBk+WFt+mAu+i+kQ0KICAgICAgICByZXR1cm4gQ1BhcnR5X1VzZUFuY2llbnREdW5nZW9uSXRlbXMocGFydHksIGR1bmdlb24sIGludmVuX2l0ZW0sIGE0KTsNCiAgICB9LCAnaW50JywgWydwb2ludGVyJywgJ3BvaW50ZXInLCAncG9pbnRlcicsICdwb2ludGVyJ10pKTsNCg0KfQ0KDQovL+acjeWKoeWZqOe7hOWMhQ0KZnVuY3Rpb24gYXBpX1BhY2tldEd1YXJkX1BhY2tldEd1YXJkKCkNCnsNCiAgICB2YXIgcGFja2V0X2d1YXJkID0gTWVtb3J5LmFsbG9jKDB4MjAwMDApOw0KICAgIFBhY2tldEd1YXJkX1BhY2tldEd1YXJkKHBhY2tldF9ndWFyZCk7DQoNCiAgICByZXR1cm4gcGFja2V0X2d1YXJkOw0KfQ0KDQovL+aXoOadoeS7tuWujOaIkOaMh+WumuS7u+WKoeW5tumihuWPluWlluWKsQ0KZnVuY3Rpb24gYXBpX2ZvcmNlX2NsZWFyX3F1ZXN0KHVzZXIsIHF1ZXN0X2lkKQ0Kew0KICAgIC8v6K6+572uR03lrozmiJDku7vliqHmqKHlvI8o5peg5p2h5Lu25a6M5oiQ5Lu75YqhKQ0KICAgIENVc2VyX3NldEdtUXVlc3RGbGFnKHVzZXIsIDEpOw0KDQogICAgLy/mjqXlj5fku7vliqENCiAgICBDVXNlcl9xdWVzdF9hY3Rpb24odXNlciwgMzMsIHF1ZXN0X2lkLCAwLCAwKTsNCg0KICAgIC8v5a6M5oiQ5Lu75YqhDQogICAgQ1VzZXJfcXVlc3RfYWN0aW9uKHVzZXIsIDM1LCBxdWVzdF9pZCwgMCwgMCk7DQoNCiAgICAvL+mihuWPluS7u+WKoeWlluWKsSjlgJLmlbDnrKzkuozkuKrlj4LmlbDooajnpLrpooblj5blpZblirHnmoTnvJblj7csIC0xPemihuWPluS4jemcgOimgemAieaLqeeahOWlluWKsTsgMD3pooblj5blj6/pgInlpZblirHkuK3nmoTnrKwx5Liq5aWW5YqxOyAxPemihuWPluWPr+mAieWlluWKseS4reeahOesrOS6jOS4quWlluWKsSkNCiAgICBDVXNlcl9xdWVzdF9hY3Rpb24odXNlciwgMzYsIHF1ZXN0X2lkLCAtMSwgMSk7DQoNCiAgICAvL+acjeWKoeerr+acieWPjeS9nOW8iuacuuWItjog5Lu75Yqh5a6M5oiQ5pe26Ze06Ze06ZqU5LiN6IO95bCP5LqOMeenki4gIOi/memHjOWwhuS4iuasoeS7u+WKoeWujOaIkOaXtumXtOa4hembtiDlj6/ku6Xov57nu63mj5DkuqTku7vliqENCiAgICB1c2VyLmFkZCgweDc5NjQ0KS53cml0ZUludCgwKTsNCg0KICAgIC8v5YWz6ZetR03lrozmiJDku7vliqHmqKHlvI8o5LiN6ZyA6KaB5p2Q5paZ55u05o6l5a6M5oiQKQ0KICAgIENVc2VyX3NldEdtUXVlc3RGbGFnKHVzZXIsIDApOw0KDQogICAgcmV0dXJuOw0KfQ0KDQovL+mHjee9ruaJgOacieS7u+WKoSjpnIDopoHlsI/pgIDph43mlrDpgInmi6nop5LoibLliLfmlrApDQpmdW5jdGlvbiBhcGlfcmVzZXRfYWxsX3F1ZXN0KHVzZXIpDQp7DQogICAgdmFyIHVzZXJfcXVlc3QgPSBDVXNlcl9nZXRDdXJDaGFyYWNRdWVzdFcodXNlcik7DQogICAgLy/muIXnqbrlt7LmjqXku7vliqHliJfooagNCiAgICBmb3IodmFyIGk9MDsgaTwyMDsgaSsrKQ0KICAgIHsNCiAgICAgICAgdXNlcl9xdWVzdC5hZGQoNCAqIChpICsgNzUwMCArIDIpKS53cml0ZUludCgwKTsNCiAgICB9DQogICAgLy/miYDmnInku7vliqHorr7nva7mnKrlrozmiJDnirbmgIENCiAgICBmb3IodmFyIGk9MDsgaTwyOTk5OTsgaSsrKQ0KICAgIHsNCiAgICAgICAgV29uZ1dvcmtfQ1F1ZXN0Q2xlYXJfcmVzZXRDbGVhcmVkUXVlc3RzKHVzZXJfcXVlc3QuYWRkKDQpLCBpKTsNCiAgICB9DQoNCiAgICBhcGlfQ1VzZXJfU2VuZE5vdGlQYWNrZXRNZXNzYWdlKHVzZXIsICfmiYDmnInku7vliqHlt7Lph43nva4sIOivt+mHjeaWsOmAieaLqeinkuiJsuWIt+aWsOS7u+WKoeWIl+ihqCEnLCAxNCk7DQp9DQoNCi8v5a6M5oiQ5b2T5YmN5bey5o6l5Lu75Yqh5bm26aKG5Y+W5aWW5YqxDQpmdW5jdGlvbiBjbGVhcl9kb2luZ19xdWVzdCh1c2VyKQ0Kew0KICAgIC8v546p5a625Lu75Yqh5L+h5oGvDQogICAgdmFyIHVzZXJfcXVlc3QgPSBDVXNlcl9nZXRDdXJDaGFyYWNRdWVzdFcodXNlcik7DQoNCiAgICAvL+mBjeWOhjIw5Liq5bey5o6l5Lu75YqhDQogICAgLy/ku7vliqHliJfooago5L+d5a2Y5Lu75YqhaWQpOiB1c2VyX3F1ZXN0LmFkZCg0ICogKGkgKyA3NTAwICsgMikpDQogICAgLy/ku7vliqHlrozmiJDnirbmgIEoMD3lt7Lmu6HotrPku7vliqHmnaHku7YpOiB1c2VyX3F1ZXN0LmFkZCg0ICogKGkgKyA3NTIwICsgMikpDQogICAgZm9yKHZhciBpPTA7IGk8MjA7IGkrKykNCiAgICB7DQogICAgICAgIC8v5Lu75YqhaWQNCiAgICAgICAgdmFyIHF1ZXN0X2lkID0gdXNlcl9xdWVzdC5hZGQoNCAqIChpICsgNzUwMCArIDIpKS5yZWFkSW50KCk7DQoNCiAgICAgICAgaWYocXVlc3RfaWQgPiAwKQ0KICAgICAgICB7DQogICAgICAgICAgICAvL+aXoOadoeS7tuWujOaIkOS7u+WKoeW5tumihuWPluWlluWKsQ0KICAgICAgICAgICAgYXBpX2ZvcmNlX2NsZWFyX3F1ZXN0KHVzZXIsIHF1ZXN0X2lkKTsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIC8v6YCa55+l5a6i5oi356uv5pu05paw5bey5a6M5oiQ5Lu75Yqh5YiX6KGoDQogICAgQ1VzZXJfc2VuZF9jbGVhcl9xdWVzdF9saXN0KHVzZXIpOw0KDQogICAgLy/pgJrnn6XlrqLmiLfnq6/mm7TmlrDku7vliqHliJfooagNCiAgICB2YXIgcGFja2V0X2d1YXJkID0gYXBpX1BhY2tldEd1YXJkX1BhY2tldEd1YXJkKCk7DQogICAgVXNlclF1ZXN0X2dldF9xdWVzdF9pbmZvKHVzZXJfcXVlc3QsIHBhY2tldF9ndWFyZCk7DQogICAgQ1VzZXJfU2VuZCh1c2VyLCBwYWNrZXRfZ3VhcmQpOw0KICAgIERlc3Ryb3lfUGFja2V0R3VhcmRfUGFja2V0R3VhcmQocGFja2V0X2d1YXJkKTsNCn0NCg0KLy/lrozmiJDop5LoibLlvZPliY3lj6/mjqXnmoTmiYDmnInku7vliqEo5LuF5Y+R6YCB6YeR5biBL+e7j+mqjC9RUOetieWfuuehgOWlluWKsSDml6DpgZPlhbflpZblirEpDQp2YXIgUVVFU1RfR1JBREVfQ09NTU9OX1VOSVFVRSA9IDU7ICAgICAgICAgICAgICAgICAgLy/ku7vliqHohJrmnKzkuK1bZ3JhZGVd5a2X5q615a+55bqU55qE5bi46YeP5a6a5LmJIOWPr+S7peWcqGltcG9ydFF1ZXN0U2NyaXB05Ye95pWw5Lit5om+5YiwDQp2YXIgUVVFU1RfR1JBREVfTk9STUFMWV9SRVBFQVQgPSA0OyAgICAgICAgICAgICAgICAgLy/lj6/ph43lpI3mj5DkuqTnmoTph43lpI3ku7vliqENCnZhciBRVUVTVF9HUkFERV9EQUlMWSA9IDM7ICAgICAgICAgICAgICAgICAgICAgICAgICAvL+avj+aXpeS7u+WKoQ0KdmFyIFFVRVNUX0dSQURFX0VQSUMgPSAwOyAgICAgICAgICAgICAgICAgICAgICAgICAgIC8v5Y+y6K+X5Lu75YqhDQpmdW5jdGlvbiBjbGVhcl9hbGxfcXVlc3RfYnlfY2hhcmFjdGVyX2xldmVsKHVzZXIpDQp7DQogICAgLy9sb2coJ2NsZWFyX2FsbF9xdWVzdF9ieV9jaGFyYWN0ZXJfbGV2ZWwgc3RhcnQhJyk7DQoNCiAgICAvL+eOqeWutuS7u+WKoeS/oeaBrw0KICAgIHZhciB1c2VyX3F1ZXN0ID0gQ1VzZXJfZ2V0Q3VyQ2hhcmFjUXVlc3RXKHVzZXIpOw0KICAgIC8v546p5a625bey5a6M5oiQ5Lu75Yqh5L+h5oGvDQogICAgdmFyIFdvbmdXb3JrX0NRdWVzdENsZWFyID0gdXNlcl9xdWVzdC5hZGQoNCk7DQogICAgLy/njqnlrrblvZPliY3nrYnnuqcNCiAgICB2YXIgY2hhcmFjX2x2ID0gQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfbGV2ZWwodXNlcik7DQoNCiAgICAvL+acrOasoeWujOaIkOS7u+WKoeaVsOmHjw0KICAgIHZhciBjbGVhcl9xdWVzdF9jbnQgPSAwOw0KDQogICAgLy9wdmbmlbDmja4NCiAgICB2YXIgZGF0YV9tYW5hZ2VyID0gR19DRGF0YU1hbmFnZXIoKTsNCg0KICAgIC8v6aaW5YWI5a6M5oiQ5b2T5YmN5bey5o6l5Lu75YqhDQogICAgY2xlYXJfZG9pbmdfcXVlc3QodXNlcik7DQoNCiAgICAvL+WujOaIkOW9k+WJjeetiee6p+aJgOacieS7u+WKoeaAu+e7j+mqjOWlluWKsQ0KICAgIHZhciB0b3RhbF9leHBfYm9udXMgPSAwOw0KICAgIC8v5a6M5oiQ5b2T5YmN562J57qn5omA5pyJ5Lu75Yqh5oC76YeR5biB5aWW5YqxDQogICAgdmFyIHRvdGFsX2dvbGRfYm9udXMgPSAwOw0KICAgIC8v5Lu75Yqh54K55aWW5YqxDQogICAgdmFyIHRvdGFsX3F1ZXN0X3BvaW50X2JvbnVzID0gMDsNCiAgICB2YXIgdG90YWxfcXVlc3RfcGllY2VfYm9udXMgPSAwOw0KDQogICAgLy/ku7vliqHmnIDlpKfnvJblj7c6IDI5OTk5DQogICAgZm9yKHZhciBxdWVzdF9pZD0xOyBxdWVzdF9pZDwzMDAwMDsgcXVlc3RfaWQrKykNCiAgICB7DQogICAgICAgIC8v6Lez6L+H5bey5a6M5oiQ55qE5Lu75YqhDQogICAgICAgIGlmKFdvbmdXb3JrX0NRdWVzdENsZWFyX2lzQ2xlYXJlZFF1ZXN0KFdvbmdXb3JrX0NRdWVzdENsZWFyLCBxdWVzdF9pZCkpDQogICAgICAgICAgICBjb250aW51ZTsNCg0KICAgICAgICAvL+iOt+WPluS7u+WKoeaVsOaNrg0KICAgICAgICB2YXIgcXVlc3QgPSBDRGF0YU1hbmFnZXJfZmluZF9xdWVzdChkYXRhX21hbmFnZXIsIHF1ZXN0X2lkKTsNCiAgICAgICAgaWYoIXF1ZXN0LmlzTnVsbCgpKQ0KICAgICAgICB7DQogICAgICAgICAgICAvL+S7u+WKoeexu+Weiw0KICAgICAgICAgICAgdmFyIHF1ZXN0X2dyYWRlID0gcXVlc3QuYWRkKDgpLnJlYWRJbnQoKTsNCg0KICAgICAgICAgICAgLy/ot7Pov4dncmFkZeS4ultjb21tb24gdW5pcXVlXeexu+Wei+eahOS7u+WKoSjovazogYznrYnku7vliqEpDQogICAgICAgICAgICAvL+i3s+i/h+WPr+mHjeWkjeaPkOS6pOeahOS7u+WKoQ0KICAgICAgICAgICAgLy/ot7Pov4fmr4/ml6Xku7vliqENCiAgICAgICAgICAgIGlmKChxdWVzdF9ncmFkZSAhPSBRVUVTVF9HUkFERV9DT01NT05fVU5JUVVFKSAmJiAocXVlc3RfZ3JhZGUgIT0gUVVFU1RfR1JBREVfTk9STUFMWV9SRVBFQVQpICYmIChxdWVzdF9ncmFkZSAhPSBRVUVTVF9HUkFERV9EQUlMWSkpDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgLy/liKTmlq3ku7vliqHlvZPliY3mmK/lkKblj6/mjqUNCiAgICAgICAgICAgICAgICAvL3ZhciBzdFNlbGVjdFF1ZXN0UGFyYW0gPSBNZW1vcnkuYWxsb2MoMTAwKTsNCiAgICAgICAgICAgICAgICAvL3N0U2VsZWN0UXVlc3RQYXJhbV9zdFNlbGVjdFF1ZXN0UGFyYW0oc3RTZWxlY3RRdWVzdFBhcmFtLCB1c2VyKTsNCiAgICAgICAgICAgICAgICAvL2lmKFF1ZXN0X2NoZWNrX3Bvc3NpYmxlKHF1ZXN0LCBzdFNlbGVjdFF1ZXN0UGFyYW0pKQ0KDQogICAgICAgICAgICAgICAgLy/lj6rliKTmlq3ku7vliqHmnIDkvY7nrYnnuqfopoHmsYIg5b+955WlIOiBjOS4mi/liY3nva4g562J5Lu75Yqh6KaB5rGCIOWPr+S4gOasoeaAp+WujOaIkOW9k+WJjeetiee6p+aJgOacieS7u+WKoQ0KICAgICAgICAgICAgICAgIHZhciBxdWVzdF9taW5fbHYgPSBxdWVzdC5hZGQoMHgyMCkucmVhZEludCgpOw0KICAgICAgICAgICAgICAgIGlmKHF1ZXN0X21pbl9sdiA8PSBjaGFyYWNfbHYpDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAvL+iOt+WPluivpeS7u+WKoeeahOWfuuehgOWlluWKsQ0KICAgICAgICAgICAgICAgICAgICB2YXIgZXhwX2JvbnVzID0gTWVtb3J5LmFsbG9jKDQpOw0KICAgICAgICAgICAgICAgICAgICB2YXIgZ29sZF9ib251cyA9IE1lbW9yeS5hbGxvYyg0KTsNCiAgICAgICAgICAgICAgICAgICAgdmFyIHF1ZXN0X3BvaW50X2JvbnVzID0gTWVtb3J5LmFsbG9jKDQpOw0KICAgICAgICAgICAgICAgICAgICB2YXIgcXVlc3RfcGllY2VfYm9udXMgPSBNZW1vcnkuYWxsb2MoNCk7DQogICAgICAgICAgICAgICAgICAgIC8vUVDlpZblirHlt7Lnm7TmjqXlj5HpgIHliLDop5LoibIg57uP6aqML+mHkeW4geWPqui/lOWbnue7k+aenCAg6ZyA6KaB5omL5Yqo5Y+R6YCBDQogICAgICAgICAgICAgICAgICAgIENVc2VyX3F1ZXN0X2Jhc2ljX3Jld2FyZCh1c2VyLHF1ZXN0LCBleHBfYm9udXMsIGdvbGRfYm9udXMsIHF1ZXN0X3BvaW50X2JvbnVzLCBxdWVzdF9waWVjZV9ib251cywgMSk7DQoNCiAgICAgICAgICAgICAgICAgICAgLy/nu5/orqHmnKzmrKHoh6rliqjlrozmiJDku7vliqHnmoTln7rnoYDlpZblirENCiAgICAgICAgICAgICAgICAgICAgdmFyIGV4cCA9IGV4cF9ib251cy5yZWFkSW50KCk7DQogICAgICAgICAgICAgICAgICAgIHZhciBnb2xkID0gZ29sZF9ib251cy5yZWFkSW50KCk7DQogICAgICAgICAgICAgICAgICAgIHZhciBxdWVzdF9wb2ludCA9IHF1ZXN0X3BvaW50X2JvbnVzLnJlYWRJbnQoKTsNCiAgICAgICAgICAgICAgICAgICAgdmFyIHF1ZXN0X3BpZWNlID0gcXVlc3RfcGllY2VfYm9udXMucmVhZEludCgpOw0KICAgICAgICAgICAgICAgICAgICBpZihleHAgPiAwKQ0KICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxfZXhwX2JvbnVzICs9IGV4cDsNCiAgICAgICAgICAgICAgICAgICAgaWYoZ29sZCA+IDApDQogICAgICAgICAgICAgICAgICAgICAgICB0b3RhbF9nb2xkX2JvbnVzICs9IGdvbGQ7DQogICAgICAgICAgICAgICAgICAgIGlmKHF1ZXN0X3BvaW50ID4gMCkNCiAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsX3F1ZXN0X3BvaW50X2JvbnVzICs9IHF1ZXN0X3BvaW50OyAgICAgLy/msqHmnIlbcXVlc3QgcG9pbnRd5a2X5q6155qE5Lu75YqhcXVlc3RfcG9pbnQ9MTAwMDANCiAgICAgICAgICAgICAgICAgICAgaWYocXVlc3RfcGllY2UgPiAwKQ0KICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxfcXVlc3RfcGllY2VfYm9udXMgKz0gcXVlc3RfcGllY2U7DQoNCiAgICAgICAgICAgICAgICAgICAgLy/lsIbor6Xku7vliqHorr7nva7kuLrlt7LlrozmiJDnirbmgIENCiAgICAgICAgICAgICAgICAgICAgV29uZ1dvcmtfQ1F1ZXN0Q2xlYXJfc2V0Q2xlYXJlZFF1ZXN0KHVzZXJfcXVlc3QuYWRkKDQpLCBxdWVzdF9pZCk7DQoNCiAgICAgICAgICAgICAgICAgICAgLy/mnKzmrKHoh6rliqjlrozmiJDku7vliqHorqHmlbANCiAgICAgICAgICAgICAgICAgICAgY2xlYXJfcXVlc3RfY250Kys7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfQ0KDQogICAgLy/pgJrnn6XlrqLmiLfnq6/mm7TmlrANCiAgICBpZihjbGVhcl9xdWVzdF9jbnQgPiAwKQ0KICAgIHsNCiAgICAgICAgLy/lj5HpgIHku7vliqHnu4/pqozlpZblirENCiAgICAgICAgaWYodG90YWxfZXhwX2JvbnVzID4gMCkNCiAgICAgICAgICAgIGFwaV9DVXNlcl9nYWluX2V4cF9zcCh1c2VyLCB0b3RhbF9leHBfYm9udXMpOw0KICAgICAgICAvL+WPkemAgeS7u+WKoemHkeW4geWlluWKsQ0KICAgICAgICBpZih0b3RhbF9nb2xkX2JvbnVzID4gMCkNCiAgICAgICAgICAgIENJbnZlbnRvcnlfZ2Fpbl9tb25leShDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjSW52ZW5XKHVzZXIpLCB0b3RhbF9nb2xkX2JvbnVzLCAwLCAwLCAwKTsNCg0KICAgICAgICAvL+mAmuefpeWuouaIt+err+abtOaWsOWlluWKseaVsOaNrg0KICAgICAgICBpZiAoIENVc2VyX2dldF9zdGF0ZSh1c2VyKSA9PSAzICkNCiAgICAgICAgew0KICAgICAgICAgICAgQ1VzZXJfU2VuZE5vdGlQYWNrZXQodXNlciwgMCwgMiwgMCk7DQogICAgICAgICAgICBDVXNlcl9TZW5kTm90aVBhY2tldCh1c2VyLCAxLCAyLCAxKTsNCg0KICAgICAgICAgICAgQ1VzZXJfU2VuZFVwZGF0ZUl0ZW1MaXN0KHVzZXIsIDEsIDAsIDApOw0KICAgICAgICAgICAgQ1VzZXJfc2VuZENoYXJhY1FwKHVzZXIpOw0KICAgICAgICAgICAgQ1VzZXJfc2VuZENoYXJhY1F1ZXN0UGllY2UodXNlcik7DQogICAgICAgIH0NCg0KICAgICAgICAvL+mAmuefpeWuouaIt+err+abtOaWsOW3suWujOaIkOS7u+WKoeWIl+ihqA0KICAgICAgICBDVXNlcl9zZW5kX2NsZWFyX3F1ZXN0X2xpc3QodXNlcik7DQoNCiAgICAgICAgLy/pgJrnn6XlrqLmiLfnq6/mm7TmlrDku7vliqHliJfooagNCiAgICAgICAgdmFyIHBhY2tldF9ndWFyZCA9IGFwaV9QYWNrZXRHdWFyZF9QYWNrZXRHdWFyZCgpOw0KICAgICAgICBVc2VyUXVlc3RfZ2V0X3F1ZXN0X2luZm8odXNlcl9xdWVzdCwgcGFja2V0X2d1YXJkKTsNCiAgICAgICAgQ1VzZXJfU2VuZCh1c2VyLCBwYWNrZXRfZ3VhcmQpOw0KICAgICAgICBEZXN0cm95X1BhY2tldEd1YXJkX1BhY2tldEd1YXJkKHBhY2tldF9ndWFyZCk7DQoNCiAgICAgICAgLy/lhazlkYrpgJrnn6XlrqLmiLfnq6/mnKzmrKHoh6rliqjlrozmiJDku7vliqHmlbDmja4NCiAgICAgICAgYXBpX0NVc2VyX1NlbmROb3RpUGFja2V0TWVzc2FnZSh1c2VyLCAn5bey6Ieq5Yqo5a6M5oiQ5b2T5YmN562J57qn5Lu75Yqh5pWw6YePOiAnICsgY2xlYXJfcXVlc3RfY250LCAxNCk7DQogICAgICAgIGFwaV9DVXNlcl9TZW5kTm90aVBhY2tldE1lc3NhZ2UodXNlciwgJ+S7u+WKoee7j+mqjOWlluWKsTogJyArIHRvdGFsX2V4cF9ib251cywgMTQpOw0KICAgICAgICBhcGlfQ1VzZXJfU2VuZE5vdGlQYWNrZXRNZXNzYWdlKHVzZXIsICfku7vliqHph5HluIHlpZblirE6ICcgKyB0b3RhbF9nb2xkX2JvbnVzLCAxNCk7DQogICAgICAgIGFwaV9DVXNlcl9TZW5kTm90aVBhY2tldE1lc3NhZ2UodXNlciwgJ+S7u+WKoVF1ZXN0UG9pbnTlpZblirE6ICcgKyB0b3RhbF9xdWVzdF9wb2ludF9ib251cywgMTQpOw0KICAgICAgICBhcGlfQ1VzZXJfU2VuZE5vdGlQYWNrZXRNZXNzYWdlKHVzZXIsICfku7vliqFRdWVzdFBpZWNl5aWW5YqxOiAnICsgdG90YWxfcXVlc3RfcGllY2VfYm9udXMsIDE0KTsNCiAgICB9DQoNCg0KICAgIC8vbG9nKCdjbGVhcl9hbGxfcXVlc3RfYnlfY2hhcmFjdGVyX2xldmVsIGVuZCEnKTsNCg0KICAgIHJldHVybjsNCn0NCg0KLy/mjZXojrfnjqnlrrbmuLjmiI/kuovku7YNCmZ1bmN0aW9uIGhvb2tfaGlzdG9yeV9sb2coKQ0Kew0KICAgIC8vY0hpc3RvcnlUcmFjZTo6b3BlcmF0b3IoKQ0KICAgIEludGVyY2VwdG9yLmF0dGFjaChwdHIoMHg4NTRGOTkwKSwgew0KDQogICAgICAgIG9uRW50ZXI6IGZ1bmN0aW9uIChhcmdzKSB7DQoNCiAgICAgICAgICAgIC8v6Kej5p6Q5pel5b+X5YaF5a65OiAiMTgwMDAwMDgiLDE4MDAwMDA4LEQsMTQ1NjM2LCJuaWNrbmFtZSIsMSw3Miw4LDAsMTkyLjE2OC4yMDAuMSwxOTIuMTY4LjIwMC4xLDUwOTYzLDExLCBEdW5nZW9uTGVhdmUsIum+jeS6uuS5i+WhlCIsMCwwLCJhYWJiIiwiYWFiYiIsIk4vQSIsIk4vQSIsIk4vQSINCiAgICAgICAgICAgIHZhciBoaXN0b3J5X2xvZyA9IGFyZ3NbMV0ucmVhZFV0ZjhTdHJpbmcoLTEpOw0KICAgICAgICAgICAgdmFyIGdyb3VwID0gaGlzdG9yeV9sb2cuc3BsaXQoJywnKTsNCg0KICAgICAgICAgICAgLy/op5LoibLkv6Hmga8NCiAgICAgICAgICAgIHZhciBhY2NvdW50X2lkID0gcGFyc2VJbnQoZ3JvdXBbMV0pOw0KICAgICAgICAgICAgdmFyIHRpbWVfaGhfbW1fc3MgPSBncm91cFszXTsNCiAgICAgICAgICAgIHZhciBjaGFyYWNfbmFtZSA9IGdyb3VwWzRdOw0KICAgICAgICAgICAgdmFyIGNoYXJhY19ubyA9IGdyb3VwWzVdOw0KICAgICAgICAgICAgdmFyIGNoYXJhY19sZXZlbCA9IGdyb3VwWzZdOw0KICAgICAgICAgICAgdmFyIGNoYXJhY19qb2IgPSBncm91cFs3XTsNCiAgICAgICAgICAgIHZhciBjaGFyYWNfZ3Jvd3R5cGUgPSBncm91cFs4XTsNCiAgICAgICAgICAgIHZhciB1c2VyX3dlYl9hZGRyZXNzID0gZ3JvdXBbOV07DQogICAgICAgICAgICB2YXIgdXNlcl9wZWVyX2lwMiA9IGdyb3VwWzEwXTsNCiAgICAgICAgICAgIHZhciB1c2VyX3BvcnQgPSBncm91cFsxMV07DQogICAgICAgICAgICB2YXIgY2hhbm5lbF9pbmRleCA9IGdyb3VwWzEyXTsgICAgICAgICAgICAgIC8v5b2T5YmN6aKR6YGTaWQNCg0KICAgICAgICAgICAgLy/njqnlrrbmuLjmiI/kuovku7YNCiAgICAgICAgICAgIHZhciBnYW1lX2V2ZW50ID0gZ3JvdXBbMTNdLnNsaWNlKDEpOyAgICAgICAgLy/liKDpmaTlpJrkvZnnqbrmoLwNCg0KICAgICAgICAgICAgLy/op6blj5HmuLjmiI/kuovku7bnmoTop5LoibINCiAgICAgICAgICAgIHZhciB1c2VyID0gR2FtZVdvcmxkX2ZpbmRfdXNlcl9mcm9tX3dvcmxkX2J5YWNjaWQoR19HYW1lV29ybGQoKSwgYWNjb3VudF9pZCk7DQoNCiAgICAgICAgICAgIGlmKHVzZXIuaXNOdWxsKCkpDQogICAgICAgICAgICAgICAgcmV0dXJuOw0KDQogICAgICAgICAgICAvL+mBk+WFt+WHj+WwkTogIEl0ZW0tLDEsMTAwMDAxMTMsNjMsMSwzLDYzLDAsMCwwLDAsMCwwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwLDAsMCwwMDAwMDAwMDAwMDAwMDAwMDAwMA0KICAgICAgICAgICAgaWYoZ2FtZV9ldmVudCA9PSAnSXRlbS0nKQ0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgIHZhciBpdGVtX2lkID0gcGFyc2VJbnQoZ3JvdXBbMTVdKTsgICAgICAgICAgICAgICAgLy/mnKzmrKHmk43kvZzpgZPlhbdpZA0KICAgICAgICAgICAgICAgIHZhciBpdGVtX2NudCA9IHBhcnNlSW50KGdyb3VwWzE3XSk7ICAgICAgICAgICAgICAgLy/mnKzmrKHmk43kvZzpgZPlhbfmlbDph48NCiAgICAgICAgICAgICAgICB2YXIgcmVhc29uID0gcGFyc2VJbnQoZ3JvdXBbMThdKTsgICAgICAgICAgICAgICAgIC8v5pys5qyh5pON5L2c5Y6f5ZugDQoNCg0KICAgICAgICAgICAgICAgIC8vbG9nKCfnjqnlrrZbJyArIGNoYXJhY19uYW1lICsgJ13pgZPlhbflh4/lsJEsIOWOn+WboDonICsgcmVhc29uICsgJyjpgZPlhbdpZD0nICsgaXRlbV9pZCArICcsIOS9v+eUqOaVsOmHjz0nICsgaXRlbV9jbnQpOw0KDQogICAgICAgICAgICAgICAgaWYoNSA9PSByZWFzb24pDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAvL+S4ouW8g+mBk+WFtw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBlbHNlIGlmKDMgPT0gcmVhc29uKQ0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgLy/kvb/nlKjpgZPlhbcNCiAgICAgICAgICAgICAgICAgICAgLy/ov5nph4zlubbmnKrmlLnlj5jpgZPlhbfljp/lp4vmlYjmnpwg5Y6f5aeL5pWI5p6c5oiQ5Yqf5omn6KGM5ZCO6Kem5Y+R5LiL6Z2i55qE5Luj56CBDQogICAgICAgICAgICAgICAgICAgIC8vdXNlX2l0ZW1faGFuZGxlcih1c2VyLGl0ZW1faWQpDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGVsc2UgaWYoOSA9PSByZWFzb24pDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAvL+WIhuino+mBk+WFtw0KICAgICAgICAgICAgICAgICAgICAvL2Rpc2ludGVncmF0ZV9pdGVtX2hhbmRsZXIoaXRlbV9pZCkNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgZWxzZSBpZigxMCA9PSByZWFzb24pDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAvL+S9v+eUqOWxnuaAp+efs+WktA0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGVsc2UgaWYoZ2FtZV9ldmVudCA9PSAnS2lsbE1vYicpDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgLy/mnYDmrbvmgKrniakNCiAgICAgICAgICAgICAgICAvL+mtlOazleWwgeWNsOijheWkh+ivjeadoeWNh+e6pw0KICAgICAgICAgICAgICAgIC8vYm9vc3RfcmFuZG9tX29wdGlvbl9lcXUodXNlcik7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBlbHNlIGlmKGdhbWVfZXZlbnQgPT0gJ01vbmV5KycpDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgdmFyIGN1cl9tb25leSA9IHBhcnNlSW50KGdyb3VwWzE0XSk7ICAgICAgICAgICAgICAgIC8v5b2T5YmN5oyB5pyJ55qE6YeR5biB5pWw6YePDQogICAgICAgICAgICAgICAgdmFyIGFkZF9tb25leSA9IHBhcnNlSW50KGdyb3VwWzE1XSk7ICAgICAgICAgICAgICAgIC8v5pys5qyh6I635b6X6YeR5biB5pWw6YePDQogICAgICAgICAgICAgICAgdmFyIHJlYXNvbiA9IHBhcnNlSW50KGdyb3VwWzE2XSk7ICAgICAgICAgICAgICAgICAgIC8v5pys5qyh6I635b6X6YeR5biB5Y6f5ZugDQoNCiAgICAgICAgICAgICAgICAvL2xvZygn546p5a62WycgKyBjaGFyYWNfbmFtZSArICdd6I635Y+W6YeR5biBLCDljp/lm6A6JyArIHJlYXNvbiArICco5b2T5YmN5oyB5pyJ6YeR5biBPScgKyBjdXJfbW9uZXkgKyAnLCDmnKzmrKHojrflvpfph5HluIHmlbDph489JyArIGFkZF9tb25leSk7DQoNCiAgICAgICAgICAgICAgICBpZig0ID09IHJlYXNvbikNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIC8v5Ymv5pys5ou+5Y+WDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGVsc2UgaWYoNSA9PSByZWFzb24pDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAvL+WJr+acrOmAmuWFs+e/u+eJjOiOt+WPlumHkeW4gQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGVsc2UgaWYoZ2FtZV9ldmVudCA9PSAnRHVuZ2VvbkxlYXZlJykNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAvL+emu+W8gOWJr+acrA0KICAgICAgICAgICAgICAgIC8v5Yi35a6M5Ymv5pys5ZCOLCDph43nva7lvILnlYwr5p6B6ZmQ56Wt5Z2b5qyh5pWwDQogICAgICAgICAgICAgICAgLy9DVXNlcl9EaW1lbnNpb25Jbm91dFVwZGF0ZSh1c2VyLCAxLCAxKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGVsc2UgaWYgKGdhbWVfZXZlbnQgPT0gJ0l0ZW0rJykNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICB2YXIgaXRlbV9pZCA9IHBhcnNlSW50KGdyb3VwWzE1XSk7DQogICAgICAgICAgICAgICAgdmFyIGdyb3VwXzE4ID0gcGFyc2VJbnQoZ3JvdXBbMThdKTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIGlmIChncm91cF8xOCA9PSA0KSB7DQogICAgICAgICAgICAgICAgICAgIC8v5Ymv5pys5o2h5Lic6KW/5ZaK5ZaH5Y+t57uZ54K55Yi4DQogICAgICAgICAgICAgICAgICAgIC8vaWYgKGl0ZW1faWQgPT0gMTAwMzUwNTc3KSB7DQogICAgICAgICAgICAgICAgICAgIC8vICAgIHByb2Nlc3NpbmdfZGF0YSgxMDAzNTA1NzcsIHVzZXIsIDMyNTcsIDI1MDAsIDApOw0KICAgICAgICAgICAgICAgICAgICAvL30NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQoNCiAgICAgICAgfSwNCiAgICAgICAgb25MZWF2ZTogZnVuY3Rpb24gKHJldHZhbCkgew0KDQogICAgICAgIH0NCiAgICB9KTsNCn0NCg0KLy/lubjov5DngrnkuIrkuIvpmZANCnZhciBNQVhfTFVDS19QT0lOVCA9IDEwMDsNCnZhciBNSU5fTFVDS19QT0lOVCA9IDE7DQoNCi8v6K6+572u6KeS6Imy5bm46L+Q54K5DQpmdW5jdGlvbiBhcGlfQ1VzZXJDaGFyYWNJbmZvX1NldEN1ckNoYXJhY0x1Y2tQb2ludCh1c2VyLCBuZXdfbHVja19wb2ludCkNCnsNCiAgICBpZihuZXdfbHVja19wb2ludCA+IE1BWF9MVUNLX1BPSU5UKQ0KICAgICAgICBuZXdfbHVja19wb2ludCA9IE1BWF9MVUNLX1BPSU5UOw0KICAgIGVsc2UgaWYobmV3X2x1Y2tfcG9pbnQgPCBNSU5fTFVDS19QT0lOVCkNCiAgICAgICAgbmV3X2x1Y2tfcG9pbnQgPSBNSU5fTFVDS19QT0lOVDsNCiAgICBDVXNlckNoYXJhY0luZm9fZW5hYmxlU2F2ZUNoYXJhY1N0YXQodXNlcik7DQogICAgQ1VzZXJDaGFyYWNJbmZvX1NldEN1ckNoYXJhY0x1Y2tQb2ludCh1c2VyLCBuZXdfbHVja19wb2ludCk7DQogICAgcmV0dXJuIG5ld19sdWNrX3BvaW50Ow0KfQ0KDQovL+S9v+eUqOWRvei/kOehrOW4geWQjiwg5Y+v5Lul5pS55Y+Y6Ieq6Lqr5bm46L+Q54K5DQovL+afpeivouinkuiJsuW9k+WJjeW5uOi/kOeCuUdN5ZG95LukOiAvL3Nob3cgbHANCi8v5b2T5YmN6KeS6Imy5bm46L+Q54K55ouJ5ruhR03lkb3ku6Q6IC8vbWF4IGxwDQpmdW5jdGlvbiB1c2VfZnRjb2luX2NoYW5nZV9sdWNrX3BvaW50KHVzZXIpDQp7DQogICAgLy/mipvlkb3ov5DnoazluIENCiAgICB2YXIgcmFuZCA9IGdldF9yYW5kb21faW50KDAsIDEwMCk7DQoNCiAgICAvL+W9k+WJjeW5uOi/kOeCueaVsA0KICAgIHZhciBuZXdfbHVja19wb2ludCA9IG51bGw7DQoNCiAgICBpZihyYW5kID09IDApDQogICAgew0KICAgICAgICAvLzEl5Yeg546H5bCG546p5a625bm46L+Q54K55YWF5ruhKOacgOWkp+WAvDEwVykNCiAgICAgICAgbmV3X2x1Y2tfcG9pbnQgPSBNQVhfTFVDS19QT0lOVDsNCiAgICB9DQogICAgZWxzZSBpZihyYW5kID09IDEpDQogICAgew0KICAgICAgICAvLzEl5Yeg546H5bCG546p5a625bm46L+Q54K56ICX5bC9DQogICAgICAgIG5ld19sdWNrX3BvaW50ID0gTUlOX0xVQ0tfUE9JTlQ7DQogICAgfQ0KICAgIGVsc2UgaWYocmFuZCA8IDUxKQ0KICAgIHsNCiAgICAgICAgLy80OSXlh6DnjoflvZPliY3lubjov5Dngrnlop7liqAyMCUNCiAgICAgICAgbmV3X2x1Y2tfcG9pbnQgPSBNYXRoLmZsb29yKENVc2VyQ2hhcmFjSW5mb19HZXRDdXJDaGFyYWNMdWNrUG9pbnQodXNlcikgKiAxLjIpOw0KICAgIH0NCiAgICBlbHNlDQogICAgew0KICAgICAgICAvLzQ5JeWHoOeOh+W9k+WJjeW5uOi/kOeCuemZjeS9jjIwJQ0KICAgICAgICBuZXdfbHVja19wb2ludCA9IE1hdGguZmxvb3IoQ1VzZXJDaGFyYWNJbmZvX0dldEN1ckNoYXJhY0x1Y2tQb2ludCh1c2VyKSAqIDAuOCk7DQogICAgfQ0KICAgIC8v5L+u5pS56KeS6Imy5bm46L+Q54K5DQogICAgbmV3X2x1Y2tfcG9pbnQgPSBhcGlfQ1VzZXJDaGFyYWNJbmZvX1NldEN1ckNoYXJhY0x1Y2tQb2ludCh1c2VyLCBuZXdfbHVja19wb2ludCk7DQogICAgLy/pgJrnn6XlrqLmiLfnq6/lvZPliY3op5LoibLlubjov5Dngrnlt7LmlLnlj5gNCiAgICBhcGlfQ1VzZXJfU2VuZE5vdGlQYWNrZXRNZXNzYWdlKHVzZXIsICflkb3ov5Dlt7LooqvmlLnlj5gsIOW9k+WJjeW5uOi/kOeCueaVsDogJyArIG5ld19sdWNrX3BvaW50LCAwKTsNCn0NCg0KLy/kvb/nlKjop5LoibLlubjov5DlgLzliqDmiJDoo4XlpIfniIbnjocNCmZ1bmN0aW9uIGVuYWJsZV9kcm9wX3VzZV9sdWNrX3Bpb250KCkNCnsNCiAgICAvL+eUseS6jnJvbGzngrnniIboo4Xlh73mlbDmi7/kuI3liLB1c2VyLCDlnKjmnYDmgKrlkoznv7vniYzlh73mlbDlhaXlj6Pkv53lrZjlvZPliY3mraPlnKjlpITnkIbnmoR1c2VyDQogICAgdmFyIGN1cl9sdWNrX3VzZXIgPSBudWxsOw0KICAgIC8vRGlzUGF0Y2hlcl9EaWVNb2I6OmRpc3BhdGNoX3NpZw0KICAgIEludGVyY2VwdG9yLmF0dGFjaChwdHIoMHg4MUVCMEM0KSwNCiAgICB7DQogICAgICAgIG9uRW50ZXI6IGZ1bmN0aW9uIChhcmdzKQ0KICAgICAgICB7DQogICAgICAgICAgICBjdXJfbHVja191c2VyID0gYXJnc1sxXTsNCiAgICAgICAgfSwNCiAgICAgICAgb25MZWF2ZTogZnVuY3Rpb24gKHJldHZhbCkNCiAgICAgICAgew0KICAgICAgICAgICAgY3VyX2x1Y2tfdXNlciA9IG51bGw7DQogICAgICAgIH0NCiAgICB9KTsNCg0KICAgIC8vQ1BhcnR5OjpTZXRQbGF5UmVzdWx0DQogICAgSW50ZXJjZXB0b3IuYXR0YWNoKHB0cigweDg1QjI0MTIpLA0KICAgIHsNCiAgICAgICAgb25FbnRlcjogZnVuY3Rpb24gKGFyZ3MpDQogICAgICAgIHsNCiAgICAgICAgICAgIGN1cl9sdWNrX3VzZXIgPSBhcmdzWzFdOw0KICAgICAgICB9LA0KICAgICAgICBvbkxlYXZlOiBmdW5jdGlvbiAocmV0dmFsKQ0KICAgICAgICB7DQogICAgICAgICAgICBjdXJfbHVja191c2VyID0gbnVsbDsNCiAgICAgICAgfQ0KICAgIH0pOw0KDQogICAgLy/kv67mlLnlhrPlrprlh7rotKflk4HotKgocmFyaXR5KeeahOWHveaVsCDkvb/lh7rotKfnjofkuqvlj5fop5LoibLlubjov5DlgLzliqDmiJANCiAgICAvL0NMdWNrUG9pbnQ6OkdldEl0ZW1SYXJpdHkNCiAgICB2YXIgQ0x1Y2tQb2ludF9HZXRJdGVtUmFyaXR5X3B0ciA9IHB0cigweDg1NTBCRTQpOw0KICAgIHZhciBDTHVja1BvaW50X0dldEl0ZW1SYXJpdHkgPSBuZXcgTmF0aXZlRnVuY3Rpb24oQ0x1Y2tQb2ludF9HZXRJdGVtUmFyaXR5X3B0ciwgICdpbnQnLCBbJ3BvaW50ZXInLCAncG9pbnRlcicsICdpbnQnLCAnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCiAgICBJbnRlcmNlcHRvci5yZXBsYWNlKENMdWNrUG9pbnRfR2V0SXRlbVJhcml0eV9wdHIsIG5ldyBOYXRpdmVDYWxsYmFjayhmdW5jdGlvbiAoYTEsIGEyLCByb2xsLCBhNCkNCiAgICB7DQogICAgICAgIC8v5L2/55So6KeS6Imy5bm46L+Q5YC8cm9sbOeCueS7o+abv+e6r+maj+acunJvbGzngrkNCiAgICAgICAgaWYoY3VyX2x1Y2tfdXNlcikNCiAgICAgICAgew0KICAgICAgICAgICAgLy/ojrflj5blvZPliY3op5LoibLlubjov5DlgLwNCiAgICAgICAgICAgIHZhciBsdWNrX3BvaW50ID0gQ1VzZXJDaGFyYWNJbmZvX0dldEN1ckNoYXJhY0x1Y2tQb2ludChjdXJfbHVja191c2VyKTsNCg0KICAgICAgICAgICAgLy9yb2xs54K56IyD5Zu0MS0xMDBXLCByb2xs54K56LaK5aSnLCDlh7rotKfnjofotorpq5gNCiAgICAgICAgICAgIC8v6KeS6Imy5bm46L+Q5YC86IyD5Zu0MS0xMFcNCiAgICAgICAgICAgIC8v5L2/55So6KeS6ImyIFvlvZPliY3lubjov5DlgLwqMTBdIOS9nOS4unJvbGzngrnkuIvpmZAsIOW5uOi/kOWAvOi2iumrmCwgcm9sbOeCuei2iuWkpw0KICAgICAgICAgICAgcm9sbCA9IGdldF9yYW5kb21faW50KGx1Y2tfcG9pbnQqMTAsIDEwMDAwMDApOw0KICAgICAgICB9DQogICAgICAgIC8v5omn6KGM5Y6f5aeL6K6h566X54iG6KOF5ZOB6LSo5Ye95pWwDQogICAgICAgIHZhciByYXJpdHkgPSBDTHVja1BvaW50X0dldEl0ZW1SYXJpdHkoYTEsIGEyLCByb2xsLCBhNCk7DQogICAgICAgIC8v6LCD5pW06KeS6Imy5bm46L+Q5YC8DQogICAgICAgIGlmKGN1cl9sdWNrX3VzZXIpDQogICAgICAgIHsNCiAgICAgICAgICAgIHZhciByYXRlID0gMS4wOw0KDQogICAgICAgICAgICAvL+WHuui0p+eyieijheS7peS4iiwg6ZmN5L2O6KeS6Imy5bm46L+Q5YC8DQogICAgICAgICAgICBpZihyYXJpdHkgPj0gMykNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAvL+WHuui0p+WTgei0qOi2iumrmCwg5bm46L+Q5YC85LiL6ZmN57qm5b+rDQogICAgICAgICAgICAgICAgcmF0ZSA9IDEgLSAocmFyaXR5KjAuMDEpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZWxzZQ0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgIC8v5pyq5Ye66LSn5pe2LCDmj5DljYflubjov5DlgLwNCiAgICAgICAgICAgICAgICByYXRlID0gMS4wMTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIC8v6K6+572u5paw55qE5bm46L+Q5YC8DQogICAgICAgICAgICB2YXIgbmV3X2x1Y2tfcG9pbnQgPSBNYXRoLmZsb29yKENVc2VyQ2hhcmFjSW5mb19HZXRDdXJDaGFyYWNMdWNrUG9pbnQoY3VyX2x1Y2tfdXNlcikgKiByYXRlKTsNCiAgICAgICAgICAgIGFwaV9DVXNlckNoYXJhY0luZm9fU2V0Q3VyQ2hhcmFjTHVja1BvaW50KGN1cl9sdWNrX3VzZXIsIG5ld19sdWNrX3BvaW50KTsNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gcmFyaXR5Ow0KICAgICB9LCAnaW50JywgWydwb2ludGVyJywgJ3BvaW50ZXInLCAnaW50JywgJ2ludCddKSk7DQp9DQoNCi8v5aKe5Yqg6a2U5rOV5bCB5Y2w6KOF5aSH55qE6a2U5rOV5bCB5Y2w562J57qnDQpmdW5jdGlvbiBfYm9vc3RfcmFuZG9tX29wdGlvbl9lcXUoaW52ZW5faXRlbSkNCnsNCiAgICAvL+epuuijheWkhw0KICAgIGlmKEludmVuX0l0ZW1faXNFbXB0eShpbnZlbl9pdGVtKSkNCiAgICAgICAgcmV0dXJuIGZhbHNlOw0KDQogICAgLy/ojrflj5boo4XlpIflvZPliY3prZTms5XlsIHljbDlsZ7mgKcNCiAgICB2YXIgcmFuZG9tX29wdGlvbiA9IGludmVuX2l0ZW0uYWRkKDM3KTsNCg0KICAgIC8v6ZqP5py66YCJ5Y+W5LiA5Liq6K+N5p2h5qe9DQogICAgdmFyIHJhbmRvbV9vcHRpb25fc2xvdCA9IGdldF9yYW5kb21faW50KDAsIDMpOw0KDQogICAgLy/oi6Xor43mnaHmp73lt7LmnInprZTms5XlsIHljbANCiAgICBpZihyYW5kb21fb3B0aW9uLmFkZCgzKnJhbmRvbV9vcHRpb25fc2xvdCkucmVhZFU4KCkpDQogICAgew0KICAgICAgICAvL+avj+S4quivjeadoeaciTLkuKrlsZ7mgKflgLwNCiAgICAgICAgdmFyIHZhbHVlX3Nsb3QgPSBnZXRfcmFuZG9tX2ludCgxLCAzKTsNCg0KICAgICAgICAvL+W9k+WJjeivjeadoeetiee6pw0KICAgICAgICB2YXIgcmFuZG9tX29wdGlvbl9sZXZlbCA9IHJhbmRvbV9vcHRpb24uYWRkKDMqcmFuZG9tX29wdGlvbl9zbG90ICsgdmFsdWVfc2xvdCkucmVhZFU4KCk7DQogICAgICAgIGlmKHJhbmRvbV9vcHRpb25fbGV2ZWwgPCAweEZGKQ0KICAgICAgICB7DQogICAgICAgICAgICAvLzEl5qaC546H6K+N5p2h562J57qnKzENCiAgICAgICAgICAgIGlmKGdldF9yYW5kb21faW50KHJhbmRvbV9vcHRpb25fbGV2ZWwsIDEwMDAwMCkgPCAxMDAwKQ0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgIHJhbmRvbV9vcHRpb24uYWRkKDMqcmFuZG9tX29wdGlvbl9zbG90ICsgdmFsdWVfc2xvdCkud3JpdGVVOChyYW5kb21fb3B0aW9uX2xldmVsICsgMSk7DQogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9DQoNCiAgICByZXR1cm4gZmFsc2U7DQp9DQoNCi8v56m/5oi05Lit55qE6a2U5rOV5bCB5Y2w6KOF5aSH6K+N5p2h5Y2H57qnDQpmdW5jdGlvbiBib29zdF9yYW5kb21fb3B0aW9uX2VxdSh1c2VyKQ0Kew0KICAgIC8v6YGN5Y6G6Lqr5LiK55qE6KOF5aSHIOS4uuaLpeaciemtlOazleWwgeWNsOWxnuaAp+eahOijheWkh+aPkOWNh+mtlOazleWwgeWNsOetiee6pw0KICAgIHZhciBpbnZlbiA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNJbnZlblcodXNlcik7DQogICAgZm9yKHZhciBzbG90PTEwOyBzbG90PD0yMTsgc2xvdCsrKQ0KICAgIHsNCiAgICAgICAgdmFyIGludmVuX2l0ZW0gPSBDSW52ZW50b3J5X0dldEludmVuUmVmKGludmVuLCBJTlZFTlRPUllfVFlQRV9CT0RZLCBzbG90KTsNCiAgICAgICAgaWYoX2Jvb3N0X3JhbmRvbV9vcHRpb25fZXF1KGludmVuX2l0ZW0pKQ0KICAgICAgICB7DQogICAgICAgICAgICBhcGlfQ1VzZXJfU2VuZE5vdGlQYWNrZXRNZXNzYWdlKHVzZXIsICfpgJrnn6XvvJrprZTms5XlsIHljbDoo4XlpIfljYfnuqcnLCA2KTsNCiAgICAgICAgICAgIC8v6YCa55+l5a6i5oi356uv5pu05pawDQogICAgICAgICAgICBDVXNlcl9TZW5kVXBkYXRlSXRlbUxpc3QodXNlciwgMSwgMywgc2xvdCk7DQogICAgICAgIH0NCiAgICB9DQp9DQoNCi8v6a2U5rOV5bCB5Y2w5bGe5oCn6L2s5o2i5pe25Y+v5Lul57un5om/DQpmdW5jdGlvbiBjaGFuZ2VfcmFuZG9tX29wdGlvbl9pbmhlcml0KCkNCnsNCiAgICAvL3JhbmRvbV9vcHRpb246OkNSYW5kb21PcHRpb25JdGVtSGFuZGxlOjpjaGFuZ2Vfb3B0aW9uDQogICAgSW50ZXJjZXB0b3IuYXR0YWNoKHB0cigweDg1RjMzNDApLCB7DQogICAgICAgIG9uRW50ZXI6IGZ1bmN0aW9uIChhcmdzKSB7DQogICAgICAgICAgICAvL+S/neWtmOWOn+Wni+mtlOazleWwgeWNsOWxnuaApw0KICAgICAgICAgICAgdGhpcy5yYW5kb21fb3B0aW9uID0gYXJnc1s3XTsNCiAgICAgICAgICAgIC8v5pys5qyh5Y+Y5o2i55qE5bGe5oCn57yW5Y+3DQogICAgICAgICAgICB0aGlzLmNoYW5nZV9yYW5kb21fb3B0aW9uX2luZGV4ID0gYXJnc1s2XS50b0ludDMyKCk7DQoNCiAgICAgICAgICAgIC8v6K6w5b2V5Y6f5aeL5bGe5oCnDQogICAgICAgICAgICB0aGlzLnJhbmRvbV9vcHRpb190eXBlID0gdGhpcy5yYW5kb21fb3B0aW9uLmFkZCgzKnRoaXMuY2hhbmdlX3JhbmRvbV9vcHRpb25faW5kZXgpLnJlYWRVOCgpOw0KICAgICAgICAgICAgdGhpcy5yYW5kb21fb3B0aW9fdmFsdWVfMSA9IHRoaXMucmFuZG9tX29wdGlvbi5hZGQoMyp0aGlzLmNoYW5nZV9yYW5kb21fb3B0aW9uX2luZGV4ICsgMSkucmVhZFU4KCk7DQogICAgICAgICAgICB0aGlzLnJhbmRvbV9vcHRpb192YWx1ZV8yID0gdGhpcy5yYW5kb21fb3B0aW9uLmFkZCgzKnRoaXMuY2hhbmdlX3JhbmRvbV9vcHRpb25faW5kZXggKyAyKS5yZWFkVTgoKTsNCiAgICAgICAgfSwNCiAgICAgICAgb25MZWF2ZTogZnVuY3Rpb24gKHJldHZhbCkgew0KICAgICAgICAgICAgLy/prZTms5XlsIHljbDovazmjaLmiJDlip8NCiAgICAgICAgICAgIGlmKHJldHZhbCA9PSAxKQ0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgIC8v6I635Y+W5pyq6KKr6ZmE6a2U55qE6a2U5rOV5bCB5Y2w5qe9DQogICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gLTE7DQogICAgICAgICAgICAgICAgaWYodGhpcy5yYW5kb21fb3B0aW9uLmFkZCgwKS5yZWFkVTgoKSA9PSAwKQ0KICAgICAgICAgICAgICAgICAgICBpbmRleCA9IDA7DQogICAgICAgICAgICAgICAgZWxzZSBpZih0aGlzLnJhbmRvbV9vcHRpb24uYWRkKDMpLnJlYWRVOCgpID09IDApDQogICAgICAgICAgICAgICAgICAgIGluZGV4ID0gMTsNCiAgICAgICAgICAgICAgICBlbHNlIGlmKHRoaXMucmFuZG9tX29wdGlvbi5hZGQoNikucmVhZFU4KCkgPT0gMCkNCiAgICAgICAgICAgICAgICAgICAgaW5kZXggPSAyOw0KDQogICAgICAgICAgICAgICAgLy/lvZPprZTms5XlsIHljbDor43mnaHkuI3otrMz5Liq5pe2LCDoi6Xlj5jmjaLlh7rnrYnnuqfmnoHkvY7nmoTlsZ7mgKcsIOWPr+ebtOaOpemZhOmtlOWIsOijheWkh+epuueahOmtlOazleWwgeWNsOanveWGhQ0KICAgICAgICAgICAgICAgIGlmKGluZGV4ID49IDApDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICBpZigodGhpcy5yYW5kb21fb3B0aW9uLmFkZCgxMSkucmVhZFU4KCkgPD0gNSkgJiYgKHRoaXMucmFuZG9tX29wdGlvbi5hZGQoMTIpLnJlYWRVOCgpIDw9IDUpKQ0KICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICAvL+mtlOazleWwgeWNsOmZhOmtlA0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yYW5kb21fb3B0aW9uLmFkZCgzKmluZGV4KS53cml0ZVU4KHRoaXMucmFuZG9tX29wdGlvbi5hZGQoMTApLnJlYWRVOCgpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmFuZG9tX29wdGlvbi5hZGQoMyppbmRleCArIDEpLndyaXRlVTgodGhpcy5yYW5kb21fb3B0aW9uLmFkZCgxMSkucmVhZFU4KCkpOw0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yYW5kb21fb3B0aW9uLmFkZCgzKmluZGV4ICsgMikud3JpdGVVOCh0aGlzLnJhbmRvbV9vcHRpb24uYWRkKDEyKS5yZWFkVTgoKSk7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgIC8v5riF56m65pys5qyh5Y+Y5o2i55qE5bGe5oCnKOWPr+S7pee7p+e7remAieaLqeWFtuS7luivjeadoeWPmOaNoikNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmFuZG9tX29wdGlvbi5hZGQoMTApLndyaXRlSW50KDApOw0KDQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAvL+eUqOWPmOaNouWQjueahOivjeadoeimhuebluWOn+Wni+mtlOazleWwgeWNsOivjeadoQ0KICAgICAgICAgICAgICAgIHRoaXMucmFuZG9tX29wdGlvbi5hZGQoMyp0aGlzLmNoYW5nZV9yYW5kb21fb3B0aW9uX2luZGV4KS53cml0ZVU4KHRoaXMucmFuZG9tX29wdGlvbi5hZGQoMTApLnJlYWRVOCgpKTsNCg0KICAgICAgICAgICAgICAgIC8v6Iul5Y+Y5o2i5ZCO55qE5bGe5oCn5L2O5LqO5Y6f5p2l55qE5YC8IOWImee7p+aJv+WOn+acieWxnuaAp+WAvCDlkKbliJnkvb/nlKjlj5jmjaLlkI7nmoTlsZ7mgKcNCiAgICAgICAgICAgICAgICBpZih0aGlzLnJhbmRvbV9vcHRpb24uYWRkKDExKS5yZWFkVTgoKSA+IHRoaXMucmFuZG9tX29wdGlvX3ZhbHVlXzEpDQogICAgICAgICAgICAgICAgICAgIHRoaXMucmFuZG9tX29wdGlvbi5hZGQoMyp0aGlzLmNoYW5nZV9yYW5kb21fb3B0aW9uX2luZGV4ICsgMSkud3JpdGVVOCh0aGlzLnJhbmRvbV9vcHRpb24uYWRkKDExKS5yZWFkVTgoKSk7DQoNCiAgICAgICAgICAgICAgICBpZih0aGlzLnJhbmRvbV9vcHRpb24uYWRkKDEyKS5yZWFkVTgoKSA+IHRoaXMucmFuZG9tX29wdGlvX3ZhbHVlXzIpDQogICAgICAgICAgICAgICAgICAgIHRoaXMucmFuZG9tX29wdGlvbi5hZGQoMyp0aGlzLmNoYW5nZV9yYW5kb21fb3B0aW9uX2luZGV4ICsgMikud3JpdGVVOCh0aGlzLnJhbmRvbV9vcHRpb24uYWRkKDEyKS5yZWFkVTgoKSk7DQoNCiAgICAgICAgICAgICAgICAvL+a4heepuuacrOasoeWPmOaNoueahOWxnuaApyjlj6/ku6Xnu6fnu63pgInmi6nlhbbku5bor43mnaHlj5jmjaIpDQogICAgICAgICAgICAgICAgdGhpcy5yYW5kb21fb3B0aW9uLmFkZCgxMCkud3JpdGVJbnQoMCk7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9KTsNCn0NCg0KLy/prZTms5XlsIHljbDoh6rliqjop6PlsIENCmZ1bmN0aW9uIGF1dG9fdW5zZWFsX3JhbmRvbV9vcHRpb25fZXF1aXBtZW50KCkNCnsNCiAgICAvL0NJbnZlbnRvcnk6Omluc2VydEl0ZW1JbnRvSW52ZW50b3J5DQogICAgSW50ZXJjZXB0b3IuYXR0YWNoKHB0cigweDg1MDJEODYpLCB7DQogICAgICAgIG9uRW50ZXI6IGZ1bmN0aW9uIChhcmdzKSB7DQogICAgICAgICAgICB0aGlzLnVzZXIgPSBhcmdzWzBdLnJlYWRQb2ludGVyKCk7DQogICAgICAgIH0sDQogICAgICAgIG9uTGVhdmU6IGZ1bmN0aW9uIChyZXR2YWwpIHsNCg0KICAgICAgICAgICAgLy/nianlk4HmoI/mlrDlop7nianlk4HnmoTkvY3nva4NCiAgICAgICAgICAgIHZhciBzbG90ID0gcmV0dmFsLnRvSW50MzIoKTsNCiAgICAgICAgICAgIGlmKHNsb3QgPiAwICkNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAvL+iOt+WPlumBk+WFt+eahOinkuiJsg0KICAgICAgICAgICAgICAgIHZhciB1c2VyID0gdGhpcy51c2VyOw0KDQogICAgICAgICAgICAgICAgLy/op5LoibLog4zljIUNCiAgICAgICAgICAgICAgICB2YXIgaW52ZW4gPSBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjSW52ZW5XKHVzZXIpOw0KDQogICAgICAgICAgICAgICAgLy/og4zljIXkuK3mlrDlop7nmoTpgZPlhbcNCiAgICAgICAgICAgICAgICB2YXIgaW52ZW5faXRlbSA9IENJbnZlbnRvcnlfR2V0SW52ZW5SZWYoaW52ZW4sIElOVkVOVE9SWV9UWVBFX0lURU0sIHNsb3QpOw0KDQogICAgICAgICAgICAgICAgLy/ov4fmu6TpgZPlhbfnsbvlnosNCiAgICAgICAgICAgICAgICBpZighSW52ZW5fSXRlbV9pc0VxdWlwYWJsZUl0ZW1UeXBlKGludmVuX2l0ZW0pKQ0KICAgICAgICAgICAgICAgICAgICByZXR1cm47DQoNCiAgICAgICAgICAgICAgICAvL+ijheWkh2lkDQogICAgICAgICAgICAgICAgdmFyIGl0ZW1faWQgPSBJbnZlbl9JdGVtX2dldEtleShpbnZlbl9pdGVtKTsNCg0KICAgICAgICAgICAgICAgIC8vcHZm5Lit6I635Y+W6KOF5aSH5pWw5o2uDQogICAgICAgICAgICAgICAgdmFyIGNpdGVtID0gQ0RhdGFNYW5hZ2VyX2ZpbmRfaXRlbShHX0NEYXRhTWFuYWdlcigpLCBpdGVtX2lkKTsNCg0KICAgICAgICAgICAgICAgIC8v5qOA5p+l6KOF5aSH5piv5ZCm5Li66a2U5rOV5bCB5Y2w57G75Z6LDQogICAgICAgICAgICAgICAgaWYoIUNFcXVpcEl0ZW1fSXNSYW5kb21PcHRpb24oY2l0ZW0pKQ0KICAgICAgICAgICAgICAgICAgICByZXR1cm47DQoNCiAgICAgICAgICAgICAgICAvL+aYr+WQpuW3suiiq+ino+mZpOmtlOazleWwgeWNsO+8iOmtlOazleWwgeWNsOWJjTEw5Liq5a2X6IqC5piv5ZCm5Li6MO+8iQ0KICAgICAgICAgICAgICAgIHZhciByYW5kb21fb3B0aW9uID0gaW52ZW5faXRlbS5hZGQoMzcpOw0KICAgICAgICAgICAgICAgIGlmKHJhbmRvbV9vcHRpb24ucmVhZFUzMigpIHx8IHJhbmRvbV9vcHRpb24uYWRkKDQpLnJlYWRVMzIoKSB8fCByYW5kb21fb3B0aW9uLmFkZCg4KS5yZWFkU2hvcnQoKSkNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAvL+Wwneivleino+mZpOmtlOazleWwgeWNsA0KICAgICAgICAgICAgICAgIHZhciByZXQgPSByYW5kb21fb3B0aW9uX0NSYW5kb21PcHRpb25JdGVtSGFuZGxlX2dpdmVfb3B0aW9uKHB0cigweDk0MUY4MjApLnJlYWRQb2ludGVyKCksIGl0ZW1faWQsIENJdGVtX0dldFJhcml0eShjaXRlbSksIENJdGVtX0dldFVzYWJsZUxldmVsKGNpdGVtKQ0KICAgICAgICAgICAgICAgICAgICAsIENJdGVtX0dldEl0ZW1Hcm91cE5hbWUoY2l0ZW0pLCBDRXF1aXBJdGVtX0dldFJhbmRvbU9wdGlvbkdyYWRlKGNpdGVtKSwgaW52ZW5faXRlbS5hZGQoMzcpKTsNCiAgICAgICAgICAgICAgICBpZihyZXQpDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAvL+mAmuefpeWuouaIt+err+acieijheWkh+abtOaWsA0KICAgICAgICAgICAgICAgICAgICBDVXNlcl9TZW5kVXBkYXRlSXRlbUxpc3QodXNlciwgMSwgMCwgc2xvdCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfSk7DQp9DQoNCi8v54K55Yi45YWF5YC8ICjnpoHmraLnm7TmjqXkv67mlLliaWxsaW5n5bqT5omA5pyJ6KGo5a2X5q61LCDngrnliLjnm7jlhbPmk43kvZzliqHlv4XosIPnlKjmlbDmja7lupPlrZjlgqjov4fnqIshKQ0KZnVuY3Rpb24gYXBpX3JlY2hhcmdlX2Nhc2hfY2VyYSh1c2VyLCBhbW91bnQpDQp7DQogICAgLy/lhYXlgLwNCiAgICBXb25nV29ya19JUEdfQ0lQR0hlbHBlcl9JUEdJbnB1dChwdHIoMHg5NDFGNzM0KS5yZWFkUG9pbnRlcigpLCB1c2VyLCA1LCBhbW91bnQsIHB0cigweDhDN0ZBMjApLCBwdHIoMHg4QzdGQTIwKSwNCiAgICAgICAgTWVtb3J5LmFsbG9jVXRmOFN0cmluZygnR00nKSwgcHRyKDApLCBwdHIoMCksIHB0cigwKSk7DQoNCiAgICAvL+mAmuefpeWuouaIt+err+WFheWAvOe7k+aenA0KICAgIFdvbmdXb3JrX0lQR19DSVBHSGVscGVyX0lQR1F1ZXJ5KHB0cigweDk0MUY3MzQpLnJlYWRQb2ludGVyKCksIHVzZXIpOw0KfQ0KDQovL+S7o+W4geWFheWAvCAo56aB5q2i55u05o6l5L+u5pS5YmlsbGluZ+W6k+aJgOacieihqOWtl+autSwg54K55Yi455u45YWz5pON5L2c5Yqh5b+F6LCD55So5pWw5o2u5bqT5a2Y5YKo6L+H56iLISkNCmZ1bmN0aW9uIGFwaV9yZWNoYXJnZV9jYXNoX2NlcmFfcG9pbnQodXNlciwgYW1vdW50KQ0Kew0KICAgIC8v5YWF5YC8DQogICAgV29uZ1dvcmtfSVBHX0NJUEdIZWxwZXJfSVBHSW5wdXRQb2ludChwdHIoMHg5NDFGNzM0KS5yZWFkUG9pbnRlcigpLCB1c2VyLCBhbW91bnQsIDQsIHB0cigwKSwgcHRyKDApKTsNCg0KICAgIC8v6YCa55+l5a6i5oi356uv5YWF5YC857uT5p6cDQogICAgV29uZ1dvcmtfSVBHX0NJUEdIZWxwZXJfSVBHUXVlcnkocHRyKDB4OTQxRjczNCkucmVhZFBvaW50ZXIoKSwgdXNlcik7DQp9DQoNCi8v5Zyo57q/5aWW5YqxDQpmdW5jdGlvbiBlbmFibGVfb25saW5lX3Jld2FyZCgpDQp7DQogICAgLy/lnKjnur/mr481bWlu5Y+R5LiA5qyh5aWWLCDlnKjnur/ml7bpl7Totorplb8sIOWlluWKsei2iumrmA0KICAgIC8vQ1VzZXI6OldvcmtQZXJGaXZlTWluDQogICAgSW50ZXJjZXB0b3IuYXR0YWNoKHB0cigweDg2NTJGMEMpLCB7DQogICAgICAgIG9uRW50ZXI6IGZ1bmN0aW9uIChhcmdzKSB7DQogICAgICAgICAgICB2YXIgdXNlciA9IGFyZ3NbMF07DQoNCiAgICAgICAgICAgIC8v5b2T5YmN57O757uf5pe26Ze0DQogICAgICAgICAgICB2YXIgY3VyX3RpbWUgPSBhcGlfQ1N5c3RlbVRpbWVfZ2V0Q3VyU2VjKCk7DQoNCiAgICAgICAgICAgIC8v5pys5qyh55m75b2V5pe26Ze0DQogICAgICAgICAgICB2YXIgbG9naW5fdGljayA9IENVc2VyQ2hhcmFjSW5mb19HZXRMb2dpblRpY2sodXNlcik7DQoNCg0KICAgICAgICAgICAgaWYobG9naW5fdGljayA+IDApDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgLy/lnKjnur/ml7bplb8o5YiG6ZKfKQ0KICAgICAgICAgICAgICAgIHZhciBkaWZmX3RpbWUgPSBNYXRoLmZsb29yKChjdXJfdGltZSAtIGxvZ2luX3RpY2spIC8gNjApOw0KDQogICAgICAgICAgICAgICAgLy/lnKjnur8xMG1pbuWQjuW8gOWni+iuoeeulw0KICAgICAgICAgICAgICAgIGlmKGRpZmZfdGltZSA8IDEwKQ0KICAgICAgICAgICAgICAgICAgICByZXR1cm47DQoNCiAgICAgICAgICAgICAgICAvL+WcqOe6v+WlluWKseacgOWkmuWPkemAgTHlpKkNCiAgICAgICAgICAgICAgICBpZihkaWZmX3RpbWUgPiAxKjI0KjYwKQ0KICAgICAgICAgICAgICAgICAgICByZXR1cm47DQoNCiAgICAgICAgICAgICAgICAvL+WlluWKsTog5q+P5YiG6ZKfMC4x54K55Yi4DQogICAgICAgICAgICAgICAgdmFyIFJFV0FSRF9DQVNIX0NFUkFfUEVSX01JTiA9IDAuMTsNCg0KICAgICAgICAgICAgICAgIC8v6K6h566X5aWW5YqxDQogICAgICAgICAgICAgICAgdmFyIHJld2FyZF9jYXNoX2NlcmEgPSBNYXRoLmZsb29yKGRpZmZfdGltZSpSRVdBUkRfQ0FTSF9DRVJBX1BFUl9NSU4pOw0KDQogICAgICAgICAgICAgICAgLy/lj5HngrnliLgNCiAgICAgICAgICAgICAgICBhcGlfcmVjaGFyZ2VfY2FzaF9jZXJhKHVzZXIsIHJld2FyZF9jYXNoX2NlcmEpOw0KDQogICAgICAgICAgICAgICAgLy/lj5Hmtojmga/pgJrnn6XlrqLmiLfnq6/lpZblirHlt7Llj5HpgIENCiAgICAgICAgICAgICAgICBhcGlfQ1VzZXJfU2VuZE5vdGlQYWNrZXRNZXNzYWdlKHVzZXIsICdbJyArIGdldF90aW1lc3RhbXAoKSArICddIOWcqOe6v+WlluWKseW3suWPkemAgSjlvZPliY3pmLbmrrXngrnliLjlpZblirE6JyArIHJld2FyZF9jYXNoX2NlcmEgKyAnKScsIDYpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICBvbkxlYXZlOiBmdW5jdGlvbiAocmV0dmFsKSB7DQogICAgICAgIH0NCiAgICB9KTsNCn0NCg0KLy/ojrflj5bml7boo4XlnKjmlbDmja7lupPkuK3nmoR1aWQNCmZ1bmN0aW9uIGFwaV9nZXRfYXZhcnRhcl91aV9pZChhdmFydGFyKQ0Kew0KICAgIHJldHVybiBhdmFydGFyLmFkZCg3KS5yZWFkSW50KCk7DQp9DQoNCi8v6K6+572u5pe26KOF5o+S5qe95pWw5o2uKOaXtuijheaPkuanveaVsOaNruaMh+mSiCwg5o+S5qe9LCDlvr3nq6BpZCkNCi8vamV3ZWxfdHlwZTog57qiPTB4MSwg6buEPTB4Miwg57u/PTB4NCwg6JOdPTB4OCwg55m96YeRPTB4MTANCmZ1bmN0aW9uIGFwaV9zZXRfSmV3ZWxTb2NrZXREYXRhKGpld2VsU29ja2V0RGF0YSwgc2xvdCwgZW1ibGVtX2l0ZW1faWQpDQp7DQogICAgaWYoIWpld2VsU29ja2V0RGF0YS5pc051bGwoKSkNCiAgICB7DQogICAgICAgIC8v5q+P5Liq5qe95pWw5o2u6ZW/NuS4quWtl+iKgjogMuWtl+iKguanveexu+Weiys05a2X6IqC5b6956ugaXRlbV9pZA0KICAgICAgICAvL+mVtuW1jOS4jeaUueWPmOanveexu+Weiywg6L+Z6YeM5Y+q5L+u5pS55b6956ugaWQNCiAgICAgICAgamV3ZWxTb2NrZXREYXRhLmFkZChzbG90KjYrMikud3JpdGVJbnQoZW1ibGVtX2l0ZW1faWQpOw0KICAgIH0NCg0KICAgIHJldHVybjsNCn0NCg0KLy/kv67lpI3ml7boo4XplbbltYwNCmZ1bmN0aW9uIGZpeF91c2VfZW1ibGVtKCkNCnsNCiAgICAvL0Rpc3BhdGNoZXJfVXNlSmV3ZWw6OmRpc3BhdGNoX3NpZw0KICAgIEludGVyY2VwdG9yLmF0dGFjaChwdHIoMHg4MjE3QkQ2KSwgew0KDQogICAgICAgIG9uRW50ZXI6IGZ1bmN0aW9uIChhcmdzKSB7DQoNCiAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgdmFyIHVzZXIgPSBhcmdzWzFdOw0KICAgICAgICAgICAgICAgIHZhciBwYWNrZXRfYnVmID0gYXJnc1syXTsNCg0KICAgICAgICAgICAgICAgIGxvZygn5pS25Yiw6KeS6ImyWycgKyBhcGlfQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY05hbWUodXNlcikgKyAnXeeahOmVtuW1jOivt+axgicpOw0KDQogICAgICAgICAgICAgICAgLy/moKHpqozop5LoibLnirbmgIHmmK/lkKblhYHorrjplbbltYwNCiAgICAgICAgICAgICAgICB2YXIgc3RhdGUgPSBDVXNlcl9nZXRfc3RhdGUodXNlcik7DQogICAgICAgICAgICAgICAgaWYoc3RhdGUgIT0gMykNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICB9DQoNCg0KICAgICAgICAgICAgICAgIC8v6Kej5p6QcGFja2V0X2J1Zg0KDQogICAgICAgICAgICAgICAgLy/ml7boo4XmiYDlnKjnmoTog4zljIXmp70NCiAgICAgICAgICAgICAgICB2YXIgYXZhcnRhcl9pbnZlbl9zbG90ID0gYXBpX1BhY2tldEJ1Zl9nZXRfc2hvcnQocGFja2V0X2J1Zik7DQogICAgICAgICAgICAgICAgLy/ml7boo4VpdGVtX2lkDQogICAgICAgICAgICAgICAgdmFyIGF2YXJ0YXJfaXRlbV9pZCA9IGFwaV9QYWNrZXRCdWZfZ2V0X2ludChwYWNrZXRfYnVmKTsNCiAgICAgICAgICAgICAgICAvL+acrOasoemVtuW1jOW+veeroOaVsOmHjw0KICAgICAgICAgICAgICAgIHZhciBlbWJsZW1fY250ID0gYXBpX1BhY2tldEJ1Zl9nZXRfYnl0ZShwYWNrZXRfYnVmKTsNCg0KICAgICAgICAgICAgICAgIC8vbG9nKCdhdmFydGFyX2ludmVuX3Nsb3Q9JyArIGF2YXJ0YXJfaW52ZW5fc2xvdCArICcsIGF2YXJ0YXJfaXRlbV9pZD0nICsgYXZhcnRhcl9pdGVtX2lkICsgJywgZW1ibGVtX2NudD0nICsgZW1ibGVtX2NudCk7DQoNCiAgICAgICAgICAgICAgICAvL+iOt+WPluaXtuijhemBk+WFtw0KICAgICAgICAgICAgICAgIHZhciBpbnZlbiA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNJbnZlblcodXNlcik7DQogICAgICAgICAgICAgICAgdmFyIGF2YXJ0YXIgPSBDSW52ZW50b3J5X0dldEludmVuUmVmKGludmVuLCBJTlZFTlRPUllfVFlQRV9BVkFSVEFSLCBhdmFydGFyX2ludmVuX3Nsb3QpOw0KDQogICAgICAgICAgICAgICAgLy/moKHpqozml7boo4Ug5pWw5o2u5piv5ZCm5ZCI5rOVDQogICAgICAgICAgICAgICAgaWYoSW52ZW5fSXRlbV9pc0VtcHR5KGF2YXJ0YXIpIHx8IChJbnZlbl9JdGVtX2dldEtleShhdmFydGFyKSAhPSBhdmFydGFyX2l0ZW1faWQpIHx8IENVc2VyX0NoZWNrSXRlbUxvY2sodXNlciwgMiwgYXZhcnRhcl9pbnZlbl9zbG90KSkNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAvL+iOt+WPluaXtuijheaPkuanveaVsOaNrg0KICAgICAgICAgICAgICAgIHZhciBhdmFydGFyX2FkZF9pbmZvID0gSW52ZW5fSXRlbV9nZXRfYWRkX2luZm8oYXZhcnRhcik7DQogICAgICAgICAgICAgICAgdmFyIGludmVuX2F2YXJ0YXJfbWdyID0gQ0ludmVudG9yeV9HZXRBdmF0YXJJdGVtTWdyUihpbnZlbik7DQogICAgICAgICAgICAgICAgdmFyIGpld2VsX3NvY2tldF9kYXRhID0gV29uZ1dvcmtfQ0F2YXRhckl0ZW1NZ3JfZ2V0SmV3ZWxTb2NrZXREYXRhKGludmVuX2F2YXJ0YXJfbWdyLCBhdmFydGFyX2FkZF9pbmZvKTsNCiAgICAgICAgICAgICAgICAvL2xvZygnamV3ZWxfc29ja2V0X2RhdGE9JyArIGpld2VsX3NvY2tldF9kYXRhICsgJzonICsgYmluMmhleChqZXdlbF9zb2NrZXRfZGF0YSwgMzApKTsNCg0KICAgICAgICAgICAgICAgIGlmKGpld2VsX3NvY2tldF9kYXRhLmlzTnVsbCgpKQ0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIC8v5pyA5aSa5Y+q5pSv5oyBM+S4quaPkuanvQ0KICAgICAgICAgICAgICAgIGlmKGVtYmxlbV9jbnQgPD0gMykNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIHZhciBlbWJsZW1zID0ge307DQoNCiAgICAgICAgICAgICAgICAgICAgZm9yKHZhciBpPTA7IGk8ZW1ibGVtX2NudDsgaSsrKQ0KICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICAvL+W+veeroOaJgOWcqOeahOiDjOWMheanvQ0KICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVtYmxlbV9pbnZlbl9zbG90ID0gYXBpX1BhY2tldEJ1Zl9nZXRfc2hvcnQocGFja2V0X2J1Zik7DQogICAgICAgICAgICAgICAgICAgICAgICAvL+W+veeroGl0ZW1faWQNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlbWJsZW1faXRlbV9pZCA9IGFwaV9QYWNrZXRCdWZfZ2V0X2ludChwYWNrZXRfYnVmKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIC8v6K+l5b6956ug6ZW25bWM55qE5pe26KOF5o+S5qe9aWQNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhdmFydGFyX3NvY2tldF9zbG90ID0gYXBpX1BhY2tldEJ1Zl9nZXRfYnl0ZShwYWNrZXRfYnVmKTsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgLy9sb2coJ2VtYmxlbV9pbnZlbl9zbG90PScgKyBlbWJsZW1faW52ZW5fc2xvdCArICcsIGVtYmxlbV9pdGVtX2lkPScgKyBlbWJsZW1faXRlbV9pZCArICcsIGF2YXJ0YXJfc29ja2V0X3Nsb3Q9JyArIGF2YXJ0YXJfc29ja2V0X3Nsb3QpOw0KDQogICAgICAgICAgICAgICAgICAgICAgICAvL+iOt+WPluW+veeroOmBk+WFtw0KICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVtYmxlbSA9IENJbnZlbnRvcnlfR2V0SW52ZW5SZWYoaW52ZW4sIElOVkVOVE9SWV9UWVBFX0lURU0sIGVtYmxlbV9pbnZlbl9zbG90KTsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgLy/moKHpqozlvr3nq6Dlj4rmj5Lmp73mlbDmja7mmK/lkKblkIjms5UNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKEludmVuX0l0ZW1faXNFbXB0eShlbWJsZW0pIHx8IChJbnZlbl9JdGVtX2dldEtleShlbWJsZW0pICE9IGVtYmxlbV9pdGVtX2lkKSB8fCAoYXZhcnRhcl9zb2NrZXRfc2xvdCA+PSAzKSkNCiAgICAgICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAgICAgICAgIC8v5qCh6aqM5b6956ug5piv5ZCm5ruh6Laz5pe26KOF5o+S5qe96aKc6Imy6KaB5rGCDQoNCiAgICAgICAgICAgICAgICAgICAgICAgIC8v6I635Y+W5b6956ugcHZm5pWw5o2uDQogICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2l0ZW0gPSBDRGF0YU1hbmFnZXJfZmluZF9pdGVtKEdfQ0RhdGFNYW5hZ2VyKCksIGVtYmxlbV9pdGVtX2lkKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGNpdGVtLmlzTnVsbCgpKQ0KICAgICAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgICAgICAgICAgLy/moKHpqozlvr3nq6DnsbvlnosNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCFDSXRlbV9pc19zdGFja2FibGUoY2l0ZW0pIHx8ICAoQ1N0YWNrYWJsZUl0ZW1fR2V0SXRlbVR5cGUoY2l0ZW0pICE9IDIwKSkNCiAgICAgICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAgICAgICAgIC8v6I635Y+W5b6956ug5pSv5oyB55qE5o+S5qe9DQogICAgICAgICAgICAgICAgICAgICAgICB2YXIgZW1ibGVtX3NvY2tldF90eXBlID0gQ1N0YWNrYWJsZUl0ZW1fZ2V0SmV3ZWxUYXJnZXRTb2NrZXQoY2l0ZW0pOw0KDQogICAgICAgICAgICAgICAgICAgICAgICAvL+iOt+WPluimgemVtuW1jOeahOaXtuijheaPkuanveexu+Weiw0KICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGF2YXJ0YXJfc29ja2V0X3R5cGUgPSBqZXdlbF9zb2NrZXRfZGF0YS5hZGQoYXZhcnRhcl9zb2NrZXRfc2xvdCo2KS5yZWFkU2hvcnQoKTsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgaWYoIShlbWJsZW1fc29ja2V0X3R5cGUgJiBhdmFydGFyX3NvY2tldF90eXBlKSkNCiAgICAgICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL+aPkuanveexu+Wei+S4jeWMuemFjQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vbG9nKCdzb2NrZXQgdHlwZSBub3QgbWF0Y2ghJyk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgICAgICAgICBlbWJsZW1zW2F2YXJ0YXJfc29ja2V0X3Nsb3RdID0gW2VtYmxlbV9pbnZlbl9zbG90LCBlbWJsZW1faXRlbV9pZF07DQogICAgICAgICAgICAgICAgICAgIH0NCg0KDQoNCiAgICAgICAgICAgICAgICAgICAgLy/lvIDlp4vplbbltYwNCiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgYXZhcnRhcl9zb2NrZXRfc2xvdCBpbiBlbWJsZW1zKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAvL+WIoOmZpOW+veeroA0KICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVtYmxlbV9pbnZlbl9zbG90ID0gZW1ibGVtc1thdmFydGFyX3NvY2tldF9zbG90XVswXTsNCiAgICAgICAgICAgICAgICAgICAgICAgIENJbnZlbnRvcnlfZGVsZXRlX2l0ZW0oaW52ZW4sIDEsIGVtYmxlbV9pbnZlbl9zbG90LCAxLCA4LCAxKTsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgLy/orr7nva7ml7boo4Xmj5Lmp73mlbDmja4NCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlbWJsZW1faXRlbV9pZCA9IGVtYmxlbXNbYXZhcnRhcl9zb2NrZXRfc2xvdF1bMV07DQogICAgICAgICAgICAgICAgICAgICAgICBhcGlfc2V0X0pld2VsU29ja2V0RGF0YShqZXdlbF9zb2NrZXRfZGF0YSwgYXZhcnRhcl9zb2NrZXRfc2xvdCwgZW1ibGVtX2l0ZW1faWQpOw0KDQogICAgICAgICAgICAgICAgICAgICAgICAvL2xvZygn5b6956ugaXRlbV9pZD0nICsgZW1ibGVtX2l0ZW1faWQgKyAn5bey5oiQ5Yqf6ZW25bWM6L+bYXZhcnRhcl9zb2NrZXRfc2xvdD0nICsgYXZhcnRhcl9zb2NrZXRfc2xvdCArICfnmoTmp73lhoUhJyk7DQogICAgICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgICAgICAvL+aXtuijheaPkuanveaVsOaNruWtmOahow0KICAgICAgICAgICAgICAgICAgICBEQl9VcGRhdGVBdmF0YXJKZXdlbFNsb3RfbWFrZVJlcXVlc3QoQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY05vKHVzZXIpLCBhcGlfZ2V0X2F2YXJ0YXJfdWlfaWQoYXZhcnRhciksIGpld2VsX3NvY2tldF9kYXRhKTsNCg0KICAgICAgICAgICAgICAgICAgICAvL+mAmuefpeWuouaIt+err+aXtuijheaVsOaNruW3suabtOaWsA0KICAgICAgICAgICAgICAgICAgICBDVXNlcl9TZW5kVXBkYXRlSXRlbUxpc3QodXNlciwgMSwgMSwgYXZhcnRhcl9pbnZlbl9zbG90KTsNCg0KICAgICAgICAgICAgICAgICAgICAvL+WbnuWMhee7meWuouaIt+errw0KICAgICAgICAgICAgICAgICAgICB2YXIgcGFja2V0X2d1YXJkID0gYXBpX1BhY2tldEd1YXJkX1BhY2tldEd1YXJkKCk7DQogICAgICAgICAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfaGVhZGVyKHBhY2tldF9ndWFyZCwgMSwgMjA0KTsNCiAgICAgICAgICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9pbnQocGFja2V0X2d1YXJkLCAxKTsNCiAgICAgICAgICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX2ZpbmFsaXplKHBhY2tldF9ndWFyZCwgMSk7DQogICAgICAgICAgICAgICAgICAgIENVc2VyX1NlbmQodXNlciwgcGFja2V0X2d1YXJkKTsNCiAgICAgICAgICAgICAgICAgICAgRGVzdHJveV9QYWNrZXRHdWFyZF9QYWNrZXRHdWFyZChwYWNrZXRfZ3VhcmQpOw0KDQogICAgICAgICAgICAgICAgICAgIC8vbG9nKCfplbbltYzor7fmsYLlt7LlpITnkIblrozmiJAhJyk7DQogICAgICAgICAgICAgICAgfQ0KDQoNCiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7DQogICAgICAgICAgICAgICAgLy9sb2coJ2ZpeF91c2VfZW1ibGVtIHRocm93IEV4Y2VwdGlvbjonICsgZXJyb3IpOw0KICAgICAgICAgICAgfQ0KDQoNCiAgICAgICAgfSwNCiAgICAgICAgb25MZWF2ZTogZnVuY3Rpb24gKHJldHZhbCkgew0KICAgICAgICAgICAgLy/ov5Tlm57lgLzmlLnkuLowICDkuI3lho3ouKLnur8NCiAgICAgICAgICAgIHJldHZhbC5yZXBsYWNlKDApOw0KICAgICAgICB9DQogICAgfSk7DQoNCg0KfQ0KDQovL2xpbnV46K+75pys5Zyw5paH5Lu2DQp2YXIgZm9wZW4gPSBuZXcgTmF0aXZlRnVuY3Rpb24oTW9kdWxlLmdldEV4cG9ydEJ5TmFtZShudWxsLCAnZm9wZW4nKSwgJ2ludCcsIFsncG9pbnRlcicsICdwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBmcmVhZCA9IG5ldyBOYXRpdmVGdW5jdGlvbihNb2R1bGUuZ2V0RXhwb3J0QnlOYW1lKG51bGwsICdmcmVhZCcpLCAnaW50JywgWydwb2ludGVyJywgJ2ludCcsICdpbnQnLCAnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBmY2xvc2UgPSBuZXcgTmF0aXZlRnVuY3Rpb24oTW9kdWxlLmdldEV4cG9ydEJ5TmFtZShudWxsLCAnZmNsb3NlJyksICdpbnQnLCBbJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQpmdW5jdGlvbiBhcGlfcmVhZF9maWxlKHBhdGgsIG1vZGUsIGxlbikNCnsNCiAgICB2YXIgcGF0aF9wdHIgPSBNZW1vcnkuYWxsb2NVdGY4U3RyaW5nKHBhdGgpOw0KICAgIHZhciBtb2RlX3B0ciA9IE1lbW9yeS5hbGxvY1V0ZjhTdHJpbmcobW9kZSk7DQogICAgdmFyIGYgPSBmb3BlbihwYXRoX3B0ciwgbW9kZV9wdHIpOw0KDQogICAgaWYoZiA9PSAwKQ0KICAgICAgICByZXR1cm4gbnVsbDsNCg0KICAgIHZhciBkYXRhID0gTWVtb3J5LmFsbG9jKGxlbik7DQogICAgdmFyIGZyZWFkX3JldCA9IGZyZWFkKGRhdGEsIDEsIGxlbiwgZik7DQoNCiAgICBmY2xvc2UoZik7DQoNCiAgICAvL+i/lOWbnuWtl+espuS4sg0KICAgIGlmKG1vZGUgPT0gJ3InKQ0KICAgICAgICByZXR1cm4gZGF0YS5yZWFkVXRmOFN0cmluZyhmcmVhZF9yZXQpOw0KDQogICAgLy/ov5Tlm57kuozov5vliLZidWZm5oyH6ZKIDQogICAgcmV0dXJuIGRhdGE7DQp9DQoNCi8v5Yqg6L295pys5Zyw6YWN572u5paH5Lu2KGpzb27moLzlvI8pDQp2YXIgZ2xvYmFsX2NvbmZpZyA9IHt9Ow0KZnVuY3Rpb24gbG9hZF9jb25maWcocGF0aCkNCnsNCiAgICB2YXIgZGF0YSA9IGFwaV9yZWFkX2ZpbGUocGF0aCwgJ3InLCAxMCoxMDI0KjEwMjQpOw0KICAgIGdsb2JhbF9jb25maWcgPSBKU09OLnBhcnNlKGRhdGEpOw0KfQ0KDQovL+WPkemAgeWtl+espuS4sue7meWuouaIt+errw0KZnVuY3Rpb24gYXBpX0ludGVyZmFjZVBhY2tldEJ1Zl9wdXRfc3RyaW5nKHBhY2tldF9ndWFyZCwgcykNCnsNCiAgICB2YXIgcCA9IE1lbW9yeS5hbGxvY1V0ZjhTdHJpbmcocyk7DQogICAgdmFyIGxlbiA9IHN0cmxlbihwKTsNCiAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2ludChwYWNrZXRfZ3VhcmQsIGxlbik7DQogICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9iaW5hcnkocGFja2V0X2d1YXJkLCBwLCBsZW4pOw0KDQogICAgcmV0dXJuOw0KfQ0KDQovL+S4lueVjOW5v+aSrSjpopHpgZPlhoXlhazlkYopDQpmdW5jdGlvbiBhcGlfR2FtZVdvcmxkX1NlbmROb3RpUGFja2V0TWVzc2FnZShtc2csIG1zZ190eXBlKQ0Kew0KICAgIHZhciBwYWNrZXRfZ3VhcmQgPSBhcGlfUGFja2V0R3VhcmRfUGFja2V0R3VhcmQoKTsNCiAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2hlYWRlcihwYWNrZXRfZ3VhcmQsIDAsIDEyKTsNCiAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2J5dGUocGFja2V0X2d1YXJkLCBtc2dfdHlwZSk7DQogICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9zaG9ydChwYWNrZXRfZ3VhcmQsIDApOw0KICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfYnl0ZShwYWNrZXRfZ3VhcmQsIDApOw0KICAgIGFwaV9JbnRlcmZhY2VQYWNrZXRCdWZfcHV0X3N0cmluZyhwYWNrZXRfZ3VhcmQsIG1zZyk7DQogICAgSW50ZXJmYWNlUGFja2V0QnVmX2ZpbmFsaXplKHBhY2tldF9ndWFyZCwgMSk7DQogICAgR2FtZVdvcmxkX3NlbmRfYWxsX3dpdGhfc3RhdGUoR19HYW1lV29ybGQoKSwgcGFja2V0X2d1YXJkLCAzKTsgIC8v5Y+q57uZc3RhdGUgPj0gMyDnmoTnjqnlrrblj5HlhazlkYoNCiAgICBEZXN0cm95X1BhY2tldEd1YXJkX1BhY2tldEd1YXJkKHBhY2tldF9ndWFyZCk7DQp9DQoNCi8v55Sz6K+36ZSBKOeUs+ivt+WQjuWKoeW/heaJi+WKqOmHiuaUviEhISkNCmZ1bmN0aW9uIGFwaV9HdWFyZF9NdXRleF9HdWFyZCgpDQp7DQogICAgdmFyIGExID0gTWVtb3J5LmFsbG9jKDEwMCk7DQogICAgR3VhcmRfTXV0ZXhfR3VhcmQoYTEsIEdfVGltZXJRdWV1ZSgpLmFkZCgxNikpOw0KDQogICAgcmV0dXJuIGExOw0KfQ0KDQovL+mcgOimgeWcqGRpc3BhdGNoZXLnur/nqIvmiafooYznmoTku7vliqHpmJ/liJco54Ot5Yqg6L295ZCO5Lya6KKr5riF56m6KQ0KdmFyIHRpbWVyX2Rpc3BhdGNoZXJfbGlzdCA9IFtdOw0KDQovL+WcqGRpc3BhdGNoZXLnur/nqIvmiafooYwoYXJnc+S4uuWHveaVsGbnmoTlj4LmlbDnu4TmiJDnmoTmlbDnu4QsIOiLpWbml6Dlj4LmlbBhcmdz5Y+v5Li6bnVsbCkNCmZ1bmN0aW9uIGFwaV9zY2hlZHVsZU9uTWFpblRocmVhZChmLCBhcmdzKQ0Kew0KICAgIC8v57q/56iL5a6J5YWoDQogICAgdmFyIGd1YXJkID0gYXBpX0d1YXJkX011dGV4X0d1YXJkKCk7DQoNCiAgICB0aW1lcl9kaXNwYXRjaGVyX2xpc3QucHVzaChbZiwgYXJnc10pOw0KDQogICAgRGVzdHJveV9HdWFyZF9NdXRleF9HdWFyZChndWFyZCk7DQoNCiAgICByZXR1cm47DQp9DQoNCi8v6K6+572u5a6a5pe25ZmoIOWIsOacn+WQjuWcqGRpc3BhdGNoZXLnur/nqIvmiafooYwNCmZ1bmN0aW9uIGFwaV9zY2hlZHVsZU9uTWFpblRocmVhZF9kZWxheShmLCBhcmdzLCBkZWxheSkNCnsNCiAgICBzZXRUaW1lb3V0KGFwaV9zY2hlZHVsZU9uTWFpblRocmVhZCwgZGVsYXksIGYsIGFyZ3MpOw0KfQ0KDQovL+WkhOeQhuWIsOacn+eahOiHquWumuS5ieWumuaXtuWZqA0KZnVuY3Rpb24gZG9fdGltZXJfZGlzcGF0Y2goKQ0Kew0KICAgIC8v5b2T5YmN5b6F5aSE55CG55qE5a6a5pe25Zmo5Lu75Yqh5YiX6KGoDQogICAgdmFyIHRhc2tfbGlzdCA9IFtdOw0KDQogICAgLy/nur/nqIvlronlhagNCiAgICB2YXIgZ3VhcmQgPSBhcGlfR3VhcmRfTXV0ZXhfR3VhcmQoKTsNCg0KICAgIC8v5L6d5qyh5Y+W5Ye66Zif5YiX5Lit55qE5Lu75YqhDQogICAgd2hpbGUodGltZXJfZGlzcGF0Y2hlcl9saXN0Lmxlbmd0aCA+IDApDQogICAgew0KICAgICAgICAvL+WFiOWFpeWFiOWHug0KICAgICAgICB2YXIgdGFzayA9IHRpbWVyX2Rpc3BhdGNoZXJfbGlzdC5zaGlmdCgpOw0KICAgICAgICB0YXNrX2xpc3QucHVzaCh0YXNrKTsNCiAgICB9DQoNCiAgICBEZXN0cm95X0d1YXJkX011dGV4X0d1YXJkKGd1YXJkKTsNCg0KICAgIC8v5omn6KGM5Lu75YqhDQogICAgZm9yKHZhciBpPTA7IGk8dGFza19saXN0Lmxlbmd0aDsgKytpKQ0KICAgIHsNCiAgICAgICAgdmFyIHRhc2sgPSB0YXNrX2xpc3RbaV07DQoNCiAgICAgICAgdmFyIGYgPSB0YXNrWzBdOw0KICAgICAgICB2YXIgYXJncyA9IHRhc2tbMV07DQoNCiAgICAgICAgZi5hcHBseShudWxsLCBhcmdzKTsNCiAgICB9DQp9DQoNCi8v5oyC5o6l5raI5oGv5YiG5Y+R57q/56iLIOehruS/neS7o+eggee6v+eoi+WuieWFqA0KZnVuY3Rpb24gaG9va19UaW1lckRpc3BhdGNoZXJfZGlzcGF0Y2goKQ0Kew0KICAgIC8vaG9vayBUaW1lckRpc3BhdGNoZXI6OmRpc3BhdGNoDQogICAgLy/mnI3liqHlmajlhoXnva7lrprml7blmagg5q+P56eS6Iez5bCR5omn6KGM5LiA5qyhDQogICAgSW50ZXJjZXB0b3IuYXR0YWNoKHB0cigweDg2MzJBMTgpLCB7DQoNCiAgICAgICAgb25FbnRlcjogZnVuY3Rpb24gKGFyZ3MpIHsNCiAgICAgICAgfSwNCiAgICAgICAgb25MZWF2ZTogZnVuY3Rpb24gKHJldHZhbCkgew0KDQogICAgICAgICAgICAvL+a4heepuuetieW+heaJp+ihjOeahOS7u+WKoemYn+WIlw0KICAgICAgICAgICAgZG9fdGltZXJfZGlzcGF0Y2goKTsNCiAgICAgICAgfQ0KICAgIH0pOw0KfQ0KDQovL+iOt+WPluWcqOe6v+eOqeWutuWIl+ihqOihqOWktA0KZnVuY3Rpb24gYXBpX0dhbWV3b3JsZF91c2VyX21hcF9iZWdpbigpDQp7DQogICAgdmFyIGJlZ2luID0gTWVtb3J5LmFsbG9jKDQpOw0KICAgIEdhbWV3b3JsZF91c2VyX21hcF9iZWdpbihiZWdpbiwgR19HYW1lV29ybGQoKS5hZGQoMzA4KSk7DQogICAgcmV0dXJuIGJlZ2luOw0KfQ0KDQovL+iOt+WPluWcqOe6v+eOqeWutuWIl+ihqOihqOWwvg0KZnVuY3Rpb24gYXBpX0dhbWV3b3JsZF91c2VyX21hcF9lbmQoKQ0Kew0KICAgIHZhciBlbmQgPSBNZW1vcnkuYWxsb2MoNCk7DQogICAgR2FtZXdvcmxkX3VzZXJfbWFwX2VuZChlbmQsIEdfR2FtZVdvcmxkKCkuYWRkKDMwOCkpOw0KICAgIHJldHVybiBlbmQ7DQp9DQoNCi8v6I635Y+W5b2T5YmN5q2j5Zyo6YGN5Y6G55qE546p5a62DQpmdW5jdGlvbiBhcGlfR2FtZXdvcmxkX3VzZXJfbWFwX2dldChpdCkNCnsNCiAgICByZXR1cm4gR2FtZXdvcmxkX3VzZXJfbWFwX2dldChpdCkuYWRkKDQpLnJlYWRQb2ludGVyKCk7DQp9DQoNCi8v6YGN5Y6G5Zyo57q/546p5a625YiX6KGoDQpmdW5jdGlvbiBhcGlfR2FtZXdvcmxkX3VzZXJfbWFwX25leHQoaXQpDQp7DQogICAgdmFyIG5leHQgPSBNZW1vcnkuYWxsb2MoNCk7DQogICAgR2FtZXdvcmxkX3VzZXJfbWFwX25leHQobmV4dCwgaXQpOw0KICAgIHJldHVybiBuZXh0Ow0KfQ0KDQovL+iOt+WPlumBk+WFt+WQjeWtlw0KZnVuY3Rpb24gYXBpX0NJdGVtX0dldEl0ZW1OYW1lKGl0ZW1faWQpDQp7DQogICAgdmFyIGNpdGVtID0gQ0RhdGFNYW5hZ2VyX2ZpbmRfaXRlbShHX0NEYXRhTWFuYWdlcigpLCBpdGVtX2lkKTsNCiAgICBpZighY2l0ZW0uaXNOdWxsKCkpDQogICAgew0KICAgICAgICByZXR1cm4gcHRyKENJdGVtX0dldEl0ZW1OYW1lKGNpdGVtKSkucmVhZFV0ZjhTdHJpbmcoLTEpOw0KICAgIH0NCg0KICAgIHJldHVybiBpdGVtX2lkLnRvU3RyaW5nKCk7DQp9DQoNCi8v5oq95Y+W5bm46L+Q5Zyo57q/546p5a625rS75YqoDQpmdW5jdGlvbiBvbl9ldmVudF9sdWNreV9vbmxpbmVfdXNlcigpDQp7DQogICAgLy/lnKjnur/njqnlrrbmlbDph48NCiAgICB2YXIgb25saW5lX3BsYXllcl9jbnQgPSBHYW1lV29ybGRfZ2V0X1VzZXJDb3VudF9JbldvcmxkKEdfR2FtZVdvcmxkKCkpOw0KDQogICAgLy/msqHmnInlnKjnur/njqnlrrbml7bot7Pov4fmnKzova7mtLvliqgNCiAgICBpZihvbmxpbmVfcGxheWVyX2NudCA+IDApDQogICAgew0KICAgICAgICAvL+W5uOi/kOWcqOe6v+eOqeWutg0KICAgICAgICB2YXIgbHVja3lfdXNlciA9IG51bGw7DQoNCiAgICAgICAgLy/pgY3ljoblnKjnur/njqnlrrbliJfooagNCiAgICAgICAgdmFyIGl0ID0gYXBpX0dhbWV3b3JsZF91c2VyX21hcF9iZWdpbigpOw0KICAgICAgICB2YXIgZW5kID0gYXBpX0dhbWV3b3JsZF91c2VyX21hcF9lbmQoKTsNCg0KICAgICAgICAvL+maj+acuuaKveWPluS4gOWQjeWcqOe6v+eOqeWutg0KICAgICAgICB2YXIgdXNlcl9pbmRleCA9IGdldF9yYW5kb21faW50KDAsIG9ubGluZV9wbGF5ZXJfY250KTsNCg0KICAgICAgICB3aGlsZSh1c2VyX2luZGV4ID49IDApDQogICAgICAgIHsNCiAgICAgICAgICAgIHVzZXJfaW5kZXgtLTsNCg0KICAgICAgICAgICAgLy/liKTmlq3lnKjnur/njqnlrrbliJfooajpgY3ljobmmK/lkKblt7Lnu5PmnZ8NCiAgICAgICAgICAgIGlmKEdhbWV3b3JsZF91c2VyX21hcF9ub3RfZXF1YWwoaXQsIGVuZCkpDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgLy/lvZPliY3ooqvpgY3ljobliLDnmoTnjqnlrrYNCiAgICAgICAgICAgICAgICBsdWNreV91c2VyID0gYXBpX0dhbWV3b3JsZF91c2VyX21hcF9nZXQoaXQpOw0KDQogICAgICAgICAgICAgICAgLy9zdGF0ZSA+IDIg55qE546p5a625omN5pyJ6LWE5qC85Y+C5Yqg5oq95aWWDQogICAgICAgICAgICAgICAgaWYoQ1VzZXJfZ2V0X3N0YXRlKGx1Y2t5X3VzZXIpIDwgMykNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIGx1Y2t5X3VzZXIgPSBudWxsOw0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIC8v57un57ut6YGN5Y6G5LiL5LiA5Liq546p5a62DQogICAgICAgICAgICAgICAgYXBpX0dhbWV3b3JsZF91c2VyX21hcF9uZXh0KGl0KTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGVsc2UNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAgIC8v57uZ5bm46L+Q546p5a625Y+R5aWWDQogICAgICAgIGlmKGx1Y2t5X3VzZXIpDQogICAgICAgIHsNCiAgICAgICAgICAgIC8v6I635Y+W6K+l5rS75Yqo6YWN572u5paH5Lu2DQogICAgICAgICAgICB2YXIgY29uZmlnID0gZ2xvYmFsX2NvbmZpZ1sibHVja3lfb25saW5lX3VzZXJfZXZlbnQiXTsNCg0KICAgICAgICAgICAgLy/pgZPlhbflpZblirENCiAgICAgICAgICAgIHZhciByZXdhcmRfbXNnID0gJyc7DQogICAgICAgICAgICBmb3IodmFyIGk9MDsgaTxjb25maWdbInJld2FyZF9pdGVtc19saXN0Il0ubGVuZ3RoOyArK2kpDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgdmFyIGl0ZW1faWQgPSBjb25maWdbInJld2FyZF9pdGVtc19saXN0Il1baV1bMF07DQogICAgICAgICAgICAgICAgdmFyIGl0ZW1fY250ID0gY29uZmlnWyJyZXdhcmRfaXRlbXNfbGlzdCJdW2ldWzFdOw0KDQogICAgICAgICAgICAgICAgYXBpX0NVc2VyX0FkZEl0ZW0obHVja3lfdXNlciwgaXRlbV9pZCwgaXRlbV9jbnQpOw0KDQogICAgICAgICAgICAgICAgcmV3YXJkX21zZyArPSBhcGlfQ0l0ZW1fR2V0SXRlbU5hbWUoaXRlbV9pZCkgKyAnKicgKyBpdGVtX2NudCArICdcbic7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIC8v54K55Yi45aWW5YqxDQogICAgICAgICAgICBhcGlfcmVjaGFyZ2VfY2FzaF9jZXJhKGx1Y2t5X3VzZXIsIGNvbmZpZ1sicmV3YXJkX2Nhc2hfY2VyYSJdKTsNCiAgICAgICAgICAgIHJld2FyZF9tc2cgKz0gJ+eCueWIuConICsgY29uZmlnWyJyZXdhcmRfY2FzaF9jZXJhIl07DQoNCiAgICAgICAgICAgIC8v5LiW55WM5bm/5pKt5pys6L2u5bm46L+Q5Zyo57q/546p5a62DQogICAgICAgICAgICBhcGlfR2FtZVdvcmxkX1NlbmROb3RpUGFja2V0TWVzc2FnZSgnPOW5uOi/kOWcqOe6v+eOqeWutua0u+WKqD7lvIDlpZY6XG7mga3llpwg44CQJyArIGFwaV9DVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjTmFtZShsdWNreV91c2VyKSArICfjgJEg5oiQ5Li65pys6L2u5rS75Yqo5bm46L+Q546p5a62LCDlt7Llj5HpgIHlpZblirE6XG4nICsgcmV3YXJkX21zZywgMCk7DQoNCiAgICAgICAgICAgIC8vbG9nKCc85bm46L+Q5Zyo57q/546p5a625rS75YqoPuW5uOi/kOeOqeWutjonICsgYXBpX0NVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNOYW1lKGx1Y2t5X3VzZXIpKTsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIC8v5a6a5pe25byA5ZCv5LiL5LiA5qyh5rS75YqoDQogICAgc3RhcnRfZXZlbnRfbHVja3lfb25saW5lX3VzZXIoKTsNCn0NCg0KLy/mr4/lsI/ml7blvIDlkK/mir3lj5blubjov5DlnKjnur/njqnlrrbmtLvliqgNCmZ1bmN0aW9uIHN0YXJ0X2V2ZW50X2x1Y2t5X29ubGluZV91c2VyKCkNCnsNCiAgICAvL+iOt+WPluW9k+WJjeezu+e7n+aXtumXtA0KICAgIHZhciBjdXJfdGltZSA9IGFwaV9DU3lzdGVtVGltZV9nZXRDdXJTZWMoKTsNCiAgICAvL+iuoeeul+i3neemu+S4i+asoeaKveWPluW5uOi/kOeOqeWutuaXtumXtCjmr4/lsI/ml7bmiafooYzkuIDmrKEpDQogICAgdmFyIGRlbGF5X3RpbWUgPSAzNjAwIC0gKGN1cl90aW1lICUgMzYwMCkgKyAzOw0KDQogICAgLy9sb2coJ+i3neemu+S4i+asoeaKveWPluW5uOi/kOWcqOe6v+eOqeWutui/mOaciTonICsgZGVsYXlfdGltZS82MCArICfliIbpkp8nKTsNCg0KICAgIC8v5a6a5pe25byA5ZCv5rS75YqoDQogICAgYXBpX3NjaGVkdWxlT25NYWluVGhyZWFkX2RlbGF5KG9uX2V2ZW50X2x1Y2t5X29ubGluZV91c2VyLCBudWxsLCBkZWxheV90aW1lKjEwMDApOw0KfQ0KDQovL+WPkeezu+e7n+mCruS7tijlpJrpgZPlhbcpKOinkuiJsmNoYXJhY19ubywg6YKu5Lu25qCH6aKYLCDpgq7ku7bmraPmlocsIOmHkeW4geaVsOmHjywg6YGT5YW35YiX6KGoKQ0KZnVuY3Rpb24gYXBpX1dvbmdXb3JrX0NNYWlsQm94SGVscGVyX1JlcURCU2VuZE5ld1N5c3RlbU11bHRpTWFpbCh0YXJnZXRfY2hhcmFjX25vLCB0aXRsZSwgdGV4dCwgZ29sZCwgaXRlbV9saXN0KQ0Kew0KICAgIC8v5re75Yqg6YGT5YW36ZmE5Lu2DQogICAgdmFyIHZlY3RvciA9IE1lbW9yeS5hbGxvYygxMDApOw0KICAgIHN0ZF92ZWN0b3Jfc3RkX3BhaXJfaW50X2ludF92ZWN0b3IodmVjdG9yKTsNCiAgICBzdGRfdmVjdG9yX3N0ZF9wYWlyX2ludF9pbnRfY2xlYXIodmVjdG9yKTsNCg0KICAgIGZvcih2YXIgaT0wOyBpPGl0ZW1fbGlzdC5sZW5ndGg7ICsraSkNCiAgICB7DQogICAgICAgIHZhciBpdGVtX2lkID0gTWVtb3J5LmFsbG9jKDQpOyAgICAgICAgICAvL+mBk+WFt2lkDQogICAgICAgIHZhciBpdGVtX2NudCA9IE1lbW9yeS5hbGxvYyg0KTsgICAgICAgICAvL+mBk+WFt+aVsOmHjw0KDQogICAgICAgIGl0ZW1faWQud3JpdGVJbnQoaXRlbV9saXN0W2ldWzBdKTsNCiAgICAgICAgaXRlbV9jbnQud3JpdGVJbnQoaXRlbV9saXN0W2ldWzFdKTsNCg0KICAgICAgICB2YXIgcGFpciA9IE1lbW9yeS5hbGxvYygxMDApOw0KICAgICAgICBzdGRfbWFrZV9wYWlyX2ludF9pbnQocGFpciwgaXRlbV9pZCwgaXRlbV9jbnQpOw0KDQogICAgICAgIHN0ZF92ZWN0b3Jfc3RkX3BhaXJfaW50X2ludF9wdXNoX2JhY2sodmVjdG9yLCBwYWlyKTsNCiAgICB9DQoNCiAgICAvL+mCruS7tuaUr+aMgTEw5Liq6YGT5YW36ZmE5Lu25qC85a2QDQogICAgdmFyIGFkZGl0aW9uX3Nsb3RzID0gTWVtb3J5LmFsbG9jKDEwMDApOw0KICAgIGZvcih2YXIgaT0wOyBpPDEwOyArK2kpDQogICAgew0KICAgICAgICBJbnZlbl9JdGVtX0ludmVuX0l0ZW0oYWRkaXRpb25fc2xvdHMuYWRkKGkqNjEpKTsNCiAgICB9DQogICAgV29uZ1dvcmtfQ01haWxCb3hIZWxwZXJfTWFrZVN5c3RlbU11bHRpTWFpbFBvc3RhbCh2ZWN0b3IsIGFkZGl0aW9uX3Nsb3RzLCAxMCk7DQoNCg0KICAgIHZhciB0aXRsZV9wdHIgPSBNZW1vcnkuYWxsb2NVdGY4U3RyaW5nKHRpdGxlKTsgICAgICAvL+mCruS7tuagh+mimA0KICAgIHZhciB0ZXh0X3B0ciA9IE1lbW9yeS5hbGxvY1V0ZjhTdHJpbmcodGV4dCk7ICAgICAgICAvL+mCruS7tuato+aWhw0KICAgIHZhciB0ZXh0X2xlbiA9IHN0cmxlbih0ZXh0X3B0cik7ICAgICAgICAgICAgICAgICAgICAvL+mCruS7tuato+aWh+mVv+W6pg0KDQogICAgLy/lj5Hpgq7ku7bnu5nop5LoibINCiAgICBXb25nV29ya19DTWFpbEJveEhlbHBlcl9SZXFEQlNlbmROZXdTeXN0ZW1NdWx0aU1haWwodGl0bGVfcHRyLCBhZGRpdGlvbl9zbG90cywgaXRlbV9saXN0Lmxlbmd0aCwgZ29sZCwgdGFyZ2V0X2NoYXJhY19ubywgdGV4dF9wdHIsIHRleHRfbGVuLCAwLCA5OSwgMSk7DQp9DQoNCi8v5YWo5pyN5Zyo57q/546p5a625Y+R5L+hDQpmdW5jdGlvbiBhcGlfR2FtZXdvcmxkX3NlbmRfbWFpbCh0aXRsZSwgdGV4dCwgZ29sZCwgaXRlbV9saXN0KQ0Kew0KICAgIC8v6YGN5Y6G5Zyo57q/546p5a625YiX6KGoDQogICAgdmFyIGl0ID0gYXBpX0dhbWV3b3JsZF91c2VyX21hcF9iZWdpbigpOw0KICAgIHZhciBlbmQgPSBhcGlfR2FtZXdvcmxkX3VzZXJfbWFwX2VuZCgpOw0KDQogICAgLy/liKTmlq3lnKjnur/njqnlrrbliJfooajpgY3ljobmmK/lkKblt7Lnu5PmnZ8NCiAgICB3aGlsZShHYW1ld29ybGRfdXNlcl9tYXBfbm90X2VxdWFsKGl0LCBlbmQpKQ0KICAgIHsNCiAgICAgICAgLy/lvZPliY3ooqvpgY3ljobliLDnmoTnjqnlrrYNCiAgICAgICAgdmFyIHVzZXIgPSBhcGlfR2FtZXdvcmxkX3VzZXJfbWFwX2dldChpdCk7DQoNCiAgICAgICAgLy/lj6rlpITnkIblt7LnmbvlvZXop5LoibINCiAgICAgICAgaWYoQ1VzZXJfZ2V0X3N0YXRlKHVzZXIpID49IDMpDQogICAgICAgIHsNCiAgICAgICAgICAgIC8v6KeS6ImydWlkDQogICAgICAgICAgICB2YXIgY2hhcmFjX25vID0gQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY05vKHVzZXIpOw0KDQogICAgICAgICAgICAvL+e7meinkuiJsuWPkeS/oQ0KICAgICAgICAgICAgYXBpX1dvbmdXb3JrX0NNYWlsQm94SGVscGVyX1JlcURCU2VuZE5ld1N5c3RlbU11bHRpTWFpbChjaGFyYWNfbm8sIHRpdGxlLCB0ZXh0LCBnb2xkLCBpdGVtX2xpc3QpOw0KICAgICAgICB9DQoNCiAgICAgICAgLy/nu6fnu63pgY3ljobkuIvkuIDkuKrnjqnlrrYNCiAgICAgICAgYXBpX0dhbWV3b3JsZF91c2VyX21hcF9uZXh0KGl0KTsNCiAgICB9DQp9DQoNCi8v5a+55YWo5pyN5Zyo57q/546p5a625omn6KGM5Zue6LCD5Ye95pWwDQpmdW5jdGlvbiBhcGlfR2FtZXdvcmxkX2ZvcmVhY2goZiwgYXJncykNCnsNCiAgICAvL+mBjeWOhuWcqOe6v+eOqeWutuWIl+ihqA0KICAgIHZhciBpdCA9IGFwaV9HYW1ld29ybGRfdXNlcl9tYXBfYmVnaW4oKTsNCiAgICB2YXIgZW5kID0gYXBpX0dhbWV3b3JsZF91c2VyX21hcF9lbmQoKTsNCg0KICAgIC8v5Yik5pat5Zyo57q/546p5a625YiX6KGo6YGN5Y6G5piv5ZCm5bey57uT5p2fDQogICAgd2hpbGUoR2FtZXdvcmxkX3VzZXJfbWFwX25vdF9lcXVhbChpdCwgZW5kKSkNCiAgICB7DQogICAgICAgIC8v5b2T5YmN6KKr6YGN5Y6G5Yiw55qE546p5a62DQogICAgICAgIHZhciB1c2VyID0gYXBpX0dhbWV3b3JsZF91c2VyX21hcF9nZXQoaXQpOw0KDQogICAgICAgIC8v5Y+q5aSE55CG5bey55m75b2V6KeS6ImyDQogICAgICAgIGlmKENVc2VyX2dldF9zdGF0ZSh1c2VyKSA+PSAzKQ0KICAgICAgICB7DQogICAgICAgICAgICAvL+aJp+ihjOWbnuiwg+WHveaVsA0KICAgICAgICAgICAgZih1c2VyLCBhcmdzKTsNCiAgICAgICAgfQ0KDQogICAgICAgIC8v57un57ut6YGN5Y6G5LiL5LiA5Liq546p5a62DQogICAgICAgIGFwaV9HYW1ld29ybGRfdXNlcl9tYXBfbmV4dChpdCk7DQogICAgfQ0KfQ0KDQovL+S4tOaXtuW8gEdN5p2D6ZmQDQpmdW5jdGlvbiBhcGlfQ1VzZXJfU2V0R2FtZU1hc3Rlck1vZGVfdGVtcCh1c2VyLCBlbmFibGUpDQp7DQogICAgdmFyIG9sZF9nbV9tb2RlID0gdXNlci5hZGQoNDYzMzIwKS5yZWFkVTgoKTsNCg0KICAgIHVzZXIuYWRkKDQ2MzMyMCkud3JpdGVVOChlbmFibGUpOw0KDQogICAgLy/ov5Tlm57ml6fmnYPpmZANCiAgICByZXR1cm4gb2xkX2dtX21vZGU7DQp9DQoNCi8v6K6+572u6KeS6Imy562J57qnKOacgOmrmDcw57qnKQ0KZnVuY3Rpb24gYXBpX0Rpc1BhdGNoZXJfRGVidWdDb21tYW5kX19kZWJ1Z0NvbW1hbmRTZXRMZXZlbCh1c2VyLCBuZXdfbGV2ZWwpDQp7DQogICAgLy/kuLror6Xop5LoibLkuLTml7blvIDpgJpHTeadg+mZkA0KICAgIHZhciBvbGRfZ21fbW9kZSA9IGFwaV9DVXNlcl9TZXRHYW1lTWFzdGVyTW9kZV90ZW1wKHVzZXIsIDEpOw0KDQogICAgRGlzUGF0Y2hlcl9EZWJ1Z0NvbW1hbmRfX2RlYnVnQ29tbWFuZFNldExldmVsKHB0cigwKSwgdXNlciwgbmV3X2xldmVsKTsNCg0KICAgIC8v5oGi5aSN5Y6f5aeLR03mnYPpmZANCiAgICBhcGlfQ1VzZXJfU2V0R2FtZU1hc3Rlck1vZGVfdGVtcCh1c2VyLCBvbGRfZ21fbW9kZSk7DQp9DQoNCi8v6L+U5Zue6YCJ5oup6KeS6Imy55WM6Z2iDQpmdW5jdGlvbiBhcGlfQ1VzZXJfUmV0dXJuVG9TZWxlY3RDaGFyYWNMaXN0KHVzZXIpDQp7DQogICAgc2NoZWR1bGVPbk1haW5UaHJlYWQoQ1VzZXJfUmV0dXJuVG9TZWxlY3RDaGFyYWNMaXN0LCBbdXNlciwgMV0pOw0KfQ0KDQovL+aJk+W8gOaVsOaNruW6kw0KZnVuY3Rpb24gYXBpX01ZU1FMX29wZW4oZGJfbmFtZSwgZGJfaXAsIGRiX3BvcnQsIGRiX2FjY291bnQsIGRiX3Bhc3N3b3JkKQ0Kew0KICAgIC8vbXlzcWzliJ3lp4vljJYNCiAgICB2YXIgbXlzcWwgPSBNZW1vcnkuYWxsb2MoMHg4MDAwMCk7DQogICAgTXlTUUxfTXlTUUwobXlzcWwpOw0KICAgIE15U1FMX2luaXQobXlzcWwpOw0KDQogICAgLy/ov57mjqXmlbDmja7lupMNCiAgICB2YXIgZGJfaXBfcHRyID0gTWVtb3J5LmFsbG9jVXRmOFN0cmluZyhkYl9pcCk7DQogICAgdmFyIGRiX3BvcnQgPSBkYl9wb3J0Ow0KICAgIHZhciBkYl9uYW1lX3B0ciA9IE1lbW9yeS5hbGxvY1V0ZjhTdHJpbmcoZGJfbmFtZSk7DQogICAgdmFyIGRiX2FjY291bnRfcHRyID0gTWVtb3J5LmFsbG9jVXRmOFN0cmluZyhkYl9hY2NvdW50KTsNCiAgICB2YXIgZGJfcGFzc3dvcmRfcHRyID0gTWVtb3J5LmFsbG9jVXRmOFN0cmluZyhkYl9wYXNzd29yZCk7DQogICAgdmFyIHJldCA9IE15U1FMX29wZW4obXlzcWwsIGRiX2lwX3B0ciwgZGJfcG9ydCwgZGJfbmFtZV9wdHIsIGRiX2FjY291bnRfcHRyLCBkYl9wYXNzd29yZF9wdHIpOw0KICAgIGlmKHJldCkNCiAgICB7DQogICAgICAgIC8vbG9nKCdDb25uZWN0IE1ZU1FMIERCIDwnICsgZGJfbmFtZSArICc+IFNVQ0NFU1MhJyk7DQogICAgICAgIHJldHVybiBteXNxbDsNCiAgICB9DQoNCiAgICByZXR1cm4gbnVsbDsNCn0NCg0KLy9teXNxbOafpeivoijov5Tlm55teXNxbOWPpeafhCko5rOo5oSP57q/56iL5a6J5YWoKQ0KZnVuY3Rpb24gYXBpX015U1FMX2V4ZWMobXlzcWwsIHNxbCkNCnsNCiAgICB2YXIgc3FsX3B0ciA9IE1lbW9yeS5hbGxvY1V0ZjhTdHJpbmcoc3FsKTsNCg0KICAgIE15U1FMX3NldF9xdWVyeV8yKG15c3FsLCBzcWxfcHRyKTsNCg0KICAgIHJldHVybiBNeVNRTF9leGVjKG15c3FsLCAxKTsNCn0NCg0KLy/mn6Xor6JzcWznu5PmnpwNCi8v5L2/55So5YmN5Yqh5b+F5L+d6K+BYXBpX015U1FMX2V4ZWPov5Tlm54wDQovL+W5tuS4lE15U1FMX2dldF9uX3Jvd3PkuI7pooTmnJ/kuIDoh7QNCmZ1bmN0aW9uIGFwaV9NeVNRTF9nZXRfaW50KG15c3FsLCBmaWVsZF9pbmRleCkNCnsNCiAgICB2YXIgdiA9IE1lbW9yeS5hbGxvYyg0KTsNCiAgICBpZigxID09IE15U1FMX2dldF9pbnQobXlzcWwsIGZpZWxkX2luZGV4LCB2KSkNCiAgICAgICAgcmV0dXJuIHYucmVhZEludCgpOw0KICAgIC8vbG9nKCdhcGlfTXlTUUxfZ2V0X2ludCBGYWlsISEhJyk7DQogICAgcmV0dXJuIG51bGw7DQp9DQoNCmZ1bmN0aW9uIGFwaV9NeVNRTF9nZXRfdWludChteXNxbCwgZmllbGRfaW5kZXgpDQp7DQogICAgdmFyIHYgPSBNZW1vcnkuYWxsb2MoNCk7DQogICAgaWYoMSA9PSBNeVNRTF9nZXRfdWludChteXNxbCwgZmllbGRfaW5kZXgsIHYpKQ0KICAgICAgICByZXR1cm4gdi5yZWFkVUludCgpOw0KICAgIC8vbG9nKCdhcGlfTXlTUUxfZ2V0X3VpbnQgRmFpbCEhIScpOw0KICAgIHJldHVybiBudWxsOw0KfQ0KDQpmdW5jdGlvbiBhcGlfTXlTUUxfZ2V0X3Nob3J0KG15c3FsLCBmaWVsZF9pbmRleCkNCnsNCiAgICB2YXIgdiA9IE1lbW9yeS5hbGxvYyg0KTsNCiAgICBpZigxID09IE15U1FMX2dldF9zaG9ydChteXNxbCwgZmllbGRfaW5kZXgsIHYpKQ0KICAgICAgICByZXR1cm4gdi5yZWFkU2hvcnQoKTsNCiAgICAvL2xvZygnTXlTUUxfZ2V0X3Nob3J0IEZhaWwhISEnKTsNCiAgICByZXR1cm4gbnVsbDsNCn0NCg0KZnVuY3Rpb24gYXBpX015U1FMX2dldF9mbG9hdChteXNxbCwgZmllbGRfaW5kZXgpDQp7DQogICAgdmFyIHYgPSBNZW1vcnkuYWxsb2MoNCk7DQogICAgaWYoMSA9PSBNeVNRTF9nZXRfZmxvYXQobXlzcWwsIGZpZWxkX2luZGV4LCB2KSkNCiAgICAgICAgcmV0dXJuIHYucmVhZEZsb2F0KCk7DQogICAgLy9sb2coJ015U1FMX2dldF9mbG9hdCBGYWlsISEhJyk7DQogICAgcmV0dXJuIG51bGw7DQp9DQoNCmZ1bmN0aW9uIGFwaV9NeVNRTF9nZXRfc3RyKG15c3FsLCBmaWVsZF9pbmRleCkNCnsNCiAgICB2YXIgYmluYXJ5X2xlbmd0aCA9IE15U1FMX2dldF9iaW5hcnlfbGVuZ3RoKG15c3FsLCBmaWVsZF9pbmRleCk7DQogICAgaWYoYmluYXJ5X2xlbmd0aCA+IDApDQogICAgew0KICAgICAgICB2YXIgdiA9IE1lbW9yeS5hbGxvYyhiaW5hcnlfbGVuZ3RoKTsNCiAgICAgICAgaWYoMSA9PSBNeVNRTF9nZXRfYmluYXJ5KG15c3FsLCBmaWVsZF9pbmRleCwgdiwgYmluYXJ5X2xlbmd0aCkpDQogICAgICAgICAgICByZXR1cm4gdi5yZWFkVXRmOFN0cmluZyhiaW5hcnlfbGVuZ3RoKTsNCiAgICB9DQoNCiAgICAvL2xvZygnTXlTUUxfZ2V0X3N0ciBGYWlsISEhJyk7DQogICAgcmV0dXJuIG51bGw7DQp9DQoNCmZ1bmN0aW9uIGFwaV9NeVNRTF9nZXRfYmluYXJ5KG15c3FsLCBmaWVsZF9pbmRleCkNCnsNCiAgICB2YXIgYmluYXJ5X2xlbmd0aCA9IE15U1FMX2dldF9iaW5hcnlfbGVuZ3RoKG15c3FsLCBmaWVsZF9pbmRleCk7DQogICAgaWYoYmluYXJ5X2xlbmd0aCA+IDApDQogICAgew0KICAgICAgICB2YXIgdiA9IE1lbW9yeS5hbGxvYyhiaW5hcnlfbGVuZ3RoKTsNCiAgICAgICAgaWYoMSA9PSBNeVNRTF9nZXRfYmluYXJ5KG15c3FsLCBmaWVsZF9pbmRleCwgdiwgYmluYXJ5X2xlbmd0aCkpDQogICAgICAgICAgICByZXR1cm4gdi5yZWFkQnl0ZUFycmF5KGJpbmFyeV9sZW5ndGgpOw0KICAgIH0NCg0KICAgIC8vbG9nKCdhcGlfTXlTUUxfZ2V0X2JpbmFyeSBGYWlsISEhJyk7DQogICAgcmV0dXJuIG51bGw7DQp9DQoNCi8v5a2X56ym5Liy5Y6L57ypKOi/lOWbnuWOi+e8qeWQjueahOaMh+mSiOS4jumVv+W6pikNCmZ1bmN0aW9uIGFwaV9jb21wcmVzc196aXAocykNCnsNCiAgICB2YXIgaW5wdXQgPSBNZW1vcnkuYWxsb2NVdGY4U3RyaW5nKHMpOw0KICAgIHZhciBhbGxvY19idWZfc2l6ZSA9IDEwMDAgKyBzdHJsZW4ocykqMjsNCiAgICB2YXIgb3V0cHV0ID0gTWVtb3J5LmFsbG9jKGFsbG9jX2J1Zl9zaXplKTsNCiAgICB2YXIgb3V0cHV0X2xlbiA9IE1lbW9yeS5hbGxvYyg0KTsNCiAgICBvdXRwdXRfbGVuLndyaXRlSW50KGFsbG9jX2J1Zl9zaXplKTsNCiAgICBjb21wcmVzc196aXAob3V0cHV0LCBvdXRwdXRfbGVuLCBpbnB1dCwgc3RybGVuKHMpKTsNCg0KICAgIHJldHVybiBbb3V0cHV0LCBvdXRwdXRfbGVuLnJlYWRJbnQoKV07DQp9DQoNCi8v5LqM6L+b5Yi25pWw5o2u6Kej5Y6L57ypDQpmdW5jdGlvbiBhcGlfdW5jb21wcmVzc196aXAocCwgbGVuKQ0Kew0KICAgIHZhciBhbGxvY19idWZfc2l6ZSA9IDEwMDAgKyAobGVuKjEwKTsNCiAgICB2YXIgb3V0cHV0ID0gTWVtb3J5LmFsbG9jKGFsbG9jX2J1Zl9zaXplKTsNCiAgICB2YXIgb3V0cHV0X2xlbiA9IE1lbW9yeS5hbGxvYyg0KTsNCiAgICBvdXRwdXRfbGVuLndyaXRlSW50KGFsbG9jX2J1Zl9zaXplKTsNCiAgICB1bmNvbXByZXNzX3ppcChvdXRwdXQsIG91dHB1dF9sZW4sIHAsIGxlbik7DQoNCiAgICByZXR1cm4gb3V0cHV0LnJlYWRVdGY4U3RyaW5nKG91dHB1dF9sZW4ucmVhZEludCgpKTsNCn0NCg0KLy/liJ3lp4vljJbmlbDmja7lupMo5omT5byA5pWw5o2u5bqTL+W7uuW6k+W7uuihqC/mlbDmja7lupPlrZfmrrXmianlsZUpDQpmdW5jdGlvbiBpbml0X2RiKCkNCnsNCiAgICAvL+mFjee9ruaWh+S7tg0KICAgIHZhciBjb25maWcgPSBnbG9iYWxfY29uZmlnWydkYl9jb25maWcnXTsNCg0KICAgIC8v5omT5byA5pWw5o2u5bqT6L+e5o6lDQogICAgaWYobXlzcWxfdGFpd2FuX2NhaW4gPT0gbnVsbCkNCiAgICB7DQogICAgICAgIG15c3FsX3RhaXdhbl9jYWluID0gYXBpX01ZU1FMX29wZW4oJ3RhaXdhbl9jYWluJywgJzEyNy4wLjAuMScsIDMzMDYsIGNvbmZpZ1snYWNjb3VudCddLCBjb25maWdbJ3Bhc3N3b3JkJ10pOw0KICAgIH0NCg0KICAgIGlmKG15c3FsX3RhaXdhbl9jYWluXzJuZCA9PSBudWxsKQ0KICAgIHsNCiAgICAgICAgbXlzcWxfdGFpd2FuX2NhaW5fMm5kID0gYXBpX01ZU1FMX29wZW4oJ3RhaXdhbl9jYWluXzJuZCcsICcxMjcuMC4wLjEnLCAzMzA2LCBjb25maWdbJ2FjY291bnQnXSwgY29uZmlnWydwYXNzd29yZCddKTsNCiAgICB9DQogICAgaWYobXlzcWxfdGFpd2FuX2JpbGxpbmcgPT0gbnVsbCkNCiAgICB7DQogICAgICAgIG15c3FsX3RhaXdhbl9iaWxsaW5nID0gYXBpX01ZU1FMX29wZW4oJ3RhaXdhbl9iaWxsaW5nJywgJzEyNy4wLjAuMScsIDMzMDYsIGNvbmZpZ1snYWNjb3VudCddLCBjb25maWdbJ3Bhc3N3b3JkJ10pOw0KICAgIH0NCg0KICAgIC8v5bu65bqTZnJpZGENCiAgICBhcGlfTXlTUUxfZXhlYyhteXNxbF90YWl3YW5fY2FpbiwgJ2NyZWF0ZSBkYXRhYmFzZSBpZiBub3QgZXhpc3RzIGZyaWRhIGRlZmF1bHQgY2hhcnNldCB1dGY4OycpOw0KICAgIGlmKG15c3FsX2ZyaWRhID09IG51bGwpDQogICAgew0KICAgICAgICBteXNxbF9mcmlkYSA9IGFwaV9NWVNRTF9vcGVuKCdmcmlkYScsICcxMjcuMC4wLjEnLCAzMzA2LCBjb25maWdbJ2FjY291bnQnXSwgY29uZmlnWydwYXNzd29yZCddKTsNCiAgICB9DQoNCiAgICAvL+W7uuihqGZyaWRhLmdhbWVfZXZlbnQNCiAgICBhcGlfTXlTUUxfZXhlYyhteXNxbF9mcmlkYSwgJ0NSRUFURSBUQUJMRSBnYW1lX2V2ZW50IChcDQogICAgICAgIGV2ZW50X2lkIHZhcmNoYXIoMzApIE5PVCBOVUxMLCBldmVudF9pbmZvIG1lZGl1bXRleHQgTlVMTCxcDQogICAgICAgIFBSSU1BUlkgS0VZICAoZXZlbnRfaWQpXA0KICAgICkgRU5HSU5FPUlubm9EQiBERUZBVUxUIENIQVJTRVQ9dXRmODsnKTsNCg0KICAgIC8v6L295YWl5rS75Yqo5pWw5o2uDQogICAgZXZlbnRfdmlsbGFnZWF0dGFja19sb2FkX2Zyb21fZGIoKTsNCn0NCg0KLy/lhbPpl63mlbDmja7lupPvvIjljbjovb3mj5Lku7bliY3osIPnlKjvvIkNCmZ1bmN0aW9uIHVuaW5pdF9kYigpDQp7DQogICAgLy/mtLvliqjmlbDmja7lrZjmoaMNCiAgICBldmVudF92aWxsYWdlYXR0YWNrX3NhdmVfdG9fZGIoKTsNCg0KICAgIC8v5YWz6Zet5pWw5o2u5bqT6L+e5o6lDQogICAgaWYobXlzcWxfdGFpd2FuX2NhaW4pDQogICAgew0KICAgICAgICBNeVNRTF9jbG9zZShteXNxbF90YWl3YW5fY2Fpbik7DQogICAgICAgIG15c3FsX3RhaXdhbl9jYWluID0gbnVsbDsNCiAgICB9DQoNCiAgICBpZihteXNxbF90YWl3YW5fY2Fpbl8ybmQpDQogICAgew0KICAgICAgICBNeVNRTF9jbG9zZShteXNxbF90YWl3YW5fY2Fpbl8ybmQpOw0KICAgICAgICBteXNxbF90YWl3YW5fY2Fpbl8ybmQgPSBudWxsOw0KICAgIH0NCg0KICAgIGlmKG15c3FsX3RhaXdhbl9iaWxsaW5nKQ0KICAgIHsNCiAgICAgICAgTXlTUUxfY2xvc2UobXlzcWxfdGFpd2FuX2JpbGxpbmcpOw0KICAgICAgICBteXNxbF90YWl3YW5fYmlsbGluZyA9IG51bGw7DQogICAgfQ0KDQogICAgaWYobXlzcWxfZnJpZGEpDQogICAgew0KICAgICAgICBNeVNRTF9jbG9zZShteXNxbF9mcmlkYSk7DQogICAgICAgIG15c3FsX2ZyaWRhID0gbnVsbDsNCiAgICB9DQp9DQoNCi8v5omA5pyJ5Ymv5pys5byA546L5Zu+DQpmdW5jdGlvbiB1bmxvY2tfYWxsX2R1bmdlb25fZGlmZmljdWx0eSh1c2VyKQ0Kew0KICAgIHZhciBhMyA9IE1lbW9yeS5hbGxvY1V0ZjhTdHJpbmcoJzMnKTsgICAvL+WJr+acrOino+mUgemavuW6pjogMC0zDQogICAgRG9Vc2VyRGVmaW5lQ29tbWFuZCh1c2VyLCAxMjAsIGEzKTsNCn0NCg0KLy/muIXnqbrop5LoibLpgq7nrrEo6YeN5paw6YCJ5oup6KeS6Imy55Sf5pWIKQ0KZnVuY3Rpb24gY2xlYXJfbGV0dGVyKHVzZXIpDQp7DQogICAgLy/ku47mlbDmja7lupPkuK3liKDpmaTor6XnlKjmiLfmiYDmnInpgq7ku7YNCiAgICB2YXIgY2hhcmFjX25vID0gQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY05vKHVzZXIpOw0KICAgIGFwaV9NeVNRTF9leGVjKG15c3FsX3RhaXdhbl9jYWluXzJuZCwgJ2RlbGV0ZSBmcm9tIGxldHRlciB3aGVyZSBjaGFyYWNfbm89JyArIGNoYXJhY19ubyArICc7Jyk7DQogICAgYXBpX015U1FMX2V4ZWMobXlzcWxfdGFpd2FuX2NhaW5fMm5kLCAnZGVsZXRlIGZyb20gcG9zdGFsIHdoZXJlIHJlY2VpdmVfY2hhcmFjX25vPScgKyBjaGFyYWNfbm8gKyAnOycpOw0KfQ0KDQovL+a4heepuuaXtuijheagjyjph43mlrDpgInmi6nop5LoibLnlJ/mlYgpDQpmdW5jdGlvbiBjbGVhcl9hdmFydGFyX2ludmVuKHVzZXIpDQp7DQogICAgLy/ku47mlbDmja7lupPkuK3liKDpmaTor6XnlKjmiLfmiYDmnInml7boo4UNCiAgICB2YXIgY2hhcmFjX25vID0gQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY05vKHVzZXIpOw0KICAgIGFwaV9NeVNRTF9leGVjKG15c3FsX3RhaXdhbl9jYWluXzJuZCwgJ2RlbGV0ZSBmcm9tIHVzZXJfaXRlbXMgd2hlcmUgY2hhcmFjX25vPScgKyBjaGFyYWNfbm8gKyAnOycpOw0KfQ0KDQovL+a4heeQhuWuoOeJqeagjyjph43mlrDpgInmi6nop5LoibLnlJ/mlYgpDQpmdW5jdGlvbiBjbGVhcl9jcmVhdHVyZV9pbnZlbih1c2VyKQ0Kew0KICAgIC8v5LuO5pWw5o2u5bqT5Lit5Yig6Zmk6K+l55So5oi35a6g54mpDQogICAgdmFyIGNoYXJhY19ubyA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNObyh1c2VyKTsNCiAgICBhcGlfTXlTUUxfZXhlYyhteXNxbF90YWl3YW5fY2Fpbl8ybmQsICdkZWxldGUgZnJvbSBjcmVhdHVyZV9pdGVtcyB3aGVyZSBjaGFyYWNfbm89JyArIGNoYXJhY19ubyArICc7Jyk7DQoNCiAgICAvL+inkuiJsuiDjOWMhQ0KICAgIHZhciBpbnZlbiA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNJbnZlblcodXNlcik7DQogICAgLy/pgY3ljoblrqDnianoo4XlpIfog4zljIUNCiAgICBmb3IodmFyIHNsb3Q9MDsgc2xvdDw9MjQxOyBzbG90KyspDQogICAgew0KICAgICAgICAvL+agueaNruagvOWtkOiOt+WPlumBk+WFtw0KICAgICAgICB2YXIgaW52ZW5faXRlbSA9IENJbnZlbnRvcnlfR2V0SW52ZW5SZWYoaW52ZW4sIElOVkVOVE9SWV9UWVBFX0NSRUFUVVJFLCBzbG90KTsNCiAgICAgICAgLy/liKDpmaTor6XpgZPlhbcNCiAgICAgICAgSW52ZW5fSXRlbV9yZXNldChpbnZlbl9pdGVtKTsNCiAgICB9DQoNCiAgICAvL+mAmuefpeWuouaIt+err+abtOaWsOiDjOWMhQ0KICAgIENVc2VyX3NlbmRfaXRlbXNwYWNlKHVzZXIsIEVOVU1fSVRFTVNQQUNFX0NSRUFUVVJFKTsNCn0NCg0KLy/kv67mlLnop5LoibLogYzkuJoNCmZ1bmN0aW9uIGNoYW5nZV9qb2IodXNlciwgbmV3X2pvYiwgbmV3X2dyb3d0eXBlLCBuZXdfbGV2ZWwpDQp7DQogICAgLy/orr7nva7op5LoibLnrYnnuqcNCiAgICBhcGlfRGlzUGF0Y2hlcl9EZWJ1Z0NvbW1hbmRfX2RlYnVnQ29tbWFuZFNldExldmVsKHVzZXIsIG5ld19sZXZlbCk7DQoNCiAgICAvL+WcqOaVsOaNruW6k+S4reS/ruaUueinkuiJsuiBjOS4muWSjOi9rOiBjA0KICAgIHZhciBjaGFyYWNfbm8gPSBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjTm8odXNlcik7DQogICAgYXBpX015U1FMX2V4ZWMobXlzcWxfdGFpd2FuX2NhaW4sICd1cGRhdGUgY2hhcmFjX2luZm8gc2V0IGpvYj0nICsgbmV3X2pvYiArICcsIGdyb3dfdHlwZT0nICsgbmV3X2dyb3d0eXBlICsgJyB3aGVyZSBjaGFyYWNfbm89JyArIGNoYXJhY19ubyArICc7Jyk7DQoNCiAgICAvL+i/lOWbnumAieaLqeinkuiJsueVjOmdog0KICAgIGFwaV9DVXNlcl9SZXR1cm5Ub1NlbGVjdENoYXJhY0xpc3QodXNlcik7DQp9DQoNCi8v6K6+572u6KeS6Imy5b2T5YmN57ud5pyb5LmL5aGU5bGC5pWwDQpmdW5jdGlvbiBhcGlfVE9EX1VzZXJTdGF0ZV9zZXRFbnRlckxheWVyKHVzZXIsIGxheWVyKQ0Kew0KICAgIHZhciB0b2RfbGF5ZXIgPSBNZW1vcnkuYWxsb2MoMTAwKTsNCiAgICBUT0RfTGF5ZXJfVE9EX0xheWVyKHRvZF9sYXllciwgbGF5ZXIpOw0KICAgIHZhciBleHBhbmRfZGF0YSA9IENVc2VyX0dldENoYXJhY0V4cGFuZERhdGEodXNlciwgMTMpOw0KICAgIFRPRF9Vc2VyU3RhdGVfc2V0RW50ZXJMYXllcihleHBhbmRfZGF0YSwgdG9kX2xheWVyKTsNCn0NCg0KLy/moLnmja7op5LoibJpZOafpeivouinkuiJsuWQjQ0KZnVuY3Rpb24gYXBpX2dldF9jaGFyYWNfbmFtZV9ieV9jaGFyYWNfbm8oY2hhcmFjX25vKQ0Kew0KICAgIC8v5LuO5pWw5o2u5bqT5Lit5p+l6K+i6KeS6Imy5ZCNDQogICAgaWYoYXBpX015U1FMX2V4ZWMobXlzcWxfdGFpd2FuX2NhaW4sICJzZWxlY3QgY2hhcmFjX25hbWUgZnJvbSBjaGFyYWNfaW5mbyB3aGVyZSBjaGFyYWNfbm89IiArIGNoYXJhY19ubyArICI7IikpDQogICAgew0KICAgICAgICBpZihNeVNRTF9nZXRfbl9yb3dzKG15c3FsX3RhaXdhbl9jYWluKSA9PSAxKQ0KICAgICAgICB7DQogICAgICAgICAgICBpZihNeVNRTF9mZXRjaChteXNxbF90YWl3YW5fY2FpbikpDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgdmFyIGNoYXJhY19uYW1lID0gYXBpX015U1FMX2dldF9zdHIobXlzcWxfdGFpd2FuX2NhaW4sIDApOw0KICAgICAgICAgICAgICAgIHJldHVybiBjaGFyYWNfbmFtZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIHJldHVybiBjaGFyYWNfbm8udG9TdHJpbmcoKTsNCn0NCg0KLy/mgKrnianmlLvln47mtLvliqjlvZPliY3nirbmgIENCnZhciBWSUxMQUdFQVRUQUNLX1NUQVRFX1AxID0gMDsgICAgICAgICAgICAgICAvL+S4gOmYtuautQ0KdmFyIFZJTExBR0VBVFRBQ0tfU1RBVEVfUDIgPSAxOyAgICAgICAgICAgICAgIC8v5LqM6Zi25q61DQp2YXIgVklMTEFHRUFUVEFDS19TVEFURV9QMyA9IDI7ICAgICAgICAgICAgICAgLy/kuInpmLbmrrUNCnZhciBWSUxMQUdFQVRUQUNLX1NUQVRFX0VORCA9IDM7ICAgICAgICAgICAgICAvL+a0u+WKqOW3sue7k+adnw0KDQp2YXIgVEFVX0NBUFRBSU5fTU9OU1RFUl9JRCA9IDUwMDcxOyAgICAgICAgICAgLy/niZvlpLTnu5/luIVpZChQMemYtuauteWHu+adgOivpeaAqueJqeWPr+aPkOWNh+a0u+WKqOmavuW6puetiee6pykNCnZhciBHQkxfUE9QRV9NT05TVEVSX0lEID0gMjYyOyAgICAgICAgICAgICAgICAvL0dCTOaVmeS4u+aVmShQMi9QM+mYtuauteWfjumVh+WtmOWcqOivpeaAqueJqSDmjIHnu63lh4/lsJFQVOeCueaVsCkNCnZhciBUQVVfTUVUQV9DT1dfTU9OU1RFUl9JRCA9IDE3OyAgICAgICAgICAgICAvL+acuuaisOeJmyhQM+mYtuauteS4lueVjEJPU1MpDQoNCnZhciBFVkVOVF9WSUxMQUdFQVRUQUNLX1NUQVJUX0hPVVIgPSAxMjsgICAgICAvL+avj+aXpeWMl+S6rOaXtumXtDIw54K55byA5ZCv5rS75YqoDQp2YXIgRVZFTlRfVklMTEFHRUFUVEFDS19UQVJHRVRfU0NPUkUgPSBbMTAwLCAyMDAsIDMwMF07ICAgICAgLy/lkITpmLbmrrXnm67moIdQVA0KdmFyIEVWRU5UX1ZJTExBR0VBVFRBQ0tfVE9UQUxfVElNRSA9IDE4MDA7ICAgIC8v5rS75Yqo5oC75pe26ZW/KOenkikNCg0KLy/mgKrnianmlLvln47mtLvliqjmlbDmja4NCnZhciB2aWxsYWdlQXR0YWNrRXZlbnRJbmZvID0gew0KICAgICdzdGF0ZSc6IFZJTExBR0VBVFRBQ0tfU1RBVEVfRU5ELCAgICAgICAgICAgLy/mtLvliqjlvZPliY3nirbmgIENCiAgICAnc2NvcmUnOiAwLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8v5b2T5YmN6Zi25q616aKR6YGT5YaF5oC7UFQNCiAgICAnc3RhcnRfdGltZSc6IDAsICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8v5rS75Yqo5byA5aeL5pe26Ze0KFVUQykNCiAgICAnZGlmZmljdWx0JzogMCwgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8v5rS75Yqo6Zq+5bqmKDAtNCkNCiAgICAnbmV4dF92aWxsYWdlX21vbnN0ZXJfaWQnOiAwLCAgICAgICAgICAgICAgIC8v5LiL5qyh5Yi35paw55qE5pS75Z+O5oCq54mpaWQNCiAgICAnbGFzdF9raWxsZWRfbW9uc3Rlcl9pZCc6IDAsICAgICAgICAgICAgICAgIC8v5LiK5qyh5Ye75p2A55qE5pS75Z+O5oCq54mpaWQNCiAgICAncDJfbGFzdF9raWxsZWRfbW9uc3Rlcl90aW1lJzogMCwgICAgICAgICAgIC8vUDLpmLbmrrXkuIrmrKHlh7vmnYDmlLvln47mgKrnianml7bpl7QNCiAgICAncDJfa2lsbF9jb21ibyc6IDAsICAgICAgICAgICAgICAgICAgICAgICAgIC8vUDLpmLbmrrXov57nu63lh7vmnYDnm7jlkIzmlLvln47mgKrnianmlbDph48NCiAgICAnZ2JsX2NudCc6IDAsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8v5Z+O6ZWH5Lit5a2Y5rS755qER0JM5Li75pWZ5pWw6YePDQogICAgJ2RlZmVuZF9zdWNjZXNzJzogMCwgICAgICAgICAgICAgICAgICAgICAgICAvL+aAqueJqeaUu+Wfjua0u+WKqOmYsuWuiOaIkOWKnw0KDQogICAgJ3VzZXJfcHRfaW5mbyc6IHt9LCAgICAgICAgICAgICAgICAgICAgICAgICAvL+inkuiJsuS4quS6unB05pWw5o2uDQp9DQoNCi8v5LuO5pWw5o2u5bqT6L295YWl5oCq54mp5pS75Z+O5rS75Yqo5pWw5o2uDQpmdW5jdGlvbiBldmVudF92aWxsYWdlYXR0YWNrX2xvYWRfZnJvbV9kYigpDQp7DQogICAgaWYoYXBpX015U1FMX2V4ZWMobXlzcWxfZnJpZGEsICJzZWxlY3QgZXZlbnRfaW5mbyBmcm9tIGdhbWVfZXZlbnQgd2hlcmUgZXZlbnRfaWQgPSAndmlsbGFnZWF0dGFjayc7IikpDQogICAgew0KICAgICAgICBpZihNeVNRTF9nZXRfbl9yb3dzKG15c3FsX2ZyaWRhKSA9PSAxKQ0KICAgICAgICB7DQogICAgICAgICAgICBNeVNRTF9mZXRjaChteXNxbF9mcmlkYSk7DQoNCiAgICAgICAgICAgIHZhciBpbmZvID0gYXBpX015U1FMX2dldF9zdHIobXlzcWxfZnJpZGEsIDApOw0KDQogICAgICAgICAgICB2aWxsYWdlQXR0YWNrRXZlbnRJbmZvID0gSlNPTi5wYXJzZShpbmZvKTsNCiAgICAgICAgfQ0KICAgIH0NCn0NCg0KLy/mgKrnianmlLvln47mtLvliqjmlbDmja7lrZjmoaMNCmZ1bmN0aW9uIGV2ZW50X3ZpbGxhZ2VhdHRhY2tfc2F2ZV90b19kYigpDQp7DQogICAgYXBpX015U1FMX2V4ZWMobXlzcWxfZnJpZGEsICJyZXBsYWNlIGludG8gZ2FtZV9ldmVudCAoZXZlbnRfaWQsIGV2ZW50X2luZm8pIHZhbHVlcyAoJ3ZpbGxhZ2VhdHRhY2snLCAnIiArIEpTT04uc3RyaW5naWZ5KHZpbGxhZ2VBdHRhY2tFdmVudEluZm8pICsgIicpOyIpOw0KfQ0KDQovL+S4lueVjOW5v+aSreaAqueJqeaUu+Wfjua0u+WKqOW9k+WJjei/m+W6pi/pmr7luqYNCmZ1bmN0aW9uIGV2ZW50X3ZpbGxhZ2VhdHRhY2tfYnJvYWRjYXN0X2RpZmZjdWx0KCkNCnsNCiAgICBpZih2aWxsYWdlQXR0YWNrRXZlbnRJbmZvLnN0YXRlICE9IFZJTExBR0VBVFRBQ0tfU1RBVEVfRU5EKQ0KICAgIHsNCiAgICAgICAgYXBpX0dhbWVXb3JsZF9TZW5kTm90aVBhY2tldE1lc3NhZ2UoJzzmgKrnianmlLvln47mtLvliqg+IOW9k+WJjemYtuautTonICsgKHZpbGxhZ2VBdHRhY2tFdmVudEluZm8uc3RhdGUgKyAxKSArICcsIOW9k+WJjemavuW6puetiee6pzogJyArIHZpbGxhZ2VBdHRhY2tFdmVudEluZm8uZGlmZmljdWx0LCAxNCk7DQogICAgfQ0KfQ0KDQovL+iuoeeul+a0u+WKqOWJqeS9meaXtumXtA0KZnVuY3Rpb24gZXZlbnRfdmlsbGFnZWF0dGFja19nZXRfcmVtYWluX3RpbWUoKQ0Kew0KICAgIHZhciBjdXJfdGltZSA9IGFwaV9DU3lzdGVtVGltZV9nZXRDdXJTZWMoKTsNCiAgICB2YXIgZXZlbnRfZW5kX3RpbWUgPSB2aWxsYWdlQXR0YWNrRXZlbnRJbmZvLnN0YXJ0X3RpbWUgKyBFVkVOVF9WSUxMQUdFQVRUQUNLX1RPVEFMX1RJTUU7DQogICAgdmFyIHJlbWFpbl90aW1lID0gZXZlbnRfZW5kX3RpbWUgLSBjdXJfdGltZTsNCiAgICByZXR1cm4gcmVtYWluX3RpbWU7DQp9DQoNCi8v5oCq54mp5pS75Z+O5rS75Yqo6K6h5pe25ZmoKOavjzXnp5Lop6blj5HkuIDmrKEpDQpmdW5jdGlvbiBldmVudF92aWxsYWdlYXR0YWNrX3RpbWVyKCkNCnsNCiAgICBpZih2aWxsYWdlQXR0YWNrRXZlbnRJbmZvLnN0YXRlID09IFZJTExBR0VBVFRBQ0tfU1RBVEVfRU5EKQ0KICAgICAgICByZXR1cm47DQoNCiAgICAvL+a0u+WKqOe7k+adn+ajgOa1iw0KICAgIHZhciByZW1haW5fdGltZSA9IGV2ZW50X3ZpbGxhZ2VhdHRhY2tfZ2V0X3JlbWFpbl90aW1lKCk7DQogICAgY29uc29sZS5sb2coImhhdmUgdGltZToiK3JlbWFpbl90aW1lKQ0KICAgIGlmKHJlbWFpbl90aW1lIDw9IDApDQogICAgew0KICAgICAgICAvL+a0u+WKqOe7k+adnw0KICAgICAgICBvbl9lbmRfZXZlbnRfdmlsbGFnZWF0dGFjaygpOw0KICAgICAgICByZXR1cm47DQogICAgfQ0KDQogICAgLy/lvZPliY3lupTmiaPpmaTnmoRQVA0KICAgIHZhciBkYW1hZ2UgPSAwOw0KDQogICAgLy9QMi9QM+mYtuautUdCTOS4u+aVmeaJo1BUDQogICAgaWYoKHZpbGxhZ2VBdHRhY2tFdmVudEluZm8uc3RhdGUgPT0gVklMTEFHRUFUVEFDS19TVEFURV9QMikgfHwgKHZpbGxhZ2VBdHRhY2tFdmVudEluZm8uc3RhdGUgPT0gVklMTEFHRUFUVEFDS19TVEFURV9QMykpDQogICAgew0KICAgICAgICBmb3IodmFyIGk9MDsgaTx2aWxsYWdlQXR0YWNrRXZlbnRJbmZvLmdibF9jbnQ7ICsraSkNCiAgICAgICAgew0KICAgICAgICAgICAgaWYoZ2V0X3JhbmRvbV9pbnQoMCwgMTAwKSA8ICg0ICsgdmlsbGFnZUF0dGFja0V2ZW50SW5mby5kaWZmaWN1bHQpKQ0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgIGRhbWFnZSArPSAxOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfQ0KDQogICAgLy9QM+mYtuauteS4lueVjEJPU1Poh6rouqvlm57ooYANCiAgICBpZih2aWxsYWdlQXR0YWNrRXZlbnRJbmZvLnN0YXRlID09IFZJTExBR0VBVFRBQ0tfU1RBVEVfUDMpDQogICAgew0KICAgICAgICBpZihnZXRfcmFuZG9tX2ludCgwLCAxMDApIDwgKDYgKyB2aWxsYWdlQXR0YWNrRXZlbnRJbmZvLmRpZmZpY3VsdCkpDQogICAgICAgIHsNCiAgICAgICAgICAgIGRhbWFnZSArPSAxOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgLy/miaPpmaRQVA0KICAgIGlmKGRhbWFnZSA+IDApDQogICAgew0KICAgICAgICB2aWxsYWdlQXR0YWNrRXZlbnRJbmZvLnNjb3JlIC09IGRhbWFnZTsNCiAgICAgICAgaWYodmlsbGFnZUF0dGFja0V2ZW50SW5mby5zY29yZSA8IEVWRU5UX1ZJTExBR0VBVFRBQ0tfVEFSR0VUX1NDT1JFW3ZpbGxhZ2VBdHRhY2tFdmVudEluZm8uc3RhdGUtMV0pDQogICAgICAgIHsNCiAgICAgICAgICAgIHZpbGxhZ2VBdHRhY2tFdmVudEluZm8uc2NvcmUgPSBFVkVOVF9WSUxMQUdFQVRUQUNLX1RBUkdFVF9TQ09SRVt2aWxsYWdlQXR0YWNrRXZlbnRJbmZvLnN0YXRlLTFdDQogICAgICAgIH0NCg0KICAgICAgICAvL+abtOaWsFBUDQogICAgICAgIEdhbWV3b3JsZF91cGRhdGVfdmlsbGFnZWF0dGFja19zY29yZSgpOw0KICAgIH0NCg0KICAgIC8v6YeN5aSN6Kem5Y+R6K6h5pe25ZmoDQogICAgaWYodmlsbGFnZUF0dGFja0V2ZW50SW5mby5zdGF0ZSAhPSBWSUxMQUdFQVRUQUNLX1NUQVRFX0VORCkNCiAgICB7DQogICAgICAgIGFwaV9zY2hlZHVsZU9uTWFpblRocmVhZF9kZWxheShldmVudF92aWxsYWdlYXR0YWNrX3RpbWVyLCBudWxsLCA1MDAwKTsNCiAgICB9DQp9DQoNCi8v6K6+572u5oCq54mp5pS75Z+O5Ymv5pys6Zq+5bqmKDAtNDog5pmu6YCaLeiLsembhCkNCmZ1bmN0aW9uIHNldF92aWxsYWdlYXR0YWNrX2R1bmdlb25fZGlmZmljdWx0KGRpZmZpY3VsdCkNCnsNCiAgICBNZW1vcnkucHJvdGVjdChwdHIoMHgwODVCOTYwNSksIDQsICdyd3gnKTsgICAgICAvL+S/ruaUueWGheWtmOS/neaKpOWxnuaAp+S4uuWPr+WGmQ0KICAgIHB0cigweDA4NUI5NjA1KS53cml0ZUludChkaWZmaWN1bHQpOw0KfQ0KDQovL+aAqueJqeaUu+Wfjua0u+WKqOebuOWFs3BhdGNoDQpmdW5jdGlvbiBob29rX1ZpbGxhZ2VBdHRhY2soKQ0Kew0KICAgIC8vaG9va+aMkeaImOaUu+WfjuaAqueJqeWJr+acrOe7k+adn+S6i+S7tiwg5pu05paw5oCq54mp5pS75Z+O5rS75Yqo5ZCE6Zi25q6154q25oCBDQogICAgLy92aWxsYWdlX2F0dGFja2VkOjpDVmlsbGFnZU1vbnN0ZXI6OlNlbmRWaWxsYWdlTW9uc3RlckZpZ2h0UmVzdWx0DQogICAgSW50ZXJjZXB0b3IuYXR0YWNoKHB0cigweDA4NkIzMzBBKSwgew0KICAgICAgICBvbkVudGVyOiBmdW5jdGlvbiAoYXJncykgew0KDQogICAgICAgICAgICB0aGlzLnZpbGxhZ2VfbW9uc3RlciA9IGFyZ3NbMF07ICAgICAgICAgICAgIC8v5b2T5YmN5oyR5oiY55qE5pS75Z+O5oCq54mpDQogICAgICAgICAgICB0aGlzLnVzZXIgPSBhcmdzWzFdOyAgICAgICAgICAgICAgICAgICAgICAgIC8v5b2T5YmN5oyR5oiY55qE6KeS6ImyDQogICAgICAgICAgICB0aGlzLnJlc3VsdCA9IGFyZ3NbMl0udG9JbnQzMigpOyAgICAgICAgICAgIC8v5oyR5oiY57uT5p6cOiAxPT3miJDlip8NCiAgICAgICAgfSwNCiAgICAgICAgb25MZWF2ZTogZnVuY3Rpb24gKHJldHZhbCkgew0KICAgICAgICAgICAgLy/njqnlrrbmnYDmrbvkuobmlLvln47mgKrniakNCiAgICAgICAgICAgIGlmKHRoaXMucmVzdWx0ID09IDEpDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgaWYodmlsbGFnZUF0dGFja0V2ZW50SW5mby5zdGF0ZSA9PSBWSUxMQUdFQVRUQUNLX1NUQVRFX0VORCkgICAgICAgICAgICAgLy/mlLvln47mtLvliqjlt7Lnu5PmnZ8NCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KDQogICAgICAgICAgICAgICAgLy/lvZPliY3mnYDmrbvnmoTmlLvln47mgKrnialpZA0KICAgICAgICAgICAgICAgIHZhciB2aWxsYWdlX21vbnN0ZXJfaWQgPSB0aGlzLnZpbGxhZ2VfbW9uc3Rlci5hZGQoMikucmVhZFVTaG9ydCgpOw0KDQogICAgICAgICAgICAgICAgLy/lvZPliY3pmLbmrrXmnYDmrbvmr4/lj6rmlLvln47mgKrnialQVOeCueaVsOWlluWKsTogKDEsIDIsIDQsIDgsIDE2KQ0KICAgICAgICAgICAgICAgIHZhciBib251c19wdCA9IDIgKiogdmlsbGFnZUF0dGFja0V2ZW50SW5mby5kaWZmaWN1bHQ7DQoNCiAgICAgICAgICAgICAgICAvL+eOqeWutuaJgOWcqOmYn+S8jQ0KICAgICAgICAgICAgICAgIHZhciBwYXJ0eSA9IENVc2VyX0dldFBhcnR5KHRoaXMudXNlcik7DQogICAgICAgICAgICAgICAgaWYocGFydHkuaXNOdWxsKCkpDQogICAgICAgICAgICAgICAgICAgIHJldHVybjsNCg0KICAgICAgICAgICAgICAgIC8v5pu05paw6Zif5LyN5Lit55qE5omA5pyJ546p5a62UFTngrnmlbANCiAgICAgICAgICAgICAgICBmb3IodmFyIGk9MDsgaTw0OyArK2kpDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICB2YXIgdXNlciA9IENQYXJ0eV9nZXRfdXNlcihwYXJ0eSwgaSk7DQogICAgICAgICAgICAgICAgICAgIGlmKCF1c2VyLmlzTnVsbCgpKQ0KICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICAvL+inkuiJsuW9k+WJjVBU54K55pWwKOa4uOaIj+S4reeahOWOn+Wni1BU5pWw5o2u6K6w5b2V5ZyodmlsbGFnZV9hdHRhY2tfZHVuZ2VvbuihqOS4rSkNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjaGFyYWNfbm8gPSBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjTm8odXNlcikudG9TdHJpbmcoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCEoY2hhcmFjX25vIGluIHZpbGxhZ2VBdHRhY2tFdmVudEluZm8udXNlcl9wdF9pbmZvKSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aWxsYWdlQXR0YWNrRXZlbnRJbmZvLnVzZXJfcHRfaW5mb1tjaGFyYWNfbm9dID0gW0NVc2VyX2dldF9hY2NfaWQodXNlciksIDBdOyAgIC8v6K6w5b2V6KeS6ImyYWNjaWQsIOaWueS+v+emu+e6v+WFheWAvA0KDQogICAgICAgICAgICAgICAgICAgICAgICAvL+abtOaWsOinkuiJsuW9k+WJjVBU54K55pWwDQogICAgICAgICAgICAgICAgICAgICAgICB2aWxsYWdlQXR0YWNrRXZlbnRJbmZvLnVzZXJfcHRfaW5mb1tjaGFyYWNfbm9dWzFdICs9IGJvbnVzX3B0Ow0KDQogICAgICAgICAgICAgICAgICAgICAgICAvL+WHu+adgOS4lueVjEJPU1MsIOmineWkluiOt+W+l1BU5aWW5YqxDQogICAgICAgICAgICAgICAgICAgICAgICBpZigodmlsbGFnZV9tb25zdGVyX2lkID09IFRBVV9NRVRBX0NPV19NT05TVEVSX0lEKSAmJiAodmlsbGFnZUF0dGFja0V2ZW50SW5mby5zdGF0ZSA9PSBWSUxMQUdFQVRUQUNLX1NUQVRFX1AzKSkNCiAgICAgICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aWxsYWdlQXR0YWNrRXZlbnRJbmZvLnVzZXJfcHRfaW5mb1tjaGFyYWNfbm9dWzFdICs9IDEwMDAqKDErdmlsbGFnZUF0dGFja0V2ZW50SW5mby5kaWZmaWN1bHQpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KDQoNCiAgICAgICAgICAgICAgICBpZih2aWxsYWdlQXR0YWNrRXZlbnRJbmZvLnN0YXRlID09IFZJTExBR0VBVFRBQ0tfU1RBVEVfUDEpICAgICAgICAgICAgICAvL+aAqueJqeaUu+WfjuS4gOmYtuautQ0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgLy/mm7TmlrDpopHpgZPlhoXmgLtQVA0KICAgICAgICAgICAgICAgICAgICB2aWxsYWdlQXR0YWNrRXZlbnRJbmZvLnNjb3JlICs9IGJvbnVzX3B0Ow0KDQogICAgICAgICAgICAgICAgICAgIC8vUDHpmLbmrrXmnKrlrozmiJANCiAgICAgICAgICAgICAgICAgICAgaWYodmlsbGFnZUF0dGFja0V2ZW50SW5mby5zY29yZSA8IEVWRU5UX1ZJTExBR0VBVFRBQ0tfVEFSR0VUX1NDT1JFWzBdKQ0KICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICAvL+iLpeadgOatu+S6hueJm+WktOe7n+W4hSwg5YiZ5pS75Z+O6Zq+5bqmKzENCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHZpbGxhZ2VfbW9uc3Rlcl9pZCA9PSBUQVVfQ0FQVEFJTl9NT05TVEVSX0lEKQ0KICAgICAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKHZpbGxhZ2VBdHRhY2tFdmVudEluZm8uZGlmZmljdWx0IDwgNCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpbGxhZ2VBdHRhY2tFdmVudEluZm8uZGlmZmljdWx0ICs9IDE7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy/mgKrnianmlLvln47lia/mnKzpmr7luqYNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0X3ZpbGxhZ2VhdHRhY2tfZHVuZ2Vvbl9kaWZmaWN1bHQodmlsbGFnZUF0dGFja0V2ZW50SW5mby5kaWZmaWN1bHQpOw0KDQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy/kuIvmrKHliLfmlrDlh7rnmoTmlLvln47mgKrniankuLo6IOeJm+WktOe7n+W4hQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aWxsYWdlQXR0YWNrRXZlbnRJbmZvLm5leHRfdmlsbGFnZV9tb25zdGVyX2lkID0gVEFVX0NBUFRBSU5fTU9OU1RFUl9JRDsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL+WFrOWRiumAmuefpeWuouaIt+err+a0u+WKqOi/m+W6pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudF92aWxsYWdlYXR0YWNrX2Jyb2FkY2FzdF9kaWZmY3VsdCgpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBlbHNlDQogICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vUDHpmLbmrrXlt7Lnu5PmnZ8sIOi/m+WFpVAyDQogICAgICAgICAgICAgICAgICAgICAgICB2aWxsYWdlQXR0YWNrRXZlbnRJbmZvLnN0YXRlID0gVklMTEFHRUFUVEFDS19TVEFURV9QMjsNCiAgICAgICAgICAgICAgICAgICAgICAgIHZpbGxhZ2VBdHRhY2tFdmVudEluZm8uc2NvcmUgPSBFVkVOVF9WSUxMQUdFQVRUQUNLX1RBUkdFVF9TQ09SRVswXTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHZpbGxhZ2VBdHRhY2tFdmVudEluZm8ucDJfbGFzdF9raWxsZWRfbW9uc3Rlcl90aW1lID0gMDsNCiAgICAgICAgICAgICAgICAgICAgICAgIHZpbGxhZ2VBdHRhY2tFdmVudEluZm8ubGFzdF9raWxsZWRfbW9uc3Rlcl9pZCA9IDA7DQogICAgICAgICAgICAgICAgICAgICAgICB2aWxsYWdlQXR0YWNrRXZlbnRJbmZvLnAyX2tpbGxfY29tYm8gPSAwOw0KDQogICAgICAgICAgICAgICAgICAgICAgICAvL+WFrOWRiumAmuefpeWuouaIt+err+a0u+WKqOi/m+W6pg0KICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRfdmlsbGFnZWF0dGFja19icm9hZGNhc3RfZGlmZmN1bHQoKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBlbHNlIGlmKHZpbGxhZ2VBdHRhY2tFdmVudEluZm8uc3RhdGUgPT0gVklMTEFHRUFUVEFDS19TVEFURV9QMikgICAgICAgICAvL+aAqueJqeaUu+WfjuS6jOmYtuautQ0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgLy/orqHnrpfov57mnYDml7bpl7QNCiAgICAgICAgICAgICAgICAgICAgdmFyIGN1cl90aW1lID0gYXBpX0NTeXN0ZW1UaW1lX2dldEN1clNlYygpOw0KICAgICAgICAgICAgICAgICAgICB2YXIgZGlmZl90aW1lID0gY3VyX3RpbWUgLSB2aWxsYWdlQXR0YWNrRXZlbnRJbmZvLnAyX2xhc3Rfa2lsbGVkX21vbnN0ZXJfdGltZTsNCg0KICAgICAgICAgICAgICAgICAgICAvLzHliIbpkp/lhoXov57nu63lh7vmnYDnm7jlkIzmlLvln47mgKrniakNCiAgICAgICAgICAgICAgICAgICAgaWYoKGRpZmZfdGltZSA8IDYwKSAmJiAodmlsbGFnZV9tb25zdGVyX2lkID09IHZpbGxhZ2VBdHRhY2tFdmVudEluZm8ubGFzdF9raWxsZWRfbW9uc3Rlcl9pZCkpDQogICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIC8v6L+e5p2A54K55pWwKzENCiAgICAgICAgICAgICAgICAgICAgICAgIHZpbGxhZ2VBdHRhY2tFdmVudEluZm8ucDJfa2lsbF9jb21ibyArPSAxOw0KDQogICAgICAgICAgICAgICAgICAgICAgICBpZih2aWxsYWdlQXR0YWNrRXZlbnRJbmZvLnAyX2tpbGxfY29tYm8gPj0gMykNCiAgICAgICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL+S4iei/nuadgOWinuWKoOW9k+WJjemYtuauteaAu1BUDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlsbGFnZUF0dGFja0V2ZW50SW5mby5zY29yZSArPSAzMzsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8v6YeN5paw6K6h566X6L+e5p2ADQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlsbGFnZUF0dGFja0V2ZW50SW5mby5sYXN0X2tpbGxlZF9tb25zdGVyX2lkID0gMDsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aWxsYWdlQXR0YWNrRXZlbnRJbmZvLnAyX2tpbGxfY29tYm8gPSAwOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGVsc2UNCiAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgLy/ph43mlrDorqHnrpfov57mnYANCiAgICAgICAgICAgICAgICAgICAgICAgIHZpbGxhZ2VBdHRhY2tFdmVudEluZm8ubGFzdF9raWxsZWRfbW9uc3Rlcl9pZCA9IHZpbGxhZ2VfbW9uc3Rlcl9pZDsNCiAgICAgICAgICAgICAgICAgICAgICAgIHZpbGxhZ2VBdHRhY2tFdmVudEluZm8ucDJfa2lsbF9jb21ibyA9IDE7DQogICAgICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgICAgICAvL+S/neWtmOacrOasoeWHu+adgOaXtumXtA0KICAgICAgICAgICAgICAgICAgICB2aWxsYWdlQXR0YWNrRXZlbnRJbmZvLnAyX2xhc3Rfa2lsbGVkX21vbnN0ZXJfdGltZSA9IGN1cl90aW1lOw0KDQogICAgICAgICAgICAgICAgICAgIC8vUDLpmLbmrrXlt7Lnu5PmnZ8sIOi/m+WFpVAzDQogICAgICAgICAgICAgICAgICAgIGlmKHZpbGxhZ2VBdHRhY2tFdmVudEluZm8uc2NvcmUgPj0gRVZFTlRfVklMTEFHRUFUVEFDS19UQVJHRVRfU0NPUkVbMV0pDQogICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vUDLpmLbmrrXlt7Lnu5PmnZ8sIOi/m+WFpVAzDQogICAgICAgICAgICAgICAgICAgICAgICB2aWxsYWdlQXR0YWNrRXZlbnRJbmZvLnN0YXRlID0gVklMTEFHRUFUVEFDS19TVEFURV9QMzsNCiAgICAgICAgICAgICAgICAgICAgICAgIHZpbGxhZ2VBdHRhY2tFdmVudEluZm8uc2NvcmUgPSBFVkVOVF9WSUxMQUdFQVRUQUNLX1RBUkdFVF9TQ09SRVsxXTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHZpbGxhZ2VBdHRhY2tFdmVudEluZm8ubmV4dF92aWxsYWdlX21vbnN0ZXJfaWQgPSBUQVVfTUVUQV9DT1dfTU9OU1RFUl9JRDsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgLy/lhazlkYrpgJrnn6XlrqLmiLfnq6/mtLvliqjov5vluqYNCiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50X3ZpbGxhZ2VhdHRhY2tfYnJvYWRjYXN0X2RpZmZjdWx0KCk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgZWxzZSBpZih2aWxsYWdlQXR0YWNrRXZlbnRJbmZvLnN0YXRlID09IFZJTExBR0VBVFRBQ0tfU1RBVEVfUDMpICAgICAgICAgLy/mgKrnianmlLvln47kuInpmLbmrrUNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIC8v5Ye75p2A5LiW55WMYm9zcw0KICAgICAgICAgICAgICAgICAgICBpZih2aWxsYWdlX21vbnN0ZXJfaWQgPT0gVEFVX01FVEFfQ09XX01PTlNURVJfSUQpDQogICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIC8v5pu05paw5LiW55WMQk9TU+ihgOmHjyhQVCkNCiAgICAgICAgICAgICAgICAgICAgICAgIHZpbGxhZ2VBdHRhY2tFdmVudEluZm8uc2NvcmUgKz0gMjU7DQogICAgICAgICAgICAgICAgICAgICAgICAvL+e7p+e7reWIt+aWsOS4lueVjEJPU1MNCiAgICAgICAgICAgICAgICAgICAgICAgIHZpbGxhZ2VBdHRhY2tFdmVudEluZm8ubmV4dF92aWxsYWdlX21vbnN0ZXJfaWQgPSBUQVVfTUVUQV9DT1dfTU9OU1RFUl9JRDsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgLy/kuJbnlYzlub/mkq0NCiAgICAgICAgICAgICAgICAgICAgICAgIGFwaV9HYW1lV29ybGRfU2VuZE5vdGlQYWNrZXRNZXNzYWdlKCc85oCq54mp5pS75Z+O5rS75YqoPiDkuJbnlYxCT1NT5bey6KKr44CQJyArIGFwaV9DVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjTmFtZSh0aGlzLnVzZXIpICsgJ+OAkeWHu+adgCEnLCAxNCk7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vUDPpmLbmrrXlt7Lnu5PmnZ8NCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHZpbGxhZ2VBdHRhY2tFdmVudEluZm8uc2NvcmUgPj0gRVZFTlRfVklMTEFHRUFUVEFDS19UQVJHRVRfU0NPUkVbMl0pDQogICAgICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy/mgKrnianmlLvln47mtLvliqjpmLLlrojmiJDlip8sIOeri+WNs+e7k+adn+a0u+WKqA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpbGxhZ2VBdHRhY2tFdmVudEluZm8uZGVmZW5kX3N1Y2Nlc3MgPSAxOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwaV9zY2hlZHVsZU9uTWFpblRocmVhZChvbl9lbmRfZXZlbnRfdmlsbGFnZWF0dGFjaywgbnVsbCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgLy/kuJbnlYzlub/mkq3lvZPliY3mtLvliqjov5vluqYNCiAgICAgICAgICAgICAgICBHYW1ld29ybGRfdXBkYXRlX3ZpbGxhZ2VhdHRhY2tfc2NvcmUoKTsNCg0KICAgICAgICAgICAgICAgIC8v6YCa55+l6Zif5LyN5Lit55qE5omA5pyJ546p5a625pu05pawUFTngrnmlbANCiAgICAgICAgICAgICAgICBmb3IodmFyIGk9MDsgaTw0OyArK2kpDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICB2YXIgdXNlciA9IENQYXJ0eV9nZXRfdXNlcihwYXJ0eSwgaSk7DQogICAgICAgICAgICAgICAgICAgIGlmKCF1c2VyLmlzTnVsbCgpKQ0KICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICBub3RpZnlfdmlsbGFnZWF0dGFja19zY29yZSh1c2VyKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIC8v5pu05paw5a2Y5rS7R0JM5Li75pWZ5pWw6YePDQogICAgICAgICAgICAgICAgaWYodmlsbGFnZV9tb25zdGVyX2lkID09IEdCTF9QT1BFX01PTlNURVJfSUQpDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICBpZih2aWxsYWdlQXR0YWNrRXZlbnRJbmZvLmdibF9jbnQgPiAwKQ0KICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICB2aWxsYWdlQXR0YWNrRXZlbnRJbmZvLmdibF9jbnQgLT0gMTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0pOw0KDQogICAgLy9ob29rIOWIt+aWsOaUu+WfjuaAqueJqeWHveaVsCwg5o6n5Yi25LiL5LiA5Y+q5Yi35paw55qE5pS75Z+O5oCq54mpaWQNCiAgICAvL3ZpbGxhZ2VfYXR0YWNrZWQ6OkNWaWxsYWdlTW9uc3RlckFyZWE6OkdldEF0dGFja2VkTW9uc3Rlcg0KICAgIEludGVyY2VwdG9yLmF0dGFjaChwdHIoMHgwODZCM0FFQSksIHsNCg0KICAgICAgICBvbkVudGVyOiBmdW5jdGlvbiAoYXJncykgew0KICAgICAgICB9LA0KICAgICAgICBvbkxlYXZlOiBmdW5jdGlvbiAocmV0dmFsKSB7DQogICAgICAgICAgICAvL+i/lOWbnuWAvOS4uuS4i+S4gOasoeWIt+aWsOeahOaUu+WfjuaAqueJqQ0KICAgICAgICAgICAgaWYocmV0dmFsICE9IDApDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgLy/kuIvkuIDlj6rliLfmlrDnmoTmlLvln47mgKrniakNCiAgICAgICAgICAgICAgICB2YXIgbmV4dF92aWxsYWdlX21vbnN0ZXIgPSBwdHIocmV0dmFsKTsNCiAgICAgICAgICAgICAgICB2YXIgbmV4dF92aWxsYWdlX21vbnN0ZXJfaWQgPSBuZXh0X3ZpbGxhZ2VfbW9uc3Rlci5yZWFkVVNob3J0KCk7DQoNCiAgICAgICAgICAgICAgICAvL+W9k+WJjeWIt+aWsOeahOaAqueJqeS4uuacuuWItuaAqueJqQ0KICAgICAgICAgICAgICAgIGlmKChuZXh0X3ZpbGxhZ2VfbW9uc3Rlcl9pZCA9PSBUQVVfTUVUQV9DT1dfTU9OU1RFUl9JRCkgfHwgKG5leHRfdmlsbGFnZV9tb25zdGVyX2lkID09IFRBVV9DQVBUQUlOX01PTlNURVJfSUQpKQ0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgLy/mm7/mjaLkuLrpmo/mnLrmgKrniakNCiAgICAgICAgICAgICAgICAgICAgbmV4dF92aWxsYWdlX21vbnN0ZXIud3JpdGVVU2hvcnQoZ2V0X3JhbmRvbV9pbnQoMSwgMTcpKTsNCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAvL+WmguaenOmcgOimgeWIt+aWsOaMh+WumuaAqueJqQ0KICAgICAgICAgICAgICAgIGlmKHZpbGxhZ2VBdHRhY2tFdmVudEluZm8ubmV4dF92aWxsYWdlX21vbnN0ZXJfaWQpDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICBpZigodmlsbGFnZUF0dGFja0V2ZW50SW5mby5zdGF0ZSA9PSBWSUxMQUdFQVRUQUNLX1NUQVRFX1AxKSB8fCAodmlsbGFnZUF0dGFja0V2ZW50SW5mby5zdGF0ZSA9PSBWSUxMQUdFQVRUQUNLX1NUQVRFX1AyKSkNCiAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgLy9QMSBQMumYtuauteeri+WNs+WIt+aWsOaAqueJqQ0KICAgICAgICAgICAgICAgICAgICAgICAgbmV4dF92aWxsYWdlX21vbnN0ZXIud3JpdGVVU2hvcnQodmlsbGFnZUF0dGFja0V2ZW50SW5mby5uZXh0X3ZpbGxhZ2VfbW9uc3Rlcl9pZCk7DQogICAgICAgICAgICAgICAgICAgICAgICB2aWxsYWdlQXR0YWNrRXZlbnRJbmZvLm5leHRfdmlsbGFnZV9tb25zdGVyX2lkID0gMDsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBlbHNlIGlmKHZpbGxhZ2VBdHRhY2tFdmVudEluZm8uc3RhdGUgPT0gVklMTEFHRUFUVEFDS19TVEFURV9QMykNCiAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgLy9QM+mYtuautSDlh6DnjofliLfmlrDlh7rkuJbnlYxCT1NTDQogICAgICAgICAgICAgICAgICAgICAgICBpZihnZXRfcmFuZG9tX2ludCgwLCAxMDApIDwgNDQpDQogICAgICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dF92aWxsYWdlX21vbnN0ZXIud3JpdGVVU2hvcnQodmlsbGFnZUF0dGFja0V2ZW50SW5mby5uZXh0X3ZpbGxhZ2VfbW9uc3Rlcl9pZCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlsbGFnZUF0dGFja0V2ZW50SW5mby5uZXh0X3ZpbGxhZ2VfbW9uc3Rlcl9pZCA9IDA7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL+S4lueVjOW5v+aSrQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwaV9HYW1lV29ybGRfU2VuZE5vdGlQYWNrZXRNZXNzYWdlKCc85oCq54mp5pS75Z+O5rS75YqoPiDkuJbnlYxCT1NT5bey5Yi35pawLCDor7fli4flo6vku6zliY3lvoDmjJHmiJghJywgMTQpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgLy/nu5/orqHlrZjmtLtHQkzkuLvmlZnmlbDph48NCiAgICAgICAgICAgICAgICBpZihuZXh0X3ZpbGxhZ2VfbW9uc3Rlci5yZWFkVVNob3J0KCkgPT0gR0JMX1BPUEVfTU9OU1RFUl9JRCkNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIHZpbGxhZ2VBdHRhY2tFdmVudEluZm8uZ2JsX2NudCArPSAxOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0pOw0KDQogICAgLy/lvZPliY3mraPlnKjlpITnkIbmjJHmiJjnmoTmlLvln47mgKrnianor7fmsYINCiAgICB2YXIgc3RhdGVfb25fZmlnaHRpbmcgPSBmYWxzZTsNCiAgICAvL+W9k+WJjeato+WcqOiiq+aMkeaImOeahOaAqueJqWlkDQogICAgdmFyIG9uX2ZpZ2h0aW5nX3ZpbGxhZ2VfbW9uc3Rlcl9pZCA9IDA7DQoNCiAgICAvL2hvb2sg5oyR5oiY5pS75Z+O5oCq54mp5Ye95pWwIOaOp+WItuWJr+acrOWIt+aAqua1geeoiw0KICAgIC8vQ1BhcnR5OjpPbkZpZ2h0VmlsbGFnZU1vbnN0ZXINCiAgICBJbnRlcmNlcHRvci5hdHRhY2gocHRyKDB4MDg1Qjk1OTYpLCB7DQoNCiAgICAgICAgb25FbnRlcjogZnVuY3Rpb24gKGFyZ3MpIHsNCiAgICAgICAgICAgIHN0YXRlX29uX2ZpZ2h0aW5nID0gdHJ1ZTsNCiAgICAgICAgICAgIG9uX2ZpZ2h0aW5nX3ZpbGxhZ2VfbW9uc3Rlcl9pZCA9IDA7DQogICAgICAgIH0sDQogICAgICAgIG9uTGVhdmU6IGZ1bmN0aW9uIChyZXR2YWwpIHsNCiAgICAgICAgICAgIG9uX2ZpZ2h0aW5nX3ZpbGxhZ2VfbW9uc3Rlcl9pZCA9IDA7DQogICAgICAgICAgICBzdGF0ZV9vbl9maWdodGluZyA9IGZhbHNlOw0KICAgICAgICB9DQogICAgfSk7DQoNCiAgICAvL3ZpbGxhZ2VfYXR0YWNrZWQ6OkNWaWxsYWdlTW9uc3Rlcjo6T25GaWdodFZpbGxhZ2VNb25zdGVyDQogICAgSW50ZXJjZXB0b3IuYXR0YWNoKHB0cigweDA4NkIzMjQwKSwgew0KDQogICAgICAgIG9uRW50ZXI6IGZ1bmN0aW9uIChhcmdzKSB7DQoNCiAgICAgICAgICAgIGlmKHN0YXRlX29uX2ZpZ2h0aW5nKQ0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgIHZhciB2aWxsYWdlX21vbnN0ZXIgPSBhcmdzWzBdOw0KDQogICAgICAgICAgICAgICAgLy/orrDlvZXlvZPliY3mraPlnKjmjJHmiJjnmoTmlLvln47mgKrnialpZA0KICAgICAgICAgICAgICAgIG9uX2ZpZ2h0aW5nX3ZpbGxhZ2VfbW9uc3Rlcl9pZCA9IHZpbGxhZ2VfbW9uc3Rlci5hZGQoMikucmVhZFUxNigpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICBvbkxlYXZlOiBmdW5jdGlvbiAocmV0dmFsKSB7DQogICAgICAgIH0NCiAgICB9KTsNCg0KDQogICAgLy9ob29rIOWJr+acrOWIt+aAquWHveaVsCDmjqfliLblia/mnKzlhoXmgKrniannmoTmlbDph4/lkozlsZ7mgKcNCiAgICAvL01hcEluZm86OkFkZF9Nb2INCiAgICB2YXIgcmVhZF9mID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MTUxNjEyKSwgJ2ludCcsIFsncG9pbnRlcicsICdwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCiAgICBJbnRlcmNlcHRvci5yZXBsYWNlKHB0cigweDA4MTUxNjEyKSwgbmV3IE5hdGl2ZUNhbGxiYWNrKGZ1bmN0aW9uIChtYXBfaW5mbywgbW9uc3Rlcikgew0KDQogICAgICAgIC8v5b2T5YmN5Yi35oCq55qE5Ymv5pysaWQNCiAgICAgICAgLy92YXIgbWFwX2lkID0gbWFwX2luZm8uYWRkKDQpLnJlYWRVSW50KCk7DQoNCiAgICAgICAgLy/mgKrnianmlLvln47lia/mnKwNCiAgICAgICAgLy9pZigobWFwX2lkID49IDQwMDAxKSAmJiAobWFwX2lkIDw9IDQwMDk1KSkNCg0KICAgICAgICBpZihzdGF0ZV9vbl9maWdodGluZykNCiAgICAgICAgew0KICAgICAgICAgICAgLy/mgKrnianmlLvln47mtLvliqjmnKrnu5PmnZ8NCiAgICAgICAgICAgIGlmKHZpbGxhZ2VBdHRhY2tFdmVudEluZm8gIT0gVklMTEFHRUFUVEFDS19TVEFURV9FTkQpDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgLy/mraPlnKjmjJHmiJjkuJbnlYxCT1NTDQogICAgICAgICAgICAgICAgaWYob25fZmlnaHRpbmdfdmlsbGFnZV9tb25zdGVyX2lkID09IFRBVV9NRVRBX0NPV19NT05TVEVSX0lEKQ0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgLy9QM+mYtuautQ0KICAgICAgICAgICAgICAgICAgICBpZih2aWxsYWdlQXR0YWNrRXZlbnRJbmZvLnN0YXRlID09IFZJTExBR0VBVFRBQ0tfU1RBVEVfUDMpDQogICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIC8v5Ymv5pys5Lit5pyJ5Yeg546H5Yi35paw5Ye65LiW55WMQk9TUywg5b2T5YmNUFTngrnmlbDotorpq5gsIOa0u+WKqOmavuW6pui2iuWkpywg5Yi35paw5Ye65LiW55WMQk9TU+amgueOh+i2iuWkpw0KICAgICAgICAgICAgICAgICAgICAgICAgaWYoZ2V0X3JhbmRvbV9pbnQoMCwgMTAwKSA8ICgodmlsbGFnZUF0dGFja0V2ZW50SW5mby5zY29yZS1FVkVOVF9WSUxMQUdFQVRUQUNLX1RBUkdFVF9TQ09SRVsxXSkrKDYqdmlsbGFnZUF0dGFja0V2ZW50SW5mby5kaWZmaWN1bHQpKSkNCiAgICAgICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb25zdGVyLmFkZCgweGMpLndyaXRlVUludChUQVVfTUVUQV9DT1dfTU9OU1RFUl9JRCk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICBpZih2aWxsYWdlQXR0YWNrRXZlbnRJbmZvLmRpZmZpY3VsdCA9PSAwKQ0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgLy/pmr7luqYwOiDml6Dlj5jljJYNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlYWRfZihtYXBfaW5mbywgbW9uc3Rlcik7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGVsc2UgaWYodmlsbGFnZUF0dGFja0V2ZW50SW5mby5kaWZmaWN1bHQgPT0gMSkNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIC8v6Zq+5bqmMTog5oCq54mp562J57qn5o+Q5Y2H6IezMTAw57qnDQogICAgICAgICAgICAgICAgICAgIG1vbnN0ZXIuYWRkKDE2KS53cml0ZVU4KDEwMCk7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiByZWFkX2YobWFwX2luZm8sIG1vbnN0ZXIpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBlbHNlIGlmKHZpbGxhZ2VBdHRhY2tFdmVudEluZm8uZGlmZmljdWx0ID09IDIpDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAvL+mavuW6pjI6IOaAqueJqeetiee6p+aPkOWNh+iHszExMOe6pzsg6ZqP5py65Yi35paw57Sr5ZCN5oCqDQogICAgICAgICAgICAgICAgICAgIG1vbnN0ZXIuYWRkKDE2KS53cml0ZVU4KDExMCk7DQogICAgICAgICAgICAgICAgICAgIC8v6Z2eQk9TU+aAqg0KICAgICAgICAgICAgICAgICAgICBpZihtb25zdGVyLmFkZCg4KS5yZWFkVTgoKSAhPSAzKQ0KICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICBpZihnZXRfcmFuZG9tX2ludCgwLCAxMDApIDwgNTApDQogICAgICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9uc3Rlci5hZGQoOCkud3JpdGVVOCgxKTsgICAgIC8v5oCq54mp57G75Z6LOiAwLTMNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVhZF9mKG1hcF9pbmZvLCBtb25zdGVyKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgZWxzZSBpZih2aWxsYWdlQXR0YWNrRXZlbnRJbmZvLmRpZmZpY3VsdCA9PSAzKQ0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgLy/pmr7luqYzOiDmgKrniannrYnnuqfmj5DljYfoh7MxMjDnuqc7IOmaj+acuuWIt+aWsOS4jeeBreeyieWQjeaAqjsg5oCq54mp5pWw6YePKjINCiAgICAgICAgICAgICAgICAgICAgbW9uc3Rlci5hZGQoMTYpLndyaXRlVTgoMTIwKTsNCiAgICAgICAgICAgICAgICAgICAgLy/pnZ5CT1NT5oCqDQogICAgICAgICAgICAgICAgICAgIGlmKG1vbnN0ZXIuYWRkKDgpLnJlYWRVOCgpICE9IDMpDQogICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGdldF9yYW5kb21faW50KDAsIDEwMCkgPCA3NSkNCiAgICAgICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb25zdGVyLmFkZCg4KS53cml0ZVU4KDIpOyAgICAgLy/mgKrniannsbvlnos6IDAtMw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAgICAgLy/miafooYzljp/lp4vliLfmgKrmtYHnqIsNCiAgICAgICAgICAgICAgICAgICAgcmVhZF9mKG1hcF9pbmZvLCBtb25zdGVyKTsNCg0KICAgICAgICAgICAgICAgICAgICAvL+WIt+aWsOmineWklueahOaAqueJqSjlkIzkuIDlvKDlnLDlm77lhoUsIOaAqueJqWluZGV45ZKM5oCq54mpdWlk5b+F6aG75ZSv5LiALCDov5nph4zkuLrmgKrnianliIbphY3mlrDnmoRpbmRleOWSjHVpZCkNCg0KICAgICAgICAgICAgICAgICAgICAvL+mineWkluWIt+aWsOaAqueJqeaVsOmHjw0KICAgICAgICAgICAgICAgICAgICB2YXIgY250ID0gMTsNCiAgICAgICAgICAgICAgICAgICAgLy/mlrDnmoTmgKrnial1aWTlgY/np7sNCiAgICAgICAgICAgICAgICAgICAgdmFyIHVpZF9vZmZzZXQgPSAxMDAwOw0KICAgICAgICAgICAgICAgICAgICAvL+i/lOWbnuWAvA0KICAgICAgICAgICAgICAgICAgICB2YXIgcmV0ID0gMDsNCg0KICAgICAgICAgICAgICAgICAgICB3aGlsZShjbnQgPiAwKQ0KICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICAtLWNudDsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgLy/mlrDlop7mgKrnialpbmRleA0KICAgICAgICAgICAgICAgICAgICAgICAgbW9uc3Rlci53cml0ZVVJbnQobW9uc3Rlci5yZWFkVUludCgpK3VpZF9vZmZzZXQpOw0KICAgICAgICAgICAgICAgICAgICAgICAgLy/mlrDlop7mgKrnial1aWQNCiAgICAgICAgICAgICAgICAgICAgICAgIG1vbnN0ZXIuYWRkKDQpLndyaXRlVUludChtb25zdGVyLmFkZCg0KS5yZWFkVUludCgpK3VpZF9vZmZzZXQpOw0KDQogICAgICAgICAgICAgICAgICAgICAgICAvL+S4uuW9k+WJjeWcsOWbvuWIt+aWsOmineWklueahOaAqueJqQ0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0ID0gcmVhZF9mKG1hcF9pbmZvLCBtb25zdGVyKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgICAgIHJldHVybiByZXQ7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGVsc2UgaWYodmlsbGFnZUF0dGFja0V2ZW50SW5mby5kaWZmaWN1bHQgPT0gNCkNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIC8v6Zq+5bqmNDog5oCq54mp562J57qn5o+Q5Y2H6IezMTI357qnOyDpmo/mnLrliLfmlrDmqZnlkI3mgKo7IOaAqueJqeaVsOmHjyo0DQogICAgICAgICAgICAgICAgICAgIG1vbnN0ZXIuYWRkKDE2KS53cml0ZVU4KDEyNyk7DQogICAgICAgICAgICAgICAgICAgIC8v6Z2eQk9TU+aAqg0KICAgICAgICAgICAgICAgICAgICBpZihtb25zdGVyLmFkZCg4KS5yZWFkVTgoKSAhPSAzKQ0KICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICAvL+iLsembhOe6p+WJr+acrOeyvuiLseaAquexu+Wei+etieS6jjLnmoTmgKrkuLrmqZnlkI3mgKoNCiAgICAgICAgICAgICAgICAgICAgICAgIG1vbnN0ZXIuYWRkKDgpLndyaXRlVTgoZ2V0X3JhbmRvbV9pbnQoMSwgMykpOyAgICAgLy/mgKrniannsbvlnos6IDAtMw0KICAgICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAgICAgLy/miafooYzljp/lp4vliLfmgKrmtYHnqIsNCiAgICAgICAgICAgICAgICAgICAgcmVhZF9mKG1hcF9pbmZvLCBtb25zdGVyKTsNCg0KICAgICAgICAgICAgICAgICAgICAvL+WIt+aWsOmineWklueahOaAqueJqSjlkIzkuIDlvKDlnLDlm77lhoUsIOaAqueJqWluZGV45ZKM5oCq54mpdWlk5b+F6aG75ZSv5LiALCDov5nph4zkuLrmgKrnianliIbphY3mlrDnmoRpbmRleOWSjHVpZCkNCg0KICAgICAgICAgICAgICAgICAgICAvL+mineWkluWIt+aWsOaAqueJqeaVsOmHjw0KICAgICAgICAgICAgICAgICAgICB2YXIgY250ID0gMzsNCiAgICAgICAgICAgICAgICAgICAgLy/mlrDnmoTmgKrnial1aWTlgY/np7sNCiAgICAgICAgICAgICAgICAgICAgdmFyIHVpZF9vZmZzZXQgPSAxMDAwOw0KICAgICAgICAgICAgICAgICAgICAvL+i/lOWbnuWAvA0KICAgICAgICAgICAgICAgICAgICB2YXIgcmV0ID0gMDsNCg0KICAgICAgICAgICAgICAgICAgICB3aGlsZShjbnQgPiAwKQ0KICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICAtLWNudDsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgLy/mlrDlop7mgKrnialpbmRleA0KICAgICAgICAgICAgICAgICAgICAgICAgbW9uc3Rlci53cml0ZVVJbnQobW9uc3Rlci5yZWFkVUludCgpK3VpZF9vZmZzZXQpOw0KICAgICAgICAgICAgICAgICAgICAgICAgLy/mlrDlop7mgKrnial1aWQNCiAgICAgICAgICAgICAgICAgICAgICAgIG1vbnN0ZXIuYWRkKDQpLndyaXRlVUludChtb25zdGVyLmFkZCg0KS5yZWFkVUludCgpK3VpZF9vZmZzZXQpOw0KDQogICAgICAgICAgICAgICAgICAgICAgICAvL+S4uuW9k+WJjeWcsOWbvuWIt+aWsOmineWklueahOaAqueJqQ0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0ID0gcmVhZF9mKG1hcF9pbmZvLCBtb25zdGVyKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgICAgIHJldHVybiByZXQ7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgLy/miafooYzljp/lp4vliLfmgKrmtYHnqIsNCiAgICAgICAgcmV0dXJuIHJlYWRfZihtYXBfaW5mbywgbW9uc3Rlcik7DQogICAgfSwgJ2ludCcsIFsncG9pbnRlcicsICdwb2ludGVyJ10pKTsNCg0KDQogICAgLy/mr4/mrKHpgJrlhbPpop3lpJbojrflj5blvZPliY3nrYnnuqfljYfnuqfmiYDpnIDnu4/pqoznmoQwJS0xMCUNCiAgICAvL3ZpbGxhZ2VfYXR0YWNrZWQ6OkNWaWxsYWdlTW9uc3Rlck1ncjo6T25LaWxsVmlsbGFnZU1vbnN0ZXINCiAgICBJbnRlcmNlcHRvci5hdHRhY2gocHRyKDB4MDg2QjQ4NjYpLCB7DQoNCiAgICAgICAgb25FbnRlcjogZnVuY3Rpb24gKGFyZ3MpIHsNCg0KICAgICAgICAgICAgdGhpcy51c2VyID0gYXJnc1sxXTsNCiAgICAgICAgICAgIHRoaXMucmVzdWx0ID0gYXJnc1syXS50b0ludDMyKCk7DQogICAgICAgIH0sDQogICAgICAgIG9uTGVhdmU6IGZ1bmN0aW9uIChyZXR2YWwpIHsNCiAgICAgICAgICAgIGlmKHJldHZhbCA9PSAwKQ0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgIC8v5oyR5oiY5oiQ5YqfDQogICAgICAgICAgICAgICAgaWYodGhpcy5yZXN1bHQpDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAvL+eOqeWutuaJgOWcqOmYn+S8jQ0KICAgICAgICAgICAgICAgICAgICB2YXIgcGFydHkgPSBDVXNlcl9HZXRQYXJ0eSh0aGlzLnVzZXIpOw0KICAgICAgICAgICAgICAgICAgICAvL+aAqueJqeaUu+WfjuaMkeaImOaIkOWKnywg57uZ6Zif5LyN5Lit5omA5pyJ5oiQ5ZGY5Y+R6YCB6aKd5aSW6YCa5YWz5Y+R57uP6aqMDQogICAgICAgICAgICAgICAgICAgIGZvcih2YXIgaT0wOyBpPDQ7ICsraSkNCiAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVzZXIgPSBDUGFydHlfZ2V0X3VzZXIocGFydHksIGkpOw0KICAgICAgICAgICAgICAgICAgICAgICAgaWYoIXVzZXIuaXNOdWxsKCkpDQogICAgICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy/pmo/mnLrnu4/pqozlpZblirENCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VyX2xldmVsID0gQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfbGV2ZWwodXNlcik7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJld2FyZF9leHAgPSBNYXRoLmZsb29yKENVc2VyQ2hhcmFjSW5mb19nZXRfbGV2ZWxfdXBfZXhwKHVzZXIsIGN1cl9sZXZlbCkgKiBnZXRfcmFuZG9tX2ludCgwLCAxMDApIC8gMTAwMCk7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL+WPkee7j+mqjA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwaV9DVXNlcl9nYWluX2V4cF9zcCh1c2VyLCByZXdhcmRfZXhwKTsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8v6YCa55+l546p5a626I635Y+W6aKd5aSW5aWW5YqxDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBpX0NVc2VyX1NlbmROb3RpUGFja2V0TWVzc2FnZSh1c2VyLCAn5oCq54mp5pS75Z+O5oyR5oiY5oiQ5YqfLCDojrflj5bpop3lpJbnu4/pqozlpZblirEnICsgcmV3YXJkX2V4cCwgMCk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9KTsNCn0NCg0KLy/lvIDlkK/mgKrnianmlLvln47mtLvliqgNCmZ1bmN0aW9uIHN0YXJ0X3ZpbGxhZ2VhdHRhY2soKQ0Kew0KICAgIHZhciBhMyA9IE1lbW9yeS5hbGxvYygxMDApOw0KICAgIGEzLmFkZCgxMCkud3JpdGVJbnQoRVZFTlRfVklMTEFHRUFUVEFDS19UT1RBTF9USU1FKTsgICAgICAgICAgICAgICAgICAgICAgIC8v5rS75Yqo5Ymp5L2Z5pe26Ze0DQogICAgYTMuYWRkKDE0KS53cml0ZUludCh2aWxsYWdlQXR0YWNrRXZlbnRJbmZvLnNjb3JlKTsgICAgICAgICAgICAgICAgICAgICAgICAgLy/lvZPliY3popHpgZNQVOeCueaVsA0KICAgIGEzLmFkZCgxOCkud3JpdGVJbnQoRVZFTlRfVklMTEFHRUFUVEFDS19UQVJHRVRfU0NPUkVbMl0pOyAgICAgICAgICAgICAgICAgIC8v5oiQ5Yqf6Ziy5a6I5omA6ZyA54K55pWwDQoNCiAgICBJbnRlcl9WaWxsYWdlQXR0YWNrZWRTdGFydF9kaXNwYXRjaF9zaWcocHRyKDApLCBwdHIoMCksIGEzKTsNCn0NCg0KLy/pgJrnn6XnjqnlrrbmgKrnianmlLvln47ov5vluqYNCmZ1bmN0aW9uIG5vdGlmeV92aWxsYWdlYXR0YWNrX3Njb3JlKHVzZXIpDQp7DQogICAgLy/njqnlrrblvZPliY1QVOeCuQ0KICAgIHZhciBjaGFyYWNfbm8gPSBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjTm8odXNlcikudG9TdHJpbmcoKTsNCiAgICB2YXIgdmlsbGFnZWF0dGFja19wdCA9IDA7DQogICAgaWYoY2hhcmFjX25vIGluIHZpbGxhZ2VBdHRhY2tFdmVudEluZm8udXNlcl9wdF9pbmZvKQ0KICAgICAgICB2aWxsYWdlYXR0YWNrX3B0ID0gdmlsbGFnZUF0dGFja0V2ZW50SW5mby51c2VyX3B0X2luZm9bY2hhcmFjX25vXVsxXTsNCg0KICAgIC8v6K6h566X5rS75Yqo5Ymp5L2Z5pe26Ze0DQogICAgdmFyIHJlbWFpbl90aW1lID0gZXZlbnRfdmlsbGFnZWF0dGFja19nZXRfcmVtYWluX3RpbWUoKTsNCiAgICBpZigocmVtYWluX3RpbWUgPD0gMCkgfHwgKHZpbGxhZ2VBdHRhY2tFdmVudEluZm8uc3RhdGUgPT0gVklMTEFHRUFUVEFDS19TVEFURV9FTkQpKQ0KICAgICAgICByZXR1cm47DQoNCiAgICAvL+WPkeWMhemAmuefpeinkuiJsuaJk+W8gOaAqueJqeaUu+WfjlVJ5bm25pu05paw5b2T5YmN6L+b5bqmDQogICAgdmFyIHBhY2tldF9ndWFyZCA9IGFwaV9QYWNrZXRHdWFyZF9QYWNrZXRHdWFyZCgpOw0KICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfaGVhZGVyKHBhY2tldF9ndWFyZCwgMCwgMjQ4KTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL+WNj+iurjogRU5VTV9OT1RJUEFDS0VUX1NUQVJURURfVklMTEFHRV9BVFRBQ0tFRA0KICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfaW50KHBhY2tldF9ndWFyZCwgcmVtYWluX3RpbWUpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL+a0u+WKqOWJqeS9meaXtumXtA0KICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfaW50KHBhY2tldF9ndWFyZCwgdmlsbGFnZUF0dGFja0V2ZW50SW5mby5zY29yZSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL+W9k+WJjemikemBk1BU54K55pWwDQogICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9pbnQocGFja2V0X2d1YXJkLCBFVkVOVF9WSUxMQUdFQVRUQUNLX1RBUkdFVF9TQ09SRVsyXSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8v5oiQ5Yqf6Ziy5a6I5omA6ZyA54K55pWwDQogICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9pbnQocGFja2V0X2d1YXJkLCB2aWxsYWdlYXR0YWNrX3B0KTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8v5Liq5Lq6UFTngrnmlbANCiAgICBJbnRlcmZhY2VQYWNrZXRCdWZfZmluYWxpemUocGFja2V0X2d1YXJkLCAxKTsNCiAgICBDVXNlcl9TZW5kKHVzZXIsIHBhY2tldF9ndWFyZCk7DQogICAgRGVzdHJveV9QYWNrZXRHdWFyZF9QYWNrZXRHdWFyZChwYWNrZXRfZ3VhcmQpOw0KfQ0KDQovL+abtOaWsOaAqueJqeaUu+WfjuW9k+WJjei/m+W6pijlub/mkq3nu5npopHpgZPlhoXlnKjnur/njqnlrrYpDQpmdW5jdGlvbiBHYW1ld29ybGRfdXBkYXRlX3ZpbGxhZ2VhdHRhY2tfc2NvcmUoKQ0Kew0KICAgIC8v6K6h566X5rS75Yqo5Ymp5L2Z5pe26Ze0DQogICAgdmFyIHJlbWFpbl90aW1lID0gZXZlbnRfdmlsbGFnZWF0dGFja19nZXRfcmVtYWluX3RpbWUoKTsNCiAgICBpZigocmVtYWluX3RpbWUgPD0gMCkgfHwgKHZpbGxhZ2VBdHRhY2tFdmVudEluZm8uc3RhdGUgPT0gVklMTEFHRUFUVEFDS19TVEFURV9FTkQpKQ0KICAgICAgICByZXR1cm47DQoNCiAgICB2YXIgcGFja2V0X2d1YXJkID0gYXBpX1BhY2tldEd1YXJkX1BhY2tldEd1YXJkKCk7DQogICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9oZWFkZXIocGFja2V0X2d1YXJkLCAwLCAyNDcpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8v5Y2P6K6uOiBFTlVNX05PVElQQUNLRVRfVVBEQVRFX1ZJTExBR0VfQVRUQUNLRUQNCiAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2ludChwYWNrZXRfZ3VhcmQsIHJlbWFpbl90aW1lKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy/mtLvliqjliankvZnml7bpl7QNCiAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2ludChwYWNrZXRfZ3VhcmQsIHZpbGxhZ2VBdHRhY2tFdmVudEluZm8uc2NvcmUpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy/lvZPliY3popHpgZNQVOeCueaVsA0KICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfaW50KHBhY2tldF9ndWFyZCwgRVZFTlRfVklMTEFHRUFUVEFDS19UQVJHRVRfU0NPUkVbMl0pOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL+aIkOWKn+mYsuWuiOaJgOmcgOeCueaVsA0KICAgIEludGVyZmFjZVBhY2tldEJ1Zl9maW5hbGl6ZShwYWNrZXRfZ3VhcmQsIDEpOw0KICAgIEdhbWVXb3JsZF9zZW5kX2FsbChHX0dhbWVXb3JsZCgpLCBwYWNrZXRfZ3VhcmQpOw0KICAgIERlc3Ryb3lfUGFja2V0R3VhcmRfUGFja2V0R3VhcmQocGFja2V0X2d1YXJkKTsNCn0NCg0KLy/nu5PmnZ/mgKrnianmlLvln47mtLvliqgo56uL5Y2z6ZSA5q+B5pS75Z+O5oCq54mpLCDkuI3lvIDlkK/pgIbooq3kuYvosLcsIOS4jeWPkemAgea0u+WKqOWlluWKsSkNCmZ1bmN0aW9uIGVuZF92aWxsYWdlYXR0YWNrKCkNCnsNCiAgICB2aWxsYWdlX2F0dGFja2VkX0NWaWxsYWdlTW9uc3Rlck1ncl9PbkRlc3Ryb3lWaWxsYWdlTW9uc3RlcihHbG9iYWxEYXRhX3NfdmlsbGFnZU1vbnN0ZXJNZ3IucmVhZFBvaW50ZXIoKSwgMik7DQp9DQoNCi8v6YeN572u5rS75Yqo5pWw5o2uDQpmdW5jdGlvbiByZXNldF92aWxsYWdlYXR0YWNrX2luZm8oKQ0Kew0KICAgIHZpbGxhZ2VBdHRhY2tFdmVudEluZm8uc3RhdGUgPSBWSUxMQUdFQVRUQUNLX1NUQVRFX1AxOw0KICAgIHZpbGxhZ2VBdHRhY2tFdmVudEluZm8uc2NvcmUgPSAwOw0KICAgIHZpbGxhZ2VBdHRhY2tFdmVudEluZm8uZGlmZmljdWx0ID0gMDsNCiAgICB2aWxsYWdlQXR0YWNrRXZlbnRJbmZvLm5leHRfdmlsbGFnZV9tb25zdGVyX2lkID0gVEFVX0NBUFRBSU5fTU9OU1RFUl9JRDsNCiAgICB2aWxsYWdlQXR0YWNrRXZlbnRJbmZvLmxhc3Rfa2lsbGVkX21vbnN0ZXJfaWQgPSAwOw0KICAgIHZpbGxhZ2VBdHRhY2tFdmVudEluZm8ucDJfa2lsbF9jb21ibyA9IDA7DQoNCiAgICB2aWxsYWdlQXR0YWNrRXZlbnRJbmZvLnVzZXJfcHRfaW5mbyA9IHt9Ow0KDQogICAgc2V0X3ZpbGxhZ2VhdHRhY2tfZHVuZ2Vvbl9kaWZmaWN1bHQodmlsbGFnZUF0dGFja0V2ZW50SW5mby5kaWZmaWN1bHQpOw0KDQogICAgdmlsbGFnZUF0dGFja0V2ZW50SW5mby5zdGFydF90aW1lID0gYXBpX0NTeXN0ZW1UaW1lX2dldEN1clNlYygpOw0KICAgIGNvbnNvbGUubG9nKCJzdGFydF90aW1lOiIrdmlsbGFnZUF0dGFja0V2ZW50SW5mby5zdGFydF90aW1lKQ0KfQ0KDQovL+W8gOWni+aAqueJqeaUu+Wfjua0u+WKqA0KZnVuY3Rpb24gb25fc3RhcnRfZXZlbnRfdmlsbGFnZWF0dGFjaygpDQp7DQogICAgLy/ph43nva7mtLvliqjmlbDmja4NCiAgICByZXNldF92aWxsYWdlYXR0YWNrX2luZm8oKTsNCg0KICAgIC8v6YCa55+l5YWo5pyN546p5a625rS75Yqo5byA5aeLIOW5tuWIt+aWsOWfjumVh+aAqueJqQ0KICAgIHN0YXJ0X3ZpbGxhZ2VhdHRhY2soKTsNCg0KICAgIC8v5byA5ZCv5rS75Yqo6K6h5pe25ZmoDQogICAgYXBpX3NjaGVkdWxlT25NYWluVGhyZWFkX2RlbGF5KGV2ZW50X3ZpbGxhZ2VhdHRhY2tfdGltZXIsIG51bGwsIDUwMDApOw0KDQogICAgLy/lhazlkYrpgJrnn6XlvZPliY3mtLvliqjov5vluqYNCiAgICBldmVudF92aWxsYWdlYXR0YWNrX2Jyb2FkY2FzdF9kaWZmY3VsdCgpOw0KfQ0KDQovL+e7k+adn+aAqueJqeaUu+Wfjua0u+WKqA0KZnVuY3Rpb24gb25fZW5kX2V2ZW50X3ZpbGxhZ2VhdHRhY2soKQ0Kew0KICAgIGlmKHZpbGxhZ2VBdHRhY2tFdmVudEluZm8uc3RhdGUgPT0gVklMTEFHRUFUVEFDS19TVEFURV9FTkQpDQogICAgICAgIHJldHVybjsNCg0KICAgIC8v6K6+572u5rS75Yqo54q25oCBDQogICAgdmlsbGFnZUF0dGFja0V2ZW50SW5mby5zdGF0ZSA9IFZJTExBR0VBVFRBQ0tfU1RBVEVfRU5EOw0KDQogICAgLy/nq4vljbPnu5PmnZ/mgKrnianmlLvln47mtLvliqgNCiAgICBlbmRfdmlsbGFnZWF0dGFjaygpOw0KDQogICAgLy/pmLLlrojmiJDlip8NCiAgICBpZih2aWxsYWdlQXR0YWNrRXZlbnRJbmZvLmRlZmVuZF9zdWNjZXNzKQ0KICAgIHsNCiAgICAgICAgLy/popHpgZPlhoXlnKjnur/njqnlrrblj5HlpZYNCg0KICAgICAgICAvL+WPkeS/oeWlluWKsTog6YeR5biBK+mBk+WFtw0KICAgICAgICB2YXIgcmV3YXJkX2dvbGQgPSAxMDAwMDAwKigxK3ZpbGxhZ2VBdHRhY2tFdmVudEluZm8uZGlmZmljdWx0KTsgICAgIC8v6YeR5biBDQogICAgICAgIHZhciByZXdhcmRfaXRlbV9saXN0ID0gWw0KICAgICAgICAgICAgWzc3NDUsIDUqKDErdmlsbGFnZUF0dGFja0V2ZW50SW5mby5kaWZmaWN1bHQpXSwgICAgICAgICAgICAgICAgIC8v5aOr5rCU5Yay5aSpDQogICAgICAgICAgICBbMjYwMDAyOCwgNSooMSt2aWxsYWdlQXR0YWNrRXZlbnRJbmZvLmRpZmZpY3VsdCldLCAgICAgICAgICAgICAgLy/lpKnloILnl4rmhIgNCiAgICAgICAgICAgIFs0MiwgNSooMSt2aWxsYWdlQXR0YWNrRXZlbnRJbmZvLmRpZmZpY3VsdCldLCAgICAgICAgICAgICAgICAgICAvL+Wkjea0u+W4gQ0KICAgICAgICAgICAgWzMzMTQsIDErdmlsbGFnZUF0dGFja0V2ZW50SW5mby5kaWZmaWN1bHRdLCAgICAgICAgICAgICAgICAgICAgIC8v57ud5pyb5LmL5aGU6YCa5YWz5aWW56ugDQogICAgICAgIF07DQogICAgICAgIGFwaV9HYW1ld29ybGRfc2VuZF9tYWlsKCc85oCq54mp5pS75Z+O5rS75YqoPicsICfmga3llpzli4flo6shJywgcmV3YXJkX2dvbGQsIHJld2FyZF9pdGVtX2xpc3QpOw0KDQogICAgICAgIC8v54m55q6K5aWW5YqxDQogICAgICAgIGFwaV9HYW1ld29ybGRfZm9yZWFjaChmdW5jdGlvbiAodXNlciwgYXJncyl7DQogICAgICAgICAgICAvL+iuvue9rue7neacm+S5i+WhlOW9k+WJjeWxguaVsOS4ujEwMOWxgg0KICAgICAgICAgICAgYXBpX1RPRF9Vc2VyU3RhdGVfc2V0RW50ZXJMYXllcih1c2VyLCA5OSk7DQoNCiAgICAgICAgICAgIC8v6ZqP5py66YCJ5oup5LiA5Lu256m/5oi05Lit55qE6KOF5aSHDQogICAgICAgICAgICB2YXIgaW52ZW4gPSBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjSW52ZW5XKHVzZXIpOw0KICAgICAgICAgICAgdmFyIHNsb3QgPSBnZXRfcmFuZG9tX2ludCgxMCwgMjEpOyAgICAgICAgICAvLzEy5Lu26KOF5aSHc2xvdOiMg+WbtDEwLTIxDQogICAgICAgICAgICB2YXIgZXF1ID0gQ0ludmVudG9yeV9HZXRJbnZlblJlZihpbnZlbiwgSU5WRU5UT1JZX1RZUEVfQk9EWSwgc2xvdCk7DQogICAgICAgICAgICBpZihJbnZlbl9JdGVtX2dldEtleShlcXUpKQ0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgIC8v6K+75Y+W6KOF5aSH5by65YyW562J57qnDQogICAgICAgICAgICAgICAgdmFyIHVwZ3JhZGVfbGV2ZWwgPSBlcXUuYWRkKDYpLnJlYWRVOCgpOw0KICAgICAgICAgICAgICAgIGlmKHVwZ3JhZGVfbGV2ZWwgPCAzMSkNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIC8v5o+Q5Y2H6KOF5aSH55qE5by65YyWL+WinuW5heetiee6pw0KICAgICAgICAgICAgICAgICAgICB2YXIgYm9udXNfbGV2ZWwgPSBnZXRfcmFuZG9tX2ludCgxLCAxICsgdmlsbGFnZUF0dGFja0V2ZW50SW5mby5kaWZmaWN1bHQpOw0KICAgICAgICAgICAgICAgICAgICB1cGdyYWRlX2xldmVsICs9IGJvbnVzX2xldmVsOw0KDQogICAgICAgICAgICAgICAgICAgIGlmKHVwZ3JhZGVfbGV2ZWwgPj0gMzEpDQogICAgICAgICAgICAgICAgICAgICAgICB1cGdyYWRlX2xldmVsID0gMzE7DQoNCiAgICAgICAgICAgICAgICAgICAgLy/mj5DljYflvLrljJYv5aKe5bmF562J57qnDQogICAgICAgICAgICAgICAgICAgIGVxdS5hZGQoNikud3JpdGVVOCh1cGdyYWRlX2xldmVsKTsNCg0KICAgICAgICAgICAgICAgICAgICAvL+mAmuefpeWuouaIt+err+abtOaWsOijheWkhw0KICAgICAgICAgICAgICAgICAgICBDVXNlcl9TZW5kVXBkYXRlSXRlbUxpc3QodXNlciwgMSwgMywgc2xvdCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9LCBudWxsKTsNCg0KDQogICAgICAgIC8v5qac5LiA5aSn5ZOlDQogICAgICAgIHZhciByYW5rX2ZpcnN0X2NoYXJhY19ubyA9IDA7DQogICAgICAgIHZhciByYW5rX2ZpcnN0X2FjY291bnRfaWQgPSAwOw0KICAgICAgICB2YXIgbWF4X3B0ID0gMDsNCg0KICAgICAgICAvL+iuuuWKn+ihjOi1jw0KICAgICAgICBmb3IodmFyIGNoYXJhY19ubyBpbiB2aWxsYWdlQXR0YWNrRXZlbnRJbmZvLnVzZXJfcHRfaW5mbykNCiAgICAgICAgew0KICAgICAgICAgICAgLy/lj5HngrnliLgNCiAgICAgICAgICAgIHZhciBhY2NvdW50X2lkID0gdmlsbGFnZUF0dGFja0V2ZW50SW5mby51c2VyX3B0X2luZm9bY2hhcmFjX25vXVswXTsNCiAgICAgICAgICAgIHZhciBwdCA9IHZpbGxhZ2VBdHRhY2tFdmVudEluZm8udXNlcl9wdF9pbmZvW2NoYXJhY19ub11bMV07DQogICAgICAgICAgICB2YXIgcmV3YXJkX2NlcmEgPSBwdCoxMDsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL+eCueWIuOWlluWKsSA9IOS4quS6ulBUICogMTANCiAgICAgICAgICAgIGFwaV9yZWNoYXJnZV9jYXNoX2NlcmFfb2ZmbGluZShhY2NvdW50X2lkLCAnR00nLCByZXdhcmRfY2VyYSk7DQoNCiAgICAgICAgICAgIC8v5om+5Ye65qac5LiA5aSn5ZOlDQogICAgICAgICAgICBpZihwdCA+IG1heF9wdCkNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICByYW5rX2ZpcnN0X2NoYXJhY19ubyA9IGNoYXJhY19ubzsNCiAgICAgICAgICAgICAgICByYW5rX2ZpcnN0X2FjY291bnRfaWQgPSBhY2NvdW50X2lkOw0KICAgICAgICAgICAgICAgIG1heF9wdCA9IHB0Ow0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCg0KICAgICAgICAvL+mikemBk+WGheWFrOWRiua0u+WKqOW3sue7k+adnw0KICAgICAgICBhcGlfR2FtZVdvcmxkX1NlbmROb3RpUGFja2V0TWVzc2FnZSgnPOaAqueJqeaUu+Wfjua0u+WKqD4g6Ziy5a6I5oiQ5YqfLCDlpZblirHlt7Llj5HpgIEhJywgMTQpOw0KDQogICAgICAgIGlmKHJhbmtfZmlyc3RfY2hhcmFjX25vKQ0KICAgICAgICB7DQogICAgICAgICAgICAvL+S4quS6uuenr+WIhuaOkuihjOamnOesrOS4gOWQjSDpop3lpJbojrflvpcxMOWAjeeCueWIuOWlluWKsQ0KICAgICAgICAgICAgYXBpX3JlY2hhcmdlX2Nhc2hfY2VyYV9vZmZsaW5lKHJhbmtfZmlyc3RfYWNjb3VudF9pZCwgJ0dNJywgbWF4X3B0KjEwKTsNCg0KICAgICAgICAgICAgLy/popHpgZPlhoXlub/mkq3mnKzova7mtLvliqjmjpLooYzmppznrKzkuIDlkI3njqnlrrblkI3lrZcNCiAgICAgICAgICAgIHZhciByYW5rX2ZpcnN0X2NoYXJhY19uYW1lID0gYXBpX2dldF9jaGFyYWNfbmFtZV9ieV9jaGFyYWNfbm8ocmFua19maXJzdF9jaGFyYWNfbm8pOw0KICAgICAgICAgICAgYXBpX0dhbWVXb3JsZF9TZW5kTm90aVBhY2tldE1lc3NhZ2UoJzzmgKrnianmlLvln47mtLvliqg+IOaBreWWnOWLh+WjqyDjgJAnICsgcmFua19maXJzdF9jaGFyYWNfbmFtZSArICfjgJEg5oiQ5Li65Liq5Lq656ev5YiG5o6S6KGM5qac56ys5LiA5ZCNKCcgKyBtYXhfcHQgKyAncHQpIScsIDE0KTsNCiAgICAgICAgfQ0KICAgIH0NCiAgICBlbHNlDQogICAgew0KICAgICAgICAvL+mYsuWuiOWksei0pQ0KICAgICAgICBhcGlfR2FtZXdvcmxkX2ZvcmVhY2goZnVuY3Rpb24gKHVzZXIsIGFyZ3Mpew0KDQogICAgICAgICAgICAvL+iOt+WPluinkuiJsuiDjOWMhQ0KICAgICAgICAgICAgdmFyIGludmVuID0gQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY0ludmVuVyh1c2VyKTsNCg0KICAgICAgICAgICAgLy/lnKjnur/njqnlrrbooqvmlLvln47mgKrnianpmo/mnLrmjqDlpLrkuIDku7bnqb/miLTkuK3nmoToo4XlpIcNCiAgICAgICAgICAgIGlmKGdldF9yYW5kb21faW50KDAsIDEwMCkgPCA3KQ0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgIC8v6ZqP5py65Yig6Zmk5LiA5Lu256m/5oi05Lit55qE6KOF5aSHDQogICAgICAgICAgICAgICAgdmFyIHNsb3QgPSBnZXRfcmFuZG9tX2ludCgxMCwgMjEpOyAgICAgICAgICAvLzEy5Lu26KOF5aSHc2xvdOiMg+WbtDEwLTIxDQogICAgICAgICAgICAgICAgdmFyIGVxdSA9IENJbnZlbnRvcnlfR2V0SW52ZW5SZWYoaW52ZW4sIElOVkVOVE9SWV9UWVBFX0JPRFksIHNsb3QpOw0KDQogICAgICAgICAgICAgICAgaWYoSW52ZW5fSXRlbV9nZXRLZXkoZXF1KSkNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIEludmVuX0l0ZW1fcmVzZXQoZXF1KTsNCg0KICAgICAgICAgICAgICAgICAgICAvL+mAmuefpeWuouaIt+err+abtOaWsOijheWkhw0KICAgICAgICAgICAgICAgICAgICBDVXNlcl9TZW5kTm90aVBhY2tldCh1c2VyLCAxLCAyLCAzKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIC8v5Zyo57q/546p5a626KKr5pS75Z+O5oCq54mp6ZqP5py65o6g5aS6MSUtMTAl5omA5oyB6YeR5biBDQogICAgICAgICAgICB2YXIgcmF0ZSA9IGdldF9yYW5kb21faW50KDEsIDExKTsNCiAgICAgICAgICAgIHZhciBjdXJfZ29sZCA9IENJbnZlbnRvcnlfZ2V0X21vbmV5KGludmVuKTsNCiAgICAgICAgICAgIHZhciB0YXggPSBNYXRoLmZsb29yKChyYXRlIC8gMTAwKSAqIGN1cl9nb2xkKTsNCiAgICAgICAgICAgIENJbnZlbnRvcnlfdXNlX21vbmV5KGludmVuLCB0YXgsIDAsIDApOw0KDQogICAgICAgICAgICAvL+mAmuefpeWuouaIt+err+abtOaWsOmHkeW4geaVsOmHjw0KICAgICAgICAgICAgQ1VzZXJfU2VuZFVwZGF0ZUl0ZW1MaXN0KHVzZXIsIDEsIDAsIDApOw0KICAgICAgICB9LCBudWxsKTsNCg0KDQogICAgICAgIC8v6aKR6YGT5YaF5YWs5ZGK5rS75Yqo5bey57uT5p2fDQogICAgICAgIGFwaV9HYW1lV29ybGRfU2VuZE5vdGlQYWNrZXRNZXNzYWdlKCc85oCq54mp5pS75Z+O5rS75YqoPiDpmLLlrojlpLHotKUsIOivt+WLh+Wjq+S7rOWGjeaOpeWGjeWOiSEnLCAxNCk7DQogICAgfQ0KDQogICAgLy/ph4rmlL7nqbrpl7QNCiAgICB2aWxsYWdlQXR0YWNrRXZlbnRJbmZvLnVzZXJfcHRfaW5mbyA9IHt9Ow0KDQogICAgLy/lrZjmoaMNCiAgICBldmVudF92aWxsYWdlYXR0YWNrX3NhdmVfdG9fZGIoKTsNCg0KICAgIC8v5byA5ZCv5oCq54mp5pS75Z+O5rS75Yqo5a6a5pe25ZmoDQogICAgc3RhcnRfZXZlbnRfdmlsbGFnZWF0dGFja190aW1lcigpOw0KfQ0KDQovL+W8gOWQr+aAqueJqeaUu+Wfjua0u+WKqOWumuaXtuWZqA0KZnVuY3Rpb24gc3RhcnRfZXZlbnRfdmlsbGFnZWF0dGFja190aW1lcigpDQp7DQogICAgLy/ojrflj5blvZPliY3ns7vnu5/ml7bpl7QNCiAgICB2YXIgY3VyX3RpbWUgPSBhcGlfQ1N5c3RlbVRpbWVfZ2V0Q3VyU2VjKCk7DQoNCiAgICAvL+iuoeeul+i3neemu+S4i+asoeW8gOWQr+aAqueJqeaUu+Wfjua0u+WKqOeahOaXtumXtA0KICAgIHZhciBkZWxheV90aW1lID0gKDM2MDAqRVZFTlRfVklMTEFHRUFUVEFDS19TVEFSVF9IT1VSKSAtIChjdXJfdGltZSAlICgzNjAwKjI0KSk7DQogICAgaWYoZGVsYXlfdGltZSA8PSAwKQ0KICAgICAgICBkZWxheV90aW1lICs9IDM2MDAqMjQ7DQoNCiAgICAvL2xvZygn6Led56a75LiL5qyh5byA5ZCvPOaAqueJqeaUu+Wfjua0u+WKqD7ov5jmnIk6JyArIGRlbGF5X3RpbWUvMzYwMCArICflsI/ml7YnKTsNCiAgICAvL29uX3N0YXJ0X2V2ZW50X3ZpbGxhZ2VhdHRhY2soKQ0KICAgIC8v5a6a5pe25byA5ZCv5rS75YqoDQogICAgYXBpX3NjaGVkdWxlT25NYWluVGhyZWFkX2RlbGF5KG9uX3N0YXJ0X2V2ZW50X3ZpbGxhZ2VhdHRhY2ssIG51bGwsIGRlbGF5X3RpbWUqMTAwMCk7DQp9DQoNCi8v5byA5ZCv5oCq54mp5pS75Z+O5rS75YqoDQpmdW5jdGlvbiBzdGFydF9ldmVudF92aWxsYWdlYXR0YWNrKCkNCnsNCiAgICAvL3BhdGNo55u45YWz5Ye95pWwLCDkv67lpI3mtLvliqjmtYHnqIsNCiAgICBob29rX1ZpbGxhZ2VBdHRhY2soKTsNCg0KICAgIGlmKHZpbGxhZ2VBdHRhY2tFdmVudEluZm8uc3RhdGUgPT0gVklMTEFHRUFUVEFDS19TVEFURV9FTkQpDQogICAgew0KICAgICAgICAvL+W8gOWQr+aAqueJqeaUu+Wfjua0u+WKqOWumuaXtuWZqA0KICAgICAgICBzdGFydF9ldmVudF92aWxsYWdlYXR0YWNrX3RpbWVyKCk7DQogICAgfQ0KfQ0KDQovL+WPsuivl+WFjeehruiupA0KZnVuY3Rpb24gY2FuY2VsX2VwaWNfb2soKQ0Kew0KICAgIE1lbW9yeS5wYXRjaENvZGUocHRyKDB4MDg1QTU2Q0UpLmFkZCgyKSwgMSwgZnVuY3Rpb24gKGNvZGUpIHsNCiAgICAgICAgdmFyIGN3ID0gbmV3IFg4NldyaXRlcihjb2RlLCB7IHBjOiBwdHIoMHgwODVBNTZDRSkuYWRkKDIpIH0pOw0KICAgICAgICBjdy5wdXRVOCg5KTsNCiAgICAgICAgY3cuZmx1c2goKTsNCiAgICB9KTsNCiAgICBJbnRlcmNlcHRvci5hdHRhY2gocHRyKDB4MDgxNTBmMTgpLCB7DQogICAgICAgIG9uTGVhdmU6IGZ1bmN0aW9uIChyZXR2YWwpIHsNCiAgICAgICAgICAgIHJldHZhbC5yZXBsYWNlKDApOw0KICAgICAgICB9DQogICAgfSk7DQp9DQoNCi8v5byA5ZCv5Yib5bu657yU6YCgDQpmdW5jdGlvbiBlbmFibGVfY3JlYXRlQ3JlYXRvcigpew0KICAgIE1lbW9yeS5wYXRjaENvZGUocHRyKDB4MDgxQzAyOUUpLmFkZCgxKSwgMSwgZnVuY3Rpb24gKGNvZGUpIHsNCiAgICAgICAgdmFyIGN3ID0gbmV3IFg4NldyaXRlcihjb2RlLCB7IHBjOiBwdHIoMHgwODFDMDI5RSkuYWRkKDEpIH0pOw0KICAgICAgICBjdy5wdXRVOCgxMSk7DQogICAgICAgIGN3LmZsdXNoKCk7DQogICAgfSk7DQp9DQoNCi8v5byA5ZCv5rex5riK5qih5byPDQp2YXIgaGVmZlBhcnR5VGFnID0gZmFsc2U7DQpmdW5jdGlvbiBzdGFydEhlbGxQYXJ0eSgpew0KICAgIEludGVyY2VwdG9yLmF0dGFjaChwdHIoMHgwODVhMDk1NCksIHsNCiAgICAgICAgb25FbnRlcjogZnVuY3Rpb24gKGFyZ3MpIHsNCiAgICAgICAgICAgIGlmKGhlZmZQYXJ0eVRhZyl7DQogICAgICAgICAgICAgICAgYXJnc1szXSA9IHB0cigxKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0pOw0KfQ0KDQovLysxM+S7peS4iuW8uuWMluWIuOaXoOmcgOWwj+mAgA0KSW50ZXJjZXB0b3IuYXR0YWNoKHB0cigweDA4MEZDODUwKSx7DQogICAgb25FbnRlcjogZnVuY3Rpb24gKGFyZ3MpIHsNCiAgICB0aGlzLmVxdWlQb3MgPSBhcmdzWzJdLmFkZCgyNykucmVhZFUxNigpOw0KICAgIHRoaXMudXNlciA9IGFyZ3NbMV07DQogICAgfSwNCiAgICBvbkxlYXZlOiBmdW5jdGlvbiAocmV0dmFsKXsNCiAgICBDVXNlcl9TZW5kVXBkYXRlSXRlbUxpc3QodGhpcy51c2VyLCAxLCAwLCB0aGlzLmVxdWlQb3MpOw0KICAgIH0NCiAgICB9KTsNCg0KLy/pnIDopoHlrozmiJDnmoTku7vliqHliJfooagNCnZhciBxdWVzdF9saXN0ID0gWzQ5MjAsNDkyMSwyNDEzLDIyMDEsIDE4NjIwXTsgDQpmdW5jdGlvbiBhcGlfZm9yY2VfY2xlYXJfcXVlc3RfbGlzdCh1c2VyLCBxdWVzdF9saXN0KQ0Kew0KDQogICAgLy8g5b6q546v6YGN5Y6G5Lu75Yqh5YiX6KGoDQogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBxdWVzdF9saXN0Lmxlbmd0aDsgaSsrKQ0KICAgIHsNCiAgICAgICAgdmFyIHF1ZXN0X2lkID0gcXVlc3RfbGlzdFtpXTsNCiAgICAgICAgYXBpX2ZvcmNlX2NsZWFyX3F1ZXN0KHVzZXIsIHF1ZXN0X2lkKTsgLy/lrozmiJDlr7nlupTnmoTku7vliqENCiAgICB9DQp9DQoNCi8qKg0KICog6KOF5aSH5YiG6KejDQogKiBAcGFyYW0gdXNlcg0KICovDQpmdW5jdGlvbiBkZWNvbXBvc2UodXNlcil7DQogICAgLy8g5YiG6Kej5Yi4DQogICAgdmFyIGluZGV4ID0gMDsNCiAgICAvLyDmo4Dmn6Xlia/ogYzkuJrmmK/lkKblvIDlkK8NCiAgICB2YXIgY2hlY2tUYWcgPSBDVXNlckNoYXJhY0luZm9fR2V0Q3VyQ2hhcmFjRXhwZXJ0Sm9iKHVzZXIpOw0KICAgIGlmKGNoZWNrVGFnID09IDApew0KICAgICAgICBhcGlfQ1VzZXJfU2VuZE5vdGlQYWNrZXRNZXNzYWdlKHVzZXIsIuazqOaEj++8miDlia/ogYzkuJrmsqHmnInlvIDlkK/vvIEiLDEpOw0KICAgICAgICByZXR1cm47DQogICAgfQ0KICAgIHZhciBpbnZlbiA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNJbnZlblcodXNlcik7DQogICAgZm9yICh2YXIgaSA9IDk7IGkgPD0gMjQ7IGkrKykgew0KICAgICAgICB2YXIgZXF1ID0gQ0ludmVudG9yeV9HZXRJbnZlblJlZihpbnZlbiwgSU5WRU5UT1JZX1RZUEVfSVRFTSwgaSk7DQogICAgICAgIGlmKEludmVuX0l0ZW1fZ2V0S2V5KGVxdSkpew0KICAgICAgICAgICAgLy8g5YiG6Kej6KOF5aSHDQogICAgICAgICAgICBEaXNQYXRjaGVyX0Rpc0pvaW50SXRlbV9kaXNqb2ludCh1c2VyLGksRU5VTV9JVEVNU1BBQ0VfSU5WRU5UT1JZLDIzOSx1c2VyLDB4RkZGRik7DQogICAgICAgICAgICAvLyDmo4Dmn6Xoo4XlpIfmmK/lkKblrZjlnKgNCiAgICAgICAgICAgIGVxdSA9IENJbnZlbnRvcnlfR2V0SW52ZW5SZWYoaW52ZW4sIElOVkVOVE9SWV9UWVBFX0lURU0sIGkpOw0KICAgICAgICAgICAgaWYoSW52ZW5fSXRlbV9nZXRLZXkoZXF1KSl7DQogICAgICAgICAgICAgICAgLy8g5aSx6LSlDQogICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICAvLyDmiJDlip8NCiAgICAgICAgICAgICAgICBpbmRleCsrOw0KICAgICAgICAgICAgICAgIENVc2VyX1NlbmRVcGRhdGVJdGVtTGlzdCh1c2VyLCAxLCAwLCBpKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0NCiAgICBpZihpbmRleD4wKXsNCiAgICAgICAgYXBpX0NVc2VyX1NlbmROb3RpUGFja2V0TWVzc2FnZSh1c2VyLCLmga3llpzvvJogIitpbmRleCsi5Lu26KOF5aSH5YiG6KejIOaIkOWKn++8gSIsMCk7DQogICAgfWVsc2V7DQogICAgICAgIGFwaV9DVXNlcl9TZW5kTm90aVBhY2tldE1lc3NhZ2UodXNlciwi5rOo5oSP77yaIOijheWkh+WIhuinoyDlpLHotKXvvIEiLDApOw0KICAgIH0NCn0NCg0KLyoqDQogKiDot6jnlYznn7PvvJog5bCG6KOF5aSH5qCP55qE56ys5LiA5Liq5qC85a2Q55qE6KOF5aSH56e75YWl5Yiw6LSm5Y+36YeR5bqT77yM6Ieq5Yqo5om+56m655qE5qC85a2Q77yM5omA5Lul5Y+v5Lul5ZCM5pe256e75YWl5aSa5Lu2DQogKiBAcGFyYW0gdXNlcg0KICovDQpmdW5jdGlvbiBjcm9zc292ZXIodXNlcil7DQogICAgLy8g6Leo55WMICDlsIboo4XlpIfnp7vlhaXliLDotKblj7fph5HlupMNCiAgICB2YXIgYWNjb3VudENhcmdvID0gQ1VzZXJfR2V0QWNjb3VudENhcmdvKHVzZXIpOw0KICAgIGNvbnNvbGUubG9nKCdhY2NvdW50Q2FyZ2/vvJonK2FjY291bnRDYXJnbyk7DQogICAgdmFyIGVtcHR5SW5kZXggPSBDQWNjb3VudENhcmdvX0dldEVtcHR5U2xvdF9ORVcoYWNjb3VudENhcmdvKTsNCiAgICBjb25zb2xlLmxvZygnYWNjb3VudENhcmdvIGVtcHR5SW5kZXg6JytlbXB0eUluZGV4KQ0KICAgIGlmKGVtcHR5SW5kZXg9PS0xKXsNCiAgICAgICAgYXBpX0NVc2VyX1NlbmROb3RpUGFja2V0TWVzc2FnZSh1c2VyLCLot6jnlYzlpLHotKXvvJrotKblj7fph5HlupPmsqHmnInnqbrnmoTmoLzlrZDvvIHvvIHvvIEiLDApOw0KICAgIH0NCiAgICB2YXIgaW52ZW4gPSBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjSW52ZW5XKHVzZXIpOw0KICAgIHZhciBlcXUgPSBDSW52ZW50b3J5X0dldEludmVuUmVmKGludmVuLCBJTlZFTlRPUllfVFlQRV9JVEVNLCA5KTsNCiAgICB2YXIgaXRlbUlkID0gSW52ZW5fSXRlbV9nZXRLZXkoZXF1KTsNCiAgICBpZihpdGVtSWQpew0KICAgICAgICB2YXIgdGFnID0gQ0FjY291bnRDYXJnb19JbnNlcnRJdGVtX05FVyhhY2NvdW50Q2FyZ28sZXF1LGVtcHR5SW5kZXgpOw0KICAgICAgICBpZih0YWc9PS0xKXsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdmYWlsISEhJyk7DQogICAgICAgICAgICBhcGlfQ1VzZXJfU2VuZE5vdGlQYWNrZXRNZXNzYWdlKHVzZXIsIui3qOeVjOWksei0pe+8muenu+WFpeijheWkh2Vycm9yIiwwKTsNCiAgICAgICAgfWVsc2V7DQogICAgICAgICAgICBJbnZlbl9JdGVtX3Jlc2V0KGVxdSk7DQogICAgICAgICAgICBDVXNlcl9TZW5kVXBkYXRlSXRlbUxpc3QodXNlciwgMSwgMCwgOSk7DQogICAgICAgICAgICBDQWNjb3VudENhcmdvX1NlbmRJdGVtTGlzdF9ORVcoYWNjb3VudENhcmdvKTsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdzdWNjZXNzISEhJyk7DQogICAgICAgICAgICBhcGlfQ1VzZXJfU2VuZE5vdGlQYWNrZXRNZXNzYWdlKHVzZXIsIui3qOeVjOaIkOWKn++8muW3suWtmOWFpeesrCAiKyhlbXB0eUluZGV4KzEpKyIg5Liq5qC85a2Q77yBIiwwKTsNCiAgICAgICAgfQ0KICAgIH0NCn0NCg0KLyoqDQogKiDph43nva7lvILnlYzmrKHmlbANCiAqIEBwYXJhbSB1c2VyDQogKiBAcGFyYW0gaW5kZXgNCiAqLw0KZnVuY3Rpb24gcmVzZXRSZXNldERpbWVuc2lvbklub3V0KHVzZXIsIGluZGV4KXsNCiAgICB2YXIgZGltZW5zaW9uSW5vdXQgPSBDRGF0YU1hbmFnZXJfZ2V0X2RpbWVuc2lvbklub3V0KEdfQ0RhdGFNYW5hZ2VyKCksIGluZGV4KTsNCiAgICBDVXNlckNoYXJhY0luZm9fc2V0RGVtZW5zaW9uSW5vdXRWYWx1ZSh1c2VyLCBpbmRleCwgZGltZW5zaW9uSW5vdXQpOw0KfQ0KDQovKioNCiAqIOijheWkh+e7p+aJvyDlsIbnsonoibLku6XkuIrnrYnnuqflpKfkuo7nrYnkuo41NeeahOijheWkh+e7p+aJvyDlvLrljJYg5aKe5bmFIOmUu+mAoCDpmYTprZTvvIwg5Y6f6KOF5aSH5Lya5b2SMA0KICog5q2m5Zmo6ZyA6KaB5ZCM5rqQICDljbMg5aSq5YiALeOAi+WkquWIgA0KICog6Ziy5YW36ZyA6KaB5ZCM57G75Z6LICAg5Y2z55qu55Sy5LiK6KGjIC3jgIvmnb/nlLLkuIrooaMNCiAqIEBwYXJhbSB1c2VyDQogKi8NCmZ1bmN0aW9uIGVxdUluaGVyaXQodXNlcil7DQogICAgdmFyIGludmVuID0gQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY0ludmVuVyh1c2VyKTsNCiAgICB2YXIgZXF1ID0gQ0ludmVudG9yeV9HZXRJbnZlblJlZihpbnZlbiwgSU5WRU5UT1JZX1RZUEVfSVRFTSwgOSk7DQogICAgdmFyIGl0ZW1JZCA9IEludmVuX0l0ZW1fZ2V0S2V5KGVxdSkNCiAgICBpZihJbnZlbl9JdGVtX2dldEtleShlcXUpKXsNCiAgICAgICAgLy/or7vlj5boo4XlpIflvLrljJbnrYnnuqcNCiAgICAgICAgdmFyIHVwZ3JhZGVfbGV2ZWwgPSBlcXUuYWRkKDYpLnJlYWRVOCgpOw0KICAgICAgICB2YXIgaXRlbURhdGEgPSBDRGF0YU1hbmFnZXJfZmluZF9pdGVtKEdfQ0RhdGFNYW5hZ2VyKCksaXRlbUlkKTsNCiAgICAgICAgdmFyIGVxdV90eXBlID0gaXRlbURhdGEuYWRkKDE0MSo0KS5yZWFkVTMyKCk7IC8vIOijheWkh+exu+Weiw0KICAgICAgICB2YXIgc3ViX3R5cGUgPSBDRXF1aXBJdGVtX0dldFN1YlR5cGUoaXRlbURhdGEpOw0KICAgICAgICB2YXIgZXF1UmFyaXR5ID0gQ0l0ZW1fR2V0UmFyaXR5KGl0ZW1EYXRhKTsgLy8g56iA5pyJ5bqmICA+PTMgIOeyieiJsuS7peS4ig0KICAgICAgICB2YXIgbmVlZExldmVsID0gQ0l0ZW1fR2V0VXNhYmxlTGV2ZWwoaXRlbURhdGEpOyAgLy/nrYnnuqcNCiAgICAgICAgY29uc29sZS5sb2coImVxdV90eXBlIDoiK2VxdV90eXBlKQ0KICAgICAgICBjb25zb2xlLmxvZygic3ViX3R5cGUgOiIrc3ViX3R5cGUpDQoNCiAgICAgICAgdmFyIHVzZUpvYiA9ICIiOw0KICAgICAgICBmb3IgKHZhciBpID0gNjA7IGkgPD03MDsgaSsrKSB7DQogICAgICAgICAgICB1c2VKb2IgKz0gaXRlbURhdGEuYWRkKGkpLnJlYWRVOCgpOw0KICAgICAgICB9DQogICAgICAgIGNvbnNvbGUubG9nKGVxdV90eXBlICsgIiAgIit1c2VKb2IpOw0KDQogICAgICAgIGlmKGVxdVJhcml0eSA8IDMpew0KICAgICAgICAgICAgLy8g6KOF5aSH5ZOB57qn5b+F6aG76KaB5rGC57KJ6Imy5Lul5LiK77yM57un5om/6KOF5aSH5LiN5ruh6Laz6KaB5rGCDQogICAgICAgICAgICBhcGlfQ1VzZXJfU2VuZE5vdGlQYWNrZXRNZXNzYWdlKHVzZXIsIue7p+aJv+Wksei0pe+8muijheWkh+WTgee6p+W/hemhu+imgeaxgueyieiJsuS7peS4iu+8jOe7p+aJv+ijheWkh+S4jea7oei2s+imgeaxgiIsMCk7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCiAgICAgICAgaWYobmVlZExldmVsIDwgNTUpew0KICAgICAgICAgICAgLy8g6KOF5aSH562J57qn6KaB5aSn5LqONTDnuqfku6XkuIrvvIznu6fmib/oo4XlpIfkuI3mu6HotrPopoHmsYINCiAgICAgICAgICAgIGFwaV9DVXNlcl9TZW5kTm90aVBhY2tldE1lc3NhZ2UodXNlciwi57un5om/5aSx6LSl77ya6KOF5aSH562J57qn6KaB5aSn5LqO562J5LqONTXnuqfku6XkuIrvvIznu6fmib/oo4XlpIfkuI3mu6HotrPopoHmsYIoIituZWVkTGV2ZWwrIikiLDApOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQogICAgICAgIHZhciBzdWNjZXNzVGFnID0gZmFsc2U7DQogICAgICAgIGZvciAodmFyIGkgPSAxMDsgaSA8PTIxOyBpKyspIHsNCiAgICAgICAgICAgIHZhciBlcXVJbiA9IENJbnZlbnRvcnlfR2V0SW52ZW5SZWYoaW52ZW4sIElOVkVOVE9SWV9UWVBFX0JPRFksIGkpOw0KICAgICAgICAgICAgaWYoSW52ZW5fSXRlbV9nZXRLZXkoZXF1SW4pKXsNCiAgICAgICAgICAgICAgICB2YXIgaW5JdGVtSWQgPSBJbnZlbl9JdGVtX2dldEtleShlcXVJbikNCiAgICAgICAgICAgICAgICB2YXIgaW5JdGVtRGF0YSA9IENEYXRhTWFuYWdlcl9maW5kX2l0ZW0oR19DRGF0YU1hbmFnZXIoKSxpbkl0ZW1JZCk7DQogICAgICAgICAgICAgICAgdmFyIGluRXF1X3R5cGUgPSBpbkl0ZW1EYXRhLmFkZCgxNDEqNCkucmVhZFUzMigpOyAvLyDoo4XlpIfnsbvlnosNCiAgICAgICAgICAgICAgICB2YXIgaW5FcXVSYXJpdHkgPSBDSXRlbV9HZXRSYXJpdHkoaW5JdGVtRGF0YSk7IC8vIOeogOacieW6piAgPj0zICDnsonoibLku6XkuIoNCiAgICAgICAgICAgICAgICB2YXIgaW5OZWVkTGV2ZWwgPSBDSXRlbV9HZXRVc2FibGVMZXZlbChpbkl0ZW1EYXRhKTsgIC8v562J57qnDQogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2VxdV90eXBlIGHvvJonK2VxdV90eXBlKycsJytpbkVxdV90eXBlKycsJytpbkl0ZW1EYXRhLmFkZCgxNDgpLnJlYWRVOCgpKQ0KICAgICAgICAgICAgICAgIGlmKGluRXF1X3R5cGU9PWVxdV90eXBlKXsNCiAgICAgICAgICAgICAgICAgICAgaWYoaW5FcXVfdHlwZT09MTApew0KICAgICAgICAgICAgICAgICAgICAgICAgLy8g5q2m5Zmo6ZyA6KaB5ZCM6IGM5LiaDQogICAgICAgICAgICAgICAgICAgICAgICB2YXIgdXNlSm9iID0gIiI7DQogICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5Vc2VKb2IgPSAiIjsNCiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSA2MDsgaSA8PTcwOyBpKyspIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VKb2IgKz0gaXRlbURhdGEuYWRkKGkpLnJlYWRVOCgpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluVXNlSm9iICs9IGluSXRlbURhdGEuYWRkKGkpLnJlYWRVOCgpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgaWYodXNlSm9iICE9IGluVXNlSm9iKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcGlfQ1VzZXJfU2VuZE5vdGlQYWNrZXRNZXNzYWdlKHVzZXIsIue7p+aJv+Wksei0pe+8muatpuWZqOijheWkh+mcgOimgeW9k+WJjeiBjOS4muS4lOWQjOexu+Wei++8jOepv+aItOijheWkh+S4jea7oei2s+imgeaxgiIsMCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluU3ViVHlwZSA9IENFcXVpcEl0ZW1fR2V0U3ViVHlwZShpbkl0ZW1EYXRhKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHN1Yl90eXBlIT1pblN1YlR5cGUpew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwaV9DVXNlcl9TZW5kTm90aVBhY2tldE1lc3NhZ2UodXNlciwi57un5om/5aSx6LSl77ya5q2m5Zmo6KOF5aSH6ZyA6KaB5b2T5YmN6IGM5Lia5LiU5ZCM57G75Z6L77yM56m/5oi06KOF5aSH5LiN5ruh6Laz6KaB5rGCIiwwKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgLy8g57G75Z6L5LiA55u0IOaJjeiDvee7p+aJvw0KICAgICAgICAgICAgICAgICAgICBpZihpbkVxdVJhcml0eTwzKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIOe7p+aJv+Wksei0pe+8muijheWkh+WTgee6p+W/hemhu+imgeaxgueyieiJsuS7peS4iu+8jOepv+aItOijheWkh+S4jea7oei2s+imgeaxgg0KICAgICAgICAgICAgICAgICAgICAgICAgYXBpX0NVc2VyX1NlbmROb3RpUGFja2V0TWVzc2FnZSh1c2VyLCLnu6fmib/lpLHotKXvvJroo4XlpIflk4Hnuqflv4XpobvopoHmsYLnsonoibLku6XkuIrvvIznqb/miLToo4XlpIfkuI3mu6HotrPopoHmsYIiLDApOw0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGlmKGluTmVlZExldmVsIDwgNTUpew0KICAgICAgICAgICAgICAgICAgICAgICAgLy8g6KOF5aSH562J57qn6KaB5aSn5LqONTDnuqfku6XkuIrvvIznqb/miLToo4XlpIfkuI3mu6HotrPopoHmsYINCiAgICAgICAgICAgICAgICAgICAgICAgIGFwaV9DVXNlcl9TZW5kTm90aVBhY2tldE1lc3NhZ2UodXNlciwi57un5om/5aSx6LSl77ya6KOF5aSH562J57qn6KaB5aSn5LqO562J5LqONTXnuqfku6XkuIrvvIznqb/miLToo4XlpIfkuI3mu6HotrPopoHmsYIiLDApOw0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIC8vIOW8uuWMlg0KICAgICAgICAgICAgICAgICAgICB2YXIgaW5VcGdyYWRlX2xldmVsID0gZXF1SW4uYWRkKDYpLnJlYWRVOCgpOw0KICAgICAgICAgICAgICAgICAgICAvLyDlop7luYUNCiAgICAgICAgICAgICAgICAgICAgdmFyIHplbmdmdSA9IGVxdS5hZGQoMTcpLnJlYWRVMTYoKTsNCiAgICAgICAgICAgICAgICAgICAgLy8g6ZS76YCgDQogICAgICAgICAgICAgICAgICAgIHZhciBkdWFuemFvID0gZXF1LmFkZCg1MSkucmVhZFU4KCk7DQogICAgICAgICAgICAgICAgICAgIC8vIOWuneePoA0KICAgICAgICAgICAgICAgICAgICB2YXIgYmFvemh1ID0gZXF1LmFkZCgxMykucmVhZFUzMigpOw0KICAgICAgICAgICAgICAgICAgICAvL+mtlOazleWwgeWNsA0KICAgICAgICAgICAgICAgICAgICB2YXIgc2VhbDFfbHYgPSBlcXUuYWRkKDM3KS5yZWFkVTgoKTsgDQogICAgICAgICAgICAgICAgICAgIHZhciBzZWFsMl9sdiA9IGVxdS5hZGQoMzgpLnJlYWRVOCgpOw0KICAgICAgICAgICAgICAgICAgICB2YXIgc2VhbDNfbHYgPSBlcXUuYWRkKDM5KS5yZWFkVTgoKTsNCiAgICAgICAgICAgICAgICAgICAgdmFyIHNlYWw0X2x2ID0gZXF1LmFkZCg0MCkucmVhZFU4KCk7DQogICAgICAgICAgICAgICAgICAgIHZhciBzZWFsNV9sdiA9IGVxdS5hZGQoNDEpLnJlYWRVOCgpOw0KICAgICAgICAgICAgICAgICAgICB2YXIgc2VhbDZfbHYgPSBlcXUuYWRkKDQyKS5yZWFkVTgoKTsNCiAgICAgICAgICAgICAgICAgICAgdmFyIHNlYWw3X2x2ID0gZXF1LmFkZCg0MykucmVhZFU4KCk7DQogICAgICAgICAgICAgICAgICAgIHZhciBzZWFsOF9sdiA9IGVxdS5hZGQoNDQpLnJlYWRVOCgpOw0KICAgICAgICAgICAgICAgICAgICB2YXIgc2VhbDlfbHYgPSBlcXUuYWRkKDQ1KS5yZWFkVTgoKTsNCiAgICAgICAgICAgICAgICAgICAgdmFyIHNlYWwxMF9sdiA9IGVxdS5hZGQoNDYpLnJlYWRVOCgpOw0KICAgICAgICAgICAgICAgICAgICB2YXIgc2VhbDExX2x2ID0gZXF1LmFkZCg0NykucmVhZFU4KCk7DQogICAgICAgICAgICAgICAgICAgIHZhciBzZWFsMTJfbHYgPSBlcXUuYWRkKDQ4KS5yZWFkVTgoKTsNCiAgICAgICAgICAgICAgICAgICAgdmFyIHNlYWwxM19sdiA9IGVxdS5hZGQoNDkpLnJlYWRVOCgpOw0KICAgICAgICAgICAgICAgICAgICB2YXIgc2VhbDE0X2x2ID0gZXF1LmFkZCg1MCkucmVhZFU4KCk7DQoJCQkJDQogICAgICAgICAgICAgICAgICAgIGlmKGluVXBncmFkZV9sZXZlbCA8PSB1cGdyYWRlX2xldmVsKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIC8v5o+Q5Y2H5by65YyWL+WinuW5heetiee6pw0KICAgICAgICAgICAgICAgICAgICAgICAgZXF1SW4uYWRkKDYpLndyaXRlVTgodXBncmFkZV9sZXZlbCk7DQogICAgICAgICAgICAgICAgICAgICAgICBlcXVJbi5hZGQoMTcpLndyaXRlVTE2KHplbmdmdSk7DQogICAgICAgICAgICAgICAgICAgICAgICBlcXVJbi5hZGQoNTEpLndyaXRlVTgoZHVhbnphbyk7DQogICAgICAgICAgICAgICAgICAgICAgICBlcXVJbi5hZGQoMTMpLndyaXRlVTMyKGJhb3podSk7DQogICAgICAgICAgICAgICAgICAgICAgICBlcXVJbi5hZGQoMzcpLndyaXRlVTgoc2VhbDFfbHYpOw0KICAgICAgICAgICAgICAgICAgICAgICAgZXF1SW4uYWRkKDM4KS53cml0ZVU4KHNlYWwyX2x2KTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGVxdUluLmFkZCgzOSkud3JpdGVVOChzZWFsM19sdik7DQogICAgICAgICAgICAgICAgICAgICAgICBlcXVJbi5hZGQoNDApLndyaXRlVTgoc2VhbDRfbHYpOw0KICAgICAgICAgICAgICAgICAgICAgICAgZXF1SW4uYWRkKDQxKS53cml0ZVU4KHNlYWw1X2x2KTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGVxdUluLmFkZCg0Mikud3JpdGVVOChzZWFsNl9sdik7DQogICAgICAgICAgICAgICAgICAgICAgICBlcXVJbi5hZGQoNDMpLndyaXRlVTgoc2VhbDdfbHYpOw0KICAgICAgICAgICAgICAgICAgICAgICAgZXF1SW4uYWRkKDQ0KS53cml0ZVU4KHNlYWw4X2x2KTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGVxdUluLmFkZCg0NSkud3JpdGVVOChzZWFsOV9sdik7DQogICAgICAgICAgICAgICAgICAgICAgICBlcXVJbi5hZGQoNDYpLndyaXRlVTgoc2VhbDEwX2x2KTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGVxdUluLmFkZCg0Nykud3JpdGVVOChzZWFsMTFfbHYpOw0KICAgICAgICAgICAgICAgICAgICAgICAgZXF1SW4uYWRkKDQ4KS53cml0ZVU4KHNlYWwxMl9sdik7DQogICAgICAgICAgICAgICAgICAgICAgICBlcXVJbi5hZGQoNDkpLndyaXRlVTgoc2VhbDEzX2x2KTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGVxdUluLmFkZCg1MCkud3JpdGVVOChzZWFsMTRfbHYpOw0KICAgICAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgICAgICAvLyDlsIbljp/oo4XlpIfmuIXpmaQNCiAgICAgICAgICAgICAgICAgICAgICAgIGVxdS5hZGQoNikud3JpdGVVOCgwKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGVxdS5hZGQoMTcpLndyaXRlVTE2KDApOw0KICAgICAgICAgICAgICAgICAgICAgICAgZXF1LmFkZCg1MSkud3JpdGVVOCgwKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGVxdS5hZGQoMTMpLndyaXRlVTMyKDApOw0KICAgICAgICAgICAgICAgICAgICAgICAgZXF1LmFkZCgzNykud3JpdGVVOCgwKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGVxdS5hZGQoMzgpLndyaXRlVTgoMCk7DQogICAgICAgICAgICAgICAgICAgICAgICBlcXUuYWRkKDM5KS53cml0ZVU4KDApOw0KICAgICAgICAgICAgICAgICAgICAgICAgZXF1LmFkZCg0MCkud3JpdGVVOCgwKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGVxdS5hZGQoNDEpLndyaXRlVTgoMCk7DQogICAgICAgICAgICAgICAgICAgICAgICBlcXUuYWRkKDQyKS53cml0ZVU4KDApOw0KICAgICAgICAgICAgICAgICAgICAgICAgZXF1LmFkZCg0Mykud3JpdGVVOCgwKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGVxdS5hZGQoNDQpLndyaXRlVTgoMCk7DQogICAgICAgICAgICAgICAgICAgICAgICBlcXUuYWRkKDQ1KS53cml0ZVU4KDApOw0KICAgICAgICAgICAgICAgICAgICAgICAgZXF1LmFkZCg0Nikud3JpdGVVOCgwKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGVxdS5hZGQoNDcpLndyaXRlVTgoMCk7DQogICAgICAgICAgICAgICAgICAgICAgICBlcXUuYWRkKDQ4KS53cml0ZVU4KDApOw0KICAgICAgICAgICAgICAgICAgICAgICAgZXF1LmFkZCg0OSkud3JpdGVVOCgwKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGVxdS5hZGQoNTApLndyaXRlVTgoMCk7DQogICAgICAgICAgICAgICAgICAgICAgICAvL+mAmuefpeWuouaIt+err+abtOaWsOijheWkhw0KICAgICAgICAgICAgICAgICAgICAgICAgQ1VzZXJfU2VuZFVwZGF0ZUl0ZW1MaXN0KHVzZXIsIDEsIDAsIDkpOw0KICAgICAgICAgICAgICAgICAgICAgICAgQ1VzZXJfU2VuZFVwZGF0ZUl0ZW1MaXN0KHVzZXIsIDEsIDMsIGkpOw0KICAgICAgICAgICAgICAgICAgICAgICAgQ1VzZXJfU2VuZFVwZGF0ZUl0ZW1MaXN0KHVzZXIsIDEsIDMsIDEwKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3NUYWcgPSB0cnVlOw0KICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coInN1Y2Nlc3PvvIHvvIHvvIEiKQ0KICAgICAgICAgICAgICAgICAgICAgICAgYXBpX0NVc2VyX1NlbmROb3RpUGFja2V0TWVzc2FnZSh1c2VyLCLnu6fmib/miJDlip/vvIHvvIHvvIEiLDApOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICBpZighc3VjY2Vzc1RhZyl7DQogICAgICAgICAgICAvLyDlpLHotKUg5rKh5pyJ5ZCI6YCC55qE6KOF5aSH77yM5LiN56ym5ZCI6KOF5aSHDQogICAgICAgICAgICBhcGlfQ1VzZXJfU2VuZE5vdGlQYWNrZXRNZXNzYWdlKHVzZXIsIue7p+aJv+Wksei0pe+8muayoeacieWQiOmAgueahOijheWkhyIsMCk7DQogICAgICAgIH0NCiAgICB9DQp9DQoNCi8v56ew5Y+35ZCI5oiQDQpmdW5jdGlvbiBjaGhjKHVzZXIpew0KICAgIHZhciBpbnZlbiA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNJbnZlblcodXNlcik7IC8vIOiOt+WPluW9k+WJjeinkuiJsueahOiDjOWMheWvueixoQ0KICAgIHZhciBpdGVtMSA9IENJbnZlbnRvcnlfR2V0SW52ZW5SZWYoaW52ZW4sIElOVkVOVE9SWV9UWVBFX0lURU0sIDkpOyAvLyDojrflj5bnrKw55Liq6KOF5aSH54mp5ZOB55qE5a+56LGhDQogICAgdmFyIGl0ZW1JZDEgPSBJbnZlbl9JdGVtX2dldEtleShpdGVtMSk7IC8vIOiOt+WPluivpeeJqeWTgeeahElEDQogICAgdmFyIGl0ZW0yID0gQ0ludmVudG9yeV9HZXRJbnZlblJlZihpbnZlbiwgSU5WRU5UT1JZX1RZUEVfSVRFTSwgMTApOyAvLyDojrflj5bnrKwxMOS4quijheWkh+eJqeWTgeeahOWvueixoQ0KICAgIHZhciBpdGVtSWQyID0gSW52ZW5fSXRlbV9nZXRLZXkoaXRlbTIpOyAvLyDojrflj5bor6Xnianlk4HnmoRJRA0KICAgIA0KICAgIGlmIChpdGVtSWQxID09IDEwMDMzMTczOCAmJiBpdGVtSWQyID09IDIwMjMxMTE3NSkgew0KICAgICAgICAgICAgSW52ZW5fSXRlbV9nZXRLZXkoaXRlbTEpDQogICAgICAgICAgICB2YXIgYmFvemh1ID0gaXRlbTEuYWRkKDEzKS5yZWFkVTMyKCk7CQ0KICAgICAgICBJbnZlbl9JdGVtX3Jlc2V0KGl0ZW0xKTsgLy8g5bCG56ysOeS4quijheWkh+eJqeWTgeS7juiDjOWMheS4reWIoOmZpA0KICAgICAgICAgICAgQ1VzZXJfU2VuZFVwZGF0ZUl0ZW1MaXN0KHVzZXIsIDEsIDAsIDkpOyANCiAgICAgICAgSW52ZW5fSXRlbV9yZXNldChpdGVtMik7IC8vIOWwhuesrDEw5Liq6KOF5aSH54mp5ZOB5LuO6IOM5YyF5Lit5Yig6ZmkDQogICAgICAgICAgICBDVXNlcl9TZW5kVXBkYXRlSXRlbUxpc3QodXNlciwgMSwgMCwgMTApOyANCiAgICAgICAgYXBpX0NVc2VyX0FkZEl0ZW0odXNlciwgMTAwMzMxNzQ3LCAxKTsgDQogICAgICAgIHZhciBpdGVtMyA9IENJbnZlbnRvcnlfR2V0SW52ZW5SZWYoaW52ZW4sIElOVkVOVE9SWV9UWVBFX0lURU0sIDkpOw0KICAgICAgICBpdGVtMy5hZGQoMTMpLndyaXRlVTMyKGJhb3podSk7DQogICAgICAgIENVc2VyX1NlbmRVcGRhdGVJdGVtTGlzdCh1c2VyLCAxLCAwLCA5KTsNCiAgICB9DQogICAgICAgIGlmIChpdGVtSWQxID09IDIwMjMxMTE3NSAmJiBpdGVtSWQyID09IDEwMDMzMTczOCkgew0KICAgICAgICAgICAgSW52ZW5fSXRlbV9nZXRLZXkoaXRlbTIpDQogICAgICAgICAgICB2YXIgYmFvemh1ID0gaXRlbTIuYWRkKDEzKS5yZWFkVTMyKCk7DQogICAgICAgIEludmVuX0l0ZW1fcmVzZXQoaXRlbTEpOyAvLyDlsIbnrKw55Liq6KOF5aSH54mp5ZOB5LuO6IOM5YyF5Lit5Yig6ZmkDQogICAgICAgICAgICBDVXNlcl9TZW5kVXBkYXRlSXRlbUxpc3QodXNlciwgMSwgMCwgOSk7IA0KICAgICAgICBJbnZlbl9JdGVtX3Jlc2V0KGl0ZW0yKTsgLy8g5bCG56ysMTDkuKroo4XlpIfnianlk4Hku47og4zljIXkuK3liKDpmaQNCiAgICAgICAgICAgIENVc2VyX1NlbmRVcGRhdGVJdGVtTGlzdCh1c2VyLCAxLCAwLCAxMCk7IA0KICAgICAgICBhcGlfQ1VzZXJfQWRkSXRlbSh1c2VyLCAxMDAzMzE3NDcsIDEpOyANCiAgICAgICAgdmFyIGl0ZW0zID0gQ0ludmVudG9yeV9HZXRJbnZlblJlZihpbnZlbiwgSU5WRU5UT1JZX1RZUEVfSVRFTSwgOSk7DQogICAgICAgIGl0ZW0zLmFkZCgxMykud3JpdGVVMzIoYmFvemh1KTsNCiAgICAgICAgQ1VzZXJfU2VuZFVwZGF0ZUl0ZW1MaXN0KHVzZXIsIDEsIDAsIDkpOw0KICAgIH0NCn0NCg0KIC8v5Y+y6K+X6a2U5rOV5bCB5Y2w5Y+Y5o2i5Yi4DQogZnVuY3Rpb24gcWModXNlcikNCiB7ICAgIA0KICAgICB2YXIgaW52ZW4gPSBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjSW52ZW5XKHVzZXIpOw0KICAgICAvL+mBjeWOhuijheWkhw0KICAgICBmb3IodmFyIGkgPSA5OyBpIDw9MTY7IGkrKykNCiAgICAgew0KICAgICAgICAgLy/ojrflj5bnianlk4HmoI/nrKzkuIDmjpLnmoToo4XlpIcNCiAgICAgICAgIHZhciBlcXVJbiA9IENJbnZlbnRvcnlfR2V0SW52ZW5SZWYoaW52ZW4sIElOVkVOVE9SWV9UWVBFX0lURU0sIGkpOyAvL+mBjeWOhuexu+Wei+S4uueJqeWTgeagjw0KICAgICAgICAgdmFyIGluSXRlbUlkID0gSW52ZW5fSXRlbV9nZXRLZXkoZXF1SW4pIC8v6YGT5YW3aWQNCiAgICAgICAgIHZhciBpbkl0ZW1EYXRhID0gQ0RhdGFNYW5hZ2VyX2ZpbmRfaXRlbShHX0NEYXRhTWFuYWdlcigpLGluSXRlbUlkKTsgLy/ojrflj5ZwdmbmlbDmja4NCiAgICAgICAgIHZhciBlcXVSYXJpdHkgPSBDSXRlbV9HZXRSYXJpdHkoaW5JdGVtRGF0YSk7IC8vIOeogOacieW6piAgPj0zICDnsonoibLku6XkuIoNCiAgICAgICAgIGlmKGVxdVJhcml0eSA9PSA0KXsNCiAgICAgICAgICAgICB2YXIgaW5FcXVfdHlwZSA9IGluSXRlbURhdGEuYWRkKDE0MSo0KS5yZWFkVTMyKCk7IC8vIOijheWkh+exu+WeizEw5q2m5ZmoIDEx56ew5Y+3CSAgICAgICANCiAgICAgICAgICAgICAvL+a4heepuuaJgOaciemtlOazleWwgeWNsOWtl+iKgg0KICAgICAgICAgICAgIGlmKGluRXF1X3R5cGUhPTExKXsNCiAgICAgICAgICAgICAgICAgZXF1SW4uYWRkKDM3KS53cml0ZVU4KDApOw0KICAgICAgICAgICAgICAgICBlcXVJbi5hZGQoMzgpLndyaXRlVTgoMCk7ICAgIAkJCQ0KICAgICAgICAgICAgICAgICBlcXVJbi5hZGQoMzkpLndyaXRlVTgoMCk7ICAgIAkJCQ0KICAgICAgICAgICAgICAgICBlcXVJbi5hZGQoNDApLndyaXRlVTgoMCk7ICAgCQkJDQogICAgICAgICAgICAgICAgIGVxdUluLmFkZCg0MSkud3JpdGVVOCgwKTsgICAgCQkJDQogICAgICAgICAgICAgICAgIGVxdUluLmFkZCg0Mikud3JpdGVVOCgwKTsgICAgCQkJDQogICAgICAgICAgICAgICAgIGVxdUluLmFkZCg0Mykud3JpdGVVOCgwKTsgICAgDQogICAgICAgICAgICAgICAgIGVxdUluLmFkZCg0NCkud3JpdGVVOCgwKTsgICAgDQogICAgICAgICAgICAgICAgIGVxdUluLmFkZCg0NSkud3JpdGVVOCgwKTsgICAgDQogICAgICAgICAgICAgICAgIGVxdUluLmFkZCg0Nikud3JpdGVVOCgwKTsgCQkJDQogICAgICAgICAgICAgICAgIGVxdUluLmFkZCg0Nykud3JpdGVVOCgwKTsgICAgDQogICAgICAgICAgICAgICAgIGVxdUluLmFkZCg0OCkud3JpdGVVOCgwKTsgICAgDQogICAgICAgICAgICAgICAgIGVxdUluLmFkZCg0OSkud3JpdGVVOCgwKTsgICAgDQogICAgICAgICAgICAgICAgIGVxdUluLmFkZCg1MCkud3JpdGVVOCgwKTsgDQogICAgICAgICAgICAgICAgIC8v5bCd6K+V6Kej6Zmk6a2U5rOV5bCB5Y2wDQogICAgICAgICAgICAgICAgIHZhciByZXQgPSByYW5kb21fb3B0aW9uX0NSYW5kb21PcHRpb25JdGVtSGFuZGxlX2dpdmVfb3B0aW9uKHB0cigweDk0MUY4MjApLnJlYWRQb2ludGVyKCksIGluSXRlbUlkLCBDSXRlbV9HZXRSYXJpdHkoaW5JdGVtRGF0YSksIENJdGVtX0dldFVzYWJsZUxldmVsKGluSXRlbURhdGEpDQogICAgICAgICAgICAgICAgICAgICAsIENJdGVtX0dldEl0ZW1Hcm91cE5hbWUoaW5JdGVtRGF0YSksIENFcXVpcEl0ZW1fR2V0UmFuZG9tT3B0aW9uR3JhZGUoaW5JdGVtRGF0YSksIGVxdUluLmFkZCgzNykpOw0KICAgICAgICAgICAgICAgICBpZihyZXQpDQogICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIC8v6YCa55+l5a6i5oi356uv5pyJ6KOF5aSH5pu05pawDQogICAgICAgICAgICAgICAgICAgICBDVXNlcl9TZW5kVXBkYXRlSXRlbUxpc3QodXNlciwgMSwgMCwgaSk7DQogICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICB9CQkJDQogICAgICAgICB9DQogICAgIH0JDQogfQ0KDQpmdW5jdGlvbiBkaXNpbnRlZ3JhdGVfaXRlbV9oYW5kbGVyKGl0ZW1faWQpew0KICAgIC8vIOWIhuino+aIkOWwsQ0KICAgIC8vDQp9DQoNCi8v5a6g54mp6KOF5aSH6ZmE6a2UDQovLzI1NTAwOTjmlLnoh6rlt7HpnIDopoHnmoTljaHniYfmiJbogIXlvr3nq6DnmoRJRO+8jOazqOaEj+S4jeaYr+WuneePoA0KLy/orrDlvpfljrvph43lpI3vvIzlj6/ku6XnlKjmjIfku6Top6blj5Hor6Xlh73mlbDvvIwg5oiW6ICF5ZKM5Lu75Yqh5a6M5oiQ5Yi45LiA5qC377yMIOaMh+Wumua2iOiAl+WTgeadpeinpuWPkeOAgueUqOaVsOe7hOaIluiAhemaj+acuuaVsOWPr+S7pei/m+ihjOmaj+acuumZhOmtlOOAguWuoOeJqeiZveeEtuS5n+WPr+S7pemZhOmtlO+8jOS9huaYr+mHjeaWsOeZu+W9leS8mua2iOWkseOAgg0KZnVuY3Rpb24gQ3JlYXR1cmVFaCh1c2VyKSB7DQoJdmFyIENyZWF0dXJlRXF1ID0gQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY0ludmVuVyh1c2VyKTsgLy/ojrflj5bog4zljIUNCgl2YXIgQ3JlYXR1cmVFcXVaZXJvID0gQ0ludmVudG9yeV9HZXRJbnZlblJlZihDcmVhdHVyZUVxdSwgMywgMTQwKTsgLy/ojrflj5blrqDnianmoI/lrqDnianoo4XlpIfnrKzkuIDkuKrmoLzlrZANCglpZiAoSW52ZW5fSXRlbV9pc0VtcHR5KENyZWF0dXJlRXF1WmVybykpIC8v5qOA5p+l5qC85a2Q5Lit55qE6YOo5L2N5piv5ZCm5piv56m655qEDQoJew0KCQlhcGlfQ1VzZXJfU2VuZE5vdGlQYWNrZXRNZXNzYWdlKHVzZXIsICLpmYTprZTlpLHotKXvvIwg57y65bCR6YCC5ZCI5p2h5Lu255qE6KOF5aSHIiwgMyk7DQogICAgICAgIGFwaV9DVXNlcl9BZGRJdGVtKHVzZXIsIDMzMDAsIDEpOyAvL+WPkeaUvjHkuKrnvJblj7czMzAw6YGT5YW3DQoJfSBlbHNlIHsNCgkJQ3JlYXR1cmVFcXVaZXJvLmFkZCgxMykud3JpdGVVMzIoMjU1MDA5OCk7IC8v6ZmE6a2U55qE5Y2h54mHSUQo5b6956ugSUTlkIzmoLfpgILnlKgpDQoJCWFwaV9DVXNlcl9TZW5kTm90aVBhY2tldE1lc3NhZ2UodXNlciwgIumZhOmtlOaIkOWKn+OAgiIsIDMpOw0KCX0NCglDVXNlcl9zZW5kX2l0ZW1zcGFjZSh1c2VyLCA3KTsgLy/mm7TmlrDog4zljIUNCn0NCg0KLy/plLvpgKDliLgNCmZ1bmN0aW9uIHNtaXRoaW5nKHVzZXIsIGxldmVsKSB7DQoNCgl2YXIgaW52ZW4gPSBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjSW52ZW5XKHVzZXIpOw0KCXZhciBlcXUgPSBDSW52ZW50b3J5X0dldEludmVuUmVmKGludmVuLCBJTlZFTlRPUllfVFlQRV9JVEVNLCA5KTsNCgl2YXIgaXRlbUlkID0gSW52ZW5fSXRlbV9nZXRLZXkoZXF1KQ0KDQoJdmFyIGl0ZW1EYXRhID0gQ0RhdGFNYW5hZ2VyX2ZpbmRfaXRlbShHX0NEYXRhTWFuYWdlcigpLCBpdGVtSWQpOw0KCXZhciBlcXVfdHlwZSA9IGl0ZW1EYXRhLmFkZCgxNDEgKiA0KS5yZWFkVTMyKCk7DQoJdmFyIGNoYXJhY05hbWUgPSBhcGlfQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY05hbWUodXNlcik7DQoJdmFyIGVxdWlwbWVudE5hbWUgPSBhcGlfQ0l0ZW1fR2V0SXRlbU5hbWUoaXRlbUlkKTsNCg0KCWlmIChJbnZlbl9JdGVtX2dldEtleShlcXUpKSB7DQoJCWlmIChlcXVfdHlwZSA9PSAxMCkgew0KCQkJdmFyIHVwZ3JhZGVfbGV2ZWwgPSBlcXUuYWRkKDUxKS5yZWFkVTgoKTsNCgkJCWlmICh1cGdyYWRlX2xldmVsID09IDcpIHsNCgkJCQlhcGlfQ1VzZXJfU2VuZE5vdGlQYWNrZXRNZXNzYWdlKHVzZXIsICLplLvpgKDlpLHotKXvvJror6XmrablmajnmoTplLvpgKDnrYnnuqflt7Lnu4/kuLrmnIDlpKfpmZDliLbvvIEiLCAwKTsNCgkJCQlyZXR1cm47DQoJCQl9IGVsc2Ugew0KCQkJCWVxdS5hZGQoNTEpLndyaXRlVTgobGV2ZWwpOw0KCQkJCUNVc2VyX1NlbmRVcGRhdGVJdGVtTGlzdCh1c2VyLCAxLCAwLCA5KTsNCgkJCQlzdWNjZXNzVGFnID0gdHJ1ZTsNCgkJCQljb25zb2xlLmxvZygic3VjY2Vzc++8ge+8ge+8gSIpDQoJCQkJYXBpX0NVc2VyX1NlbmROb3RpUGFja2V0TWVzc2FnZSh1c2VyLCAi5oGt5Zac546p5a6277yaIiArIFtjaGFyYWNOYW1lXSArICLmrablmajvvJoiICsgW2VxdWlwbWVudE5hbWVdICsgIumUuzfmiJDlip8hIiwgMCk7DQoJCQkJcmV0dXJuOw0KCQkJfQ0KCQl9IGVsc2Ugew0KCQkJYXBpX0NVc2VyX1NlbmROb3RpUGFja2V0TWVzc2FnZSh1c2VyLCAi6ZS76YCg5aSx6LSl77ya6K+l6KOF5aSH5LiN5piv5q2m5ZmoISIsIDApOw0KCQkJcmV0dXJuOw0KCQl9DQoJfQ0KfQ0KDQovL+S4gOasoeaAp+WinuW5heWZqA0KLy/lpoI66IOM5YyF56ys5LiA5Liq5qC85a2Q6KOF5aSHIOWinuW5hTHvvIzkvb/nlKjor6XpgZPlhbflkI4gLT4gMSsxID0y77yM5Zyo5q2k5L2/55SoIDIrMT0zOyANCi8v5Lul5q2k57G75o6o77yM5Y+v5Lul566A5Y2V5a6e546w5Zu95pyN5aKe5bmF55qE5Y6f55CG77yM5peg6Z2e5Lmf5bCx5piv5rKh5pyJ5Yqo55S75pWI5p6c77yM5Lul5LiK5Luj56CB5pivIDEwMCXlop7luYUrMe+8jOWcqOWKoOS4gOS6m+eahOWIpOaWreWPr+S7peWunueOsOamgueOh++8jOWmguacieiDveWKm+WPr+iHquihjOa3u+WKoO+8ge+8ge+8gQ0KZnVuY3Rpb24gZGlzcG9zYWJsZUFtcGxpZmljYXRpb24odXNlcikgew0KCXZhciBpbnZlbiA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNJbnZlblcodXNlcik7DQoJdmFyIGVxdSA9IENJbnZlbnRvcnlfR2V0SW52ZW5SZWYoaW52ZW4sIElOVkVOVE9SWV9UWVBFX0lURU0sIDkpOw0KCXZhciBpdGVtSWQgPSBJbnZlbl9JdGVtX2dldEtleShlcXUpDQoJdmFyIGluVXBncmFkZV9sZXZlbCA9IGVxdS5hZGQoNikucmVhZFU4KCk7DQoJdmFyIGFwcGVuZCA9IGVxdS5hZGQoMTcpLnJlYWRVMTYoKTsNCgl2YXIgY2hhcmFjTmFtZSA9IGFwaV9DVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjTmFtZSh1c2VyKTsNCgl2YXIgZXF1aXBtZW50TmFtZSA9IGFwaV9DSXRlbV9HZXRJdGVtTmFtZShpdGVtSWQpOw0KDQoJaWYgKGFwcGVuZCAhPSBudWxsIHx8IGFwcGVuZCAhPSAwKSB7DQoJCWlmIChpblVwZ3JhZGVfbGV2ZWwgPCAzMSkgew0KCQkJdmFyIG5vdyA9IGluVXBncmFkZV9sZXZlbCArIDE7DQoJCQllcXUuYWRkKDYpLndyaXRlVTgobm93KTsNCgkJCUNVc2VyX1NlbmRVcGRhdGVJdGVtTGlzdCh1c2VyLCAxLCAwLCA5KTsNCgkJCWFwaV9DVXNlcl9TZW5kTm90aVBhY2tldE1lc3NhZ2UodXNlciwgIuaBreWWnOeOqeWutu+8miIgKyBbY2hhcmFjTmFtZV0gKyAi6KOF5aSH77yaIiArIFtlcXVpcG1lbnROYW1lXSArICLlop7luYUrIiArIG5vdyArICLmiJDlip8hIiwgMCk7DQoJCX0gZWxzZSB7DQoJCQlhcGlfQ1VzZXJfU2VuZE5vdGlQYWNrZXRNZXNzYWdlKHVzZXIsICLkvb/nlKjlpLHotKXvvJrlvZPliY3oo4XlpIflop7luYXnrYnnuqfvvIzlt7LliLDmnIDlpKfpmZDliLbvvIEiLCAwKTsNCgkJfQ0KCX0gZWxzZSB7DQoJCWFwaV9DVXNlcl9TZW5kTm90aVBhY2tldE1lc3NhZ2UodXNlciwgIuS9v+eUqOWksei0pe+8muatpOijheWkh+aXoOW8gueVjOawlOaBr++8gSIsIDApOw0KCX0NCn0NCg0KLy/pmo/mnLrlop7luYUNCi8vbnVtcyAtPiDlvLrljJbnrYnnuqcgMTYgMTcgMTggMTkgMjANCi8vd2VpZ2h0cyAtPiDmnYPph40g6LaK5bCP6LaK6Zq+5Ye6DQpmdW5jdGlvbiByYW5kb21OdW1iZXIoKSB7DQoJdmFyIG51bXMgPSBbMTYsIDE3LCAxOCwgMTksIDIwXTsNCgl2YXIgd2VpZ2h0cyA9IFsxLCAwLjIsIDAuMDUsIDAuMDMsIDAuMDFdOw0KCXZhciB0b3RhbFdlaWdodCA9IHdlaWdodHMucmVkdWNlKGZ1bmN0aW9uIChhLCBiKSB7DQoJCQlyZXR1cm4gYSArIGI7DQoJCX0sIDApOw0KCXZhciBybmQgPSBNYXRoLnJhbmRvbSgpICogdG90YWxXZWlnaHQ7DQoJdmFyIHN1bSA9IDA7DQoJdmFyIHJlc3VsdCA9IG51bGw7DQoJZm9yICh2YXIgaSA9IDA7IGkgPCBudW1zLmxlbmd0aDsgaSsrKSB7DQoJCXN1bSArPSB3ZWlnaHRzW2ldOw0KCQlpZiAocm5kIDwgc3VtKSB7DQoJCQlyZXN1bHQgPSBudW1zW2ldOw0KCQkJYnJlYWs7DQoJCX0NCgl9DQoJcmV0dXJuIHJlc3VsdDsNCn0NCg0KZnVuY3Rpb24gcmFuZG9tSW5jcmVhc2UodXNlcikgew0KDQoJdmFyIGludmVuID0gQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY0ludmVuVyh1c2VyKTsNCgl2YXIgZXF1ID0gQ0ludmVudG9yeV9HZXRJbnZlblJlZihpbnZlbiwgSU5WRU5UT1JZX1RZUEVfSVRFTSwgOSk7DQoJdmFyIGl0ZW1JZCA9IEludmVuX0l0ZW1fZ2V0S2V5KGVxdSkNCgl2YXIgaW5VcGdyYWRlX2xldmVsID0gZXF1LmFkZCg2KS5yZWFkVTgoKTsNCgl2YXIgYXBwZW5kID0gZXF1LmFkZCgxNykucmVhZFUxNigpOw0KCXZhciBjaGFyYWNOYW1lID0gYXBpX0NVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNOYW1lKHVzZXIpOw0KCXZhciBlcXVpcG1lbnROYW1lID0gYXBpX0NJdGVtX0dldEl0ZW1OYW1lKGl0ZW1JZCk7DQoJaWYgKGVxdSAhPSBudWxsKSB7DQoJCWlmIChhcHBlbmQgIT0gbnVsbCAmJiBhcHBlbmQgIT0gMCkgew0KCQkJaWYgKGluVXBncmFkZV9sZXZlbCA8IDMxKSB7DQoJCQkJdmFyIG5vdyA9IHJhbmRvbU51bWJlcigpOw0KCQkJCWVxdS5hZGQoNikud3JpdGVVOChub3cpOw0KCQkJCUNVc2VyX1NlbmRVcGRhdGVJdGVtTGlzdCh1c2VyLCAxLCAwLCA5KTsNCgkJCQlhcGlfQ1VzZXJfU2VuZE5vdGlQYWNrZXRNZXNzYWdlKHVzZXIsICJbIiArIFtjaGFyYWNOYW1lXSArICJdIOWinuW5hSArIiArIG5vdyArICIgIiArIFtlcXVpcG1lbnROYW1lXSArICLmiJDlip8iLCAwKTsNCgkJCX0gZWxzZSB7DQoJCQkJCWFwaV9DVXNlcl9TZW5kTm90aVBhY2tldE1lc3NhZ2UodXNlciwgIuS9v+eUqOWksei0pe+8muW9k+WJjeijheWkh+WinuW5heetiee6p++8jOW3suWIsOacgOWkp+mZkOWItu+8gSIsIDEpOw0KCQkJfQ0KCQl9IGVsc2Ugew0KCQkJCWFwaV9DVXNlcl9TZW5kTm90aVBhY2tldE1lc3NhZ2UodXNlciwgIuS9v+eUqOWksei0pe+8muatpOijheWkh+aXoOW8gueVjOawlOaBr++8gSIsIDEpOw0KCQl9DQoJfQ0KfQ0KDQpmdW5jdGlvbiB1c2VfaXRlbV9oYW5kbGVyKHVzZXIsIGl0ZW1faWQpew0KICAgIC8vIOS7u+WKoea4hemZpOWIuO+8jCAg5Lu75Yqh5a6M5oiQ5Yi4IOaIkOWwseS7u+WKoeWujOaIkOWIuCDkuLvnur/nrYkNCg0KICAgIGlmKCc4MDcwJyA9PSBpdGVtX2lkKQ0KICAgIHsNCiAgICAgICAgLy/miYDmnInnmoTku7vliqHlrozmiJDliLgNCiAgICAgICAgY2xlYXJfYWxsX3F1ZXN0X2J5X2NoYXJhY3Rlcl9sZXZlbCh1c2VyKTsNCiAgICB9DQogICAgaWYoJzY5MDAwMDExOScgPT09IGl0ZW1faWQpDQogICAgew0KICAgICAgICAvL+S7peaOpeS7u+WKoeWujOaIkOWIuA0KICAgICAgICBlcXVJbmhlcml0KHVzZXIpOw0KICAgIH0NCiAgICBpZignODA3MScgPT0gaXRlbV9pZCl7DQogICAgICAgIC8vIOijheWkh+e7p+aJvyAg5a6M576O57un5om/5by65YyW77yM5aKe5bmFIO+8jOWuneePoCDvvIzplLvpgKDvvIjov5jlj6/ku6Xlrp7njrAgK27nmoTplLvpgKDliLjvvIkNCiAgICAgICAgZXF1SW5oZXJpdCh1c2VyKTsNCiAgICB9DQoNCiAgICBpZignODA3MycgPT0gaXRlbV9pZCl7DQogICAgICAgIC8vIOijheWkh+i3qOeVjA0KICAgICAgICBjcm9zc292ZXIodXNlcik7DQogICAgfQ0KICAgIGlmKCcyMDIyMDkxMicgPT0gaXRlbV9pZCl7DQogICAgICAgIC8vIOWIhuinow0KICAgICAgICBkZWNvbXBvc2UodXNlcikNCiAgICB9DQogICAgaWYoJzEyMzAnID09IGl0ZW1faWQpew0KICAgICAgICAvLyDprZTms5XlsIHljbDph43nva4NCiAgICAgICAgcWModXNlcikNCiAgICB9DQogICAgaWYoJzI3NDkxMDEnID09IGl0ZW1faWQpew0KICAgICAgICAvLyDnp7Dlj7flkIjmiJANCiAgICAgICAgY2hoYyh1c2VyKQ0KICAgIH0NCiAgICBpZignNjEwMDAwMDEnID09IGl0ZW1faWQpew0KICAgICAgICAvLyDmr4/ml6Xku7vliqHlrozmiJANCiAgICAgICAgYXBpX2ZvcmNlX2NsZWFyX3F1ZXN0X2xpc3QodXNlciwgcXVlc3RfbGlzdCkNCiAgICB9DQogICAgaWYoJzgwNjgnID09IGl0ZW1faWQpew0KICAgICAgICAvLyDliJ3pmLblvILnlYzlhaXlnLrph43nva4NCiAgICAgICAgcmVzZXRSZXNldERpbWVuc2lvbklub3V0KHVzZXIsMCkNCiAgICAgICAgcmVzZXRSZXNldERpbWVuc2lvbklub3V0KHVzZXIsMSkNCiAgICAgICAgcmVzZXRSZXNldERpbWVuc2lvbklub3V0KHVzZXIsMikNCiAgICB9DQogICAgaWYoJzgwNjknID09IGl0ZW1faWQpew0KICAgICAgICAvLyDpq5jpmLblvILnlYzlhaXlnLrph43nva4NCiAgICAgICAgcmVzZXRSZXNldERpbWVuc2lvbklub3V0KHVzZXIsMykNCiAgICAgICAgcmVzZXRSZXNldERpbWVuc2lvbklub3V0KHVzZXIsNCkNCiAgICAgICAgcmVzZXRSZXNldERpbWVuc2lvbklub3V0KHVzZXIsNSkNCiAgICB9DQp9DQoNCi8vIOiOt+WPlui0puWPt+mHkeW6k+S4gOS4quepuueahOagvOWtkA0KdmFyIENBY2NvdW50Q2FyZ29fR2V0RW1wdHlTbG90X05FVzsNCi8vIOWwhuW3sue7j+eJqeWTgeenu+WKqOWIsOafkOS4quagvOWtkCDnrKzkuIDkuKrotKblj7fph5HlupPvvIznrKzkuozkuKrnp7vlhaXnmoTnianlk4HvvIznrKzkuInkuKrmoLzlrZDkvY3nva4NCnZhciBDQWNjb3VudENhcmdvX0luc2VydEl0ZW1fTkVXOw0KLy8g5ZCR5a6i5oi356uv5Y+R6YCB6LSm5Y+36YeR5bqT5YiX6KGoDQp2YXIgQ0FjY291bnRDYXJnb19TZW5kSXRlbUxpc3RfTkVXOw0KLy8g5a2Y5pS+5omA5pyJ55So5oi355qE6LSm5Y+36YeR5bqT5pWw5o2uDQp2YXIgYWNjb3VudENhcmdmbyA9IHt9Ow0KdmFyIGluaXRNYXhTb2x0ID0gMDsNCmZ1bmN0aW9uIHNldE1heENBY2NvdW50Q2FyZ29Tb2x0KG1heFNvbHQpew0KICAgIC8vIGNvbnNvbGUubG9nKDEpOw0KICAgIGluaXRNYXhTb2x0ID0gbWF4U29sdDsNCiAgICBHZXRNb25leShtYXhTb2x0KTsNCiAgICBDQWNjb3VudENhcmdvKG1heFNvbHQpOw0KICAgIEdldENhcGFjaXR5KG1heFNvbHQpOw0KICAgIFNldERCRGF0YShtYXhTb2x0KTsNCiAgICBDbGVhcihtYXhTb2x0KTsNCiAgICBJbnNlcnRJdGVtKG1heFNvbHQpOw0KICAgIERlbGV0ZUl0ZW0obWF4U29sdCk7DQogICAgTW92ZUl0ZW0obWF4U29sdCk7DQogICAgRGVwb3NpdE1vbmV5KG1heFNvbHQpOw0KICAgIFdpdGhkcmF3TW9uZXkobWF4U29sdCk7DQogICAgQ2hlY2tNb25leUxpbWl0KG1heFNvbHQpOw0KICAgIENoZWNrVmFsaWRTbG90KG1heFNvbHQpOw0KICAgIEdldEVtcHR5U2xvdChtYXhTb2x0KTsNCiAgICBHZXRTcGVjaWZpY0l0ZW1TbG90KG1heFNvbHQpOw0KICAgIEFkZE1vbmV5KG1heFNvbHQpOw0KICAgIFN1Yk1vbmV5KG1heFNvbHQpOw0KICAgIEdldEl0ZW1Db3VudChtYXhTb2x0KTsNCiAgICBTZW5kTm90aWZ5TW9uZXkobWF4U29sdCk7DQogICAgU2VuZEl0ZW1MaXN0KG1heFNvbHQpOw0KICAgIElzQWx0ZXIobWF4U29sdCk7DQogICAgU2V0Q2FwYWNpdHkobWF4U29sdCk7DQogICAgU2V0U3RhYmxlKG1heFNvbHQpOw0KICAgIERCX1NhdmVBY2NvdW50Q2FyZ29fbWFrZVJlcXVlc3QobWF4U29sdCk7DQogICAgR2V0QWNjb3VudENhcmdvKCk7DQogICAgTWFrZUl0ZW1QYWNrZXQobWF4U29sdCk7DQogICAgQ2hlY2tTdGFja0xpbWl0KG1heFNvbHQpOw0KICAgIENoZWNrU2xvdEVtcHR5KG1heFNvbHQpOw0KICAgIC8vIENoZWNrSW5zZXJ0Q29uZGl0aW9uKG1heFNvbHQpOw0KICAgIEdldFNsb3RSZWYobWF4U29sdCk7DQogICAgR2V0U2xvdChtYXhTb2x0KTsNCiAgICBSZXNldFNsb3QobWF4U29sdCk7DQogICAgREJfTG9hZEFjY291bnRDYXJnb19kaXNwYXRjaChtYXhTb2x0KTsNCiAgICBEQl9TYXZlQWNjb3VudENhcmdvX2Rpc3BhdGNoKG1heFNvbHQpOw0KICAgIElzRXhpc3RBY2NvdW50Q2FyZ28oKTsNCiAgICAvLyB1c2VyTG9nb3V0KCk7DQogICAgY29uc29sZS5sb2coMTIpOw0KfQ0KDQpmdW5jdGlvbiBJc0V4aXN0QWNjb3VudENhcmdvKCl7DQogICAgSW50ZXJjZXB0b3IuYXR0YWNoKHB0cigweDA4MjJmYzMwKSwgew0KDQogICAgICAgIG9uRW50ZXI6IGZ1bmN0aW9uIChhcmdzKSB7DQogICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnSXNFeGlzdEFjY291bnRDYXJnbyBzdGFydDonK2FyZ3NbMF0pDQogICAgICAgIH0sDQogICAgICAgIG9uTGVhdmU6IGZ1bmN0aW9uIChyZXR2YWwpIHsNCiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdJc0V4aXN0QWNjb3VudENhcmdvIGVuZDonK3JldHZhbCkNCiAgICAgICAgfQ0KICAgIH0pOw0KfQ0KDQpmdW5jdGlvbiBEQl9TYXZlQWNjb3VudENhcmdvX2Rpc3BhdGNoKG1heFNvbHQpew0KICAgIEludGVyY2VwdG9yLnJlcGxhY2UocHRyKDB4MDg0M2I3YzIpLCBuZXcgTmF0aXZlQ2FsbGJhY2soZnVuY3Rpb24gKGRiY2FyZ29SZWYsYTIsYTMsYTQpIHsNCiAgICAgICAgLy8gY29uc29sZS5sb2coIkRCX1NhdmVBY2NvdW50Q2FyZ29fZGlzcGF0Y2ggLS0tLS0tLS0tLS0tLToiKQ0KICAgICAgICB2YXIgdjE0ID0gTWVtb3J5LmFsbG9jKDQpOw0KICAgICAgICB2MTQud3JpdGVVMzIoMCk7DQogICAgICAgIFN0cmVhbV9vcGVyYXRvcl9wKGE0LCB2MTQudG9JbnQzMigpKTsNCiAgICAgICAgdmFyIHY0ID0gTnVtYmVyVG9TdHJpbmcodjE0LnJlYWRVMzIoKSwwKTsNCiAgICAgICAgLy8gY29uc29sZS5sb2coIm1pZDoiK3B0cih2NCkucmVhZFV0ZjhTdHJpbmcoLTEpKTsNCg0KICAgICAgICB2YXIgb3V0ID0gU3RyZWFtX0dldE91dEJ1ZmZlcl9TSUdfQUNDT1VOVF9DQVJHT19EQVRBKGE0KTsNCiAgICAgICAgdmFyIG91dFB0ciA9IHB0cihvdXQpOw0KICAgICAgICB2YXIgdjE3QWRkciA9IE1lbW9yeS5hbGxvYyg0KTsNCiAgICAgICAgdjE3QWRkci53cml0ZUludCg2MSptYXhTb2x0KTsNCiAgICAgICAgdmFyIHJlYWRCdWZmID0gTWVtb3J5LmFsbG9jKDYxKm1heFNvbHQpOw0KICAgICAgICBpZihjb21wcmVzc196aXAocmVhZEJ1ZmYsdjE3QWRkcixvdXRQdHIuYWRkKDgpLDYxKm1heFNvbHQpICE9MSl7DQogICAgICAgICAgICByZXR1cm4gMDsNCiAgICAgICAgfQ0KICAgICAgICB2YXIgZGJIYW5kZWxBZGRyID0gREJNZ3JfR2V0REJIYW5kbGUocHRyKHB0cigweDA5NDBCREFDKS5yZWFkVTMyKCkpLDIsMCk7DQogICAgICAgIHZhciBkYkhhbmRlbCA9IHB0cihkYkhhbmRlbEFkZHIpOw0KICAgICAgICB2YXIgYmxvYlB0ciA9IE15U1FMX2Jsb2JfdG9fc3RyKGRiSGFuZGVsLDAscmVhZEJ1ZmYsdjE3QWRkci5yZWFkVTMyKCkpOw0KICAgICAgICAvLyBjb25zb2xlLmxvZygnYmxvYjogJytibG9iUHRyICsnICcrb3V0UHRyLnJlYWRVMzIoKSsnICcrb3V0UHRyLmFkZCg0KS5yZWFkVTMyKCkrJyAgJyk7DQogICAgICAgIE15U1FMX3NldF9xdWVyeV82KGRiSGFuZGVsLE1lbW9yeS5hbGxvY1V0ZjhTdHJpbmcoInVwRGF0ZSBhY2NvdW50X2NhcmdvIHNldCBjYXBhY2l0eT0ldSwgbW9uZXk9JXUsIGNhcmdvPSclcycgd2hlcmUgbV9pZCA9ICVzIikNCiAgICAgICAgICAgICxvdXRQdHIucmVhZFUzMigpLG91dFB0ci5hZGQoNCkucmVhZFUzMigpLGJsb2JQdHIudG9JbnQzMigpLHB0cih2NCkudG9JbnQzMigpKTsNCiAgICAgICAgcmV0dXJuIE15U1FMX2V4ZWMoZGJIYW5kZWwsMSk9PTE/MTowOw0KICAgIH0sICdpbnQnLCBbJ3BvaW50ZXInLCdpbnQnLCdpbnQnLCdwb2ludGVyJ10pKTsNCn0NCg0KZnVuY3Rpb24gREJfTG9hZEFjY291bnRDYXJnb19kaXNwYXRjaChtYXhTb2x0KXsNCiAgICBJbnRlcmNlcHRvci5yZXBsYWNlKHB0cigweDA4NDNiM2I2KSwgbmV3IE5hdGl2ZUNhbGxiYWNrKGZ1bmN0aW9uIChkYmNhcmdvUmVmLGEyLGEzLGE0KSB7DQogICAgICAgIGNvbnNvbGUubG9nKCdEQl9Mb2FkQWNjb3VudENhcmdvX2Rpc3BhdGNoOjo6JytkYmNhcmdvUmVmKycsJythMisnLCcrYTMrJywnK2E0KTsNCg0KICAgICAgICB2YXIgdjE5ID0gTWVtb3J5LmFsbG9jKDQpOw0KICAgICAgICB2MTkud3JpdGVVMzIoMCk7DQogICAgICAgIFN0cmVhbV9vcGVyYXRvcl9wKGE0LCB2MTkudG9JbnQzMigpKTsNCiAgICAgICAgdmFyIHY0ID0gTnVtYmVyVG9TdHJpbmcodjE5LnJlYWRVMzIoKSwwKTsNCiAgICAgICAgLy8gY29uc29sZS5sb2coIm1pZDoiK3B0cih2NCkucmVhZFV0ZjhTdHJpbmcoLTEpKQ0KDQogICAgICAgIHZhciBkYkhhbmRlbEFkZHIgPSBEQk1ncl9HZXREQkhhbmRsZShwdHIocHRyKDB4MDk0MEJEQUMpLnJlYWRVMzIoKSksMiwwKTsNCiAgICAgICAgdmFyIGRiSGFuZGVsID0gcHRyKGRiSGFuZGVsQWRkcik7DQogICAgICAgIC8vIGNvbnNvbGUubG9nKCdkYkhhbmRlbDonK2RiSGFuZGVsKTsNCg0KICAgICAgICBNeVNRTF9zZXRfcXVlcnlfM19wdHIoZGJIYW5kZWwsTWVtb3J5LmFsbG9jVXRmOFN0cmluZygnc2VMZWN0IGNhcGFjaXR5LCBtb25leSwgY2FyZ28gZnJvbSBhY2NvdW50X2NhcmdvIHdoZXJlIG1faWQgPSAlcycpLHB0cih2NCkpOw0KICAgICAgICBpZihNeVNRTF9leGVjKGRiSGFuZGVsLDEpIT0xKXsNCiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCJleGVjIGZhaWwgOiIpDQogICAgICAgICAgICByZXR1cm4gMDsNCiAgICAgICAgfQ0KICAgICAgICBpZihNeVNRTF9nZXRfbl9yb3dzKGRiSGFuZGVsKT09MCl7DQogICAgICAgICAgICAvLyBjb25zb2xlLmxvZygiZ2V0IHJvd3MgID0gMCAiKQ0KICAgICAgICAgICAgcmV0dXJuIDE7DQogICAgICAgIH0NCiAgICAgICAgaWYoTXlTUUxfZmV0Y2goZGJIYW5kZWwpIT0xKXsNCiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCJmZXRjaCBmaWFsICA9IDAgIikNCiAgICAgICAgICAgIHJldHVybiAwOw0KICAgICAgICB9DQogICAgICAgIHZhciB2MTggPSBNZW1vcnkuYWxsb2MoOCk7DQogICAgICAgIHZhciB2NiA9IFN0cmVhbVBvb2xfQWNxdWlyZShwdHIocHRyKDB4MDk0MEJENkMpLnJlYWRVMzIoKSksTWVtb3J5LmFsbG9jVXRmOFN0cmluZygnREJUaHJlYWQuY3BwJyksMzU5MjMpOw0KICAgICAgICBDU3RyZWFtR3VhcmRfQ1N0cmVhbUd1YXJkKHYxOCx2NiwxKTsNCiAgICAgICAgdmFyIHY3ID0gQ1N0cmVhbUd1YXJkX29wZXJhdG9yKHYxOC50b0ludDMyKCkpOw0KICAgICAgICBDU3RyZWFtR3VhcmRfb3BlcmF0b3JfaW50KHB0cih2NyksYTIpOw0KICAgICAgICB2YXIgdjggPSBDU3RyZWFtR3VhcmRfb3BlcmF0b3IodjE4LnRvSW50MzIoKSk7DQogICAgICAgIENTdHJlYW1HdWFyZF9vcGVyYXRvcl9pbnQocHRyKHY4KSxhMyk7DQogICAgICAgIHZhciB2OT0gQ1N0cmVhbUd1YXJkX29wZXJhdG9yX3AodjE4LnRvSW50MzIoKSk7DQogICAgICAgIHZhciB2MjEgPSBDU3RyZWFtR3VhcmRfR2V0SW5CdWZmZXJfU0lHX0FDQ09VTlRfQ0FSR09fREFUQShwdHIodjkpKTsNCiAgICAgICAgdjIxLndyaXRlVTMyKDApOw0KICAgICAgICB2MjEuYWRkKDQpLndyaXRlVTMyKDApOw0KICAgICAgICB2YXIgY2FyZ29SZWZBZGQgPSB2MjEuYWRkKDgpOw0KICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1heFNvbHQ7IGkrKykgew0KICAgICAgICAgICAgY2FyZ29SZWZBZGQud3JpdGVVMzIoMCk7DQogICAgICAgICAgICBjYXJnb1JlZkFkZCA9IGNhcmdvUmVmQWRkLmFkZCg2MSk7DQogICAgICAgIH0NCiAgICAgICAgdjIxLmFkZCg4KzYxKm1heFNvbHQpLndyaXRlVTMyKDApOw0KICAgICAgICB2MjEuYWRkKDgrNjEqbWF4U29sdCkud3JpdGVVMzIoMCk7DQogICAgICAgIHZhciByZXMgPTA7DQogICAgICAgIGlmKE15U1FMX2dldF91aW50KGRiSGFuZGVsLDAsdjIxKSE9MSl7DQogICAgICAgICAgICAvLyBjb25zb2xlLmxvZygndWludCBjYXBhY2l0eSBnZXQgZXJyb3InKQ0KICAgICAgICAgICAgcmVzID0gMDsNCiAgICAgICAgfWVsc2UgaWYoTXlTUUxfZ2V0X3VpbnQoZGJIYW5kZWwsMSx2MjEuYWRkKDQpKSE9MSl7DQogICAgICAgICAgICAvLyBjb25zb2xlLmxvZygndWludCBtb25leSBnZXQgZXJyb3InKQ0KICAgICAgICAgICAgcmVzID0gMDsNCiAgICAgICAgfWVsc2V7DQogICAgICAgICAgICB2YXIgdjEwID0gTWVtb3J5LmFsbG9jKDYxKm1heFNvbHQqNCk7DQogICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDYxKm1heFNvbHQ7IGkrKykgew0KICAgICAgICAgICAgICAgIHYxMC5hZGQoaSo0KS53cml0ZVUzMigwKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHZhciBiaW5hcnlMZW5ndGggPSBNeVNRTF9nZXRfYmluYXJ5X2xlbmd0aChkYkhhbmRlbCwyKTsNCiAgICAgICAgICAgIGlmKCBNeVNRTF9nZXRfYmluYXJ5KGRiSGFuZGVsLDIsdjEwLCBiaW5hcnlMZW5ndGgpIT0xICl7DQogICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ3JlYWQgdmFsIGxlbmd0aCAwJyk7DQogICAgICAgICAgICAgICAgLy8g6Kej5Yaz5Yib5bu66LSm5Y+36YeR5bqT5ZCO5LuA5LmI5Lmf5LiN5pON5L2cIOeEtuWQjuS/neWtmOWtl+iKguS4ujAg5a+86Ie05Yib5bu655qE5omT5LiN5byADQogICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXhTb2x0OyBpKyspIHsNCiAgICAgICAgICAgICAgICAgICAgdjIxLmFkZCg4K2kqNjEpLndyaXRlVTMyKDApOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB2YXIgbXNnTmFtZSA9IHB0cihwdHIoMHgwOTQwQkQ2OCkucmVhZFUzMigpKTsNCiAgICAgICAgICAgICAgICBNc2dRdWV1ZU1ncl9wdXQobXNnTmFtZS50b0ludDMyKCksMSx2MTgpOw0KICAgICAgICAgICAgICAgIHJlcyA9IDE7DQogICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICBiaW5hcnlMZW5ndGggPSBNeVNRTF9nZXRfYmluYXJ5X2xlbmd0aChkYkhhbmRlbCwyKTsNCiAgICAgICAgICAgICAgICB2YXIgdjE3QWRkciA9IE1lbW9yeS5hbGxvYyg0KTsNCiAgICAgICAgICAgICAgICB2MTdBZGRyLndyaXRlSW50KDYxKm1heFNvbHQpDQogICAgICAgICAgICAgICAgaWYodW5jb21wcmVzc196aXAodjIxLmFkZCg4KSwgdjE3QWRkciwgdjEwLCBiaW5hcnlMZW5ndGgpICE9MSl7DQogICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCJ1bmNvbXByZXNzX3ppcCBlcnJvciAgISEhIikNCiAgICAgICAgICAgICAgICAgICAgcmVzID0gMDsNCiAgICAgICAgICAgICAgICB9ZWxzZSBpZih2MTdBZGRyLnJlYWRVMzIoKSE9MCAmJiB2MTdBZGRyLnJlYWRVMzIoKSUoNjEqbWF4U29sdCkgIT0wKXsNCiAgICAgICAgICAgICAgICAgICAgcmVzID0gMDsNCiAgICAgICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICAgICAgdmFyIG1zZ05hbWUgPSBwdHIocHRyKDB4MDk0MEJENjgpLnJlYWRVMzIoKSk7DQogICAgICAgICAgICAgICAgICAgIE1zZ1F1ZXVlTWdyX3B1dChtc2dOYW1lLnRvSW50MzIoKSwxLHYxOCk7DQogICAgICAgICAgICAgICAgICAgIHJlcyA9IDE7DQoNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coInYxNyBsZW5ndGg6Iit2MTdBZGRyLnJlYWRVMzIoKSk7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgLy8gY29uc29sZS5sb2coJ21vbmV5IG9yIGNhcGFjaXR5OicrdjIxLnJlYWRVMzIoKSsnLCcrdjIxLmFkZCg0KS5yZWFkVTMyKCkrJywnK3YyMS5hZGQoOCkucmVhZFUzMigpKycgLCcrcmVzKQ0KICAgICAgICBEZXN0cm95X0NTdHJlYW1HdWFyZF9DU3RyZWFtR3VhcmQodjE4KTsNCiAgICAgICAgcmV0dXJuIHJlczsNCiAgICB9LCAnaW50JywgWydwb2ludGVyJywnaW50JywnaW50JywncG9pbnRlciddKSk7DQp9DQoNCmZ1bmN0aW9uIFJlc2V0U2xvdChtYXhTb2x0KXsNCiAgICBJbnRlcmNlcHRvci5yZXBsYWNlKHB0cigweDA4Mjg5OEMwKSwgbmV3IE5hdGl2ZUNhbGxiYWNrKGZ1bmN0aW9uIChjYXJnb1JlZixzb2x0KSB7DQogICAgICAgIHZhciBhY2NJZCA9ICBnZXRVc2VyQWNjSWQoY2FyZ29SZWYpOw0KICAgICAgICBpZihhY2NJZCA9PSAtMSl7DQogICAgICAgICAgICByZXR1cm4gMDsNCiAgICAgICAgfQ0KICAgICAgICAvLyBjb25zb2xlLmxvZygnUmVzZXRTbG90LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tJytjYXJnb1JlZikNCiAgICAgICAgaWYoQ0FjY291bnRDYXJnb19DaGVja1ZhbGlkU2xvdChjYXJnb1JlZixzb2x0KT09MCl7DQogICAgICAgICAgICByZXR1cm4gMDsNCiAgICAgICAgfQ0KICAgICAgICBjYXJnb1JlZiA9IGdldENhcmdvUmVmKGFjY0lkLGNhcmdvUmVmKTsNCiAgICAgICAgcmV0dXJuIEludmVuX0l0ZW1fcmVzZXQoY2FyZ29SZWYuYWRkKDYxKnNvbHQrNCkpOw0KICAgIH0sICdpbnQnLCBbJ3BvaW50ZXInLCdpbnQnXSkpOw0KfQ0KDQpmdW5jdGlvbiBHZXRTbG90KG1heFNvbHQpew0KICAgIEludGVyY2VwdG9yLnJlcGxhY2UocHRyKDB4MDgyODk4RjgpLCBuZXcgTmF0aXZlQ2FsbGJhY2soZnVuY3Rpb24gKGJ1ZmYsY2FyZ28sc29sdCkgew0KICAgICAgICB2YXIgY2FyZ29SZWYgPSBwdHIoY2FyZ28pOw0KICAgICAgICB2YXIgYWNjSWQgPSAgZ2V0VXNlckFjY0lkKGNhcmdvUmVmKTsNCiAgICAgICAgaWYoYWNjSWQgPT0gLTEpew0KICAgICAgICAgICAgcmV0dXJuIGJ1ZmY7DQogICAgICAgIH0NCiAgICAgICAgLy8gY29uc29sZS5sb2coJ0dldFNsb3QtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0nK2NhcmdvUmVmKQ0KICAgICAgICBjYXJnb1JlZiA9IGdldENhcmdvUmVmKGFjY0lkLGNhcmdvUmVmKTsNCiAgICAgICAgaWYoQ0FjY291bnRDYXJnb19DaGVja1ZhbGlkU2xvdChjYXJnb1JlZixzb2x0KT09MCl7DQogICAgICAgICAgICBidWZmLndyaXRlVTMyKGNhcmdvUmVmLmFkZCg2MSpzb2x0KzQpLnJlYWRVMzIoKSk7DQogICAgICAgICAgICBidWZmLmFkZCgxKjQpLndyaXRlVTMyKDApOw0KICAgICAgICAgICAgYnVmZi5hZGQoMio0KS53cml0ZVUzMigwKTsNCiAgICAgICAgICAgIGJ1ZmYuYWRkKDMqNCkud3JpdGVVMzIoMCk7DQogICAgICAgICAgICBidWZmLmFkZCg0KjQpLndyaXRlVTMyKDApOw0KICAgICAgICAgICAgYnVmZi5hZGQoNSo0KS53cml0ZVUzMigwKTsNCiAgICAgICAgICAgIGJ1ZmYuYWRkKDYqNCkud3JpdGVVMzIoMCk7DQogICAgICAgICAgICBidWZmLmFkZCg3KjQpLndyaXRlVTMyKDApOw0KICAgICAgICAgICAgYnVmZi5hZGQoOCo0KS53cml0ZVUzMigwKTsNCiAgICAgICAgICAgIGJ1ZmYuYWRkKDkqNCkud3JpdGVVMzIoMCk7DQogICAgICAgICAgICBidWZmLmFkZCgxMCo0KS53cml0ZVUzMigwKTsNCiAgICAgICAgICAgIGJ1ZmYuYWRkKDExKjQpLndyaXRlVTMyKDApOw0KICAgICAgICAgICAgYnVmZi5hZGQoMTIqNCkud3JpdGVVMzIoMCk7DQogICAgICAgICAgICBidWZmLmFkZCgxMyo0KS53cml0ZVUzMigwKTsNCiAgICAgICAgICAgIGJ1ZmYuYWRkKDE0KjQpLndyaXRlVTMyKDApOw0KICAgICAgICAgICAgYnVmZi5hZGQoNjApLndyaXRlVTgoMCk7DQogICAgICAgIH1lbHNlIHsNCiAgICAgICAgICAgIGJ1ZmYud3JpdGVVMzIoY2FyZ29SZWYuYWRkKDYxKnNvbHQrNCkucmVhZFUzMigpKTsNCiAgICAgICAgICAgIGJ1ZmYuYWRkKDEqNCkud3JpdGVVMzIoY2FyZ29SZWYuYWRkKDYxKnNvbHQrOCkucmVhZFUzMigpKTsNCiAgICAgICAgICAgIGJ1ZmYuYWRkKDIqNCkud3JpdGVVMzIoY2FyZ29SZWYuYWRkKDYxKnNvbHQrMTIpLnJlYWRVMzIoKSk7DQogICAgICAgICAgICBidWZmLmFkZCgzKjQpLndyaXRlVTMyKGNhcmdvUmVmLmFkZCg2MSpzb2x0KzE2KS5yZWFkVTMyKCkpOw0KICAgICAgICAgICAgYnVmZi5hZGQoNCo0KS53cml0ZVUzMihjYXJnb1JlZi5hZGQoNjEqc29sdCsyMCkucmVhZFUzMigpKTsNCiAgICAgICAgICAgIGJ1ZmYuYWRkKDUqNCkud3JpdGVVMzIoY2FyZ29SZWYuYWRkKDYxKnNvbHQrMjQpLnJlYWRVMzIoKSk7DQogICAgICAgICAgICBidWZmLmFkZCg2KjQpLndyaXRlVTMyKGNhcmdvUmVmLmFkZCg2MSpzb2x0KzI4KS5yZWFkVTMyKCkpOw0KICAgICAgICAgICAgYnVmZi5hZGQoNyo0KS53cml0ZVUzMihjYXJnb1JlZi5hZGQoNjEqc29sdCszMikucmVhZFUzMigpKTsNCiAgICAgICAgICAgIGJ1ZmYuYWRkKDgqNCkud3JpdGVVMzIoY2FyZ29SZWYuYWRkKDYxKnNvbHQrMzYpLnJlYWRVMzIoKSk7DQogICAgICAgICAgICBidWZmLmFkZCg5KjQpLndyaXRlVTMyKGNhcmdvUmVmLmFkZCg2MSpzb2x0KzQwKS5yZWFkVTMyKCkpOw0KICAgICAgICAgICAgYnVmZi5hZGQoMTAqNCkud3JpdGVVMzIoY2FyZ29SZWYuYWRkKDYxKnNvbHQrNDQpLnJlYWRVMzIoKSk7DQogICAgICAgICAgICBidWZmLmFkZCgxMSo0KS53cml0ZVUzMihjYXJnb1JlZi5hZGQoNjEqc29sdCs0OCkucmVhZFUzMigpKTsNCiAgICAgICAgICAgIGJ1ZmYuYWRkKDEyKjQpLndyaXRlVTMyKGNhcmdvUmVmLmFkZCg2MSpzb2x0KzUyKS5yZWFkVTMyKCkpOw0KICAgICAgICAgICAgYnVmZi5hZGQoMTMqNCkud3JpdGVVMzIoY2FyZ29SZWYuYWRkKDYxKnNvbHQrNTYpLnJlYWRVMzIoKSk7DQogICAgICAgICAgICBidWZmLmFkZCgxNCo0KS53cml0ZVUzMihjYXJnb1JlZi5hZGQoNjEqc29sdCs2MCkucmVhZFUzMigpKTsNCiAgICAgICAgICAgIGJ1ZmYuYWRkKDYwKS53cml0ZVU4KGNhcmdvUmVmLmFkZCg2MSpzb2x0KzY0KS5yZWFkVTgoKSk7DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIGJ1ZmY7DQogICAgfSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInLCdpbnQnLCdpbnQnXSkpOw0KfQ0KDQpmdW5jdGlvbiBHZXRTbG90UmVmKG1heFNvbHQpew0KICAgIEludGVyY2VwdG9yLnJlcGxhY2UocHRyKDB4MDgyODlBMEMpLCBuZXcgTmF0aXZlQ2FsbGJhY2soZnVuY3Rpb24gKGNhcmdvUmVmLHNvbHQpIHsNCiAgICAgICAgdmFyIGFjY0lkID0gIGdldFVzZXJBY2NJZChjYXJnb1JlZik7DQogICAgICAgIGlmKGFjY0lkID09IC0xKXsNCiAgICAgICAgICAgIHJldHVybiAwOw0KICAgICAgICB9DQogICAgICAgIC8vIGNvbnNvbGUubG9nKCJHZXRTbG90UmVmIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSIrY2FyZ29SZWYpDQogICAgICAgIGlmKENBY2NvdW50Q2FyZ29fQ2hlY2tWYWxpZFNsb3QoY2FyZ29SZWYsc29sdCk9PTApew0KICAgICAgICAgICAgcmV0dXJuIDA7DQogICAgICAgIH0NCiAgICAgICAgY2FyZ29SZWYuYWRkKDEyKzYxKjU2KS53cml0ZVU4KDEpOyAvLyDmoIflv5cNCiAgICAgICAgY2FyZ29SZWYgPSBnZXRDYXJnb1JlZihhY2NJZCxjYXJnb1JlZik7DQogICAgICAgIGNhcmdvUmVmLmFkZCgxMis2MSptYXhTb2x0KS53cml0ZVU4KDEpOyAvLyDmoIflv5cNCiAgICAgICAgcmV0dXJuIGNhcmdvUmVmLmFkZCg2MSpzb2x0KzQpOw0KICAgIH0sICdwb2ludGVyJywgWydwb2ludGVyJywnaW50J10pKTsNCn0NCg0KLy8gdG9kbyDmsqHmnInlhpnmm7/mjaINCmZ1bmN0aW9uIENoZWNrSW5zZXJ0Q29uZGl0aW9uKG1heFNvbHQpew0KICAgIEludGVyY2VwdG9yLnJlcGxhY2UocHRyKDB4MDgyODlBNEEpLCBuZXcgTmF0aXZlQ2FsbGJhY2soZnVuY3Rpb24gKGNhcmdvUmVmLGl0ZW1JbnZlbikgew0KICAgICAgICB2YXIgYWNjSWQgPSAgZ2V0VXNlckFjY0lkKGNhcmdvUmVmKTsNCiAgICAgICAgaWYoYWNjSWQgPT0gLTEpew0KICAgICAgICAgICAgcmV0dXJuIDA7DQogICAgICAgIH0NCiAgICAgICAgLy8gY29uc29sZS5sb2coJ0NoZWNrSW5zZXJ0Q29uZGl0aW9uLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tJytjYXJnb1JlZikNCiAgICAgICAgdmFyIGl0ZW1JZCA9IGl0ZW1JbnZlbi5hZGQoMikucmVhZFUzMigpOw0KICAgICAgICB2YXIgaXRlbSA9IENEYXRhTWFuYWdlcl9maW5kX2l0ZW0oR19DRGF0YU1hbmFnZXIoKSxpdGVtSWQpOw0KICAgICAgICBpZihpdGVtPT0wKXsNCiAgICAgICAgICAgIHJldHVybiAwOw0KICAgICAgICB9DQogICAgICAgIGlmKENJdGVtX2lzUGFja2FnYWJsZShpdGVtKSE9MSl7DQogICAgICAgICAgICByZXR1cm4gMDsNCiAgICAgICAgfQ0KICAgICAgICB2YXIgbG9jayA9IHN0QW1wbGlmeU9wdGlvbl90X0dldExvY2soaXRlbUludmVuLmFkZCgxNykpOw0KICAgICAgICBpZihsb2NrIT0wKXsNCiAgICAgICAgICAgIHZhciBjaGFyYWNFeHBhbmREYXRhUiA9IENVc2VyX0dldENoYXJhY0V4cGFuZERhdGFSKGNhcmdvUmVmLnJlYWRVMzIoKSwyKTsNCiAgICAgICAgICAgIGlmKGl0ZW1fbG9ja19DSXRlbUxvY2tfQ2hlY2tJdGVtTG9jayhjaGFyYWNFeHBhbmREYXRhUixsb2NrKSE9MCl7DQogICAgICAgICAgICAgICAgcmV0dXJuIDA7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgdmFyIHR5cGVWYWwgPSBpdGVtSW52ZW4uYWRkKDEpLnJlYWRVOCgpOw0KICAgICAgICBpZih0eXBlVmFsPT00fHx0eXBlVmFsPT01fHx0eXBlVmFsPT02fHx0eXBlVmFsPT03fHx0eXBlVmFsPT04KXsNCiAgICAgICAgICAgIHJldHVybiAwOw0KICAgICAgICB9DQogICAgICAgIGlmKGl0ZW1JZD4weDE5NjMgJiYgaXRlbUlkPD0weDFCNTcpew0KICAgICAgICAgICAgcmV0dXJuIDA7DQogICAgICAgIH0NCiAgICAgICAgdmFyIGF0dGFjaFR5cGUgPSBDSXRlbV9HZXRBdHRhY2hUeXBlKGl0ZW0pOw0KICAgICAgICBpZihhdHRhY2hUeXBlPT0xIHx8IGF0dGFjaFR5cGU9PTIpew0KICAgICAgICAgICAgcmV0dXJuIDA7DQogICAgICAgIH0NCiAgICAgICAgaWYoYXR0YWNoVHlwZSA9PSAzICYmIGl0ZW1JbnZlbi5yZWFkVTgoKSE9MSl7DQogICAgICAgICAgICByZXR1cm4gMDsNCiAgICAgICAgfQ0KICAgICAgICBpZihVcGdyYWRlU2VwYXJhdGVJbmZvX0lzVHJhZGVSZXN0cmljdGlvbihpdGVtSW52ZW4uYWRkKDUxKSkgIT0wKXsNCiAgICAgICAgICAgIHJldHVybiAwOw0KICAgICAgICB9DQogICAgICAgIHZhciB0ZW1wTWV0aG9kID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cihpdGVtLmFkZCgxNio0KS5yZWFkVTMyKCkpLCAnaW50JywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCiAgICAgICAgLy8gfHx0ZW1wTWV0aG9kKGl0ZW0pPT0xDQogICAgICAgIHZhciBpc0dNVXNlciA9IENVc2VyX2lzR01Vc2VyKHB0cihjYXJnb1JlZi5yZWFkVTMyKCkpKTsNCiAgICAgICAgaWYoaXNHTVVzZXI9PTEpew0KICAgICAgICAgICAgcmV0dXJuIDE7DQogICAgICAgIH0NCiAgICAgICAgaWYoQ0l0ZW1fZ2V0VXNhYmxlUGVyaW9kKGl0ZW0pPT0wICYmIENJdGVtX2dldEV4cGlyYXRpb25EYXRlKGl0ZW0pPT0wKXsNCiAgICAgICAgICAgIHJldHVybiAxOw0KICAgICAgICB9DQogICAgICAgIGlmKENJdGVtX2dldFVzYWJsZVBlcmlvZChpdGVtKT09MCAmJiBDSXRlbV9nZXRFeHBpcmF0aW9uRGF0ZShpdGVtKT09MCl7DQogICAgICAgICAgICByZXR1cm4gMDsNCiAgICAgICAgfQ0KICAgICAgICB2YXIgZXhwRGF0ZSA9IDg2NDAwICogaXRlbUludmVuLmFkZCgxMSkucmVhZFUxNigpKzExNTE2ODMyMDA7DQogICAgICAgIHJldHVybiBleHBEYXRlID4gQ1N5c3RlbVRpbWVfZ2V0Q3VyU2VjKHB0cigweDA5NDFGNzE0KSk/MTowOw0KICAgIH0sICdpbnQnLCBbJ3BvaW50ZXInLCdwb2ludGVyJ10pKTsNCn0NCg0KZnVuY3Rpb24gQ2hlY2tTbG90RW1wdHkobWF4U29sdCl7DQogICAgSW50ZXJjZXB0b3IucmVwbGFjZShwdHIoMHgwODI4QTVENCksIG5ldyBOYXRpdmVDYWxsYmFjayhmdW5jdGlvbiAoY2FyZ29SZWYsc29sdCkgew0KICAgICAgICB2YXIgYWNjSWQgPSAgZ2V0VXNlckFjY0lkKGNhcmdvUmVmKTsNCiAgICAgICAgaWYoYWNjSWQgPT0gLTEpew0KICAgICAgICAgICAgcmV0dXJuIDA7DQogICAgICAgIH0NCiAgICAgICAgLy8gY29uc29sZS5sb2coJ0NoZWNrU2xvdEVtcHR5LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tJytjYXJnb1JlZikNCiAgICAgICAgdmFyIGJ1ZmZDYXJnb1JlZiA9IGdldENhcmdvUmVmKGFjY0lkLGNhcmdvUmVmKTsNCiAgICAgICAgLy8gY29uc29sZS5sb2coIkNoZWNrU2xvdEVtcHR5IGFjY0lkOiIrYWNjSWQpDQogICAgICAgIHJldHVybiAoQ0FjY291bnRDYXJnb19DaGVja1ZhbGlkU2xvdChjYXJnb1JlZixzb2x0KSE9MCAmJiBidWZmQ2FyZ29SZWYuYWRkKDYxKnNvbHQrNikucmVhZFUzMigpIT0wKT8xOjA7DQogICAgfSwgJ2ludCcsIFsncG9pbnRlcicsJ2ludCddKSk7DQp9DQoNCmZ1bmN0aW9uIENoZWNrU3RhY2tMaW1pdChtYXhTb2x0KXsNCiAgICBJbnRlcmNlcHRvci5yZXBsYWNlKHB0cigweDA4MjhBNjcwKSwgbmV3IE5hdGl2ZUNhbGxiYWNrKGZ1bmN0aW9uIChjYXJnb1JlZixzb2x0LGl0ZW1JZCxzaXplKSB7DQogICAgICAgIHZhciBhY2NJZCA9ICBnZXRVc2VyQWNjSWQoY2FyZ29SZWYpOw0KICAgICAgICBpZihhY2NJZCA9PSAtMSl7DQogICAgICAgICAgICByZXR1cm4gMDsNCiAgICAgICAgfQ0KICAgICAgICAvLyBjb25zb2xlLmxvZygnQ2hlY2tTdGFja0xpbWl0LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tJytjYXJnb1JlZikNCiAgICAgICAgaWYoQ0FjY291bnRDYXJnb19DaGVja1ZhbGlkU2xvdChjYXJnb1JlZixzb2x0KT09MCl7DQogICAgICAgICAgICByZXR1cm4gMDsNCiAgICAgICAgfQ0KICAgICAgICBjYXJnb1JlZiA9IGdldENhcmdvUmVmKGFjY0lkLGNhcmdvUmVmKTs7DQogICAgICAgIGlmKGNhcmdvUmVmLmFkZCg2MSpzb2x0KzYpLnJlYWRVMzIoKSAhPSBpdGVtSWQpew0KICAgICAgICAgICAgcmV0dXJuIDA7DQogICAgICAgIH0NCiAgICAgICAgdmFyIGl0ZW0gPSBDRGF0YU1hbmFnZXJfZmluZF9pdGVtKEdfQ0RhdGFNYW5hZ2VyKCksaXRlbUlkKTsNCiAgICAgICAgaWYoaXRlbT09MCl7DQogICAgICAgICAgICByZXR1cm4gMDsNCiAgICAgICAgfQ0KICAgICAgICBpZihDSXRlbV9pc19zdGFja2FibGUoaXRlbSkhPTEpew0KICAgICAgICAgICAgcmV0dXJuIDA7DQogICAgICAgIH0NCiAgICAgICAgdmFyIGFsbFNpemUgPSBzaXplICsgY2FyZ29SZWYuYWRkKDYxKnNvbHQrMTEpLnJlYWRVMzIoKTsNCiAgICAgICAgdmFyIGxpbWl0ID0gQ1N0YWNrYWJsZUl0ZW1fZ2V0U3RhY2thYmxlTGltaXQoaXRlbSk7DQogICAgICAgIHJldHVybiBsaW1pdDwgYWxsU2l6ZXx8YWxsU2l6ZTwwID8gMDoxOw0KICAgIH0sICdpbnQnLCBbJ3BvaW50ZXInLCdpbnQnLCdpbnQnLCdpbnQnXSkpOw0KfQ0KDQpmdW5jdGlvbiBNYWtlSXRlbVBhY2tldChtYXhTb2x0KXsNCiAgICBJbnRlcmNlcHRvci5yZXBsYWNlKHB0cigweDA4MjhBQjFDKSwgbmV3IE5hdGl2ZUNhbGxiYWNrKGZ1bmN0aW9uIChjYXJnb1JlZixidWZmLHNvbHQpIHsNCiAgICAgICAgdmFyIGFjY0lkID0gIGdldFVzZXJBY2NJZChjYXJnb1JlZik7DQogICAgICAgIGlmKGFjY0lkID09IC0xKXsNCiAgICAgICAgICAgIHJldHVybiAwOw0KICAgICAgICB9DQogICAgICAgIC8vIGNvbnNvbGUubG9nKCdNYWtlSXRlbVBhY2tldC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLScrY2FyZ29SZWYpDQogICAgICAgIGNhcmdvUmVmID0gZ2V0Q2FyZ29SZWYoYWNjSWQsY2FyZ29SZWYpOw0KICAgICAgICAvLyBjb25zb2xlLmxvZygiTWFrZUl0ZW1QYWNrZXQgYWNjSWQ6IithY2NJZCkNCiAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9zaG9ydChidWZmLCBzb2x0KTsNCiAgICAgICAgaWYgKCBjYXJnb1JlZi5hZGQoNjEqc29sdCs2KS5yZWFkVTMyKCkgIT0wICkgew0KICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9pbnQoYnVmZiwgY2FyZ29SZWYuYWRkKDYxKnNvbHQrNikucmVhZFUzMigpKTsNCiAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfaW50KGJ1ZmYsIGNhcmdvUmVmLmFkZCg2MSpzb2x0KzExKS5yZWFkVTMyKCkpOw0KICAgICAgICAgICAgdmFyIGludGVncmF0ZWRQdlBJdGVtQXR0ciA9IEdldEludGVncmF0ZWRQdlBJdGVtQXR0cihjYXJnb1JlZi5hZGQoNjEqc29sdCs0KSk7DQogICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2J5dGUoYnVmZiwgaW50ZWdyYXRlZFB2UEl0ZW1BdHRyKTsNCiAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfc2hvcnQoYnVmZiwgY2FyZ29SZWYuYWRkKDYxKnNvbHQrMTUpLnJlYWRVMTYoKSk7DQogICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2J5dGUoYnVmZiwgY2FyZ29SZWYuYWRkKDYxKnNvbHQrNCkucmVhZFU4KCkpOw0KICAgICAgICAgICAgaWYgKCBHYW1lV29ybGRfSXNFbmNoYW50UmV2aXNpb25DaGFubmVsKEdfR2FtZVdvcmxkKCkpIT0wICl7DQogICAgICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9pbnQoYnVmZiwgMCk7DQogICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2ludChidWZmLCBjYXJnb1JlZi5hZGQoNjEqc29sdCsxNykucmVhZFUzMigpKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHZhciBhYmlsaXR5VHlwZSA9IHN0QW1wbGlmeU9wdGlvbl90X2dldEFiaWxpdHlUeXBlKGNhcmdvUmVmLmFkZCg2MSpzb2x0KzIxKSk7DQogICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2J5dGUoYnVmZiwgYWJpbGl0eVR5cGUpOw0KICAgICAgICAgICAgdmFyIGFiaWxpdHlWYWx1ZSA9IHN0QW1wbGlmeU9wdGlvbl90X2dldEFiaWxpdHlWYWx1ZShjYXJnb1JlZi5hZGQoNjEqc29sdCsyMSkpOw0KICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9zaG9ydChidWZmLCBhYmlsaXR5VmFsdWUpOw0KICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9ieXRlKGJ1ZmYsIDApOw0KICAgICAgICAgICAgcmV0dXJuIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfcGFja2V0KGJ1ZmYsIGNhcmdvUmVmLmFkZCg2MSpzb2x0KzQpKTsNCiAgICAgICAgfWVsc2V7DQogICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2ludChidWZmLCAtMSk7DQogICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2ludChidWZmLCAwKTsNCiAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfYnl0ZShidWZmLCAwKTsNCiAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfc2hvcnQoYnVmZiwgMCk7DQogICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2J5dGUoYnVmZiwgMCk7DQogICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2ludChidWZmLCAwKTsNCiAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfYnl0ZShidWZmLCAwKTsNCiAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfc2hvcnQoYnVmZiwgMCk7DQogICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2J5dGUoYnVmZiwgMCk7DQogICAgICAgICAgICByZXR1cm4gSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9wYWNrZXQoYnVmZiwgcHRyKDB4MDk0M0REQzApLnJlYWRQb2ludGVyKCkpOw0KICAgICAgICB9DQogICAgfSwgJ2ludCcsIFsncG9pbnRlcicsJ3BvaW50ZXInLCdpbnQnXSkpOw0KfQ0KDQpmdW5jdGlvbiBHZXRBY2NvdW50Q2FyZ28oKXsNCiAgICBJbnRlcmNlcHRvci5yZXBsYWNlKHB0cigweDA4MjJmYzIyKSwgbmV3IE5hdGl2ZUNhbGxiYWNrKGZ1bmN0aW9uIChjYXJnb1JlZikgew0KICAgICAgICAvLyB2YXIgYWNjSWQgPSAgQ1VzZXJfZ2V0X2FjY19pZChjYXJnb1JlZik7DQogICAgICAgIC8vIGlmKGFjY0lkID09IC0xKXsNCiAgICAgICAgLy8gICAgIHJldHVybiAwOw0KICAgICAgICAvLyB9DQogICAgICAgIGNvbnNvbGUubG9nKCdHZXRBY2NvdW50Q2FyZ28tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0nK2NhcmdvUmVmKQ0KICAgICAgICAvLyBpZihhY2NvdW50Q2FyZ2ZvW2FjY0lkXSl7DQogICAgICAgIC8vICAgICByZXR1cm4gIGFjY291bnRDYXJnZm9bYWNjSWRdOw0KICAgICAgICAvLyB9DQogICAgICAgIC8vIOi/lOWbnuWOn+adpeeahOWcsOWdgA0KICAgICAgICByZXR1cm4gY2FyZ29SZWYuYWRkKDQ1NDY1Mik7DQogICAgfSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInXSkpOw0KfQ0KDQpmdW5jdGlvbiAgREJfU2F2ZUFjY291bnRDYXJnb19tYWtlUmVxdWVzdChtYXhTb2x0KXsNCiAgICBJbnRlcmNlcHRvci5yZXBsYWNlKHB0cigweDA4NDNCOTQ2KSwgbmV3IE5hdGl2ZUNhbGxiYWNrKGZ1bmN0aW9uIChhMSxhMixjYXJnbykgew0KICAgICAgICBjb25zb2xlLmxvZygiREJfU2F2ZUFjY291bnRDYXJnb19tYWtlUmVxdWVzdC0tLS0tLS0tLSIrcHRyKGNhcmdvKSsnLCcrYTErJywsLCcrYTIpOw0KICAgICAgICB2YXIgY2FyZ29SZWYgPSBwdHIoY2FyZ28pOw0KICAgICAgICB2YXIgYWNjSWQgPSAgZ2V0VXNlckFjY0lkKGNhcmdvUmVmKTsNCiAgICAgICAgLy8gY29uc29sZS5sb2coJ21ha2VSZXF1ZXN0LS0tLS0tYWNjSWQtLS0tLScrYWNjSWQpOw0KICAgICAgICBjYXJnb1JlZiA9IGdldENhcmdvUmVmKGFjY0lkLGNhcmdvUmVmKTsNCiAgICAgICAgdmFyIHY4ID0gTWVtb3J5LmFsbG9jKDYxKm1heFNvbHQrOSk7DQogICAgICAgIHZhciB2MyA9IFN0cmVhbVBvb2xfQWNxdWlyZShwdHIocHRyKDB4MDk0MEJENkMpLnJlYWRVMzIoKSksTWVtb3J5LmFsbG9jVXRmOFN0cmluZygnREJUaHJlYWQuY3BwJyksMzU5OTkpOw0KICAgICAgICBDU3RyZWFtR3VhcmRfQ1N0cmVhbUd1YXJkKHY4LHYzLDEpOw0KICAgICAgICB2YXIgdjQgPSBDU3RyZWFtR3VhcmRfb3BlcmF0b3IodjgudG9JbnQzMigpKTsNCiAgICAgICAgQ1N0cmVhbUd1YXJkX29wZXJhdG9yX2ludChwdHIodjQpLDQ5Nyk7DQogICAgICAgIHZhciB2NSA9IENTdHJlYW1HdWFyZF9vcGVyYXRvcih2OC50b0ludDMyKCkpOw0KICAgICAgICBDU3RyZWFtR3VhcmRfb3BlcmF0b3JfaW50KHB0cih2NSksYTEudG9JbnQzMigpKTsNCiAgICAgICAgdmFyIHY2ID0gQ1N0cmVhbUd1YXJkX29wZXJhdG9yKHY4LnRvSW50MzIoKSk7DQogICAgICAgIENTdHJlYW1HdWFyZF9vcGVyYXRvcl9pbnQocHRyKHY2KSxhMik7DQogICAgICAgIHZhciB2NyA9IENTdHJlYW1HdWFyZF9vcGVyYXRvcl9wKHY4LnRvSW50MzIoKSk7DQogICAgICAgIHZhciB2OSA9IENTdHJlYW1HdWFyZF9HZXRJbkJ1ZmZlcl9TSUdfQUNDT1VOVF9DQVJHT19EQVRBKHB0cih2NykpOw0KICAgICAgICB2OS53cml0ZVUzMigwKTsNCiAgICAgICAgdmFyIGNhcmdvUmVmQWRkID0gdjkuYWRkKDQpOw0KICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1heFNvbHQ7IGkrKykgew0KICAgICAgICAgICAgY2FyZ29SZWZBZGQud3JpdGVVMzIoMCk7DQogICAgICAgICAgICBjYXJnb1JlZkFkZCA9IGNhcmdvUmVmQWRkLmFkZCg2MSk7DQogICAgICAgIH0NCiAgICAgICAgdmFyIG1vbmV5ID0gY2FyZ29SZWYuYWRkKDQrNjEqbWF4U29sdCkucmVhZFUzMigpOw0KICAgICAgICB2YXIgY2FwYWNpdHkgPSBjYXJnb1JlZi5hZGQoOCs2MSptYXhTb2x0KS5yZWFkVTMyKCk7DQogICAgICAgIC8vIGNvbnNvbGUubG9nKCdtb25leSBvciBjYXBhY2l0eTonK21vbmV5KycsJytjYXBhY2l0eSkNCiAgICAgICAgdjkud3JpdGVVMzIoY2FwYWNpdHkpOyAvLyDpkrENCiAgICAgICAgdjkuYWRkKDQpLndyaXRlVTMyKG1vbmV5KTsgLy8g5a656YePDQogICAgICAgIE1lbW9yeS5jb3B5KHY5LmFkZCg4KSxjYXJnb1JlZi5hZGQoNCksbWF4U29sdCo2MSk7DQogICAgICAgIE1zZ1F1ZXVlTWdyX3B1dChwdHIocHRyKDB4MDk0MEJENjgpLnJlYWRVMzIoKSkudG9JbnQzMigpLDIsdjgpOw0KICAgICAgICBDQWNjb3VudENhcmdvX1NldFN0YWJsZShjYXJnb1JlZik7DQogICAgICAgIERlc3Ryb3lfQ1N0cmVhbUd1YXJkX0NTdHJlYW1HdWFyZCh2OCk7DQogICAgICAgIC8vIGNvbnNvbGUubG9nKCJtYWtlUmVxdWVzdCBzdWNjZXNzIikNCiAgICB9LCAndm9pZCcsIFsncG9pbnRlcicsJ2ludCcsJ3VpbnQnXSkpOw0KfQ0KDQpmdW5jdGlvbiBTZXRTdGFibGUobWF4U29sdCl7DQogICAgSW50ZXJjZXB0b3IucmVwbGFjZShwdHIoMHgwODQ0REMxNiksIG5ldyBOYXRpdmVDYWxsYmFjayhmdW5jdGlvbiAoY2FyZ29SZWYpIHsNCiAgICAgICAgdmFyIGFjY0lkID0gIGdldFVzZXJBY2NJZChjYXJnb1JlZik7DQogICAgICAgIGlmKGFjY0lkID09IC0xKXsNCiAgICAgICAgICAgIHJldHVybiAwOw0KICAgICAgICB9DQogICAgICAgIC8vIGNvbnNvbGUubG9nKCJTZXRTdGFibGUgLS0tLS0tLS0tLS0tLS0tLS0tLS0tIitjYXJnb1JlZikNCiAgICAgICAgdmFyIGJ1ZmZDYXJnb1JlZiA9IGdldENhcmdvUmVmKGFjY0lkLGNhcmdvUmVmKTs7DQogICAgICAgIGJ1ZmZDYXJnb1JlZi5hZGQoMTIrNjEqbWF4U29sdCkud3JpdGVVOCgwKTsgLy8g5qCH5b+XDQogICAgICAgIHJldHVybiBjYXJnb1JlZjsNCiAgICB9LCAncG9pbnRlcicsIFsncG9pbnRlciddKSk7DQp9DQoNCmZ1bmN0aW9uIFNldENhcGFjaXR5KG1heFNvbHQpew0KICAgIEludGVyY2VwdG9yLnJlcGxhY2UocHRyKDB4MDg0RUJFNDYpLCBuZXcgTmF0aXZlQ2FsbGJhY2soZnVuY3Rpb24gKGNhcmdvUmVmLGNhcGFjaXR5KSB7DQogICAgICAgIHZhciBhY2NJZCA9ICBnZXRVc2VyQWNjSWQoY2FyZ29SZWYpOw0KICAgICAgICBpZihhY2NJZCA9PSAtMSl7DQogICAgICAgICAgICByZXR1cm4gMDsNCiAgICAgICAgfQ0KICAgICAgICAvLyBjb25zb2xlLmxvZygiU2V0Q2FwYWNpdHktLS0tLS0tLS0tLS0tLS0tLS0tLSIrY2FyZ29SZWYpDQogICAgICAgIHZhciBidWZmQ2FyZ29SZWYgPSBnZXRDYXJnb1JlZihhY2NJZCxjYXJnb1JlZik7DQogICAgICAgIGJ1ZmZDYXJnb1JlZi5hZGQoOCs2MSptYXhTb2x0KS53cml0ZVUzMihjYXBhY2l0eSk7IC8vIOWuuemHjw0KICAgICAgICByZXR1cm4gY2FyZ29SZWY7DQogICAgfSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInLCd1aW50J10pKTsNCn0NCg0KZnVuY3Rpb24gSXNBbHRlcihtYXhTb2x0KXsNCiAgICBJbnRlcmNlcHRvci5yZXBsYWNlKHB0cigweDA4Njk1QTBDKSwgbmV3IE5hdGl2ZUNhbGxiYWNrKGZ1bmN0aW9uIChjYXJnb1JlZikgew0KICAgICAgICB2YXIgYWNjSWQgPSAgZ2V0VXNlckFjY0lkKGNhcmdvUmVmKTsNCiAgICAgICAgaWYoYWNjSWQgPT0gLTEpew0KICAgICAgICAgICAgcmV0dXJuIDA7DQogICAgICAgIH0NCiAgICAgICAgLy8gY29uc29sZS5sb2coJ0lzQWx0ZXItLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0nK2NhcmdvUmVmKQ0KICAgICAgICBjYXJnb1JlZiA9IGdldENhcmdvUmVmKGFjY0lkLGNhcmdvUmVmKTs7DQogICAgICAgIHJldHVybiBjYXJnb1JlZi5hZGQoMTIrNjEqbWF4U29sdCkucmVhZFU4KCk7IC8vIOagh+W/lw0KICAgIH0sICdpbnQnLCBbJ3BvaW50ZXInXSkpOw0KfQ0KDQpmdW5jdGlvbiBTZW5kSXRlbUxpc3QobWF4U29sdCl7DQogICAgdmFyIHRlbXBGdW5jID0gbmV3IE5hdGl2ZUNhbGxiYWNrKGZ1bmN0aW9uIChjYXJnb1JlZikgew0KICAgICAgICAvLyBjb25zb2xlLmxvZygiU2VuZEl0ZW1MaXN0LS0tLS0tLS0tLS0tLSIrY2FyZ29SZWYpDQogICAgICAgIHZhciBhY2NJZCA9ICBnZXRVc2VyQWNjSWQoY2FyZ29SZWYpOw0KICAgICAgICBpZihhY2NJZCA9PSAtMSl7DQogICAgICAgICAgICByZXR1cm4gMDsNCiAgICAgICAgfQ0KICAgICAgICB2YXIgYnVmZkNhcmdvUmVmID1nZXRDYXJnb1JlZihhY2NJZCxjYXJnb1JlZik7Ow0KICAgICAgICB2YXIgYnVmZiA9IE1lbW9yeS5hbGxvYyg2MSptYXhTb2x0KzkpOw0KICAgICAgICBQYWNrZXRHdWFyZF9QYWNrZXRHdWFyZChidWZmKTsNCiAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9oZWFkZXIoYnVmZiwgMCwgMTMpOw0KICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2J5dGUoYnVmZiwgMTIpOw0KICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X3Nob3J0KGJ1ZmYsYnVmZkNhcmdvUmVmLmFkZCg4KzYxKm1heFNvbHQpLnJlYWRVMzIoKSk7DQogICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfaW50KGJ1ZmYsIGJ1ZmZDYXJnb1JlZi5hZGQoNCs2MSptYXhTb2x0KS5yZWFkVTMyKCkpOw0KICAgICAgICB2YXIgaXRlbUNvdW50ID0gQ0FjY291bnRDYXJnb19HZXRJdGVtQ291bnQoY2FyZ29SZWYpOw0KICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X3Nob3J0KGJ1ZmYsIGl0ZW1Db3VudCk7DQogICAgICAgIGZvciAodmFyIGkgPSAwOyBidWZmQ2FyZ29SZWYuYWRkKDgrNjEqbWF4U29sdCkucmVhZFUzMigpID4gaTsgKytpICkgew0KICAgICAgICAgICAgaWYgKCBidWZmQ2FyZ29SZWYuYWRkKDYxKmkrNikucmVhZFUzMigpICE9MCApIHsNCiAgICAgICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X3Nob3J0KGJ1ZmYsIGkpOw0KICAgICAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfaW50KGJ1ZmYsIGJ1ZmZDYXJnb1JlZi5hZGQoNjEqaSs2KS5yZWFkVTMyKCkpOw0KICAgICAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfaW50KGJ1ZmYsIGJ1ZmZDYXJnb1JlZi5hZGQoNjEqaSsxMSkucmVhZFUzMigpKTsNCiAgICAgICAgICAgICAgICB2YXIgaW50ZWdyYXRlZFB2UEl0ZW1BdHRyID0gR2V0SW50ZWdyYXRlZFB2UEl0ZW1BdHRyKGJ1ZmZDYXJnb1JlZi5hZGQoNjEqaSs0KSk7DQogICAgICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9ieXRlKGJ1ZmYsIGludGVncmF0ZWRQdlBJdGVtQXR0cik7DQogICAgICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9zaG9ydChidWZmLCBidWZmQ2FyZ29SZWYuYWRkKDYxKmkrMTUpLnJlYWRVMTYoKSk7DQogICAgICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9ieXRlKGJ1ZmYsIGJ1ZmZDYXJnb1JlZi5hZGQoNjEqaSs0KS5yZWFkVTgoKSk7DQogICAgICAgICAgICAgICAgaWYgKCBHYW1lV29ybGRfSXNFbmNoYW50UmV2aXNpb25DaGFubmVsKEdfR2FtZVdvcmxkKCkpIT0wICl7DQogICAgICAgICAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfaW50KGJ1ZmYsIDApOw0KICAgICAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2ludChidWZmLCBidWZmQ2FyZ29SZWYuYWRkKDYxKmkrMTcpLnJlYWRVMzIoKSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHZhciBhYmlsaXR5VHlwZSA9IHN0QW1wbGlmeU9wdGlvbl90X2dldEFiaWxpdHlUeXBlKGJ1ZmZDYXJnb1JlZi5hZGQoNjEqaSsyMSkpOw0KICAgICAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfYnl0ZShidWZmLCBhYmlsaXR5VHlwZSk7DQogICAgICAgICAgICAgICAgdmFyIGFiaWxpdHlWYWx1ZSA9IHN0QW1wbGlmeU9wdGlvbl90X2dldEFiaWxpdHlWYWx1ZShidWZmQ2FyZ29SZWYuYWRkKDYxKmkrMjEpKTsNCiAgICAgICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X3Nob3J0KGJ1ZmYsIGFiaWxpdHlWYWx1ZSk7DQogICAgICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9ieXRlKGJ1ZmYsIDApOw0KICAgICAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfcGFja2V0KGJ1ZmYsIGJ1ZmZDYXJnb1JlZi5hZGQoNjEqaSs0KSk7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX2ZpbmFsaXplKGJ1ZmYsIDEpOw0KICAgICAgICB2YXIgdjYgPSBDVXNlcl9TZW5kKHB0cihjYXJnb1JlZi5yZWFkVTMyKCkpLCBidWZmKTsNCiAgICAgICAgRGVzdHJveV9QYWNrZXRHdWFyZF9QYWNrZXRHdWFyZChidWZmKTsNCiAgICAgICAgcmV0dXJuIHY2Ow0KICAgIH0sICdpbnQnLCBbJ3BvaW50ZXInXSk7DQogICAgQ0FjY291bnRDYXJnb19TZW5kSXRlbUxpc3RfTkVXID0gIG5ldyBOYXRpdmVGdW5jdGlvbih0ZW1wRnVuYywgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQogICAgSW50ZXJjZXB0b3IucmVwbGFjZShwdHIoMHgwODI4YTg4YSksIHRlbXBGdW5jKTsNCn0NCg0KZnVuY3Rpb24gU2VuZE5vdGlmeU1vbmV5KG1heFNvbHQpew0KICAgIEludGVyY2VwdG9yLnJlcGxhY2UocHRyKDB4MDgyOEE3REMpLCBuZXcgTmF0aXZlQ2FsbGJhY2soZnVuY3Rpb24gKGNhcmdvLGEyKSB7DQogICAgICAgIC8vIGNvbnNvbGUubG9nKCJTZW5kTm90aWZ5TW9uZXktLS0tLS0tLS0tLS0iK3B0cihjYXJnbykpDQogICAgICAgIHZhciBjYXJnb1JlZiA9IHB0cihjYXJnbyk7DQogICAgICAgIHZhciBhY2NJZCA9ICBnZXRVc2VyQWNjSWQoY2FyZ29SZWYpOw0KICAgICAgICBpZihhY2NJZCA9PSAtMSl7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCiAgICAgICAgdmFyIGJ1ZmZDYXJnb1JlZiA9IGdldENhcmdvUmVmKGFjY0lkLGNhcmdvUmVmKTs7DQogICAgICAgIHZhciBidWZmID0gTWVtb3J5LmFsbG9jKDIwKTsNCiAgICAgICAgUGFja2V0R3VhcmRfUGFja2V0R3VhcmQoYnVmZik7DQogICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfaGVhZGVyKGJ1ZmYsIDEsIGEyKTsNCiAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9ieXRlKGJ1ZmYsIDEpOw0KICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2ludChidWZmLCBidWZmQ2FyZ29SZWYuYWRkKDQrNjEqbWF4U29sdCkucmVhZFUzMigpKTsNCiAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX2ZpbmFsaXplKGJ1ZmYsIDEpOw0KICAgICAgICBDVXNlcl9TZW5kKHB0cihjYXJnb1JlZi5yZWFkVTMyKCkpLCBidWZmKTsNCiAgICAgICAgRGVzdHJveV9QYWNrZXRHdWFyZF9QYWNrZXRHdWFyZChidWZmKTsNCiAgICB9LCAndm9pZCcsIFsnaW50JywnaW50J10pKTsNCn0NCg0KZnVuY3Rpb24gR2V0SXRlbUNvdW50KG1heFNvbHQpew0KICAgIEludGVyY2VwdG9yLnJlcGxhY2UocHRyKDB4MDgyOEE3OTQpLCBuZXcgTmF0aXZlQ2FsbGJhY2soZnVuY3Rpb24gKGNhcmdvUmVmKSB7DQogICAgICAgIHZhciBhY2NJZCA9ICBnZXRVc2VyQWNjSWQoY2FyZ29SZWYpOw0KICAgICAgICBpZihhY2NJZCA9PSAtMSl7DQogICAgICAgICAgICByZXR1cm4gMDsNCiAgICAgICAgfQ0KICAgICAgICAvLyBjb25zb2xlLmxvZygnR2V0SXRlbUNvdW50LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tJytjYXJnb1JlZikNCiAgICAgICAgY2FyZ29SZWYgPSBnZXRDYXJnb1JlZihhY2NJZCxjYXJnb1JlZik7DQogICAgICAgIHZhciBjYXAgPSBjYXJnb1JlZi5hZGQoOCs2MSptYXhTb2x0KS5yZWFkVTMyKCk7DQogICAgICAgIHZhciBpbmRleCA9IDA7DQogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2FwOyBpKyspIHsNCiAgICAgICAgICAgIGlmKCBjYXJnb1JlZi5hZGQoNjEqaSs2KS5yZWFkVTMyKCkhPTAgKXsNCiAgICAgICAgICAgICAgICBpbmRleCsrOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIC8vIGNvbnNvbGUubG9nKCJHZXRJdGVtQ291bnQgIHZhbDoiK2luZGV4KQ0KICAgICAgICByZXR1cm4gaW5kZXg7DQogICAgfSwgJ2ludCcsIFsncG9pbnRlciddKSk7DQp9DQoNCmZ1bmN0aW9uIFN1Yk1vbmV5KG1heFNvbHQpew0KICAgIEludGVyY2VwdG9yLnJlcGxhY2UocHRyKDB4MDgyOEE3NjQpLCBuZXcgTmF0aXZlQ2FsbGJhY2soZnVuY3Rpb24gKGNhcmdvUmVmLG1vbmV5KSB7DQogICAgICAgIHZhciBhY2NJZCA9ICBnZXRVc2VyQWNjSWQoY2FyZ29SZWYpOw0KICAgICAgICBpZihhY2NJZCA9PSAtMSl7DQogICAgICAgICAgICByZXR1cm4gMDsNCiAgICAgICAgfQ0KICAgICAgICAvLyBjb25zb2xlLmxvZygnU3ViTW9uZXktLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0nKQ0KICAgICAgICB2YXIgYnVmZkNhcmdvUmVmID0gZ2V0Q2FyZ29SZWYoYWNjSWQsY2FyZ29SZWYpOw0KICAgICAgICB2YXIgcmVzOw0KICAgICAgICBpZihtb25leSE9MCl7DQogICAgICAgICAgICByZXMgPSBjYXJnb1JlZjsNCiAgICAgICAgICAgIHZhciBhZGQgPSBidWZmQ2FyZ29SZWYuYWRkKDQrNjEqbWF4U29sdCkucmVhZFUzMigpOw0KICAgICAgICAgICAgaWYoYWRkID49IG1vbmV5KXsNCiAgICAgICAgICAgICAgICBidWZmQ2FyZ29SZWYuYWRkKDQrNjEqbWF4U29sdCkud3JpdGVVMzIoYWRkLW1vbmV5KTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gcmVzOw0KICAgIH0sICdwb2ludGVyJywgWydwb2ludGVyJywndWludCddKSk7DQp9DQoNCmZ1bmN0aW9uIEFkZE1vbmV5KG1heFNvbHQpew0KICAgIEludGVyY2VwdG9yLnJlcGxhY2UocHRyKDB4MDgyOEE3NDIpLCBuZXcgTmF0aXZlQ2FsbGJhY2soZnVuY3Rpb24gKGNhcmdvUmVmLG1vbmV5KSB7DQogICAgICAgIHZhciBhY2NJZCA9ICBnZXRVc2VyQWNjSWQoY2FyZ29SZWYpOw0KICAgICAgICBpZihhY2NJZCA9PSAtMSl7DQogICAgICAgICAgICByZXR1cm4gMDsNCiAgICAgICAgfQ0KICAgICAgICAvLyBjb25zb2xlLmxvZygnQWRkTW9uZXktLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0nKQ0KICAgICAgICB2YXIgYnVmZkNhcmdvUmVmID0gZ2V0Q2FyZ29SZWYoYWNjSWQsY2FyZ29SZWYpOw0KICAgICAgICB2YXIgcmVzOw0KICAgICAgICBpZihtb25leSE9MCl7DQogICAgICAgICAgICByZXMgPSBjYXJnb1JlZjsNCiAgICAgICAgICAgIHZhciBhZGQgPSBidWZmQ2FyZ29SZWYuYWRkKDQrNjEqbWF4U29sdCkucmVhZFUzMigpOw0KICAgICAgICAgICAgYnVmZkNhcmdvUmVmLmFkZCg0KzYxKm1heFNvbHQpLndyaXRlVTMyKGFkZCttb25leSk7DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIHJlczsNCiAgICB9LCAncG9pbnRlcicsIFsncG9pbnRlcicsJ3VpbnQnXSkpOw0KfQ0KDQpmdW5jdGlvbiBHZXRTcGVjaWZpY0l0ZW1TbG90KG1heFNvbHQpew0KICAgIEludGVyY2VwdG9yLnJlcGxhY2UocHRyKDB4MDgyOEE2MUEpLCBuZXcgTmF0aXZlQ2FsbGJhY2soZnVuY3Rpb24gKGNhcmdvUmVmLGl0ZW1JZCkgew0KICAgICAgICB2YXIgYWNjSWQgPSAgZ2V0VXNlckFjY0lkKGNhcmdvUmVmKTsNCiAgICAgICAgaWYoYWNjSWQgPT0gLTEpew0KICAgICAgICAgICAgcmV0dXJuIDA7DQogICAgICAgIH0NCiAgICAgICAgLy8gY29uc29sZS5sb2coJ0dldFNwZWNpZmljSXRlbVNsb3QtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0nK2NhcmdvUmVmKQ0KICAgICAgICBjYXJnb1JlZiA9IGdldENhcmdvUmVmKGFjY0lkLGNhcmdvUmVmKTsNCiAgICAgICAgdmFyIGNhcCA9IGNhcmdvUmVmLmFkZCg4KzYxKm1heFNvbHQpLnJlYWRVMzIoKTsNCiAgICAgICAgaWYoY2FwID4gbWF4U29sdCl7DQogICAgICAgICAgICBjYXAgPW1heFNvbHQ7DQogICAgICAgIH0NCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjYXA7IGkrKykgew0KICAgICAgICAgICAgaWYoIGNhcmdvUmVmLmFkZCg2MSppKzYpLnJlYWRVMzIoKT09aXRlbUlkICl7DQogICAgICAgICAgICAgICAgcmV0dXJuIGk7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIC0xOw0KICAgIH0sICdpbnQnLCBbJ3BvaW50ZXInLCdpbnQnXSkpOw0KfQ0KDQpmdW5jdGlvbiBHZXRFbXB0eVNsb3QobWF4U29sdCl7DQogICAgdmFyIHRlbXBGdW5jID0gbmV3IE5hdGl2ZUNhbGxiYWNrKGZ1bmN0aW9uIChjYXJnb1JlZikgew0KICAgICAgICB2YXIgYWNjSWQgPSAgZ2V0VXNlckFjY0lkKGNhcmdvUmVmKTsNCiAgICAgICAgaWYoYWNjSWQgPT0gLTEpew0KICAgICAgICAgICAgcmV0dXJuIDA7DQogICAgICAgIH0NCiAgICAgICAgY29uc29sZS5sb2coJ0dldEVtcHR5U2xvdC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLScrY2FyZ29SZWYpDQogICAgICAgIGNhcmdvUmVmID0gZ2V0Q2FyZ29SZWYoYWNjSWQsY2FyZ29SZWYpOw0KICAgICAgICBjb25zb2xlLmxvZygiR2V0RW1wdHlTbG90IGFjY0lkOiIrYWNjSWQrJyAnK2NhcmdvUmVmKQ0KICAgICAgICB2YXIgY2FwID0gY2FyZ29SZWYuYWRkKDgrNjEqbWF4U29sdCkucmVhZFUzMigpOw0KICAgICAgICBpZihjYXAgPiBtYXhTb2x0KXsNCiAgICAgICAgICAgIGNhcCA9bWF4U29sdDsNCiAgICAgICAgfQ0KICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNhcDsgaSsrKSB7DQogICAgICAgICAgICBpZiggY2FyZ29SZWYuYWRkKDYxKmkrNikucmVhZFUzMigpPT0wICl7DQogICAgICAgICAgICAgICAgcmV0dXJuIGk7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIC0xOw0KICAgIH0sICdpbnQnLCBbJ3BvaW50ZXInXSk7DQogICAgQ0FjY291bnRDYXJnb19HZXRFbXB0eVNsb3RfTkVXID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHRlbXBGdW5jLCAnaW50JywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCiAgICBJbnRlcmNlcHRvci5yZXBsYWNlKHB0cigweDA4MjhhNTgwKSwgdGVtcEZ1bmMpOw0KfQ0KDQpmdW5jdGlvbiBDaGVja1ZhbGlkU2xvdChtYXhTb2x0KXsNCiAgICBJbnRlcmNlcHRvci5yZXBsYWNlKHB0cigweDA4MjhBNTU0KSwgbmV3IE5hdGl2ZUNhbGxiYWNrKGZ1bmN0aW9uIChjYXJnb1JlZixzb2x0KSB7DQogICAgICAgIHZhciBhY2NJZCA9ICBnZXRVc2VyQWNjSWQoY2FyZ29SZWYpOw0KICAgICAgICBpZihhY2NJZCA9PSAtMSl7DQogICAgICAgICAgICByZXR1cm4gMDsNCiAgICAgICAgfQ0KICAgICAgICAvLyBjb25zb2xlLmxvZygnQ2hlY2tWYWxpZFNsb3QtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0nK2NhcmdvUmVmKQ0KICAgICAgICBjYXJnb1JlZiA9IGdldENhcmdvUmVmKGFjY0lkLGNhcmdvUmVmKTsNCiAgICAgICAgdmFyIGNhcCA9IGNhcmdvUmVmLmFkZCg4KzYxKm1heFNvbHQpLnJlYWRVMzIoKTsNCiAgICAgICAgcmV0dXJuIChzb2x0Pj0wICYmIHNvbHQ8PW1heFNvbHQgJiYgY2FwPnNvbHQpPzE6MDsNCiAgICB9LCAnaW50JywgWydwb2ludGVyJywnaW50J10pKTsNCn0NCg0KZnVuY3Rpb24gQ2hlY2tNb25leUxpbWl0KG1heFNvbHQpew0KICAgIEludGVyY2VwdG9yLnJlcGxhY2UocHRyKDB4MDgyOEE0Q0EpLCBuZXcgTmF0aXZlQ2FsbGJhY2soZnVuY3Rpb24gKGNhcmdvUmVmLG1vbmV5KSB7DQogICAgICAgIHZhciBhY2NJZCA9ICBnZXRVc2VyQWNjSWQoY2FyZ29SZWYpOw0KICAgICAgICBpZihhY2NJZCA9PSAtMSl7DQogICAgICAgICAgICByZXR1cm4gMDsNCiAgICAgICAgfQ0KICAgICAgICAvLyBjb25zb2xlLmxvZygnQ2hlY2tNb25leUxpbWl0LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tJytjYXJnb1JlZikNCiAgICAgICAgY2FyZ29SZWYgPSBnZXRDYXJnb1JlZihhY2NJZCxjYXJnb1JlZik7DQogICAgICAgIHZhciBjYXAgPSBjYXJnb1JlZi5hZGQoOCs2MSptYXhTb2x0KS5yZWFkVTMyKCk7DQogICAgICAgIHZhciBub3dNb25leSA9IGNhcmdvUmVmLmFkZCg0KzYxKm1heFNvbHQpLnJlYWRVMzIoKQ0KICAgICAgICB2YXIgbWFuYWdlciA9IEdfQ0RhdGFNYW5hZ2VyKCk7DQogICAgICAgIHZhciBjdXJyVXBmcmFkZUlmbyA9IEFjY291bnRDYXJnb1NjcmlwdF9HZXRDdXJyVXBncmFkZUluZm8obWFuYWdlci5hZGQoNDI5NzYpLGNhcCk7DQogICAgICAgIHJldHVybiAoY3VyclVwZnJhZGVJZm8hPTAgJiYgcHRyKGN1cnJVcGZyYWRlSWZvKS5hZGQoNCkucmVhZFUzMigpID49IChtb25leStub3dNb25leSkpPzE6MDsNCiAgICB9LCAnaW50JywgWydwb2ludGVyJywndWludDMyJ10pKTsNCn0NCg0KZnVuY3Rpb24gV2l0aGRyYXdNb25leShtYXhTb2x0KXsNCiAgICBJbnRlcmNlcHRvci5yZXBsYWNlKHB0cigweDA4MjhBMkY2KSwgbmV3IE5hdGl2ZUNhbGxiYWNrKGZ1bmN0aW9uIChjYXJnb1JlZixtb25leSkgew0KICAgICAgICAvLyBjb25zb2xlLmxvZygiV2l0aGRyYXdNb25leS0tLS0tLS0tLS0tLSIrY2FyZ29SZWYpDQogICAgICAgIHZhciBhY2NJZCA9ICBnZXRVc2VyQWNjSWQoY2FyZ29SZWYpOw0KICAgICAgICBpZihhY2NJZCA9PSAtMSl7DQogICAgICAgICAgICByZXR1cm4gMDsNCiAgICAgICAgfQ0KICAgICAgICB2YXIgYnVmZkNhcmdvUmVmID0gZ2V0Q2FyZ29SZWYoYWNjSWQsY2FyZ29SZWYpOw0KICAgICAgICB2YXIgbWFuYWdlID0gQVJBRF9TaW5nbGV0b25fU2VydmljZVJlc3RyaWN0TWFuYWdlcl9HZXQoKTsNCiAgICAgICAgdmFyIGlzUmVzdHJpY3RlZCA9IFNlcnZpY2VSZXN0cmljdE1hbmFnZXJfaXNSZXN0cmljdGVkKG1hbmFnZS50b0ludDMyKCksY2FyZ29SZWYsMSwyNik7DQogICAgICAgIGlmKGlzUmVzdHJpY3RlZCE9MCl7DQogICAgICAgICAgICBDVXNlcl9TZW5kQ21kRXJyb3JQYWNrZXQoY2FyZ29SZWYsMzA5LDB4RDEpOw0KICAgICAgICAgICAgcmV0dXJuIDA7DQogICAgICAgIH0NCiAgICAgICAgdmFyIGNoZWNrID0gQ1NlY3VfUHJvdGVjdGlvbkZpZWxkX0NoZWNrKHB0cihwdHIoMHgwOTQxRjdDQykucmVhZFUzMigpKSxjYXJnb1JlZiwzKTsNCiAgICAgICAgaWYoY2hlY2shPTApew0KICAgICAgICAgICAgQ1VzZXJfU2VuZENtZEVycm9yUGFja2V0KGNhcmdvUmVmLDMwOSxjaGVjayk7DQogICAgICAgICAgICByZXR1cm4gMDsNCiAgICAgICAgfQ0KICAgICAgICAvLyBjb25zb2xlLmxvZygiV2l0aGRyYXdNb25leSBub3cgbW9uZXk6Iittb25leSkNCiAgICAgICAgaWYobW9uZXkgPiBDQWNjb3VudENhcmdvX0dldE1vbmV5KGNhcmdvUmVmKSB8fCAobW9uZXkgJiAweDgwMDAwMDAwKSAhPTApIHsNCiAgICAgICAgICAgIENVc2VyX1NlbmRDbWRFcnJvclBhY2tldChjYXJnb1JlZiwzMDksMHhBKTsNCiAgICAgICAgICAgIHJldHVybiAwOw0KICAgICAgICB9DQogICAgICAgIGlmKCBDVXNlcl9DaGVja01vbmV5KHB0cihjYXJnb1JlZi5yZWFkVTMyKCkpLG1vbmV5KT09MCApew0KICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ0NVc2VyX0NoZWNrTW9uZXkgLS0tJykNCiAgICAgICAgICAgIENVc2VyX1NlbmRDbWRFcnJvclBhY2tldChjYXJnb1JlZiwzMDgsMHg1ZSk7DQogICAgICAgICAgICByZXR1cm4gMDsNCiAgICAgICAgfWVsc2V7DQogICAgICAgICAgICBDQWNjb3VudENhcmdvX1N1Yk1vbmV5KGNhcmdvUmVmLCBtb25leSk7DQogICAgICAgICAgICB2YXIgY3VyQ2hhcmFjSW52ZW5XID0gQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY0ludmVuVyhwdHIoY2FyZ29SZWYucmVhZFUzMigpKSk7DQogICAgICAgICAgICBpZihDSW52ZW50b3J5X2dhaW5fbW9uZXkoY3VyQ2hhcmFjSW52ZW5XLCBtb25leSwgMjcsIDEsMCk9PTApew0KICAgICAgICAgICAgICAgIENVc2VyX1NlbmRDbWRFcnJvclBhY2tldChjYXJnb1JlZiwzMDksMHhBKTsNCiAgICAgICAgICAgICAgICByZXR1cm4gMDsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICBDQWNjb3VudENhcmdvX1NlbmROb3RpZnlNb25leShjYXJnb1JlZi50b0ludDMyKCksMzA5KTsNCiAgICAgICAgYnVmZkNhcmdvUmVmLmFkZCgxMis2MSptYXhTb2x0KS53cml0ZVU4KDEpOw0KICAgICAgICBjYXJnb1JlZi5hZGQoMTIrNjEqNTYpLndyaXRlVTgoMSk7DQogICAgICAgIC8vIGNvbnNvbGUubG9nKCJXaXRoZHJhd01vbmV5IHN1Y2Nlc3MiKQ0KICAgICAgICByZXR1cm4gMTsNCiAgICB9LCAnaW50JywgWydwb2ludGVyJywndWludDMyJ10pKTsNCn0NCg0KZnVuY3Rpb24gRGVwb3NpdE1vbmV5KG1heFNvbHQpew0KICAgIEludGVyY2VwdG9yLnJlcGxhY2UocHRyKDB4MDgyOEExMkEpLCBuZXcgTmF0aXZlQ2FsbGJhY2soZnVuY3Rpb24gKGNhcmdvUmVmLG1vbmV5KSB7DQogICAgICAgIC8vIGNvbnNvbGUubG9nKCJEZXBvc2l0TW9uZXktLS0tLS0tLS0tLS0iK2NhcmdvUmVmKQ0KICAgICAgICB2YXIgYWNjSWQgPSAgZ2V0VXNlckFjY0lkKGNhcmdvUmVmKTsNCiAgICAgICAgaWYoYWNjSWQgPT0gLTEpew0KICAgICAgICAgICAgcmV0dXJuIDA7DQogICAgICAgIH0NCiAgICAgICAgdmFyIGJ1ZmZDYXJnb1JlZiA9IGdldENhcmdvUmVmKGFjY0lkLGNhcmdvUmVmKTsNCiAgICAgICAgdmFyIG1hbmFnZSA9IEFSQURfU2luZ2xldG9uX1NlcnZpY2VSZXN0cmljdE1hbmFnZXJfR2V0KCk7DQogICAgICAgIHZhciBpc1Jlc3RyaWN0ZWQgPSBTZXJ2aWNlUmVzdHJpY3RNYW5hZ2VyX2lzUmVzdHJpY3RlZChtYW5hZ2UudG9JbnQzMigpLGNhcmdvUmVmLDEsMjYpOw0KICAgICAgICBpZihpc1Jlc3RyaWN0ZWQhPTApew0KICAgICAgICAgICAgQ1VzZXJfU2VuZENtZEVycm9yUGFja2V0KGNhcmdvUmVmLDMwOCwweEQxKTsNCiAgICAgICAgICAgIHJldHVybiAwOw0KICAgICAgICB9DQogICAgICAgIHZhciBjaGVjayA9IENTZWN1X1Byb3RlY3Rpb25GaWVsZF9DaGVjayhwdHIocHRyKDB4MDk0MUY3Q0MpLnJlYWRVMzIoKSksY2FyZ29SZWYsMik7DQogICAgICAgIGlmKGNoZWNrIT0wKXsNCiAgICAgICAgICAgIENVc2VyX1NlbmRDbWRFcnJvclBhY2tldChjYXJnb1JlZiwzMDgsY2hlY2spOw0KICAgICAgICAgICAgcmV0dXJuIDA7DQogICAgICAgIH0NCiAgICAgICAgLy8gY29uc29sZS5sb2coIkRlcG9zaXRNb25leSBub3cgbW9uZXk6Iittb25leSsnLCcrQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY01vbmV5KHB0cihjYXJnb1JlZi5yZWFkVTMyKCkpKSsnLCcrKChtb25leSAmIDB4ODAwMDAwMDApICE9MCkpDQogICAgICAgIGlmKG1vbmV5ID4gQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY01vbmV5KHB0cihjYXJnb1JlZi5yZWFkVTMyKCkpKSB8fCAobW9uZXkgJiAweDgwMDAwMDAwKSAhPTApIHsNCiAgICAgICAgICAgIENVc2VyX1NlbmRDbWRFcnJvclBhY2tldChjYXJnb1JlZiwzMDgsMHhBKTsNCiAgICAgICAgICAgIHJldHVybiAwOw0KICAgICAgICB9DQogICAgICAgIC8vIGNvbnNvbGUubG9nKCJEZXBvc2l0TW9uZXkgMiBub3cgbW9uZXk6Iittb25leSkNCiAgICAgICAgaWYoQ0FjY291bnRDYXJnb19DaGVja01vbmV5TGltaXQoY2FyZ29SZWYsbW9uZXkpPT0wKXsNCiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdDQWNjb3VudENhcmdvX0NoZWNrTW9uZXlMaW1pdCBlcnJvcicpDQogICAgICAgICAgICBDVXNlcl9TZW5kQ21kRXJyb3JQYWNrZXQoY2FyZ29SZWYsMzA4LDB4NWYpOw0KICAgICAgICAgICAgcmV0dXJuIDA7DQogICAgICAgIH1lbHNlew0KICAgICAgICAgICAgLy8gY29uc29sZS5sb2coIkRlcG9zaXRNb25leSAzIG5vdyBtb25leToiK21vbmV5KQ0KICAgICAgICAgICAgdmFyIGN1ckNoYXJhY0ludmVuVyA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNJbnZlblcocHRyKGNhcmdvUmVmLnJlYWRVMzIoKSkpOw0KICAgICAgICAgICAgaWYoQ0ludmVudG9yeV91c2VfbW9uZXkoY3VyQ2hhcmFjSW52ZW5XLCBtb25leSwgNDAsIDEpICE9MSl7DQogICAgICAgICAgICAgICAgQ1VzZXJfU2VuZENtZEVycm9yUGFja2V0KGNhcmdvUmVmLDMwOCwweEEpOw0KICAgICAgICAgICAgICAgIHJldHVybiAwOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIC8vIGNvbnNvbGUubG9nKCJEZXBvc2l0TW9uZXkgNCBub3cgbW9uZXk6Iittb25leSkNCiAgICAgICAgLy8g5pyJYWRkTW9uZXnmlrnms5Xkv67mlLkg5pS56L+Z6YeM5LiN6YeN6KaBDQogICAgICAgIENBY2NvdW50Q2FyZ29fQWRkTW9uZXkoY2FyZ29SZWYsIG1vbmV5KTsNCiAgICAgICAgQ0FjY291bnRDYXJnb19TZW5kTm90aWZ5TW9uZXkoY2FyZ29SZWYudG9JbnQzMigpLDMwOCk7DQogICAgICAgIGJ1ZmZDYXJnb1JlZi5hZGQoMTIrNjEqbWF4U29sdCkud3JpdGVVOCgxKTsNCiAgICAgICAgY2FyZ29SZWYuYWRkKDEyKzYxKjU2KS53cml0ZVU4KDEpOw0KICAgICAgICAvLyBjb25zb2xlLmxvZygiRGVwb3NpdE1vbmV5IHN1Y2Nlc3MiKQ0KICAgICAgICByZXR1cm4gMTsNCiAgICB9LCAnaW50JywgWydwb2ludGVyJywndWludDMyJ10pKTsNCn0NCg0KZnVuY3Rpb24gTW92ZUl0ZW0obWF4U29sdCl7DQogICAgSW50ZXJjZXB0b3IucmVwbGFjZShwdHIoMHgwODI4OUYyNiksIG5ldyBOYXRpdmVDYWxsYmFjayhmdW5jdGlvbiAoY2FyZ29SZWYsc2xvdDEsc2xvdDIpIHsNCiAgICAgICAgdmFyIGFjY0lkID0gIGdldFVzZXJBY2NJZChjYXJnb1JlZik7DQogICAgICAgIGlmKGFjY0lkID09IC0xKXsNCiAgICAgICAgICAgIHJldHVybiAwOw0KICAgICAgICB9DQogICAgICAgIGNvbnNvbGUubG9nKCdNb3ZlSXRlbS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLScrY2FyZ29SZWYpDQoNCiAgICAgICAgaWYoQ0FjY291bnRDYXJnb19DaGVja1ZhbGlkU2xvdChjYXJnb1JlZixzbG90MSk9PTAgfHwgQ0FjY291bnRDYXJnb19DaGVja1ZhbGlkU2xvdChjYXJnb1JlZixzbG90Mik9PTAgfHwgc2xvdDE9PXNsb3QyKXsNCiAgICAgICAgICAgIHJldHVybiAwOw0KICAgICAgICB9DQogICAgICAgIGNhcmdvUmVmLmFkZCgxMis2MSo1Nikud3JpdGVVOCgxKTsNCiAgICAgICAgY2FyZ29SZWYgPSBnZXRDYXJnb1JlZihhY2NJZCxjYXJnb1JlZik7DQogICAgICAgIHZhciB0ZW1wID0gTWVtb3J5LmFsbG9jKDYxKTsNCiAgICAgICAgTWVtb3J5LmNvcHkodGVtcCxjYXJnb1JlZi5hZGQoNjEqc2xvdDErNCksNjEtNCk7DQogICAgICAgIE1lbW9yeS5jb3B5KGNhcmdvUmVmLmFkZCg2MSpzbG90MSs0KSxjYXJnb1JlZi5hZGQoNjEqc2xvdDIrNCksNjEtNCk7DQogICAgICAgIE1lbW9yeS5jb3B5KGNhcmdvUmVmLmFkZCg2MSpzbG90Mis0KSx0ZW1wLDYxLTQpOw0KICAgICAgICBjYXJnb1JlZi5hZGQoMTIrNjEqbWF4U29sdCkud3JpdGVVOCgxKTsNCiAgICAgICAgcmV0dXJuIDE7DQogICAgfSwgJ2ludCcsIFsncG9pbnRlcicsJ2ludCcsJ2ludCddKSk7DQp9DQoNCmZ1bmN0aW9uIERlbGV0ZUl0ZW0obWF4U29sdCl7DQogICAgSW50ZXJjZXB0b3IucmVwbGFjZShwdHIoMHgwODI4OUUzQyksIG5ldyBOYXRpdmVDYWxsYmFjayhmdW5jdGlvbiAoY2FyZ29SZWYsc2xvdCxudW1iZXIpIHsNCiAgICAgICAgY29uc29sZS5sb2coJ0RlbGV0ZUl0ZW0tLS0nK2NhcmdvUmVmKQ0KICAgICAgICB2YXIgYWNjSWQgPSAgZ2V0VXNlckFjY0lkKGNhcmdvUmVmKTsNCiAgICAgICAgaWYoYWNjSWQgPT0gLTEpew0KICAgICAgICAgICAgcmV0dXJuIDA7DQogICAgICAgIH0NCiAgICAgICAgdmFyIGJ1ZmZDYXJnb1JlZiA9IGdldENhcmdvUmVmKGFjY0lkLGNhcmdvUmVmKTsNCiAgICAgICAgaWYoQ0FjY291bnRDYXJnb19DaGVja1ZhbGlkU2xvdChjYXJnb1JlZixzbG90KT09MCl7DQogICAgICAgICAgICByZXR1cm4gMDsNCiAgICAgICAgfQ0KICAgICAgICBpZiggYnVmZkNhcmdvUmVmLmFkZCg2MSpzbG90KzYpLnJlYWRVMzIoKT09MCB8fCBudW1iZXI8PTAgKXsNCiAgICAgICAgICAgIHJldHVybiAwOw0KICAgICAgICB9DQogICAgICAgIGlmKEludmVuX0l0ZW1faXNFcXVpcGFibGVJdGVtVHlwZShidWZmQ2FyZ29SZWYuYWRkKDYxKnNsb3QrNCkpICE9MCl7DQogICAgICAgICAgICBDQWNjb3VudENhcmdvX1Jlc2V0U2xvdChjYXJnb1JlZixzbG90KTsNCiAgICAgICAgICAgIGJ1ZmZDYXJnb1JlZi5hZGQoMTIrNjEqbWF4U29sdCkud3JpdGVVOCgxKTsNCiAgICAgICAgICAgIGNhcmdvUmVmLmFkZCgxMis2MSo1Nikud3JpdGVVOCgxKTsNCiAgICAgICAgICAgIHJldHVybiAxOw0KICAgICAgICB9DQogICAgICAgIGlmKGJ1ZmZDYXJnb1JlZi5hZGQoNjEqc2xvdCsxMSkucmVhZFUzMigpIDwgbnVtYmVyICl7DQogICAgICAgICAgICByZXR1cm4gMDsNCiAgICAgICAgfQ0KICAgICAgICBpZihidWZmQ2FyZ29SZWYuYWRkKDYxKnNsb3QrMTEpLnJlYWRVMzIoKSA8PSBudW1iZXIgKXsNCiAgICAgICAgICAgIENBY2NvdW50Q2FyZ29fUmVzZXRTbG90KGNhcmdvUmVmLHNsb3QpOw0KICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgIHZhciBudW0gPSBidWZmQ2FyZ29SZWYuYWRkKDYxKnNsb3QrMTEpLnJlYWRVMzIoKTsNCiAgICAgICAgICAgIGJ1ZmZDYXJnb1JlZi5hZGQoNjEqc2xvdCsxMSkud3JpdGVVMzIobnVtLW51bWJlcik7DQogICAgICAgIH0NCiAgICAgICAgYnVmZkNhcmdvUmVmLmFkZCgxMis2MSptYXhTb2x0KS53cml0ZVU4KDEpOw0KICAgICAgICBjYXJnb1JlZi5hZGQoMTIrNjEqNTYpLndyaXRlVTgoMSk7DQogICAgICAgIHJldHVybiAxOw0KICAgIH0sICdpbnQnLCBbJ3BvaW50ZXInLCdpbnQnLCdpbnQnXSkpOw0KfQ0KDQpmdW5jdGlvbiBJbnNlcnRJdGVtKG1heFNvbHQpew0KDQogICAgdmFyIHRlbXBGdW5jID0gbmV3IE5hdGl2ZUNhbGxiYWNrKGZ1bmN0aW9uIChjYXJnb1JlZixpdGVtLHNsb3QpIHsNCiAgICAgICAgY29uc29sZS5sb2coJ0luc2VydEl0ZW0tLS0tLS0tLS0tLS0tLS0tLS0tJytjYXJnb1JlZisnICcrc2xvdCkNCiAgICAgICAgdmFyIGFjY0lkID0gIGdldFVzZXJBY2NJZChjYXJnb1JlZik7DQogICAgICAgIGlmKGFjY0lkID09IC0xKXsNCiAgICAgICAgICAgIHJldHVybiAwOw0KICAgICAgICB9DQogICAgICAgIHZhciBidWZmQ2FyZ29SZWYgPSBnZXRDYXJnb1JlZihhY2NJZCxjYXJnb1JlZik7DQogICAgICAgIGlmKENBY2NvdW50Q2FyZ29fQ2hlY2tWYWxpZFNsb3QoY2FyZ29SZWYsc2xvdCk9PTApew0KICAgICAgICAgICAgLy8gY29uc29sZS5sb2coInNsb3QgZXJyb3IiKQ0KICAgICAgICAgICAgcmV0dXJuIC0xOw0KICAgICAgICB9DQogICAgICAgIC8vIGNvbnNvbGUubG9nKCJzbG90IHN1Y2Nlc3MhISEiKQ0KICAgICAgICB2YXIgcmVzID0gLTE7DQogICAgICAgIGlmKEludmVuX0l0ZW1faXNFcXVpcGFibGVJdGVtVHlwZShpdGVtKSE9MCl7DQogICAgICAgICAgICBjb25zb2xlLmxvZygiSW52ZW5fSXRlbV9pc0VxdWlwYWJsZUl0ZW1UeXBlICBzdWNjZXNz77yaIitjYXJnb1JlZi5hZGQoNjEqc2xvdCs2KS5yZWFkVTMyKCkpDQogICAgICAgICAgICBpZiggYnVmZkNhcmdvUmVmLmFkZCg2MSpzbG90KzYpLnJlYWRVMzIoKSA9PTAgKXsNCiAgICAgICAgICAgICAgICB2YXIgdjQgPSA2MSpzbG90Ow0KICAgICAgICAgICAgICAgIGJ1ZmZDYXJnb1JlZi5hZGQodjQrNCkud3JpdGVVMzIoaXRlbS5yZWFkVTMyKCkpOw0KICAgICAgICAgICAgICAgIGJ1ZmZDYXJnb1JlZi5hZGQodjQrOCkud3JpdGVVMzIoaXRlbS5hZGQoMSo0KS5yZWFkVTMyKCkpOw0KICAgICAgICAgICAgICAgIGJ1ZmZDYXJnb1JlZi5hZGQodjQrMTIpLndyaXRlVTMyKGl0ZW0uYWRkKDIqNCkucmVhZFUzMigpKTsNCiAgICAgICAgICAgICAgICBidWZmQ2FyZ29SZWYuYWRkKHY0KzE2KS53cml0ZVUzMihpdGVtLmFkZCgzKjQpLnJlYWRVMzIoKSk7DQogICAgICAgICAgICAgICAgYnVmZkNhcmdvUmVmLmFkZCh2NCsyMCkud3JpdGVVMzIoaXRlbS5hZGQoNCo0KS5yZWFkVTMyKCkpOw0KICAgICAgICAgICAgICAgIGJ1ZmZDYXJnb1JlZi5hZGQodjQrMjQpLndyaXRlVTMyKGl0ZW0uYWRkKDUqNCkucmVhZFUzMigpKTsNCiAgICAgICAgICAgICAgICBidWZmQ2FyZ29SZWYuYWRkKHY0KzI4KS53cml0ZVUzMihpdGVtLmFkZCg2KjQpLnJlYWRVMzIoKSk7DQogICAgICAgICAgICAgICAgYnVmZkNhcmdvUmVmLmFkZCh2NCszMikud3JpdGVVMzIoaXRlbS5hZGQoNyo0KS5yZWFkVTMyKCkpOw0KICAgICAgICAgICAgICAgIGJ1ZmZDYXJnb1JlZi5hZGQodjQrMzYpLndyaXRlVTMyKGl0ZW0uYWRkKDgqNCkucmVhZFUzMigpKTsNCiAgICAgICAgICAgICAgICBidWZmQ2FyZ29SZWYuYWRkKHY0KzQwKS53cml0ZVUzMihpdGVtLmFkZCg5KjQpLnJlYWRVMzIoKSk7DQogICAgICAgICAgICAgICAgYnVmZkNhcmdvUmVmLmFkZCh2NCs0NCkud3JpdGVVMzIoaXRlbS5hZGQoMTAqNCkucmVhZFUzMigpKTsNCiAgICAgICAgICAgICAgICBidWZmQ2FyZ29SZWYuYWRkKHY0KzQ4KS53cml0ZVUzMihpdGVtLmFkZCgxMSo0KS5yZWFkVTMyKCkpOw0KICAgICAgICAgICAgICAgIGJ1ZmZDYXJnb1JlZi5hZGQodjQrNTIpLndyaXRlVTMyKGl0ZW0uYWRkKDEyKjQpLnJlYWRVMzIoKSk7DQogICAgICAgICAgICAgICAgYnVmZkNhcmdvUmVmLmFkZCh2NCs1Nikud3JpdGVVMzIoaXRlbS5hZGQoMTMqNCkucmVhZFUzMigpKTsNCiAgICAgICAgICAgICAgICBidWZmQ2FyZ29SZWYuYWRkKHY0KzYwKS53cml0ZVUzMihpdGVtLmFkZCgxNCo0KS5yZWFkVTMyKCkpOw0KICAgICAgICAgICAgICAgIGJ1ZmZDYXJnb1JlZi5hZGQodjQrNjQpLndyaXRlVTgoaXRlbS5hZGQoNjApLnJlYWRVOCgpKTsNCiAgICAgICAgICAgICAgICByZXMgPSBzbG90Ow0KICAgICAgICAgICAgfQ0KICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCJJbnZlbl9JdGVtX2lzRXF1aXBhYmxlSXRlbVR5cGUgIGZhaWzvvJoiK2NhcmdvUmVmLmFkZCg2MSpzbG90KzYpLnJlYWRVMzIoKSkNCiAgICAgICAgICAgIGlmKGl0ZW0uYWRkKDIpLnJlYWRVMzIoKSA9PSBidWZmQ2FyZ29SZWYuYWRkKDYxKnNsb3QrNikucmVhZFUzMigpKXsNCiAgICAgICAgICAgICAgICB2YXIgc2l6ZSA9IGJ1ZmZDYXJnb1JlZi5hZGQoNjEqc2xvdCsxMSkucmVhZFUzMigpOw0KICAgICAgICAgICAgICAgIGJ1ZmZDYXJnb1JlZi5hZGQoNjEqc2xvdCsxMSkud3JpdGVVMzIoc2l6ZStpdGVtLmFkZCg3KS5yZWFkVTMyKCkpOw0KICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgICAgdmFyIHY0ID0gNjEqc2xvdDsNCiAgICAgICAgICAgICAgICBidWZmQ2FyZ29SZWYuYWRkKHY0KzQpLndyaXRlVTMyKGl0ZW0ucmVhZFUzMigpKTsNCiAgICAgICAgICAgICAgICBidWZmQ2FyZ29SZWYuYWRkKHY0KzgpLndyaXRlVTMyKGl0ZW0uYWRkKDEqNCkucmVhZFUzMigpKTsNCiAgICAgICAgICAgICAgICBidWZmQ2FyZ29SZWYuYWRkKHY0KzEyKS53cml0ZVUzMihpdGVtLmFkZCgyKjQpLnJlYWRVMzIoKSk7DQogICAgICAgICAgICAgICAgYnVmZkNhcmdvUmVmLmFkZCh2NCsxNikud3JpdGVVMzIoaXRlbS5hZGQoMyo0KS5yZWFkVTMyKCkpOw0KICAgICAgICAgICAgICAgIGJ1ZmZDYXJnb1JlZi5hZGQodjQrMjApLndyaXRlVTMyKGl0ZW0uYWRkKDQqNCkucmVhZFUzMigpKTsNCiAgICAgICAgICAgICAgICBidWZmQ2FyZ29SZWYuYWRkKHY0KzI0KS53cml0ZVUzMihpdGVtLmFkZCg1KjQpLnJlYWRVMzIoKSk7DQogICAgICAgICAgICAgICAgYnVmZkNhcmdvUmVmLmFkZCh2NCsyOCkud3JpdGVVMzIoaXRlbS5hZGQoNio0KS5yZWFkVTMyKCkpOw0KICAgICAgICAgICAgICAgIGJ1ZmZDYXJnb1JlZi5hZGQodjQrMzIpLndyaXRlVTMyKGl0ZW0uYWRkKDcqNCkucmVhZFUzMigpKTsNCiAgICAgICAgICAgICAgICBidWZmQ2FyZ29SZWYuYWRkKHY0KzM2KS53cml0ZVUzMihpdGVtLmFkZCg4KjQpLnJlYWRVMzIoKSk7DQogICAgICAgICAgICAgICAgYnVmZkNhcmdvUmVmLmFkZCh2NCs0MCkud3JpdGVVMzIoaXRlbS5hZGQoOSo0KS5yZWFkVTMyKCkpOw0KICAgICAgICAgICAgICAgIGJ1ZmZDYXJnb1JlZi5hZGQodjQrNDQpLndyaXRlVTMyKGl0ZW0uYWRkKDEwKjQpLnJlYWRVMzIoKSk7DQogICAgICAgICAgICAgICAgYnVmZkNhcmdvUmVmLmFkZCh2NCs0OCkud3JpdGVVMzIoaXRlbS5hZGQoMTEqNCkucmVhZFUzMigpKTsNCiAgICAgICAgICAgICAgICBidWZmQ2FyZ29SZWYuYWRkKHY0KzUyKS53cml0ZVUzMihpdGVtLmFkZCgxMio0KS5yZWFkVTMyKCkpOw0KICAgICAgICAgICAgICAgIGJ1ZmZDYXJnb1JlZi5hZGQodjQrNTYpLndyaXRlVTMyKGl0ZW0uYWRkKDEzKjQpLnJlYWRVMzIoKSk7DQogICAgICAgICAgICAgICAgYnVmZkNhcmdvUmVmLmFkZCh2NCs2MCkud3JpdGVVMzIoaXRlbS5hZGQoMTQqNCkucmVhZFUzMigpKTsNCiAgICAgICAgICAgICAgICBidWZmQ2FyZ29SZWYuYWRkKHY0KzY0KS53cml0ZVU4KGl0ZW0uYWRkKDYwKS5yZWFkVTgoKSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICByZXMgPSBzbG90Ow0KICAgICAgICB9DQogICAgICAgIGJ1ZmZDYXJnb1JlZi5hZGQoMTIrNjEqbWF4U29sdCkud3JpdGVVOCgxKTsNCiAgICAgICAgY2FyZ29SZWYuYWRkKDEyKzYxKjU2KS53cml0ZVU4KDEpOw0KICAgICAgICAvLyBjb25zb2xlLmxvZygiSW5zZXJ0SXRlbToiK3Jlcyk7DQogICAgICAgIHJldHVybiByZXM7DQogICAgfSwgJ2ludCcsIFsncG9pbnRlcicsJ3BvaW50ZXInLCdpbnQnXSk7DQogICAgQ0FjY291bnRDYXJnb19JbnNlcnRJdGVtX05FVyA9IG5ldyBOYXRpdmVGdW5jdGlvbih0ZW1wRnVuYywgJ2ludCcsIFsncG9pbnRlcicsJ3BvaW50ZXInLCdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KICAgIEludGVyY2VwdG9yLnJlcGxhY2UocHRyKDB4MDgyODlDODIpLCB0ZW1wRnVuYyk7DQp9DQpmdW5jdGlvbiBDbGVhcihtYXhTb2x0KXsNCiAgICBJbnRlcmNlcHRvci5yZXBsYWNlKHB0cigweDA4Mjg5ODZDKSwgbmV3IE5hdGl2ZUNhbGxiYWNrKGZ1bmN0aW9uIChjYXJnb1JlZikgew0KICAgICAgICAvLyAvLyBjb25zb2xlLmxvZygnQ2xlYXI6JytjYXJnb1JlZikNCiAgICAgICAgLy8g56a757q/5piv5riF6Zu2DQogICAgICAgIGNhcmdvUmVmLndyaXRlVTMyKDApOw0KICAgICAgICB2YXIgY2FyZ29SZWZBZGQgPSBjYXJnb1JlZi5hZGQoNCk7DQogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWF4U29sdDsgaSsrKSB7DQogICAgICAgICAgICBJbnZlbl9JdGVtX0ludmVuX0l0ZW0oY2FyZ29SZWZBZGQpOw0KICAgICAgICAgICAgY2FyZ29SZWZBZGQud3JpdGVVMzIoMCk7DQogICAgICAgICAgICBjYXJnb1JlZkFkZCA9IGNhcmdvUmVmQWRkLmFkZCg2MSk7DQogICAgICAgIH0NCiAgICAgICAgY2FyZ29SZWYuYWRkKDQrNjEqbWF4U29sdCkud3JpdGVVMzIoMCk7IC8vIOmSsQ0KICAgICAgICBjYXJnb1JlZi5hZGQoOCs2MSptYXhTb2x0KS53cml0ZVUzMigwKTsgLy8g5a656YePDQogICAgICAgIGNhcmdvUmVmLmFkZCgxMis2MSptYXhTb2x0KS53cml0ZVU4KDApOyAvLyDmoIflv5cNCiAgICAgICAgcmV0dXJuIGNhcmdvUmVmOw0KICAgIH0sICdwb2ludGVyJywgWydwb2ludGVyJ10pKTsNCn0NCg0KZnVuY3Rpb24gU2V0REJEYXRhKG1heFNvbHQpew0KICAgIEludGVyY2VwdG9yLnJlcGxhY2UocHRyKDB4MDgyODk4MTYpLCBuZXcgTmF0aXZlQ2FsbGJhY2soZnVuY3Rpb24gKGNhcmdvUmVmLHVzZXIsaXRlbSxtb25leSxjb3BhY2l0eSkgew0KICAgICAgICBjb25zb2xlLmxvZygnU2V0REJEYXRhLS0tLS0tLS0tLS0tLS0tLS0tLScrY2FyZ29SZWYrJyAnK3VzZXIrJyAsJytpdGVtKycsJyttb25leSsnICAnK2NvcGFjaXR5KQ0KICAgICAgICB2YXIgYWNjSWQgPSAgQ1VzZXJfZ2V0X2FjY19pZCh1c2VyKTsNCiAgICAgICAgLy8g5YaN6K6+572u5pivIOWwhiDph43mlrDnlLPor7fotKblj7fph5HlupPnqbrpl7QgIDYxKm1heFNvbHTmmK/moLzlrZAgNOS4quWtl+iKgueahOmSsSAgNOS4quWtl+iKgueahOWuuemHjyAx5Liq5a2X6IqC55qE5qCH5b+XDQogICAgICAgIGFjY291bnRDYXJnZm9bYWNjSWRdID0gTWVtb3J5LmFsbG9jKDYxKm1heFNvbHQrNCs0KzErMzApOw0KICAgICAgICB2YXIgYnVmZkNhcmdvUmVmID0gY2FyZ29SZWY7DQogICAgICAgIGlmKGFjY291bnRDYXJnZm9bYWNjSWRdKXsNCiAgICAgICAgICAgIC8vIOe7meWOn+adpeeahOiuvue9ruS4gOS6m+m7mOiupOWAvO+8jOmYsuatouiOt+WPluS4jeWIsOmHkeW6kw0KICAgICAgICAgICAgY2FyZ29SZWYud3JpdGVQb2ludGVyKHVzZXIpOw0KICAgICAgICAgICAgY2FyZ29SZWYuYWRkKDQrNjEqNTYpLndyaXRlVTMyKG1vbmV5KTsNCiAgICAgICAgICAgIGNhcmdvUmVmLmFkZCg4KzYxKjU2KS53cml0ZVUzMihjb3BhY2l0eSk7DQogICAgICAgICAgICBjYXJnb1JlZi5hZGQoMTIrNjEqNTYpLndyaXRlVTgoMCk7DQogICAgICAgICAgICBidWZmQ2FyZ29SZWYgPSBhY2NvdW50Q2FyZ2ZvW2FjY0lkXTsNCiAgICAgICAgICAgIC8vIOWIneWni+WMluaVsOaNrg0KICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXhTb2x0OyBpKyspIHsNCiAgICAgICAgICAgICAgICBidWZmQ2FyZ29SZWYuYWRkKDQraSo2MSkud3JpdGVVMzIoMCk7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgYnVmZkNhcmdvUmVmLndyaXRlUG9pbnRlcih1c2VyKTsNCiAgICAgICAgYnVmZkNhcmdvUmVmLmFkZCg0KzYxKm1heFNvbHQpLndyaXRlVTMyKG1vbmV5KTsNCiAgICAgICAgYnVmZkNhcmdvUmVmLmFkZCg4KzYxKm1heFNvbHQpLndyaXRlVTMyKGNvcGFjaXR5KTsNCiAgICAgICAgYnVmZkNhcmdvUmVmLmFkZCgxMis2MSptYXhTb2x0KS53cml0ZVU4KDApOw0KICAgICAgICBpZihpdGVtIT0wKXsNCiAgICAgICAgICAgIE1lbW9yeS5jb3B5KGNhcmdvUmVmLmFkZCg0KSxpdGVtLDU2KjYxKTsNCiAgICAgICAgICAgIE1lbW9yeS5jb3B5KGJ1ZmZDYXJnb1JlZi5hZGQoNCksaXRlbSxtYXhTb2x0KjYxKTsNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gY2FyZ29SZWY7DQogICAgfSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInLCdwb2ludGVyJywncG9pbnRlcicsJ3VpbnQzMicsJ3VpbnQzMiddKSk7DQp9DQoNCmZ1bmN0aW9uIENBY2NvdW50Q2FyZ28obWF4U29sdCl7DQogICAgSW50ZXJjZXB0b3IucmVwbGFjZShwdHIoMHgwODI4OTc5NCksIG5ldyBOYXRpdmVDYWxsYmFjayhmdW5jdGlvbiAoY2FyZ29SZWYpIHsNCiAgICAgICAgY2FyZ29SZWYud3JpdGVVMzIoMCk7DQogICAgICAgIHZhciBjYXJnb1JlZkFkZCA9IGNhcmdvUmVmLmFkZCg0KTsNCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA1NjsgaSsrKSB7DQogICAgICAgICAgICBJbnZlbl9JdGVtX0ludmVuX0l0ZW0oY2FyZ29SZWZBZGQpOw0KICAgICAgICAgICAgY2FyZ29SZWZBZGQud3JpdGVVMzIoMCk7DQogICAgICAgICAgICBjYXJnb1JlZkFkZCA9IGNhcmdvUmVmQWRkLmFkZCg2MSk7DQogICAgICAgIH0NCiAgICAgICAgY2FyZ29SZWYuYWRkKDQrNjEqNTYpLndyaXRlVTMyKDApOyAvLyDpkrENCiAgICAgICAgY2FyZ29SZWYuYWRkKDgrNjEqNTYpLndyaXRlVTMyKDApOyAvLyDlrrnph48NCiAgICAgICAgY2FyZ29SZWYuYWRkKDEyKzYxKjU2KS53cml0ZVU4KDApOyAvLyDmoIflv5cNCiAgICB9LCAndm9pZCcsIFsncG9pbnRlciddKSk7DQp9DQoNCmZ1bmN0aW9uIEdldE1vbmV5KG1heFNvbHQpew0KICAgIEludGVyY2VwdG9yLnJlcGxhY2UocHRyKDB4MDgyMkYwMjApLCBuZXcgTmF0aXZlQ2FsbGJhY2soZnVuY3Rpb24gKGNhcmdvUmVmKSB7DQogICAgICAgIHZhciBhY2NJZCA9ICBnZXRVc2VyQWNjSWQoY2FyZ29SZWYpOw0KICAgICAgICBpZihhY2NJZCA9PSAtMSl7DQogICAgICAgICAgICByZXR1cm4gMDsNCiAgICAgICAgfQ0KICAgICAgICAvLyBjb25zb2xlLmxvZygnR2V0TW9uZXktLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0nK2NhcmdvUmVmKQ0KICAgICAgICBjYXJnb1JlZiA9IGdldENhcmdvUmVmKGFjY0lkLGNhcmdvUmVmKTsNCiAgICAgICAgLy8gY29uc29sZS5sb2coIkdldE1vbmV5IGFjY0lkOiIrYWNjSWQpDQogICAgICAgIHJldHVybiBjYXJnb1JlZi5hZGQoNCs2MSptYXhTb2x0KS5yZWFkVTMyKCk7DQogICAgfSwgJ2ludCcsIFsncG9pbnRlciddKSk7DQp9DQoNCmZ1bmN0aW9uIEdldENhcGFjaXR5KG1heFNvbHQpew0KICAgIEludGVyY2VwdG9yLnJlcGxhY2UocHRyKDB4MDgyMkYwMTIpLCBuZXcgTmF0aXZlQ2FsbGJhY2soZnVuY3Rpb24gKGNhcmdvUmVmKSB7DQogICAgICAgIHZhciBhY2NJZCA9ICBnZXRVc2VyQWNjSWQoY2FyZ29SZWYpOw0KICAgICAgICBpZihhY2NJZCA9PSAtMSl7DQogICAgICAgICAgICByZXR1cm4gMDsNCiAgICAgICAgfQ0KICAgICAgICAvLyBjb25zb2xlLmxvZygnR2V0Q2FwYWNpdHktLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0nK2NhcmdvUmVmKQ0KICAgICAgICBjYXJnb1JlZiA9IGdldENhcmdvUmVmKGFjY0lkLGNhcmdvUmVmKTsNCiAgICAgICAgcmV0dXJuIGNhcmdvUmVmLmFkZCg4KzYxKm1heFNvbHQpLnJlYWRVMzIoKTsNCiAgICB9LCAnaW50JywgWydwb2ludGVyJ10pKTsNCn0NCg0KDQpmdW5jdGlvbiBnZXRDYXJnb1JlZihhY2NJZCxjYXJnb1JlZil7DQogICAgaWYoYWNjb3VudENhcmdmb1thY2NJZF0pew0KICAgICAgICBjYXJnb1JlZiA9IGFjY291bnRDYXJnZm9bYWNjSWRdOw0KICAgIH1lbHNlew0KICAgICAgICAvLyDop6PlhrMg5Yik5pat5paH5Lu25Lit5piv5ZCm5pyJ57yT5a2Y55qE6YWN572uIOWmguaenOacieWwseWKoOi9vQ0KICAgICAgICBpZihpbml0Q2hhcmFjQWNjb3VudENhcmdvRGJEYXRhKGFjY0lkLCBjYXJnb1JlZikpew0KICAgICAgICAgICAgY2FyZ29SZWYgPSBhY2NvdW50Q2FyZ2ZvW2FjY0lkXTsNCiAgICAgICAgfQ0KICAgIH0NCiAgICByZXR1cm4gY2FyZ29SZWY7DQp9DQoNCmZ1bmN0aW9uIGluaXRDaGFyYWNBY2NvdW50Q2FyZ29EYkRhdGEoYWNjSWQsY2FyZ29SZWYpew0KICAgIGNvbnNvbGUubG9nKCJpbml0Q2hhcmFjQWNjb3VudENhcmdvRGJEYXRhOiIrYWNjSWQpDQogICAgdmFyIGRiSGFuZGVsQWRkciA9IERCTWdyX0dldERCSGFuZGxlKHB0cihwdHIoMHgwOTQwQkRBQykucmVhZFUzMigpKSwyLDApOw0KICAgIHZhciBkYkhhbmRlbCA9IHB0cihkYkhhbmRlbEFkZHIpOw0KICAgIHZhciBtSWQgPSBNZW1vcnkuYWxsb2NVdGY4U3RyaW5nKGFjY0lkKycnKTsNCiAgICBNeVNRTF9zZXRfcXVlcnlfM19wdHIoZGJIYW5kZWwsTWVtb3J5LmFsbG9jVXRmOFN0cmluZygnc2VMZWN0IGNhcGFjaXR5LCBtb25leSwgY2FyZ28gZnJvbSBhY2NvdW50X2NhcmdvIHdoZXJlIG1faWQgPSAlcycpLG1JZCk7DQogICAgaWYoTXlTUUxfZXhlYyhkYkhhbmRlbCwxKSE9MSl7DQogICAgICAgIGNvbnNvbGUubG9nKCJwcmUgb25lIDExMSIpDQogICAgICAgIHJldHVybiBmYWxzZTsNCiAgICB9DQogICAgaWYoTXlTUUxfZ2V0X25fcm93cyhkYkhhbmRlbCk9PTApew0KICAgICAgICBjb25zb2xlLmxvZygicHJlIG9uZSAyMjIiKQ0KICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgfQ0KICAgIGlmKE15U1FMX2ZldGNoKGRiSGFuZGVsKSE9MSl7DQogICAgICAgIGNvbnNvbGUubG9nKCJwcmUgb25lIDMzMyIpDQogICAgICAgIHJldHVybiBmYWxzZTsNCiAgICB9DQogICAgdmFyIG1heFNvbHQgPSBpbml0TWF4U29sdDsNCiAgICBhY2NvdW50Q2FyZ2ZvW2FjY0lkXSA9IE1lbW9yeS5hbGxvYyg2MSptYXhTb2x0KzQrNCsxKzMwKTsNCiAgICB2YXIgYnVmZkNhcmdvUmVmID0gYWNjb3VudENhcmdmb1thY2NJZF07DQogICAgLy8g5Yid5aeL5YyW5pWw5o2uDQogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXhTb2x0OyBpKyspIHsNCiAgICAgICAgYnVmZkNhcmdvUmVmLmFkZCg0K2kqNjEpLndyaXRlVTMyKDApOw0KICAgIH0NCiAgICBidWZmQ2FyZ29SZWYud3JpdGVQb2ludGVyKHB0cihjYXJnb1JlZikucmVhZFBvaW50ZXIoKSk7DQogICAgYnVmZkNhcmdvUmVmLmFkZCgxMis2MSptYXhTb2x0KS53cml0ZVU4KDApOw0KICAgIHZhciByZXMgPSBmYWxzZTsNCiAgICBpZihNeVNRTF9nZXRfdWludChkYkhhbmRlbCwwLGJ1ZmZDYXJnb1JlZi5hZGQoOCs2MSptYXhTb2x0KSkhPTEpew0KICAgICAgICAvLyBjb25zb2xlLmxvZygndWludCBjYXBhY2l0eSBnZXQgZXJyb3InKQ0KICAgICAgICBjb25zb2xlLmxvZygicHJlIG9uZSA0NDQiKQ0KICAgICAgICByZXMgPSAgZmFsc2U7DQogICAgfWVsc2UgaWYoTXlTUUxfZ2V0X3VpbnQoZGJIYW5kZWwsMSxidWZmQ2FyZ29SZWYuYWRkKDQrNjEqbWF4U29sdCkpIT0xKXsNCiAgICAgICAgY29uc29sZS5sb2coJ3VpbnQgbW9uZXkgZ2V0IGVycm9yJykNCiAgICAgICAgcmVzID0gIGZhbHNlOw0KICAgIH1lbHNlew0KICAgICAgICB2YXIgdjEwID0gTWVtb3J5LmFsbG9jKDYxKm1heFNvbHQqNCk7DQogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNjEqbWF4U29sdDsgaSsrKSB7DQogICAgICAgICAgICB2MTAuYWRkKGkqNCkud3JpdGVVMzIoMCk7DQogICAgICAgIH0NCiAgICAgICAgdmFyIGJpbmFyeUxlbmd0aCA9IE15U1FMX2dldF9iaW5hcnlfbGVuZ3RoKGRiSGFuZGVsLDIpOw0KICAgICAgICBpZiggTXlTUUxfZ2V0X2JpbmFyeShkYkhhbmRlbCwyLHYxMCwgYmluYXJ5TGVuZ3RoKSE9MSApew0KICAgICAgICAgICAgcmVzID0gIHRydWU7DQogICAgICAgIH1lbHNlew0KICAgICAgICAgICAgYmluYXJ5TGVuZ3RoID0gTXlTUUxfZ2V0X2JpbmFyeV9sZW5ndGgoZGJIYW5kZWwsMik7DQogICAgICAgICAgICB2YXIgbWF4TGVuZ3RoID0gNjEqbWF4U29sdDsNCiAgICAgICAgICAgIHZhciB2MTdBZGRyID0gTWVtb3J5LmFsbG9jKDQpOw0KICAgICAgICAgICAgdjE3QWRkci53cml0ZUludChtYXhMZW5ndGgpDQogICAgICAgICAgICBpZih1bmNvbXByZXNzX3ppcChidWZmQ2FyZ29SZWYuYWRkKDQpLCB2MTdBZGRyLCB2MTAsIGJpbmFyeUxlbmd0aCkgIT0xKXsNCiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygidW5jb21wcmVzc196aXAgZXJyb3IgICEhISIpDQogICAgICAgICAgICAgICAgcmVzID0gIGZhbHNlOw0KICAgICAgICAgICAgfWVsc2UgaWYodjE3QWRkci5yZWFkVTMyKCkhPTAgJiYgdjE3QWRkci5yZWFkVTMyKCklKDYxKm1heFNvbHQpICE9MCl7DQogICAgICAgICAgICAgICAgcmVzID0gIGZhbHNlOw0KICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgICAgcmVzID0gIHRydWU7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9DQogICAgaWYoIXJlcyl7DQogICAgICAgIGRlbGV0ZSBhY2NvdW50Q2FyZ2ZvW2FjY0lkXQ0KICAgIH0NCiAgICByZXR1cm4gcmVzOw0KfQ0KDQpmdW5jdGlvbiBnZXRVc2VyQWNjSWQoY2FyZ29SZWYpew0KICAgIGlmKGNhcmdvUmVmID09IDApew0KICAgICAgICByZXR1cm4gLTE7DQogICAgfQ0KICAgIHZhciB1c2VyQWRkciA9IHB0cihjYXJnb1JlZi5yZWFkVTMyKCkpOw0KICAgIGlmKHVzZXJBZGRyID09IDApew0KICAgICAgICByZXR1cm4gLTE7DQogICAgfQ0KICAgIHJldHVybiBDVXNlcl9nZXRfYWNjX2lkKHVzZXJBZGRyKTsNCn0NCg0KLy/nnqzpl7Tnp7vliqjoja/liYIg6YeN5YaZ556s6Ze056e75Yqo6I2v5YmC5aSE55CG5Ye95pWwDQpmdW5jdGlvbiBJbnRlcmNlcHRvcl9EaXNwYXRjaGVyX1RlbGVwb3J0KCkgew0KDQoNCiAgICAvL+mHjeWGmURpc3BhdGNoZXJfVGVsZXBvcnQ6OmNoZWNrX2Vycm9yIOWHveaVsA0KICAgIEludGVyY2VwdG9yLnJlcGxhY2UocHRyKDB4MDgxRDA1NkMpLCBuZXcgTmF0aXZlQ2FsbGJhY2soZnVuY3Rpb24oRGlzcGF0Y2hlcl9UZWxlcG9ydCwgdXNlciwgTVNHX0JBU0UsIFBhcmFtQmFzZSkgew0KDQogICAgICAgIGlmIChDVXNlci5HZXRTdGF0ZSh1c2VyKSA8PSAyIHx8ICFDVXNlci5HZXRDdXJDaGFyYWNSKHVzZXIpKSByZXR1cm4gLTE7DQogICAgICAgIGlmIChDVXNlci5HZXRTdGF0ZSh1c2VyKSA8PSA0KSB7DQoNCiAgICAgICAgICAgIHZhciB0b3duaWQgPSBNU0dfQkFTRS5hZGQoMjEpLnJlYWRVOCgpDQogICAgICAgICAgICBjb25zb2xlLmxvZygiLS0tLS0tLS0tLS0tSW50ZXJjZXB0b3JfRGlzcGF0Y2hlcl9UZWxlcG9ydCBPSyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIik7DQogICAgICAgICAgICBpZiAodG93bmlkID4gMCkgew0KDQogICAgICAgICAgICAgICAgaWYgKENVc2VyLkNoZWNrTW92ZVRvd24odXNlciwgdG93bmlkKSkgew0KDQogICAgICAgICAgICAgICAgICAgIHJldHVybiAweDdGRkZGRkZGOw0KDQogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChleHBlcnRfam9iX0NBbGNoZW1pc3RfT25UZWxlcG9ydENoYXJhY3Rlcih1c2VyLCB0b3duaWQsIDAsIDAsIDAsIDEpICE9IDEpIHsNCg0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gMHg3RkZGRkZGRjsNCg0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQoNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDA7DQogICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICB9DQoNCiAgICAgICAgfQ0KDQogICAgICAgIHJldHVybiAwOw0KICAgIH0sICdpbnQnLCBbJ3BvaW50ZXInLCAncG9pbnRlcicsICdwb2ludGVyJywgJ3BvaW50ZXInXSkpOw0KDQp9DQoNCg0KLyoqDQogKiDph43mlrDorqHnrpfnrYnnuqcNCiAqIEBwYXJhbSBtYXhMZXZlbA0KICovDQpmdW5jdGlvbiBjYWxjdXJhdGVVc2VyTWF4TGV2ZWwobWF4TGV2ZWwpew0KICAgIEludGVyY2VwdG9yLnJlcGxhY2UocHRyKDB4MDg2OGZmMDQpLCBuZXcgTmF0aXZlQ2FsbGJhY2soZnVuY3Rpb24gKGExKSB7DQogICAgICAgIHZhciBpbmZvID0gYTE7DQogICAgICAgIHZhciBjYWxNYXhMZXZlbCA9IDA7DQogICAgICAgIC8vIOiOt+WPluinkuiJsuaVsOmHjw0KICAgICAgICB2YXIgaW5mb1NpemUgPSBzdGRfdmVjdG9yX2NoYXJhY19pbmZvX3NpemUoaW5mby5hZGQoMHg3OTZFOCkpOw0KICAgICAgICBmb3IodmFyIGk9MDtpPGluZm9TaXplO2krKyl7DQogICAgICAgICAgICAvLyDor7vlj5bmr4/kuKrop5LoibLnmoTnrYnnuqcNCiAgICAgICAgICAgIHZhciByZWFkTGV2ZWwgPSBwdHIoc3RkX3ZlY3Rvcl9DaGFyYWNfaW5mb19vcGVyYXRvckFycihpbmZvLmFkZCg0OTczODQpLGkpKS5hZGQoMzkpLnJlYWRVMTYoKTsNCiAgICAgICAgICAgIGlmKHJlYWRMZXZlbCA+IGNhbE1heExldmVsKXsNCiAgICAgICAgICAgICAgICBjYWxNYXhMZXZlbCA9IHJlYWRMZXZlbDsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICBpZihjYWxNYXhMZXZlbCA+IG1heExldmVsKXsNCiAgICAgICAgICAgIGNhbE1heExldmVsCT0gbWF4TGV2ZWw7DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIENVc2VyX1NldFVzZXJNYXhMZXZlbChpbmZvLGNhbE1heExldmVsKTsNCiAgICB9LCAncG9pbnRlcicsIFsncG9pbnRlciddKSk7DQp9DQoNCi8qKg0KICog6K6+572u5pyA5aSn562J57qnDQogKiBAcGFyYW0gbWF4TGV2ZWwNCiAqLw0KZnVuY3Rpb24gc2V0VXNlck1heExldmVsKG1heExldmVsKXsNCiAgICBJbnRlcmNlcHRvci5yZXBsYWNlKHB0cigweDA4NjhmZWM4KSwgbmV3IE5hdGl2ZUNhbGxiYWNrKGZ1bmN0aW9uIChpbmZvLCBsZXZlbCkgew0KICAgICAgICB2YXIgd3JpdGVMZXZlbCA9IG1heExldmVsOw0KICAgICAgICBpZiAobGV2ZWwgPD0gbWF4TGV2ZWwpIHsNCiAgICAgICAgICAgIGlmIChsZXZlbCA+IDApIHsNCiAgICAgICAgICAgICAgICB3cml0ZUxldmVsID0gbGV2ZWw7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIHdyaXRlTGV2ZWwgPSAxOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIC8vIDU4NDY2NA0KICAgICAgICBpbmZvLmFkZCgweDhFQkQ4KS53cml0ZUludCh3cml0ZUxldmVsKTsNCiAgICAgICAgcmV0dXJuIGluZm87DQogICAgfSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInLCAnaW50J10pKTsNCn0NCg0KLyoqDQogKiB0b2RvIOavj+aXpeeahOaXpeW4uOS7u+WKoQ0KICogQHBhcmFtIG1heExldmVsDQogKi8NCmZ1bmN0aW9uIGlzVGhlcmVEYWlseVRyYWluaW5nUXVlc3RMaXN0KG1heExldmVsKXsNCiAgICAvLyBJbnRlcmNlcHRvci5hdHRhY2gocHRyKDB4MDgzNjQxMWUpLCB7DQogICAgLy8NCiAgICAvLyAgICAgb25FbnRlcjogZnVuY3Rpb24gKGFyZ3MpIHsNCiAgICAvLyAgICAgICAgIGNvbnNvbGUubG9nKCJ1c2VyIGFuZCBsZXZlbCA6IithcmdzWzBdKyIgLCIrcGFyc2VJbnQoYXJnc1sxXSkrJyAsJytwYXJzZUludChhcmdzWzJdKSk7DQogICAgLy8gICAgICAgICB2YXIgcXVlc3RMaXN0ID0gQ0RhdGFNYW5hZ2VyX2dldERhaWx5VHJhaW5pbmdRdWVzdChhcmdzWzBdLHBhcnNlSW50KGFyZ3NbMV0pKTsNCiAgICAvLyAgICAgICAgIHZhciBpID0gMDsNCiAgICAvLyAgICAgICAgIHZhciByZXNWYWwgPSAwOw0KICAgIC8vICAgICAgICAgZm9yIChpID0gMDsgaSA8IDY7IGkrKykgew0KICAgIC8vICAgICAgICAgICAgIHZhciB2YWwgPSBxdWVzdExpc3QuYWRkKGkqMikucmVhZFUxNigpOw0KICAgIC8vICAgICAgICAgICAgIGlmKHBhcnNlSW50KGFyZ3NbMl0pID09IHZhbCl7DQogICAgLy8gICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdpc1RoZXJlRGFpbHlUcmFpbmluZ1F1ZXN0TGlzdCAgdmFsOicrdmFsKycgICcraSk7DQogICAgLy8gICAgICAgICAgICAgICAgIHJlc1ZhbCA9IDE7DQogICAgLy8gICAgICAgICAgICAgfQ0KICAgIC8vICAgICAgICAgfQ0KICAgIC8vICAgICAgICAgY29uc29sZS5sb2coImlzVGhlcmVEYWlseVRyYWluaW5nUXVlc3RMaXN0IG9uRW50ZXI6OiIrcmVzVmFsKQ0KICAgIC8vICAgICB9LA0KICAgIC8vICAgICBvbkxlYXZlOiBmdW5jdGlvbiAocmV0dmFsKSB7DQogICAgLy8gICAgICAgICBjb25zb2xlLmxvZygnaXNUaGVyZURhaWx5VHJhaW5pbmdRdWVzdExpc3Qgb25MZWF2ZTo6JytyZXR2YWwpOw0KICAgIC8vICAgICB9DQogICAgLy8gfSk7DQogICAgSW50ZXJjZXB0b3IucmVwbGFjZShwdHIoMHgwODM2NDExZSksIG5ldyBOYXRpdmVDYWxsYmFjayhmdW5jdGlvbiAoaW5mbywgYTEsIGEyKSB7DQogICAgICAgIHZhciBsZXZlbCA9IGExOw0KICAgICAgICBpZihsZXZlbDw9MCB8fCBsZXZlbCA+IG1heExldmVsKXsNCiAgICAgICAgICAgIHJldHVybiAwOw0KICAgICAgICB9DQogICAgICAgIHZhciBxdWVyc3QgPSBhMjsNCiAgICAgICAgLy8gY29uc29sZS5sb2coInVzZXIgYW5kIGxldmVsIDoiK2luZm8rIiAsIitsZXZlbCsnICwnK3F1ZXJzdCk7DQogICAgICAgIHZhciBxdWVzdExpc3QgPSBDRGF0YU1hbmFnZXJfZ2V0RGFpbHlUcmFpbmluZ1F1ZXN0KGluZm8sbGV2ZWwpOw0KDQogICAgICAgIHZhciBpID0gMDsNCiAgICAgICAgZm9yIChpID0gMDsgaSA8IDY7IGkrKykgew0KICAgICAgICAgICAgdmFyIHZhbCA9IHF1ZXN0TGlzdC5hZGQoaSoyKS5yZWFkVTE2KCk7DQogICAgICAgICAgICBpZihxdWVyc3QgPT0gdmFsKXsNCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnaXNUaGVyZURhaWx5VHJhaW5pbmdRdWVzdExpc3QgIHZhbDonK3ZhbCsnICAnK2kpOw0KICAgICAgICAgICAgICAgIHJldHVybiAxOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIHJldHVybiAwOw0KICAgIH0sICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50JywgJ2ludCddKSk7DQp9DQoNCi8qKg0KICog5qOA5p+l5piv5ZCm5piv5Y2H57qn6aG5IOS+i+WmguWNh+e6p+WIuCznlKjlpITkuI3lpKcNCiAqIEBwYXJhbSBtYXhMZXZlbA0KICovDQpmdW5jdGlvbiBjYWxMZXZlbFVwSXRlbUNoZWNrKG1heExldmVsKXsNCiAgICBJbnRlcmNlcHRvci5yZXBsYWNlKHB0cigweDA4Njg5ZDA2KSwgbmV3IE5hdGl2ZUNhbGxiYWNrKGZ1bmN0aW9uICh1c2VyLCBpdGVtX2lkKSB7DQogICAgICAgIGNvbnNvbGUubG9nKCJjYWxMZXZlbFVwSXRlbUNoZWNrIGV4ZWMiKQ0KICAgICAgICB2YXIgY2hhcmFjX2xldmVsID0gQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfbGV2ZWwodXNlcik7DQogICAgICAgIGlmKGEyPT0yNjc1Mzg4KXsNCiAgICAgICAgICAgIHJldHVybiBjaGFyYWNfbGV2ZWwgPiAwICYmIGNoYXJhY19sZXZlbCA8PSA2OTsNCiAgICAgICAgfQ0KICAgICAgICBpZihpdGVtX2lkID4gMHgyOEQyQkMpew0KICAgICAgICAgICAgaWYgKCBpdGVtX2lkICE9IDEwMDAwOTE1ICYmIGl0ZW1faWQgIT0gNjkwMDAwMDk3ICkNCiAgICAgICAgICAgICAgICByZXR1cm4gMDsNCiAgICAgICAgICAgIHJldHVybiBjaGFyYWNfbGV2ZWwgPiAwICYmIGNoYXJhY19sZXZlbCA8PSBtYXhMZXZlbDsNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gaXRlbV9pZCA9PSA4MDQ5ICYmIGNoYXJhY19sZXZlbCA+IDE4ICYmIGNoYXJhY19sZXZlbCA8PSA1OTsNCiAgICB9LCAnaW50JywgWydwb2ludGVyJywgJ2ludCddKSk7DQp9DQoNCi8qKg0KICog6I635Y+W562J57qn5q6157uP6aqMIO+8jOWKoOi9veWIsOS6hjIwMA0KICovDQpmdW5jdGlvbiBnZXRMZXZlbFNlY3Rpb25FeHAoKXsNCiAgICAvLyAwODM2MDRCNg0KICAgIEludGVyY2VwdG9yLnJlcGxhY2UocHRyKDB4MDgzNjA0QjYpLCBuZXcgTmF0aXZlQ2FsbGJhY2soZnVuY3Rpb24gKGNoYXJhY0FkdmFuY2VBbHRhck1hbmFnZXIsIGV4cCkgew0KICAgICAgICBpZihleHAgPjEgJiYgZXhwIDw9IDIwMCl7DQogICAgICAgICAgICAvLyDov5Tlm57ku4DkuYjotZ7mmK/kuI3nnIsNCiAgICAgICAgICAgIHZhciBleHBTZWN0aW9uID0gY2hhcmFjQWR2YW5jZUFsdGFyTWFuYWdlci5hZGQoKGV4cCsxMDkxMikqNCkucmVhZFUzMigpLWNoYXJhY0FkdmFuY2VBbHRhck1hbmFnZXIuYWRkKChleHArMTA5MTEpKjQpLnJlYWRVMzIoKQ0KICAgICAgICAgICAgcmV0dXJuIGV4cFNlY3Rpb247DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIDA7DQogICAgfSwgJ2ludCcsIFsncG9pbnRlcicsICdpbnQnXSkpOw0KfQ0KDQovKioNCiAqIHNw54K5IOWSjHB2ZuacieWFs+ezuw0KICogQHBhcmFtIG1heExldmVsDQogKi8NCmZ1bmN0aW9uIGdldFNwQXRMZXZlbFVwKG1heExldmVsKXsNCiAgICBJbnRlcmNlcHRvci5yZXBsYWNlKHB0cigweDA4MzYwY2I4KSwgbmV3IE5hdGl2ZUNhbGxiYWNrKGZ1bmN0aW9uIChjaGFyYWNBZHZhbmNlQWx0YXJNYW5hZ2VyLCBsZXZlbCkgew0KICAgICAgICBpZihsZXZlbCA+MCAmJiBsZXZlbCA8PSBtYXhMZXZlbCl7DQogICAgICAgICAgICB2YXIgcmVzID0gY2hhcmFjQWR2YW5jZUFsdGFyTWFuYWdlci5hZGQoKGxldmVsKzEzOTg4KSo0KS5yZWFkVTE2KCk7DQogICAgICAgICAgICByZXR1cm4gcmVzOw0KICAgICAgICB9DQogICAgICAgIHJldHVybiAwOw0KICAgIH0sICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50J10pKTsNCn0NCg0KLyoqDQogKiDmnKrnn6UNCiAqIEBwYXJhbSBtYXhMZXZlbA0KICovDQpmdW5jdGlvbiBzZXRMZXZlbEV4cChtYXhMZXZlbCl7DQogICAgLy8gSW50ZXJjZXB0b3IucmVwbGFjZShwdHIoMHgwODM2MDQwMCksIG5ldyBOYXRpdmVDYWxsYmFjayhmdW5jdGlvbiAoY2hhcmFjQWR2YW5jZUFsdGFyTWFuYWdlcikgew0KICAgIC8vICAgICBjb25zb2xlLmxvZygic2V0TGV2ZWxFeHAgZXhlYyIpDQogICAgLy8gICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMjAwOyBpKyspIHsNCiAgICAvLyAgICAgICAgIGNoYXJhY0FkdmFuY2VBbHRhck1hbmFnZXIuYWRkKChpKzEwOTEzKSo0KS53cml0ZVVJbnQoMTAwMDAwK2kpOw0KICAgIC8vICAgICB9DQogICAgLy8gICAgIHJldHVybiAxOw0KICAgIC8vIH0sICdpbnQnLCBbJ3BvaW50ZXInXSkpOw0KfQ0KDQovKioNCiAqIOiuvue9ruavj+S4quetiee6p+mAgeeahHNwICzku47mlofku7bkuK3or7vlj5blh7rmnaXvvIzlpKfmpoLmnIDlpJrliLAyMDANCiAqIEBwYXJhbSBtYXhMZXZlbA0KICovDQpmdW5jdGlvbiBzZXRSZXdhcmRTcChtYXhMZXZlbCl7DQogICAgSW50ZXJjZXB0b3IucmVwbGFjZShwdHIoMHgwODM2MGJkZSksIG5ldyBOYXRpdmVDYWxsYmFjayhmdW5jdGlvbiAoY2hhcmFjQWR2YW5jZUFsdGFyTWFuYWdlcikgew0KICAgICAgICB2YXIgcmVzOw0KICAgICAgICB2YXIgcmVmTGlzdCA9IE1lbW9yeS5hbGxvYygxMik7DQogICAgICAgIHN0U3BQZXJMZXZlbFRhYmxlKHJlZkxpc3QpOw0KICAgICAgICB2YXIgbXNnID0gTWVtb3J5LmFsbG9jVXRmOFN0cmluZygiRXRjL3NwVGFibGUuZXRjIik7DQogICAgICAgIGlmKEltcG9ydFNwUGVyTGV2ZWxSZWZlcmVuY2VUYWJsZShtc2cscmVmTGlzdCkhPTApew0KICAgICAgICAgICAgcmVzID0gMDsNCiAgICAgICAgfWVsc2V7DQogICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8PW1heExldmVsOyBpKyspIHsNCiAgICAgICAgICAgICAgICBjaGFyYWNBZHZhbmNlQWx0YXJNYW5hZ2VyLmFkZCgoaSsxMzk4OCkqNCkud3JpdGVVSW50KDApOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZm9yICh2YXIgaT0wO2k8PW1heExldmVsO2krKyl7DQogICAgICAgICAgICAgICAgdmFyIHJlYWRWYWwgPSB2ZWN0b3JfdW5zaWduZWRfaW50X29wZXJhdG9yKHJlZkxpc3QsaSkucmVhZFVJbnQoKTsNCiAgICAgICAgICAgICAgICBjaGFyYWNBZHZhbmNlQWx0YXJNYW5hZ2VyLmFkZCgoaSsxMzk4OCkqNCkud3JpdGVVSW50KHJlYWRWYWwpDQogICAgICAgICAgICB9DQogICAgICAgICAgICByZXMgPSAxOw0KICAgICAgICB9DQogICAgICAgIHJldHVybiByZXM7DQogICAgfSwgJ2ludCcsIFsncG9pbnRlciddKSk7DQp9DQoNCi8qKg0KICog5qOA5p+l562J57qn5Y2H57qnDQogKiBmbGFnIDAg57uP6aqM5Lmm5Y2H57qnICAxIOadgOaAquWNh+e6pyAyIOmAmuWFsyAgMTMg5Lu75YqhDQogKiByZXR1cm4gIOWNh+e6pzEg5LiN5Y2H57qnMA0KICovDQpmdW5jdGlvbiBjaGVja0xldmVsVXAobWF4TGV2ZWwpew0KICAgIEludGVyY2VwdG9yLnJlcGxhY2UocHRyKDB4MDg2NjJhZWEpLCBuZXcgTmF0aXZlQ2FsbGJhY2soZnVuY3Rpb24gKHN0Tm90aWZ5SW5nYW1lQURJbmZvLGFkZEV4cCxhcmdzQSxhcmdzQixmbGFnKSB7DQogICAgICAgIHZhciBhcmdzMiA9IHB0cihhcmdzQSk7DQogICAgICAgIHZhciBhcmdzMyA9IHB0cihhcmdzQik7DQogICAgICAgIHZhciB2bG9nID0gTWVtb3J5LmFsbG9jKDE2KTsNCiAgICAgICAgdmFyIHZsb2cyID0gTWVtb3J5LmFsbG9jKDE2KTsNCiAgICAgICAgdmFyIHZsb2czID0gTWVtb3J5LmFsbG9jKDE2KTsNCiAgICAgICAgdmFyIHZsb2c0ID0gTWVtb3J5LmFsbG9jKDE2KTsNCiAgICAgICAgdmFyIHY0MSA9IE1lbW9yeS5hbGxvYygxMCk7DQogICAgICAgIC8vIGNvbnNvbGUubG9nKCdjaGVja0xldmVsVXAgYXJnczonKyAgc3ROb3RpZnlJbmdhbWVBREluZm8rJywnK2FkZEV4cCsnLCcrYXJnc0ErJywnK2FyZ3NCKycsJytmbGFnKQ0KICAgICAgICB2YXIgbmV4dExldmVsID0gQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfbGV2ZWwoc3ROb3RpZnlJbmdhbWVBREluZm8pKzE7DQogICAgICAgIHZhciByZXNWYWwgPSAwOw0KICAgICAgICBpZihDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjUihzdE5vdGlmeUluZ2FtZUFESW5mbykhPTApew0KICAgICAgICAgICAgaWYoQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfbGV2ZWwoc3ROb3RpZnlJbmdhbWVBREluZm8pID4gMCl7DQogICAgICAgICAgICAgICAgd2hpbGUgKCBhZGRFeHAgPjAgJiYgbmV4dExldmVsIDw9IG1heExldmVsICl7DQogICAgICAgICAgICAgICAgICAgIHZhciBub3dMZXZlbEV4cCA9IENEYXRhTWFuYWdlcl9nZXRfbGV2ZWxfZXhwKEdfQ0RhdGFNYW5hZ2VyKCksQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfbGV2ZWwoc3ROb3RpZnlJbmdhbWVBREluZm8pKTsNCiAgICAgICAgICAgICAgICAgICAgdmFyIG5leHRMZXZlbEV4cCA9IENEYXRhTWFuYWdlcl9nZXRfbGV2ZWxfZXhwKEdfQ0RhdGFNYW5hZ2VyKCksbmV4dExldmVsKTsNCiAgICAgICAgICAgICAgICAgICAgdmFyIGNoYXJhY0V4cCA9IENVc2VyQ2hhcmFjSW5mb19nZXRfY2hhcmFjX2V4cChzdE5vdGlmeUluZ2FtZUFESW5mbyk7DQogICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCJ1c2VyIG5vd0xldmVsIG5leHRMZXZlbCBub3dFeHAgbm93TGV2ZWxFeHAgbmV4dExldmVsRXhwIDoiICsgQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfbGV2ZWwoc3ROb3RpZnlJbmdhbWVBREluZm8pDQogICAgICAgICAgICAgICAgICAgIC8vICAgICArJywnK25leHRMZXZlbCsnLCcrY2hhcmFjRXhwKycsJytub3dMZXZlbEV4cCsnLCcrbmV4dExldmVsRXhwKTsNCiAgICAgICAgICAgICAgICAgICAgLy8g6ZmN57qn5oiW5Y2H57qnDQogICAgICAgICAgICAgICAgICAgIGlmKGNoYXJhY0V4cDxub3dMZXZlbEV4cCB8fCBjaGFyYWNFeHA+bmV4dExldmVsRXhwKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIOWSjOW9k+WJjee7j+mqjOS4jeWMuemFjSDku47mlrDorr7nva7nu4/pqowNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjaGFyY05hbWUgPSAnJzsNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjaGFyY05hbWVWYWwgPSBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjTmFtZShzdE5vdGlmeUluZ2FtZUFESW5mbyk7DQogICAgICAgICAgICAgICAgICAgICAgICBpZighY2hhcmNOYW1lVmFsLmlzTnVsbCgpKQ0KICAgICAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYXJjTmFtZSA9ICBjaGFyY05hbWVWYWwucmVhZFV0ZjhTdHJpbmcoLTEpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgY015VHJhY2VfY015VHJhY2UodmxvZzMsTWVtb3J5LmFsbG9jVXRmOFN0cmluZygiYm9vbCBDVXNlcjo6X2NoZWNrX2xldmVsX3VwKGludCwgaW50JiwgaW50JiwgZUV4cEFkZFJlYXNvbiwgaW50KSIpLDE2NDQzLDUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgY015VHJhY2Vfb3BlcmF0b3IodmxvZzMudG9JbnQzMigpLE1lbW9yeS5hbGxvY1V0ZjhTdHJpbmcoIiVzIGlzIExldmVsKCVkKSBhbmQgRXhwKCVkKSBJbmNvbnNpc3RlbmN5KGJvdHRvbSglZCksIHRvcCglZCkpIiksTWVtb3J5LmFsbG9jVXRmOFN0cmluZyhjaGFyY05hbWUpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIOi/meW6lOivpeWwseaYr+S4uuS7gOS5iOWHuueOsOWNh+e6p+WQjue7j+mqjOeZvuWIhuavlOS4ujANCiAgICAgICAgICAgICAgICAgICAgICAgIENVc2VyQ2hhcmFjSW5mb19zZXRDdXJDaGFyYWNFeHAoc3ROb3RpZnlJbmdhbWVBREluZm8sbm93TGV2ZWxFeHApOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGlmKCBuZXh0TGV2ZWxFeHAtIG5vd0xldmVsRXhwIDw9MCl7DQogICAgICAgICAgICAgICAgICAgICAgICAvLyDmu6HnuqfkuoYg5LiL5Liq562J57qn5pyJ6Zeu6aKYDQogICAgICAgICAgICAgICAgICAgICAgICBjTXlUcmFjZV9jTXlUcmFjZSh2bG9nNCxNZW1vcnkuYWxsb2NVdGY4U3RyaW5nKCJib29sIENVc2VyOjpfY2hlY2tfbGV2ZWxfdXAoaW50LCBpbnQmLCBpbnQmLCBlRXhwQWRkUmVhc29uLCBpbnQpIiksMTY0NTQsNSk7DQogICAgICAgICAgICAgICAgICAgICAgICBjTXlUcmFjZV9vcGVyYXRvcih2bG9nNC50b0ludDMyKCksTWVtb3J5LmFsbG9jVXRmOFN0cmluZygiQ1VzZXI6Ol9jaGVja19sZXZlbF91cCwgTEVWRUw6JWQgVE9QOiVkIEJPVFRPTTolZCIpLE1lbW9yeS5hbGxvY1V0ZjhTdHJpbmcobmV4dExldmVsKycnKSk7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMDsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBjaGFyYWNFeHAgPSBDVXNlckNoYXJhY0luZm9fZ2V0X2NoYXJhY19leHAoc3ROb3RpZnlJbmdhbWVBREluZm8pOw0KICAgICAgICAgICAgICAgICAgICAvLyDnu4/pqozlgLzliKTmlq0NCiAgICAgICAgICAgICAgICAgICAgaWYoIE51bWJlcihhZGRFeHArY2hhcmFjRXhwKSA8IG5leHRMZXZlbEV4cCApew0KICAgICAgICAgICAgICAgICAgICAgICAgQ1VzZXJDaGFyYWNJbmZvX2FkZEN1ckNoYXJhY0V4cChzdE5vdGlmeUluZ2FtZUFESW5mbywgYWRkRXhwKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGZsYWcgIT0gMCl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGhhZGVzID0gQ1VzZXJfZ2V0SGFkZXMoc3ROb3RpZnlJbmdhbWVBREluZm8pOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIFhOdWNsZWFyX0NIYWRlc19FeHBVcChoYWRlcyxhZGRFeHApOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgYWRkRXhwID0gMDsNCiAgICAgICAgICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgICAgICAgICAgICAvLyDljYfnuqfkuoYNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2MTQgPSBhcmdzMi5yZWFkVTE2KCk7DQogICAgICAgICAgICAgICAgICAgICAgICAvLyDojrflj5bnrYnnuqfmj5DljYfnmoQgc3DngrkNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzcEF0TGV2ZWxVcCA9IENEYXRhTWFuYWdlcl9HZXRTcEF0TGV2ZWxVcChHX0NEYXRhTWFuYWdlcigpLG5leHRMZXZlbCk7DQogICAgICAgICAgICAgICAgICAgICAgICAvLyDorr7nva7lvZPliY3nrYnnuqfnmoRzcOeCuQ0KICAgICAgICAgICAgICAgICAgICAgICAgYXJnczIud3JpdGVVMTYodjE0K3NwQXRMZXZlbFVwKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIOWmguaenOetiee6p+WcqDQ557qn5Lul5LiKDQogICAgICAgICAgICAgICAgICAgICAgICBpZihuZXh0TGV2ZWw+NDkpew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3MzID0gYXJnczMuYWRkKDQpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRpZmZFeHAgID0gbmV4dExldmVsRXhwIC0gQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfZXhwKHN0Tm90aWZ5SW5nYW1lQURJbmZvKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICsrbmV4dExldmVsOw0KICAgICAgICAgICAgICAgICAgICAgICAgQ1VzZXJDaGFyYWNJbmZvX2luY0N1ckNoYXJhY0xldmVsKHN0Tm90aWZ5SW5nYW1lQURJbmZvKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGFkZEV4cCA9IGFkZEV4cCArIChDVXNlckNoYXJhY0luZm9fZ2V0X2NoYXJhY19leHAoc3ROb3RpZnlJbmdhbWVBREluZm8pLW5leHRMZXZlbEV4cCk7DQogICAgICAgICAgICAgICAgICAgICAgICBpZihDVXNlckNoYXJhY0luZm9fZ2V0X2NoYXJhY19sZXZlbChzdE5vdGlmeUluZ2FtZUFESW5mbykgPjkgJiYgQ1VzZXJfR2V0VHV0b3JpYWxTa2lwYWJsZShzdE5vdGlmeUluZ2FtZUFESW5mbykhPTApew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIENVc2VyX1VwZGF0ZVR1dG9yaWFsU2tpcGFibGUoc3ROb3RpZnlJbmdhbWVBREluZm8pOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgQ1VzZXJDaGFyYWNJbmZvX3NldEN1ckNoYXJhY0V4cChzdE5vdGlmeUluZ2FtZUFESW5mbyxuZXh0TGV2ZWxFeHApOw0KICAgICAgICAgICAgICAgICAgICAgICAgQ1VzZXJfdXBkYXRlX2NoYXJhY19zdGF0KHN0Tm90aWZ5SW5nYW1lQURJbmZvLDEpOw0KICAgICAgICAgICAgICAgICAgICAgICAgcmVzVmFsID0gMTsNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRvZG8g6K6w5b2V5pel5b+XICDmlofku7bmjIfpkogg5YWz5rOo5piv5ZCm5Y+v5Lul5q2j5bi4DQogICAgICAgICAgICAgICAgICAgICAgICBIaXN0b3J5TG9nX1dyaXRlTGV2ZWxVcChzdE5vdGlmeUluZ2FtZUFESW5mby5hZGQoNCoxMjQzNTApLHB0cihDVXNlckNoYXJhY0luZm9fZ2V0X2NoYXJhY19leHAoc3ROb3RpZnlJbmdhbWVBREluZm8pKSk7DQogICAgICAgICAgICAgICAgICAgICAgICB2YXIgZ29sZEJvbnVzID0gIFdvbmdXb3JrX0NVc2VyUHJlbWl1bV9HZXRHb2xkQm9udXMoc3ROb3RpZnlJbmdhbWVBREluZm8uYWRkKDQ2MzM4OCksQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfbGV2ZWwoc3ROb3RpZnlJbmdhbWVBREluZm8pKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGdvbGRCb251cyE9MCl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIEN1ckNoYXJhY0ludmVuVyA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNJbnZlblcoc3ROb3RpZnlJbmdhbWVBREluZm8pOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIENJbnZlbnRvcnlfZ2Fpbl9tb25leShDdXJDaGFyYWNJbnZlblcsZ29sZEJvbnVzLDEzLDEsMCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgQ1VzZXJfU2VuZFVwZGF0ZUl0ZW1MaXN0KHN0Tm90aWZ5SW5nYW1lQURJbmZvLDEsMCwwKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiQ0ludmVudG9yeV9nYWluX21vbmV5IGlzIHN1Y2Nlc3MhISEiKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIFdvbmdXb3JrX0NVc2VyUHJlbWl1bV9SZWNhbGNBZGRpdGlvbmFsSW5mbyhzdE5vdGlmeUluZ2FtZUFESW5mby5hZGQoNDYzMzg4KSxzdE5vdGlmeUluZ2FtZUFESW5mbyk7DQogICAgICAgICAgICAgICAgICAgICAgICBpZihmbGFnICE9IDApew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBoYWRlcyA9IENVc2VyX2dldEhhZGVzKHN0Tm90aWZ5SW5nYW1lQURJbmZvKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBYTnVjbGVhcl9DSGFkZXNfRXhwVXAoaGFkZXMsZGlmZkV4cCk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICBjVXNlckhpc3RvcnlMb2dfTGV2ZWxVcChzdE5vdGlmeUluZ2FtZUFESW5mby5hZGQoNDk3NDA4KSxDVXNlckNoYXJhY0luZm9fZ2V0X2NoYXJhY19sZXZlbChzdE5vdGlmeUluZ2FtZUFESW5mbyksQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfbGV2ZWwoc3ROb3RpZnlJbmdhbWVBREluZm8pKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKENVc2VyQ2hhcmFjSW5mb19nZXRfY2hhcmFjX2xldmVsKHN0Tm90aWZ5SW5nYW1lQURJbmZvKSA+IDU5KXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0b2RvIDYw57qnICDlvILnlYwgICAg6L+Y5pyJ5aSp55WMPw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIENVc2VyX0RpbWVuc2lvbklub3V0VXBkYXRlKHN0Tm90aWZ5SW5nYW1lQURJbmZvLDEsMSk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICBpZihDVXNlckNoYXJhY0luZm9fZ2V0X2NoYXJhY19sZXZlbChzdE5vdGlmeUluZ2FtZUFESW5mbykgPT0gbWF4TGV2ZWwpew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKFdvbmdXb3JrX0NHTUFjY291bnRzX2lzR00ocHRyKHB0cigweDA5NDFGNzEwKS5yZWFkVTMyKCkpLENVc2VyX2dldF9hY2NfaWQoc3ROb3RpZnlJbmdhbWVBREluZm8pKSE9MCl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBhY2tldF9Nb25pdG9yX01heF9MZXZlbF9Ccm9hZENhc3RfUGFja2V0X01vbml0b3JfTWF4X0xldmVsX0Jyb2FkQ2FzdCh2NDEpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2VydmVyUHJveHkgPSBDU2VydmVyUHJveHlNZ3JfQ01vbml0b3JTZXJ2ZXJQcm94eV9HZXRTZXJ2ZXJQcm94eShwdHIocHRyKDB4MDk0MEJFMjgpLnJlYWRVMzIoKSksQ1VzZXJfR2V0U2VydmVyR3JvdXAoc3ROb3RpZnlJbmdhbWVBREluZm8pKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ01vbml0b3JTZXJ2ZXJQcm94eV9TZW5kUGFja2V0KHNlcnZlclByb3h5LHY0MSw0MCk7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICBpZihDVXNlckNoYXJhY0luZm9fZ2V0X2NoYXJhY19sZXZlbChzdE5vdGlmeUluZ2FtZUFESW5mbykgPT0gR2FtZVdvcmxkX2dldER1bmdlb25NaW5pbXVtUmVxdWlyZWRMZXZlbChHX0dhbWVXb3JsZCgpLDI1NSkpew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKFNlcnZlclBhcmFtZXRlclNjcmlwdF9pc0R1bmdlb25PcGVuKCkhPTApew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBHYW1lV29ybGRfc2VuZF91c2VyX2R1bmdlb25faW5vdXRfbWVzc2FnZShHX0dhbWVXb3JsZCgpLHN0Tm90aWZ5SW5nYW1lQURJbmZvLDExMDA3LDEpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBHYW1lV29ybGRfc2VuZF91c2VyX2R1bmdlb25faW5vdXRfbWVzc2FnZShHX0dhbWVXb3JsZCgpLHN0Tm90aWZ5SW5nYW1lQURJbmZvLDExMDA3LDApOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIENVc2VyX21ha2VHdWlsZExldmVsVXBNZXNzYWdlKHN0Tm90aWZ5SW5nYW1lQURJbmZvLENVc2VyQ2hhcmFjSW5mb19nZXRfY2hhcmFjX2xldmVsKHN0Tm90aWZ5SW5nYW1lQURJbmZvKSk7DQogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygndXNlciBsZXZlbCBzdWNjZXNzJyk7DQogICAgICAgICAgICAgICAgICAgICAgICAvLyDliLDov5nph4zlt7Lnu4/ljYfnuqflrozmiJDkuoYgIOaJp+ihjOWNh+e6p+S6i+S7tg0KICAgICAgICAgICAgICAgICAgICAgICAgQ1VzZXJfb25MZXZlbFVwKHN0Tm90aWZ5SW5nYW1lQURJbmZvKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAvL0NVc2VyX1NlbmROb3RpUGFja2V0KHN0Tm90aWZ5SW5nYW1lQURJbmZvLDEsMzcsMCk7DQogICAgICAgICAgICAgICAgcmV0dXJuIHJlc1ZhbDsNCiAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgIGNNeVRyYWNlX2NNeVRyYWNlKHZsb2cyLE1lbW9yeS5hbGxvY1V0ZjhTdHJpbmcoImJvb2wgQ1VzZXI6Ol9jaGVja19sZXZlbF91cChpbnQsIGludCYsIGludCYsIGVFeHBBZGRSZWFzb24sIGludCkiKSwxNjQxOCw1KTsNCiAgICAgICAgICAgICAgICBjTXlUcmFjZV9vcGVyYXRvcih2bG9nMi50b0ludDMyKCksTWVtb3J5LmFsbG9jVXRmOFN0cmluZygiQ1VzZXI6Ol9jaGVja19sZXZlbF91cCBtX3NlbGVjdGVkLT5tX2xldmVsIGlzIDAiKSwnVTAwMDAnKTsNCiAgICAgICAgICAgICAgICByZXR1cm4gMDsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfWVsc2V7DQogICAgICAgICAgICBjTXlUcmFjZV9jTXlUcmFjZSh2bG9nLE1lbW9yeS5hbGxvY1V0ZjhTdHJpbmcoImJvb2wgQ1VzZXI6Ol9jaGVja19sZXZlbF91cChpbnQsIGludCYsIGludCYsIGVFeHBBZGRSZWFzb24sIGludCkiKSwxNjQxMSw1KTsNCiAgICAgICAgICAgIGNNeVRyYWNlX29wZXJhdG9yKHZsb2csTWVtb3J5LmFsbG9jVXRmOFN0cmluZygiQ1VzZXI6Ol9jaGVja19sZXZlbF91cCBtX3NlbGVjdGVkIGlzIE5VTEwiKSwnVTAwMDAnKTsNCiAgICAgICAgICAgIHJldHVybiAwOw0KICAgICAgICB9DQogICAgfSwgJ2ludCcsIFsncG9pbnRlcicsJ2ludCcsJ2ludCcsJ2ludCcsJ2ludCddKSk7DQp9DQoNCi8qKg0KICog6I635b6X57uP6aqM5ZKMc3DngrkNCiAqIGE2IOaAqueJqWlkICBhMyBzcOeCuQ0KICogQHBhcmFtIG1heExldmVsDQogKi8NCmZ1bmN0aW9uIGdhaW5FeHBTcChtYXhMZXZlbCl7DQogICAgSW50ZXJjZXB0b3IucmVwbGFjZShwdHIoMHgwODY2YTNmZSksIG5ldyBOYXRpdmVDYWxsYmFjayhmdW5jdGlvbiAodXNlckluZm8sYWRkRXhwLGEzLGE0LHNvdXJjZVR5cGUsYTYsYTcpIHsNCiAgICAgICAgLy8gY29uc29sZS5sb2coJ2dhaW5FeHBTcCBhcmdzOicrdXNlckluZm8rJywnK2FkZEV4cCsnLCcrYTMrJywnK2E0KycsJytzb3VyY2VUeXBlKycsJythNisnLCcrYTcpDQogICAgICAgIHZhciBvbm1lbnQgPSBHX0NFbnZpcm9ubWVudCgpLmFkZCg0MjQqNCkucmVhZFUxNigpOw0KICAgICAgICBpZihvbm1lbnQgPT0gMiAmJiBDVXNlckNoYXJhY0luZm9fZ2V0X2NoYXJhY19sZXZlbCh1c2VySW5mbykgPiA0OSl7DQogICAgICAgICAgICBhZGRFeHAgPSAwOw0KICAgICAgICB9DQogICAgICAgIGlmKCAoYWRkRXhwICYgMHg4MDAwMDAwMCkgIT0wICl7DQogICAgICAgICAgICBhZGRFeHAgPSAwOw0KICAgICAgICB9DQogICAgICAgIHZhciBhZGRWYWxUZW1wID0gdXNlckluZm8uYWRkKDE0NTQzNCo0KTsNCiAgICAgICAgaWYoc291cmNlVHlwZT09MSB8fCBzb3VyY2VUeXBlPT0yKXsNCiAgICAgICAgICAgIHZhciBhZGRWYWwgPSBhZGRWYWxUZW1wLnJlYWRVMTYoKTsNCiAgICAgICAgICAgIHVzZXJJbmZvLmFkZCgxNDU0MzQqNCkud3JpdGVVMTYoYWRkVmFsK2FkZEV4cCk7DQogICAgICAgIH0NCiAgICAgICAgdmFyIGFkZFZhbCA9IGFkZFZhbFRlbXAucmVhZFUxNigpOw0KICAgICAgICB1c2VySW5mby5hZGQoMTQ1NDMxKjQpLndyaXRlVTE2KGFkZFZhbCthZGRFeHApOw0KICAgICAgICBDVXNlcl9pbmNQbGF5RXhwQWRkKHVzZXJJbmZvLGFkZEV4cCk7DQogICAgICAgIHZhciB1cExldmVsVGFnID0gMDsNCiAgICAgICAgaWYoQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfbGV2ZWwodXNlckluZm8pIDw9IG1heExldmVsLTEpew0KICAgICAgICAgICAgdXBMZXZlbFRhZyA9IENVc2VyX2NoZWNrX2xldmVsX3VwKHVzZXJJbmZvLCBhZGRFeHAsIGEzLGE0LHNvdXJjZVR5cGUpOw0KICAgICAgICAgICAgdmFyIGN1ckNoYXJhY1NraWxsUiA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNTa2lsbFIodXNlckluZm8pOw0KICAgICAgICAgICAgdmFyIHJlYW1pblNwQXRJbmRleCA9IFNraWxsU2xvdF9nZXRfcmVtYWluX3NwX2F0X2luZGV4KGN1ckNoYXJhY1NraWxsUixNZW1vcnkuYWxsb2NVdGY4U3RyaW5nKCcwJykpOw0KICAgICAgICAgICAgdmFyIGEzVmFsID0gcHRyKGEzKS5yZWFkVUludCgpOw0KICAgICAgICAgICAgQ1VzZXJfZ2Fpbl9zcCh1c2VySW5mbyxhM1ZhbCk7DQogICAgICAgICAgICBDVXNlcl9oaXN0b3J5X2xvZ19zcCh1c2VySW5mbyxyZWFtaW5TcEF0SW5kZXgsYTMsMCk7DQogICAgICAgICAgICBjdXJDaGFyYWNTa2lsbFIgPSBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjU2tpbGxSKHVzZXJJbmZvKTsNCiAgICAgICAgICAgIHZhciByZWFtaW5TdHBBdEluZGV4ID0gU2tpbGxTbG90X2dldF9yZW1haW5fc2ZwX2F0X2luZGV4KGN1ckNoYXJhY1NraWxsUixNZW1vcnkuYWxsb2NVdGY4U3RyaW5nKCcyJykpOw0KICAgICAgICAgICAgdmFyIGE0VmFsID0gcHRyKGE0KS5yZWFkVUludCgpOw0KICAgICAgICAgICAgQ1VzZXJfZ2Fpbl9zZnAodXNlckluZm8sYTRWYWwpOw0KICAgICAgICAgICAgQ1VzZXJfaGlzdG9yeV9sb2dfc2ZwKHVzZXJJbmZvLHJlYW1pblN0cEF0SW5kZXgsYTQsMCk7DQogICAgICAgIH0NCiAgICAgICAgdmFyIHYzMyA9IE1lbW9yeS5hbGxvYygxMik7DQogICAgICAgIFBhY2tldEd1YXJkX1BhY2tldEd1YXJkKHYzMyk7DQogICAgICAgIC8vIOiuvue9ruinkuiJsuWPr+mXr+WIsOetiee6pw0KICAgICAgICBpZih1cExldmVsVGFnPT0xKXsNCiAgICAgICAgICAgIENVc2VyX0NhbGN1cmF0ZVVzZXJNYXhMZXZlbCh1c2VySW5mbyk7DQogICAgICAgICAgICBpZihDVXNlckNoYXJhY0luZm9fR2V0Q3VyQ2hhcmFjTWF4RXF1aXBMZXZlbCh1c2VySW5mbykgIT0wKXsNCiAgICAgICAgICAgICAgICB2YXIgdXNlckN1ckxldmVsID0gQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfbGV2ZWwodXNlckluZm8pOw0KICAgICAgICAgICAgICAgIGlmKHVzZXJDdXJMZXZlbCA9PSBDVXNlckNoYXJhY0luZm9fR2V0Q3VyQ2hhcmFjTWF4RXF1aXBMZXZlbCh1c2VySW5mbykpew0KICAgICAgICAgICAgICAgICAgICBDVXNlckNoYXJhY0luZm9fU2V0Q3VyQ2hhcmFjTWF4RXF1aXBMZXZlbCh1c2VySW5mbywwKTsNCiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0NVc2VyQ2hhcmFjSW5mb19TZXRDdXJDaGFyYWNNYXhFcXVpcExldmVsIGlzIDAnKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICB2YXIgY3VyQ2hhcmFjUXVlc3RXID0gQ1VzZXJfZ2V0Q3VyQ2hhcmFjUXVlc3RXKHVzZXJJbmZvKTsNCiAgICAgICAgICAgIFVzZXJRdWVzdF9SZXNldFVyZ2VudFF1ZXN0V2FpdGluZ0xpc3QoY3VyQ2hhcmFjUXVlc3RXKTsNCiAgICAgICAgICAgIHZhciBjdXJDaGFyYWNRdWVzdFIgPUNVc2VyX2dldEN1ckNoYXJhY1F1ZXN0Uih1c2VySW5mbyk7DQogICAgICAgICAgICBVc2VyUXVlc3RfZ2V0X3F1ZXN0X2luZm8oY3VyQ2hhcmFjUXVlc3RSLHYzMyk7DQogICAgICAgICAgICBDQ2hhcmFjdGVyVmlld19lbmFibGVTYXZlQ2hhcmFjVmlldyh1c2VySW5mby5hZGQoNDk3Mzk2KSk7DQogICAgICAgICAgICBDVXNlcl9TZW5kKHVzZXJJbmZvLHYzMyk7DQogICAgICAgICAgICBpZihDVXNlckNoYXJhY0luZm9fZ2V0X2NoYXJhY19sZXZlbCh1c2VySW5mbykgPT0gbWF4TGV2ZWwpew0KICAgICAgICAgICAgICAgIENVc2VyQ2hhcmFjSW5mb19yZXNldENoYXJhY0ZhdGlndWVHcm93blVwQnVmZih1c2VySW5mbyk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBDVXNlcl9VcGRhdGVVc2VySW5mbzRHdWlsZCh1c2VySW5mbyk7DQogICAgICAgICAgICB2YXIgY3VyQ2hhcmFHcm93VHlwZSA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNHcm93VHlwZSh1c2VySW5mbyk7DQogICAgICAgICAgICB2YXIgY3VyQ2hhcmFMZXZlbCA9IENVc2VyQ2hhcmFjSW5mb19nZXRfY2hhcmFjX2xldmVsKHVzZXJJbmZvKTsNCiAgICAgICAgICAgIHZhciBjaGFyYWNObyA9IENVc2VyX2dldF9jaGFyYWNfbm8odXNlckluZm8sLTEpOw0KICAgICAgICAgICAgdmFyIGFjY0lkID0gQ1VzZXJfZ2V0X2FjY19pZCh1c2VySW5mbyk7DQogICAgICAgICAgICB2YXIgc2VydmVyR3JvdXAgPSBDVXNlcl9HZXRTZXJ2ZXJHcm91cCh1c2VySW5mbyk7DQogICAgICAgICAgICB2YXIgc2VydmVyUHJveHkgPSBDU2VydmVyUHJveHlNZ3JfQ0d1aWxkU2VydmVyUHJveHlfR2V0U2VydmVyUHJveHkocHRyKHB0cigweDA5NDBCRTJDKS5yZWFkVTMyKCkpLHNlcnZlckdyb3VwKTsNCiAgICAgICAgICAgIENHdWlsZFNlcnZlclByb3h5X1NlbmRDaGFyTGV2ZWxHcm93VHlwZShzZXJ2ZXJQcm94eSxhY2NJZCxjaGFyYWNObyxjdXJDaGFyYUxldmVsLGN1ckNoYXJhR3Jvd1R5cGUpOw0KICAgICAgICAgICAgc2VydmVyUHJveHkgPSBDU2VydmVyUHJveHlNZ3JfQ01vbml0b3JTZXJ2ZXJQcm94eV9HZXRTZXJ2ZXJQcm94eShwdHIocHRyKDB4MDk0MEJFMjgpLnJlYWRVMzIoKSksc2VydmVyR3JvdXApOw0KICAgICAgICAgICAgQ01vbml0b3JTZXJ2ZXJQcm94eV9TZW5kQ2hhckxldmVsR3Jvd1R5cGUoc2VydmVyUHJveHksYWNjSWQsY2hhcmFjTm8sY3VyQ2hhcmFMZXZlbCxjdXJDaGFyYUdyb3dUeXBlKTsNCiAgICAgICAgICAgIHZhciB2ZXJpZnkgPSBDVXNlcl9WZXJpZnlQcmVzZW50QXZlbmdlclRpdGxlKHVzZXJJbmZvKTsNCiAgICAgICAgICAgIGlmKHZlcmlmeSAhPSAxKXsNCiAgICAgICAgICAgICAgICB2YXIgdjM0ID0gTWVtb3J5LmFsbG9jKDE2KTsNCiAgICAgICAgICAgICAgICB2YXIgYWNjSWQgPSBDVXNlcl9nZXRfYWNjX2lkKHVzZXJJbmZvKTsNCiAgICAgICAgICAgICAgICBjTXlUcmFjZV9jTXlUcmFjZSh2MzQsTWVtb3J5LmFsbG9jVXRmOFN0cmluZygiYm9vbCBDVXNlcjo6Z2Fpbl9leHBfc3AoaW50LCBpbnQmLCBpbnQmLCBlRXhwQWRkUmVhc29uLCBpbnQsIGJvb2wpIiksMjA1NTAsMCk7DQogICAgICAgICAgICAgICAgY015VHJhY2Vfb3BlcmF0b3IodjM0LnRvSW50MzIoKSxNZW1vcnkuYWxsb2NVdGY4U3RyaW5nKCJDVXNlcjo6VmVyaWZ5UHJlc2VudEF2ZW5nZXJUaXRsZSgpIG1faWQoJXMpLCBjaGFyYWNfbm8oJXUpIiksTWVtb3J5LmFsbG9jVXRmOFN0cmluZyhhY2NJZCsnJykpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgQ1VzZXJfQWRkQ3VyQ2hhcmFjTWVyY2VuYXJ5SW5mbyh1c2VySW5mbyk7DQogICAgICAgIH0NCiAgICAgICAgdmFyIHJlYWRUZW1wVmFsID0gdXNlckluZm8uYWRkKDE0NDM2OSo0KS5yZWFkVTE2KCk7DQogICAgICAgIGlmKHJlYWRUZW1wVmFsPT01IHx8IHJlYWRUZW1wVmFsPT04IHx8IHJlYWRUZW1wVmFsPT03IHx8IHJlYWRUZW1wVmFsPT0xMCB8fCByZWFkVGVtcFZhbD09MTIgKXsNCiAgICAgICAgICAgIGlmKGE3ICE9IDEpew0KICAgICAgICAgICAgICAgIENVc2VyX1NlbmROb3RpUGFja2V0KHVzZXJJbmZvLDEsMzcsMCk7DQogICAgICAgICAgICAgICAgQ1VzZXJDaGFyYWNJbmZvX3NldF9jaGFyYWNfZmF0aWd1ZV9idWZfYm9udXNfZXhwKHVzZXJJbmZvLDApOw0KICAgICAgICAgICAgfWVsc2UgaWYodXBMZXZlbFRhZyA9PTEpew0KICAgICAgICAgICAgICAgIENVc2VyX1NlbmROb3RpUGFja2V0KHVzZXJJbmZvLDEsMzcsMCk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZih1cExldmVsVGFnPT0xKXsNCiAgICAgICAgICAgICAgICBDVXNlcl9kZWNpZGVfZ3Jvd3RoX3Bvd2VyX3Jld2FyZF9zeXN0ZW0odXNlckluZm8pOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIGlmKHVwTGV2ZWxUYWcgPT0gMSl7DQogICAgICAgICAgICB2YXIgcGxheUNvdW50ID0gQ1VzZXJDaGFyYWNJbmZvX0dldEN1ckNoYXJhY0R1bmdlb25QbGF5Q291bnQodXNlckluZm8pOw0KICAgICAgICAgICAgdmFyIGN1ckNoYXJhTGV2ZWwgPSBDVXNlckNoYXJhY0luZm9fZ2V0X2NoYXJhY19sZXZlbCh1c2VySW5mbyk7DQogICAgICAgICAgICBDTGV2ZWxEdW5nZW9uUGxheVN0YXRpc3RpY19JbmNyZWFzZUxldmVsRHVuZ2VvblBsYXkocHRyKHB0cigweDA5NDFGNzY0KS5yZWFkVTMyKCkpLGN1ckNoYXJhTGV2ZWwscGxheUNvdW50KTsNCiAgICAgICAgICAgIENVc2VyQ2hhcmFjSW5mb19SZXNldEN1ckNoYXJhY0R1bmdlb25QbGF5Q291bnQodXNlckluZm8pOw0KICAgICAgICAgICAgLy8g5Ymv6IGM5LiaDQogICAgICAgICAgICB2YXIgZXhwZXJ0Sm9iRXhwID0gQ1VzZXJDaGFyYWNJbmZvX0dldEN1ckNoYXJhY0V4cGVydEpvYkV4cCh1c2VySW5mbyk7DQogICAgICAgICAgICBleHBlcnRfam9iX0NFeHBlcnRKb2JfSW5jcmVhc2VFeHBlcnRKb2JFeHAodXNlckluZm8scHRyKGV4cGVydEpvYkV4cCkpOw0KICAgICAgICAgICAgQ1VzZXJfUmVDYWxjQ2hhdHRpbmdFbW90aWNvbih1c2VySW5mbyk7DQogICAgICAgICAgICBDVXNlcl9TZW5kQ2hhdHRpbmdFbW90aWNvbih1c2VySW5mbyk7DQogICAgICAgIH0NCiAgICAgICAgaWYodXBMZXZlbFRhZyA9PSAxKXsNCiAgICAgICAgICAgIGlmKENVc2VyQ2hhcmFjSW5mb19nZXRfY2hhcmFjX2xldmVsKHVzZXJJbmZvKSA9PSBtYXhMZXZlbCl7DQogICAgICAgICAgICAgICAgQVBTeXN0ZW1fQ1VzZXJQcm9jX0NsZWFyQWN0aW9uQW5kU2VuZHRvVXNlcih1c2VySW5mbywzMywwLDApOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIENVc2VyX1NlbmROb3RpUGFja2V0KHVzZXJJbmZvLDEsMzcsMCk7DQogICAgICAgIC8vIOmHiuaUviB2MzM7DQogICAgICAgIHJldHVybiB1cExldmVsVGFnOw0KICAgIH0sICdpbnQnLCBbJ3BvaW50ZXInLCdpbnQnLCdpbnQnLCdpbnQnLCdpbnQnLCdpbnQnLCdpbnQnXSkpOw0KfQ0KDQovKioNCiAqIOinkuiJsuWNh+e6p+WkhOeQhg0KICog5Y6f5pyJ55qE5pa55byP5pqC5pe25rKh5pyJ5a6e546wIOOAguOAguOAgiDlj6rog73mm7Lnur/mlZHlm70NCiAqIEBwYXJhbSBtYXhMZXZlbA0KICovDQpmdW5jdGlvbiBvbkxldmVsVXAobWF4TGV2ZWwpew0KICAgIC8vIEludGVyY2VwdG9yLmF0dGFjaChwdHIoMHgwODY2MzExYSksIHsNCiAgICAvLyAgICAgb25FbnRlcjogZnVuY3Rpb24gKGFyZ3MpIHsNCiAgICAvLyAgICAgICAgIGNvbnNvbGUubG9nKCJvbkxldmVsVXAgOjo6OmFyZ3MgOiIrYXJnc1swXSkNCiAgICAvLyAgICAgICAgIHZhciB1c2VySW5mbyA9IGFyZ3NbMF07DQogICAgLy8NCiAgICAvLyAgICAgICAgIHZhciBsaXN0ID0gc3RkX2xpc3RfaW50X2xpc3QoTWVtb3J5LmFsbG9jKDgpLnRvSW50MzIoKSk7DQogICAgLy8gICAgICAgICB2YXIgbGlzdFF1ZXJ5ID0gTWVtb3J5LmFsbG9jKDQwKTsNCiAgICAvLyAgICAgICAgIHN0U2VsZWN0UXVlc3RQYXJhbV9zdFNlbGVjdFF1ZXN0UGFyYW0obGlzdFF1ZXJ5LHVzZXJJbmZvKTsNCiAgICAvLyAgICAgICAgIGNvbnNvbGUubG9nKCJvbkxldmVsVXAgMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTEiKQ0KICAgIC8vICAgICAgICAgdmFyIGN1ckNoYXJhUXVlc3QgPSBDVXNlcl9nZXRDdXJDaGFyYWNRdWVzdFIodXNlckluZm8pOw0KICAgIC8vICAgICAgICAgY29uc29sZS5sb2coIm9uTGV2ZWxVcCAyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI6OjoiK2N1ckNoYXJhUXVlc3QrJyAsJytjdXJDaGFyYVF1ZXN0LnRvSW50MzIoKSsnLCcrbGlzdC50b0ludDMyKCkrJywnK2xpc3RRdWVyeSkNCiAgICAvLyAgICAgICAgIHZhciB1c2VyUXVlc3QgPSBVc2VyUXVlc3RfZ2V0X21haWxfcXVlc3RfaW5mbyhjdXJDaGFyYVF1ZXN0LnRvSW50MzIoKSxsaXN0LGxpc3RRdWVyeSk7DQogICAgLy8gICAgICAgICBjb25zb2xlLmxvZygib25MZXZlbFVwIDMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzM6Iit1c2VyUXVlc3QpDQogICAgLy8gICAgICAgICBpZih1c2VyUXVlc3QhPTApew0KICAgIC8vICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyAhcHRyKHVzZXJRdWVzdCkuYWRkKGkqMTYpLmlzTnVsbCgpIDsgaSsrKSB7DQogICAgLy8gICAgICAgICAgICAgICAgIGlmKGk+MTAwMCl7DQogICAgLy8gICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAvLyAgICAgICAgICAgICAgICAgfQ0KICAgIC8vICAgICAgICAgICAgICAgICB2YXIgcmVhZCA9IHB0cih1c2VyUXVlc3QpLmFkZChpKjE2KS5yZWFkVTE2KCk7DQogICAgLy8gICAgICAgICAgICAgICAgIHZhciBxdWVzdCA9IENEYXRhTWFuYWdlcl9maW5kX3F1ZXN0KEdfQ0RhdGFNYW5hZ2VyKCkscmVhZCk7DQogICAgLy8gICAgICAgICAgICAgICAgIGlmKCFxdWVzdC5pc051bGwoKSl7DQogICAgLy8gICAgICAgICAgICAgICAgICAgICB2YXIgcXVlc3RMZXZlbCA9IHF1ZXN0LmFkZCgzMikucmVhZFUxNigpOw0KICAgIC8vICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coInF1ZXN0IGxldmVsOiIrcmVhZCsnLCcrcXVlc3RMZXZlbCk7DQogICAgLy8gICAgICAgICAgICAgICAgICAgICBpZihDVXNlckNoYXJhY0luZm9fZ2V0X2NoYXJhY19sZXZlbCh1c2VySW5mbykgPT0gcXVlc3RMZXZlbCAgKXsNCiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygncXVlc3QgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09bGV2ZWwnKQ0KICAgIC8vICAgICAgICAgICAgICAgICAgICAgfWVsc2V7DQogICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3F1ZXN0IDw8PDw8PDw8PDw8PDw+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj5sZXZlbCcpDQogICAgLy8gICAgICAgICAgICAgICAgICAgICB9DQogICAgLy8gICAgICAgICAgICAgICAgIH0NCiAgICAvLyAgICAgICAgICAgICB9DQogICAgLy8gICAgICAgICAgICAgY29uc29sZS5sb2coJ3F1ZXN0IDw8PDw8PDw8PDw8PCFzdWNjZXNzIT4+Pj4+Pj4+Pj4+Pj5sZXZlbCcpDQogICAgLy8gICAgICAgICB9DQogICAgLy8NCiAgICAvLyAgICAgfSwNCiAgICAvLyAgICAgb25MZWF2ZTogZnVuY3Rpb24gKHJldHZhbCkgew0KICAgIC8vICAgICB9DQogICAgLy8gfSk7DQogICAgLy8gSW50ZXJjZXB0b3IuYXR0YWNoKHB0cigweDA4NTAwMGFlKSwgew0KICAgIC8vICAgICBvbkVudGVyOiBmdW5jdGlvbiAoYXJncykgew0KICAgIC8vICAgICAgICAgY29uc29sZS5sb2coJ0NJbnZlbnRvcnlfdXBkYXRlX2l0ZW06IGFyZ3M6JythcmdzWzBdKycsJythcmdzWzFdKycsJythcmdzWzJdKycsJythcmdzWzNdKycsJythcmdzWzRdKycsJythcmdzWzVdKycsJythcmdzWzZdKQ0KICAgIC8vICAgICB9DQogICAgLy8gfSk7DQogICAgLy8gSW50ZXJjZXB0b3IuYXR0YWNoKHB0cigweDA4NTAyZDg2KSwgew0KICAgIC8vICAgICBvbkVudGVyOiBmdW5jdGlvbiAoYXJncykgew0KICAgIC8vICAgICAgICAgY29uc29sZS5sb2coJ0NJbnZlbnRvcnlfaW5zZXJ0SXRlbUludG9JbnZlbnRvcnk6IGFyZ3M6JythcmdzWzBdKycsJythcmdzWzFdKycsJythcmdzWzJdKycsJythcmdzWzNdKycsJythcmdzWzE1XSsnLCcrYXJnc1sxNl0rJywnK2FyZ3NbMTddKQ0KICAgIC8vICAgICB9DQogICAgLy8gfSk7DQogICAgLy8gSW50ZXJjZXB0b3IuYXR0YWNoKHB0cigweDA4NjgyZTg0KSwgew0KICAgIC8vICAgICBvbkVudGVyOiBmdW5jdGlvbiAoYXJncykgew0KICAgIC8vICAgICAgICAgY29uc29sZS5sb2coJ2NVc2VySGlzdG9yeUxvZ19JdGVtQWRkOiBhcmdzOicrYXJnc1swXSsnLCcrYXJnc1sxXSsnLCcrYXJnc1syXSsnLCcrYXJnc1szXSsnLCcrYXJnc1s0XSsnLCcrYXJnc1s1XSk7DQogICAgLy8gICAgICAgICB2YXIgaXRlbSA9IGFyZ3NbNF07DQogICAgLy8gICAgICAgICBjb25zb2xlLmxvZygnaXRlbSBhcmdzOiAnK2l0ZW0ucmVhZFUzMigpKycsLCwnK2l0ZW0uYWRkKDQpLnJlYWRVMzIoKSsnIC4sLCAgJytpdGVtLmFkZCg4KS5yZWFkVTMyKCkrJyAgJytpdGVtLmFkZCgxMikucmVhZFUzMigpKTsNCiAgICAvLyAgICAgfQ0KICAgIC8vIH0pOw0KICAgIEludGVyY2VwdG9yLnJlcGxhY2UocHRyKDB4MDg2NjMxMWEpLCBuZXcgTmF0aXZlQ2FsbGJhY2soZnVuY3Rpb24gKHVzZXJJbmZvKSB7DQogICAgICAgIHZhciBjdXJMZXZlbCA9IENVc2VyQ2hhcmFjSW5mb19nZXRfY2hhcmFjX2xldmVsKHVzZXJJbmZvKTsNCiAgICAgICAgdmFyIGNyZWF0ZVRpbWUgPSBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjQ3JlYXRlVGltZSh1c2VySW5mbyk7DQogICAgICAgIHZhciBjdXJTZWMgPSBDU3lzdGVtVGltZV9nZXRDdXJTZWMocHRyKDB4MDk0MUY3MTQpKTsNCiAgICAgICAgY29uc29sZS5sb2coIm9uTGV2ZWxVcCBhcmdzOiIrY3VyTGV2ZWwrJywnK2NyZWF0ZVRpbWUrJywnK2N1clNlYyk7DQogICAgICAgIC8vIDIwMjQtMTItMTEgMTE6MDY6NDkNCiAgICAgICAgaWYoY3VyTGV2ZWw9PTE1ICYmIGNyZWF0ZVRpbWU+MTIwMzU0MTE5OSAmJiBjdXJTZWM8PSAxNzMzODg2NDA5KXsNCiAgICAgICAgICAgIHZhciBjaGFyY05hbWUgPSAnJzsNCiAgICAgICAgICAgIHZhciBjaGFyY05hbWVWYWwgPSBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjTmFtZSh1c2VySW5mbyk7DQogICAgICAgICAgICBpZighY2hhcmNOYW1lVmFsLmlzTnVsbCgpKQ0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgIGNoYXJjTmFtZSA9ICBjaGFyY05hbWVWYWwucmVhZFV0ZjhTdHJpbmcoLTEpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdmFyIGNoYXJjTm8gPSBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjTm8odXNlckluZm8pOw0KICAgICAgICAgICAgdmFyIGFjY0lkID0gQ1VzZXJfZ2V0X2FjY19pZCh1c2VySW5mbyk7DQogICAgICAgICAgICBEQl9JbnNlcnRVbmxpbWl0U3VwcG9ydExvZ19tYWtlUmVxdWVzdChNZW1vcnkuYWxsb2NVdGY4U3RyaW5nKGFjY0lkKycnKSxjaGFyY05vLE1lbW9yeS5hbGxvY1V0ZjhTdHJpbmcoY2hhcmNOYW1lKSkNCiAgICAgICAgfQ0KICAgICAgICB2YXIgY2hhcmNKb2IgPSBDVXNlckNoYXJhY0luZm9fZ2V0X2NoYXJhY19qb2IodXNlckluZm8pOw0KICAgICAgICB2YXIgY2hhcmNObyA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNObyh1c2VySW5mbyk7DQogICAgICAgIENVc2VyX3Byb2Nlc3NMZXZlbFJld2FyZCh1c2VySW5mbyxjdXJMZXZlbCxjaGFyY05vLGNoYXJjSm9iKTsNCiAgICAgICAgLy8gdmFyIHJlcGVhdEV2ZW50ID0gQ0V2ZW50TWFuYWdlcl9HZXRSZXBlYXRFdmVudChwdHIocHRyKDB4MDk0MUY3MzApLnJlYWRVMzIoKSksMjEpOw0KICAgICAgICAvLyBjb25zb2xlLmxvZygncmVwZWF0RXZlbnQgJytyZXBlYXRFdmVudC5yZWFkVTMyKCkpDQogICAgICAgIC8vIHZhciB0ZW1wTWV0aG9kID0gIG5ldyBOYXRpdmVGdW5jdGlvbihyZXBlYXRFdmVudC5hZGQoNTIqNCksICdpbnQnLCBbJ3BvaW50ZXInLCdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KICAgICAgICAvLyB2YXIgdmFsID0gdGVtcE1ldGhvZChyZXBlYXRFdmVudCwwKTsNCiAgICAgICAgLy8gY29uc29sZS5sb2coJ3JlcGVhdEV2ZW50Ojo6ICcrdmFsKTsNCiAgICAgICAgLy8gY29uc29sZS5sb2codmFsKTsNCiAgICAgICAgLy8gaWYodmFsIT0wKXsNCiAgICAgICAgLy8gICAgIGlmKENVc2VyQ2hhcmFjSW5mb19nZXRfY2hhcmFjX2xldmVsKHVzZXJJbmZvKSA9PSAxOCl7DQogICAgICAgIC8vICAgICAgICAgY2hhcmNObyA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNObyh1c2VySW5mbyk7DQogICAgICAgIC8vICAgICAgICAgYWNjSWQgPSBDVXNlcl9nZXRfYWNjX2lkKHVzZXJJbmZvKTsNCiAgICAgICAgLy8gICAgICAgICBEQl9JbnNlcnRBcmNoaWV2ZUV2ZW50TG9nX21ha2VSZXF1ZXN0KGFjY0lkLGNoYXJjTm8sMSk7DQogICAgICAgIC8vICAgICB9DQogICAgICAgIC8vICAgICBpZihDVXNlckNoYXJhY0luZm9fZ2V0X2NoYXJhY19sZXZlbCh1c2VySW5mbykgPT0gNDgpew0KICAgICAgICAvLyAgICAgICAgIGNoYXJjTm8gPSBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjTm8odXNlckluZm8pOw0KICAgICAgICAvLyAgICAgICAgIGFjY0lkID0gQ1VzZXJfZ2V0X2FjY19pZCh1c2VySW5mbyk7DQogICAgICAgIC8vICAgICAgICAgREJfSW5zZXJ0QXJjaGlldmVFdmVudExvZ19tYWtlUmVxdWVzdChhY2NJZCxjaGFyY05vLDIpOw0KICAgICAgICAvLyAgICAgfQ0KICAgICAgICAvLyB9DQogICAgICAgIHZhciBmaW5kU3RyaW5nTGVuZ3RoID0gMDsNCiAgICAgICAgLy8gdmFyIHY1MiA9IE1lbW9yeS5hbGxvYygyNTYpOw0KICAgICAgICAvLyBpZihHX0NFbnZpcm9ubWVudCgpLmFkZCg4ODgqNCkgPT0gMTAgJiYgQ1N5c3RlbVRpbWVfZ2V0Q3VyU2VjKHB0cigweDA5NDFGNzE0KSkgPD0gdWludDY0KDB4NDc4RTcwNTApICYmDQogICAgICAgIC8vICAgICAoQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfbGV2ZWwodXNlckluZm8pID09IDMwIHx8IENVc2VyQ2hhcmFjSW5mb19nZXRfY2hhcmFjX2xldmVsKHVzZXJJbmZvKSA9PSA0MCApKXsNCiAgICAgICAgLy8gICAgIHB0cihwdHIoMHgwOTQ5QjE0MCkucmVhZFUzMigpKQ0KICAgICAgICAvLyAgICAgSW52ZW5fSXRlbV9JbnZlbl9JdGVtKE1lbW9yeS5hbGxvYygxKSk7DQogICAgICAgIC8vICAgICBpZihDVXNlckNoYXJhY0luZm9fZ2V0X2NoYXJhY19sZXZlbCh1c2VySW5mbykgPT0gMzApew0KICAgICAgICAvLyAgICAgICAgIHZhciBzcmMgPSBSREFSU2NyaXB0U3RyaW5nTWFuYWdlcl9maW5kU3RyaW5nKHB0cihwdHIoMHgwOTQ5QjE0MCkucmVhZFUzMigpKSw0LE1lbW9yeS5hbGxvY1V0ZjhTdHJpbmcoJ2dhbWVfc2VydmVyX21zZ18xMScpLDApOw0KICAgICAgICAvLyAgICAgICAgIE1lbW9yeS5jb3B5KHY1Miwgc3JjLCB1aW50NjQoMHhGRikpOw0KICAgICAgICAvLyAgICAgICAgIHZhciBzZXJ2ZXJHcm91cD1DVXNlcl9HZXRTZXJ2ZXJHcm91cCh1c2VySW5mbyk7DQogICAgICAgIC8vICAgICAgICAgdmFyIHY1MnN0ciA9IHY1Mi5yZWFkVXRmOFN0cmluZygpOw0KICAgICAgICAvLyAgICAgICAgIGZpbmRTdHJpbmdMZW5ndGggPSB2NTJzdHIubGVuZ3RoOw0KICAgICAgICAvLyAgICAgICAgIGNvbnNvbGUubG9nKCJ2NTJzdHI6ICIrdjUyc3RyKTsNCiAgICAgICAgLy8gICAgICAgICBjaGFyY05vID0gQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY05vKHVzZXJJbmZvKTsNCiAgICAgICAgLy8gICAgICAgICB2YXIgc3RyaW5nID0gUkRBUlNjcmlwdFN0cmluZ01hbmFnZXJfZmluZFN0cmluZyhwdHIocHRyKDB4MDk0OUIxNDApLnJlYWRVMzIoKSksNCxNZW1vcnkuYWxsb2NVdGY4U3RyaW5nKCdnYW1lX3NlcnZlcl9tc2dfMDknKSwwKTsNCiAgICAgICAgLy8gICAgICAgICBXb25nV29ya19DTWFpbEJveEhlbHBlcl9SZXFEQlNlbmROZXdTeXN0ZW1NYWlsKHN0cmluZyk7DQogICAgICAgIC8vICAgICB9ZWxzZSBpZihDVXNlckNoYXJhY0luZm9fZ2V0X2NoYXJhY19sZXZlbCh1c2VySW5mbykgPT0gNDApew0KICAgICAgICAvLyAgICAgICAgIHZhciBzcmMgPSBSREFSU2NyaXB0U3RyaW5nTWFuYWdlcl9maW5kU3RyaW5nKHB0cihwdHIoMHgwOTQ5QjE0MCkucmVhZFUzMigpKSw0LE1lbW9yeS5hbGxvY1V0ZjhTdHJpbmcoJ2dhbWVfc2VydmVyX21zZ18xMicpLDApOw0KICAgICAgICAvLyAgICAgICAgIE1lbW9yeS5jb3B5KHY1Miwgc3JjLCB1aW50NjQoMHhGRikpOw0KICAgICAgICAvLyAgICAgICAgIGZpbmRTdHJpbmdMZW5ndGggPSB2NTJzdHIubGVuZ3RoOw0KICAgICAgICAvLyAgICAgICAgIHZhciBzZXJ2ZXJHcm91cD1DVXNlcl9HZXRTZXJ2ZXJHcm91cCh1c2VySW5mbyk7DQogICAgICAgIC8vICAgICAgICAgdmFyIHY1MnN0ciA9IHY1Mi5yZWFkVXRmOFN0cmluZygpOw0KICAgICAgICAvLyAgICAgICAgIGNvbnNvbGUubG9nKCJ2NTJzdHI6ICIrdjUyc3RyKTsNCiAgICAgICAgLy8gICAgICAgICBjaGFyY05vID0gQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY05vKHVzZXJJbmZvKTsNCiAgICAgICAgLy8gICAgICAgICB2YXIgc3RyaW5nID0gUkRBUlNjcmlwdFN0cmluZ01hbmFnZXJfZmluZFN0cmluZyhwdHIocHRyKDB4MDk0OUIxNDApLnJlYWRVMzIoKSksNCxNZW1vcnkuYWxsb2NVdGY4U3RyaW5nKCdnYW1lX3NlcnZlcl9tc2dfMDknKSwwKTsNCiAgICAgICAgLy8gICAgICAgICBXb25nV29ya19DTWFpbEJveEhlbHBlcl9SZXFEQlNlbmROZXdTeXN0ZW1NYWlsKHN0cmluZyk7DQogICAgICAgIC8vICAgICB9DQogICAgICAgIC8vIH0NCiAgICAgICAgLy8gdG9kb+WkhOeQhuS7u+WKoQ0KICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tDQogICAgICAgIHZhciBpc0FmZmVjdGVkUHJlbWl1bSA9IENVc2VyX2lzQWZmZWN0ZWRQcmVtaXVtKHVzZXJJbmZvLnRvSW50MzIoKSwxNik7DQogICAgICAgIGlmKGlzQWZmZWN0ZWRQcmVtaXVtIT0wICYmIENTeXN0ZW1UaW1lX2dldEN1clNlYyhwdHIoMHgwOTQxRjcxNCkpIDw9IHVpbnQ2NCgweDQ3OEU3MDUwKSl7DQoNCiAgICAgICAgfQ0KICAgICAgICBDVXNlcl9wcm9jZXNzTlBDR2lmdE9uTGV2ZWxVcCh1c2VySW5mbyk7DQogICAgICAgIENVc2VyX3Byb2Nlc3NMZXZlbFVwRXZlbnRSZXdhcmQodXNlckluZm8sMCk7DQogICAgICAgIENVc2VyX3Byb2Nlc3NMZXZlbFVwRXZlbnQodXNlckluZm8pOw0KICAgICAgICBpZihDVXNlckNoYXJhY0luZm9fZ2V0X2NoYXJhY19sZXZlbCh1c2VySW5mbykgPT0gbWF4TGV2ZWwpew0KDQogICAgICAgIH0NCiAgICAgICAgaWYoQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfbGV2ZWwodXNlckluZm8pIDw9IG1heExldmVsKXsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCJxdWVyeS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tNzYxNiIpDQogICAgICAgICAgICB2YXIgaXRlbUlkID0gNzYxNjsNCiAgICAgICAgICAgIHZhciBpdGVtTnVtID0gMTA7DQogICAgICAgICAgICB2YXIgaXRlbV9zcGFjZSA9IE1lbW9yeS5hbGxvYyg0KTsNCiAgICAgICAgICAgIHZhciBpdGVtID0gQ0RhdGFNYW5hZ2VyX2ZpbmRfaXRlbShHX0NEYXRhTWFuYWdlcigpLDc2MTYpOw0KICAgICAgICAgICAgaWYoIWl0ZW0uaXNOdWxsKCkpew0KICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJmaW5kIGl0ZW0gNzYxNiIpOw0KICAgICAgICAgICAgICAgIHZhciBpdGVtQWRkciA9IE1lbW9yeS5hbGxvYygxMTYpOw0KICAgICAgICAgICAgICAgIC8vIOmAgemCgOivt+WHvQ0KICAgICAgICAgICAgICAgIEludmVuX0l0ZW1fSW52ZW5fSXRlbShpdGVtQWRkcik7DQogICAgICAgICAgICAgICAgdmFyIGludmVuUmVmID0gQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY0ludmVuUih1c2VySW5mbyk7DQogICAgICAgICAgICAgICAgLy8gLy8gaW52ZW5EYVRBIOaYr+agvOWtkOeahOS9jee9rg0KICAgICAgICAgICAgICAgIHZhciBpbnZlbkRhdGEgPSBDSW52ZW50b3J5X0dldEludmVuRGF0YShpbnZlblJlZiw3NjE2LGl0ZW1BZGRyKTsNCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiaW52ZW5EYXRhIDoiK2ludmVuRGF0YSk7DQogICAgICAgICAgICAgICAgaWYoaW52ZW5EYXRhID49MCl7DQogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJpbnZlbiB1c2VyIGhhdmUgaXRlbSAgNzYxNiIpOw0KICAgICAgICAgICAgICAgICAgICAvLyDog4zljIXmnInlgLwg6aKE6K6h5piv5pWw6YePDQogICAgICAgICAgICAgICAgICAgIHZhciByZWFkdmFsID0gaXRlbUFkZHIuYWRkKDcpLnJlYWRVMTYoKTsNCiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coInJlYWRWYWwgOiIrcmVhZHZhbCk7DQogICAgICAgICAgICAgICAgICAgIGlmKHJlYWR2YWwgPCBpdGVtTnVtKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIGludmVuRGF0YSA9IENVc2VyX0FkZEl0ZW0odXNlckluZm8sIGl0ZW1JZCwgaXRlbU51bS1yZWFkdmFsLCA2LCBpdGVtX3NwYWNlLCAwKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgICAgICBpbnZlbkRhdGEgPSBDVXNlcl9BZGRJdGVtKHVzZXJJbmZvLCBpdGVtSWQsIGl0ZW1OdW0sIDYsIGl0ZW1fc3BhY2UsIDApOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBpZihpbnZlbkRhdGEgPj0wICl7DQogICAgICAgICAgICAgICAgICAgIC8v6YCa55+l5a6i5oi356uv5pyJ5ri45oiP6YGT5YW35pu05pawDQogICAgICAgICAgICAgICAgICAgIENVc2VyX1NlbmRVcGRhdGVJdGVtTGlzdCh1c2VySW5mbywgMSwgaXRlbV9zcGFjZS5yZWFkSW50KCksIGludmVuRGF0YSk7DQogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJzZW5kIHN1Y2Nlc3MiKQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICB2YXIgZXZlbnRfc2NyaXB0X21uZyA9IENEYXRhTWFuYWdlcl9nZXRfZXZlbnRfc2NyaXB0X21uZyhHX0NEYXRhTWFuYWdlcigpKTsNCiAgICAgICAgRXZlbnRDbGFzc2lmeV9DRXZlbnRTY3JpcHRNbmdfcHJvY2Vzc19sZXZlbF91cF9yZXdhcmQoZXZlbnRfc2NyaXB0X21uZyx1c2VySW5mbywwKTsNCiAgICB9LCAndm9pZCcsIFsncG9pbnRlciddKSk7DQp9DQoNCi8qKg0KICog54mp5ZOB5L2/55So54q25oCBICAxMjA1CeiDjOWIuuicmOibmw0KICovDQpmdW5jdGlvbiBpbmNyZWFzZVN0YXR1cyhtYXhMZXZlbCl7DQogICAgLy8gSW50ZXJjZXB0b3IuYXR0YWNoKHB0cigweDA4NjY1N2ZjKSwgew0KICAgIC8vDQogICAgLy8gICAgIG9uRW50ZXI6IGZ1bmN0aW9uIChhcmdzKSB7DQogICAgLy8gICAgICAgICBjb25zb2xlLmxvZygiaW5jcmVhc2VTdGF0dXM6IithcmdzWzBdKycsJythcmdzWzFdKTsNCiAgICAvLyAgICAgICAgIHZhciB1c2VySXRlbSA9ICBNZW1vcnkuYWxsb2MoMTI4KTsNCiAgICAvLyAgICAgICAgIHZhciBjdXJDaGFyYWNJbnZlblJlZiA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNJbnZlblIoYXJnc1swXSk7DQogICAgLy8gICAgICAgICBDSW52ZW50b3J5X0dldEludmVuU2xvdCh1c2VySXRlbSxjdXJDaGFyYWNJbnZlblJlZi50b0ludDMyKCksMSxwYXJzZUludChhcmdzWzFdKSk7DQogICAgLy8gICAgICAgICBjb25zb2xlLmxvZygndXNlIEl0ZW06Jyt1c2VySXRlbS5yZWFkVTE2KCkpOw0KICAgIC8vICAgICAgICAgY29uc29sZS5sb2coJ3VzZSBJdGVtOicrdXNlckl0ZW0uYWRkKDIpLnJlYWRVMzIoKSk7IC8vIGl0ZW1JZA0KICAgIC8vICAgICB9DQogICAgLy8gfSk7DQogICAgSW50ZXJjZXB0b3IucmVwbGFjZShwdHIoMHgwODY2NTdmYyksIG5ldyBOYXRpdmVDYWxsYmFjayhmdW5jdGlvbiAodXNlciwgc2xvZikgew0KICAgICAgICBjb25zb2xlLmxvZygiaW5jcmVhc2VTdGF0dXM6Iit1c2VyKycsJytzbG9mKTsNCiAgICAgICAgdmFyIGJ1ZmYgPSAgTWVtb3J5LmFsbG9jKDEyKTsNCiAgICAgICAgUGFja2V0R3VhcmRfUGFja2V0R3VhcmQoYnVmZik7DQogICAgICAgIGNvbnNvbGUubG9nKCdDVXNlcl9DaGVja0luVHJhZGUodXNlcik6JytDVXNlcl9DaGVja0luVHJhZGUodXNlcikpDQogICAgICAgIGlmKENVc2VyX0NoZWNrSW5UcmFkZSh1c2VyKSE9MCl7DQogICAgICAgICAgICBDVXNlcl9TZW5kQ21kRXJyb3JQYWNrZXQodXNlciwgMzIsIDE5LCBidWZmKTsNCiAgICAgICAgICAgIFBhY2tldEd1YXJkX2ZyZWVfUGFja2V0R3VhcmQoYnVmZik7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCiAgICAgICAgdmFyIHVzZXJJdGVtID0gIE1lbW9yeS5hbGxvYygxMjgpOw0KICAgICAgICB2YXIgY3VyQ2hhcmFjSW52ZW5SZWYgPSBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjSW52ZW5SKHVzZXIpOw0KICAgICAgICBDSW52ZW50b3J5X0dldEludmVuU2xvdCh1c2VySXRlbSxjdXJDaGFyYWNJbnZlblJlZi50b0ludDMyKCksMSxwYXJzZUludChzbG9mKSk7DQogICAgICAgIHZhciBpdGVtSWQgPSB1c2VySXRlbS5hZGQoMikucmVhZFUzMigpOw0KICAgICAgICAvLyDmoIflv5fnsbvlnosNCiAgICAgICAgdmFyIHYxODQgPSAtMTsNCiAgICAgICAgLy8g6KaB5Yqg55qE5YC8DQogICAgICAgIHZhciBndWlsZEV4cEJvb2sgPSAwOw0KDQogICAgICAgIGlmKGl0ZW1JZCA9PSAxMjA1KXsNCiAgICAgICAgICAgIHYxODQgPSAxNzsNCiAgICAgICAgICAgIGd1aWxkRXhwQm9vayA9IDU7DQogICAgICAgICAgICBnb3RvMTkxKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCiAgICAgICAgaWYoaXRlbUlkIDw9IDEyMDUpew0KICAgICAgICAgICAgaWYoaXRlbUlkID09IDEwMzYpew0KICAgICAgICAgICAgICAgIHYxODQgPSAxOw0KICAgICAgICAgICAgICAgIGd1aWxkRXhwQm9vayA9IDEwMDAwOw0KICAgICAgICAgICAgICAgIGdvdG8xOTEodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKTsNCiAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZihpdGVtSWQgPD0gMTAzNil7DQogICAgICAgICAgICAgICAgaWYoaXRlbUlkIT0gMjAxKXsNCiAgICAgICAgICAgICAgICAgICAgaWYoaXRlbUlkID4gMjAxKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGl0ZW1JZCA9PSA5NjMpew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdvdG8xMjUodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICBpZihpdGVtSWQgPiA5NjMpew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGl0ZW1JZCA9PSAxMDM0KXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdjE4NCA9IDE7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGd1aWxkRXhwQm9vayA9IDEwMDsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ290bzE5MSh1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGl0ZW1JZD4xMDM0KXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdjE4NCA9IDE7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGd1aWxkRXhwQm9vayA9IDEwMDA7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdvdG8xOTEodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihpdGVtSWQgPT0gMTAzMSl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYxODQgPSAwOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBndWlsZEV4cEJvb2sgPSA1Ow0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnb3RvMTkxKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZ290bzE3OCh1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGl0ZW1JZD09OTE2IHx8IGl0ZW1JZD09OTYwKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnb3RvMTI1KHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgZ290bzE3OCh1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpOw0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGlmKGl0ZW1JZCE9NDIpew0KICAgICAgICAgICAgICAgICAgICAgICAgaWYoaXRlbUlkPD00Mil7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoaXRlbUlkIT0zICYmIGl0ZW1JZCE9Mjgpew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnb3RvMTc4KHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZ290bzEyNSh1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGl0ZW1JZD09MTA5IHx8IGl0ZW1JZD49MTA5ICYmIGl0ZW1JZC0xNjE8PTEpew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdvdG8xMjUodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICBnb3RvMTc4KHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgdjE4NCA9IDIxOw0KICAgICAgICAgICAgICAgICAgICBndWlsZEV4cEJvb2sgPSAxOw0KICAgICAgICAgICAgICAgICAgICBnb3RvMTkxKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgdmFyIHJlcGVhdEV2ZW50ID0gQ0V2ZW50TWFuYWdlcl9HZXRSZXBlYXRFdmVudChwdHIocHRyKDB4MDk0MUY3MzApLnJlYWRVMzIoKSksMTUpOw0KICAgICAgICAgICAgICAgIHZhciB0ZW1wTWV0aG9kID0gIG5ldyBOYXRpdmVGdW5jdGlvbihyZXBlYXRFdmVudC5hZGQoNTIqNCksICdpbnQnLCBbJ3BvaW50ZXInLCdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KICAgICAgICAgICAgICAgIGlmKHJlcGVhdEV2ZW50IT0wICYmIHRlbXBNZXRob2QocmVwZWF0RXZlbnQsMCkhPTApew0KICAgICAgICAgICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfY2xlYXIoYnVmZik7DQogICAgICAgICAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfaGVhZGVyKGJ1ZmYsMSwzMik7DQogICAgICAgICAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfYnl0ZShidWZmLDApOw0KICAgICAgICAgICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2J5dGUoYnVmZiwxOSk7DQogICAgICAgICAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9maW5hbGl6ZShidWZmLDEpOw0KICAgICAgICAgICAgICAgICAgICBDVXNlcl9TZW5kKHVzZXIsYnVmZik7DQogICAgICAgICAgICAgICAgICAgIFBhY2tldEd1YXJkX2ZyZWVfUGFja2V0R3VhcmQoYnVmZik7DQogICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgaWYoQ1VzZXJfZ2V0Q3VyQ2hhcmFjVG90YWxGYXRpZ3VlKHVzZXIpIT0wKXsNCiAgICAgICAgICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX2NsZWFyKGJ1ZmYpOw0KICAgICAgICAgICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2hlYWRlcihidWZmLDEsMzIpOw0KICAgICAgICAgICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2J5dGUoYnVmZiwwKTsNCiAgICAgICAgICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9ieXRlKGJ1ZmYsNjcpOw0KICAgICAgICAgICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfZmluYWxpemUoYnVmZiwxKTsNCiAgICAgICAgICAgICAgICAgICAgQ1VzZXJfU2VuZCh1c2VyLGJ1ZmYpOw0KICAgICAgICAgICAgICAgICAgICBQYWNrZXRHdWFyZF9mcmVlX1BhY2tldEd1YXJkKGJ1ZmYpOw0KICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHYxODQgPSAxNDsNCiAgICAgICAgICAgICAgICBndWlsZEV4cEJvb2sgPSAwOw0KICAgICAgICAgICAgICAgIGdvdG8xOTEodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKTsNCiAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZihpdGVtSWQgPT0gMTA0Myl7DQogICAgICAgICAgICAgICAgdjE4NCA9IDI7DQogICAgICAgICAgICAgICAgZ3VpbGRFeHBCb29rID0gMjUwOw0KICAgICAgICAgICAgICAgIGdvdG8xOTEodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKTsNCiAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZihpdGVtSWQgPD0gMTA0Myl7DQogICAgICAgICAgICAgICAgaWYoaXRlbUlkID09IDEwMzkpew0KICAgICAgICAgICAgICAgICAgICB2MTg0ID0gNDsNCiAgICAgICAgICAgICAgICAgICAgZ3VpbGRFeHBCb29rID0gNTA7DQogICAgICAgICAgICAgICAgfWVsc2UgaWYoaXRlbUlkID4gMTAzOSl7DQogICAgICAgICAgICAgICAgICAgIGlmKGl0ZW1JZCA9PSAxMDQxKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIHYxODQgPSA1Ow0KICAgICAgICAgICAgICAgICAgICAgICAgZ3VpbGRFeHBCb29rID0gNTA7DQogICAgICAgICAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgICAgICAgICAgaWYoaXRlbUlkID4gMTA0MSl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjE4NCA9IDc7DQogICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MTg0ID0gNjsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIGd1aWxkRXhwQm9vayA9IDUwOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfWVsc2UgaWYoaXRlbUlkID09IDEwMzcpew0KICAgICAgICAgICAgICAgICAgICB2MTg0ID0gMTsNCiAgICAgICAgICAgICAgICAgICAgZ3VpbGRFeHBCb29rID0gMTAwMDAwOw0KICAgICAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgICAgICB2MTg0ID0gMDsNCiAgICAgICAgICAgICAgICAgICAgZ3VpbGRFeHBCb29rID0yMDsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgZ290bzE5MSh1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpOw0KICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmKGl0ZW1JZCA9PSAxMDQ2KXsNCiAgICAgICAgICAgICAgICAvLyDmipfmgKfkuYvnn7MNCiAgICAgICAgICAgICAgICB2MTg0ID0gOTsNCiAgICAgICAgICAgICAgICBndWlsZEV4cEJvb2sgPSAxMDsNCiAgICAgICAgICAgICAgICBnb3RvMTkxKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYoaXRlbUlkIDw9IDEwNDYpew0KICAgICAgICAgICAgICAgIC8vIHRvZG8g6a2U5Yqb5LmL55+zDQogICAgICAgICAgICAgICAgaWYoaXRlbUlkID09IDEwNDQpew0KICAgICAgICAgICAgICAgICAgICB2MTg0ID0gMzsNCiAgICAgICAgICAgICAgICAgICAgZ3VpbGRFeHBCb29rID0gMjUwOw0KICAgICAgICAgICAgICAgIH1lbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgdjE4NCA9IDg7DQogICAgICAgICAgICAgICAgICAgIGd1aWxkRXhwQm9vayA9IDEwOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBnb3RvMTkxKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYoaXRlbUlkIDwgMTIwMCl7DQogICAgICAgICAgICAgICAgZ290bzE3OCh1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpOw0KICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmKGl0ZW1JZCA+IDEyMDIpew0KICAgICAgICAgICAgICAgIGlmKGl0ZW1JZCA9PSAxMjA0KXsNCiAgICAgICAgICAgICAgICAgICAgdjE4NCA9IDE3Ow0KICAgICAgICAgICAgICAgICAgICBndWlsZEV4cEJvb2sgPSAxOw0KICAgICAgICAgICAgICAgICAgICBnb3RvMTkxKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgZ290bzE3OCh1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpOw0KICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGdvdG8xNzEodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfQ0KICAgICAgICBpZihpdGVtSWQgPD0gODI2OCl7DQogICAgICAgICAgICBpZihpdGVtSWQgPCA4MjY3KXsNCiAgICAgICAgICAgICAgICBpZihpdGVtSWQgPT0gNzEwMSl7DQogICAgICAgICAgICAgICAgICAgIGlmKENVc2VyX2dldF9zdGF0ZSh1c2VyKSE9Myl7DQogICAgICAgICAgICAgICAgICAgICAgICBDVXNlcl9TZW5kQ21kRXJyb3JQYWNrZXQodXNlciwzMiwxOSxidWZmKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIFBhY2tldEd1YXJkX2ZyZWVfUGFja2V0R3VhcmQoYnVmZik7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgdjE4NCA9IDEzOw0KICAgICAgICAgICAgICAgICAgICBndWlsZEV4cEJvb2sgPSA4Ow0KICAgICAgICAgICAgICAgICAgICBnb3RvMTkxKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgaWYoaXRlbUlkIDw9IDcxMDEpew0KICAgICAgICAgICAgICAgICAgICBpZihpdGVtSWQ9PTEyMzIpew0KICAgICAgICAgICAgICAgICAgICAgICAgdjE4NCA9IDE7DQogICAgICAgICAgICAgICAgICAgICAgICBndWlsZEV4cEJvb2sgPSAxMDAwMDAwMDsNCiAgICAgICAgICAgICAgICAgICAgICAgIGdvdG8xOTEodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBpZihpdGVtSWQgPD0gMTIzMil7DQogICAgICAgICAgICAgICAgICAgICAgICBpZihpdGVtSWQhPTEyMDYpew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGl0ZW1JZD09MTIzMSl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYxODQgPSAxOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBndWlsZEV4cEJvb2sgPSAxMDAwMDAwOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnb3RvMTkxKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZ290bzE3OCh1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIGdvdG8xMjUodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBpZihpdGVtSWQgPT0gMTI1Myl7DQogICAgICAgICAgICAgICAgICAgICAgICBnb3RvMTI1KHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgaWYoaXRlbUlkICE9MzIwNCl7DQogICAgICAgICAgICAgICAgICAgICAgICBpZihpdGVtSWQ9PTEyNDcpew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYxODQgPSAxOTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBndWlsZEV4cEJvb2sgPSAxMDsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnb3RvMTkxKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgZ290bzE3OCh1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpOw0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGlmKENVc2VyQ2hhcmFjSW5mb19nZXRfY2hhcmFjX2d1aWxka2V5KHVzZXIpIT0wKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIHYxODQgPSAxMTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGd1aWxkRXhwQm9vayA9IDEwOw0KICAgICAgICAgICAgICAgICAgICAgICAgZ290bzE5MSh1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpOw0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIENVc2VyX1NlbmRDbWRFcnJvclBhY2tldCh1c2VyLDMyLDY0LGJ1ZmYpOw0KICAgICAgICAgICAgICAgICAgICBQYWNrZXRHdWFyZF9mcmVlX1BhY2tldEd1YXJkKGJ1ZmYpOw0KICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGlmKGl0ZW1JZD09NzE4MSl7DQogICAgICAgICAgICAgICAgICAgIHYxODQgPSAxMzsNCiAgICAgICAgICAgICAgICAgICAgZ3VpbGRFeHBCb29rID0gNTsNCiAgICAgICAgICAgICAgICAgICAgZ290bzE5MSh1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpOw0KICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGlmKGl0ZW1JZCA8PSA3MTgxKXsNCiAgICAgICAgICAgICAgICAgICAgaWYoaXRlbUlkICE9IDcxMDUpew0KICAgICAgICAgICAgICAgICAgICAgICAgaWYoaXRlbUlkID09IDcxODApew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYxODQgPSAxMzsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBndWlsZEV4cEJvb2sgPSAxOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdvdG8xOTEodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICBnb3RvMTc4KHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgaWYoQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfZ3VpbGRrZXkodXNlcikpew0KICAgICAgICAgICAgICAgICAgICAgICAgdjE4NCA9IDExOw0KICAgICAgICAgICAgICAgICAgICAgICAgZ3VpbGRFeHBCb29rID0gNTA7DQogICAgICAgICAgICAgICAgICAgICAgICBnb3RvMTkxKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgQ1VzZXJfU2VuZENtZEVycm9yUGFja2V0KHVzZXIsMzIsNjQsYnVmZik7DQogICAgICAgICAgICAgICAgICAgIFBhY2tldEd1YXJkX2ZyZWVfUGFja2V0R3VhcmQoYnVmZik7DQogICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgaWYoaXRlbUlkID09IDc5NTgpew0KICAgICAgICAgICAgICAgICAgICB2MTg0ID0gMjA7DQogICAgICAgICAgICAgICAgICAgIGd1aWxkRXhwQm9vayA9IDA7DQogICAgICAgICAgICAgICAgICAgIGdvdG8xOTEodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKTsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBpZihpdGVtSWQhPTgwNDkpew0KICAgICAgICAgICAgICAgICAgICBpZihpdGVtSWQgIT0gNzI5OCl7DQogICAgICAgICAgICAgICAgICAgICAgICBnb3RvMTc4KHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgaWYoQ1VzZXJfZ2V0X3N0YXRlKHVzZXIpIT0zKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIENVc2VyX1NlbmRDbWRFcnJvclBhY2tldCh1c2VyLDMyLDE5LGJ1ZmYpOw0KICAgICAgICAgICAgICAgICAgICAgICAgUGFja2V0R3VhcmRfZnJlZV9QYWNrZXRHdWFyZChidWZmKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB2MTg0ID0gMTM7DQogICAgICAgICAgICAgICAgICAgIGd1aWxkRXhwQm9vayA9IDI7DQogICAgICAgICAgICAgICAgICAgIGdvdG8xOTEodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKTsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGdvdG85Nih1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQogICAgICAgIGlmKGl0ZW1JZD09MjY3MDAwOCl7DQogICAgICAgICAgICB2YXIgcmVwZWF0RXZlbnQgPSBDRXZlbnRNYW5hZ2VyX0dldFJlcGVhdEV2ZW50KHB0cihwdHIoMHgwOTQxRjczMCkucmVhZFUzMigpKSwxNSk7DQogICAgICAgICAgICB2YXIgdGVtcE1ldGhvZCA9ICBuZXcgTmF0aXZlRnVuY3Rpb24ocmVwZWF0RXZlbnQuYWRkKDUyKjQpLCAnaW50JywgWydwb2ludGVyJywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCiAgICAgICAgICAgIGlmKHJlcGVhdEV2ZW50IT0wICYmIHRlbXBNZXRob2QocmVwZWF0RXZlbnQsMCkhPTApew0KICAgICAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9jbGVhcihidWZmKTsNCiAgICAgICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2hlYWRlcihidWZmLDEsMzIpOw0KICAgICAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfYnl0ZShidWZmLDApOw0KICAgICAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfYnl0ZShidWZmLDE5KTsNCiAgICAgICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfZmluYWxpemUoYnVmZiwxKTsNCiAgICAgICAgICAgICAgICBDVXNlcl9TZW5kKHVzZXIsYnVmZik7DQogICAgICAgICAgICAgICAgUGFja2V0R3VhcmRfZnJlZV9QYWNrZXRHdWFyZChidWZmKTsNCiAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZihDVXNlcl9nZXRDdXJDaGFyYWNUb3RhbEZhdGlndWUodXNlcikhPTApew0KICAgICAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9jbGVhcihidWZmKTsNCiAgICAgICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2hlYWRlcihidWZmLDEsMzIpOw0KICAgICAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfYnl0ZShidWZmLDApOw0KICAgICAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfYnl0ZShidWZmLDY3KTsNCiAgICAgICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfZmluYWxpemUoYnVmZiwxKTsNCiAgICAgICAgICAgICAgICBDVXNlcl9TZW5kKHVzZXIsYnVmZik7DQogICAgICAgICAgICAgICAgUGFja2V0R3VhcmRfZnJlZV9QYWNrZXRHdWFyZChidWZmKTsNCiAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICB9DQogICAgICAgICAgICB2MTg0ID0gMTQ7DQogICAgICAgICAgICBndWlsZEV4cEJvb2sgPSAwOw0KICAgICAgICAgICAgZ290bzE5MSh1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQogICAgICAgIGlmKGl0ZW1JZD4yNjcwMDA4KXsNCiAgICAgICAgICAgIGlmKGl0ZW1JZCE9MTAwMDA5MTUpew0KICAgICAgICAgICAgICAgIGlmKGl0ZW1JZDw9MTAwMDA5MTUpew0KICAgICAgICAgICAgICAgICAgICBpZihpdGVtSWQ9PTI2NzUwMjEpew0KICAgICAgICAgICAgICAgICAgICAgICAgdjE4NCA9IDIxOw0KICAgICAgICAgICAgICAgICAgICAgICAgZ3VpbGRFeHBCb29rID0gMTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGdvdG8xOTEodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBpZihpdGVtSWQhPTI2NzUzODgpew0KICAgICAgICAgICAgICAgICAgICAgICAgZ290bzE3OCh1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpOw0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGdvdG85Nih1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpOw0KICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGlmICggaXRlbUlkID09IDY5MDAwMDIyMCApew0KICAgICAgICAgICAgICAgICAgICBnb3RvMTcxKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgaWYgKCBpdGVtSWQgPT0gNjkwMDAwMzAxICkNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIHYxODQgPSAyNTsNCiAgICAgICAgICAgICAgICAgICAgZ3VpbGRFeHBCb29rID0gMTsNCiAgICAgICAgICAgICAgICAgICAgZ290bzE5MSh1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpOw0KICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGlmICggaXRlbUlkICE9IDY5MDAwMDA5NyApew0KICAgICAgICAgICAgICAgICAgICBnb3RvMTc4KHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICB2YXIgdGVtcFYxODRUYWcgPSBNZW1vcnkuYWxsb2MoMSk7DQogICAgICAgICAgICB0ZW1wVjE4NFRhZy53cml0ZVU4KHYxODQpOw0KICAgICAgICAgICAgdmFyIHRlbXBHdWlsZEV4cEJvb2tUYWcgPSBNZW1vcnkuYWxsb2MoNCk7DQogICAgICAgICAgICB0ZW1wR3VpbGRFeHBCb29rVGFnLndyaXRlVTMyKGd1aWxkRXhwQm9vayk7DQogICAgICAgICAgICBpZihDVXNlcl9DYWxMZXZlbFVwSXRlbVN0YXRlKHVzZXIsdGVtcFYxODRUYWcsdGVtcEd1aWxkRXhwQm9va1RhZywxLDY5KSE9MSl7DQogICAgICAgICAgICAgICAgdjE4NCA9IHRlbXBWMTg0VGFnLnJlYWRVOCgpOw0KICAgICAgICAgICAgICAgIGd1aWxkRXhwQm9vayA9IHRlbXBHdWlsZEV4cEJvb2tUYWcucmVhZFUzMigpOw0KICAgICAgICAgICAgICAgIENVc2VyX1NlbmRDbWRFcnJvclBhY2tldCh1c2VyLDMyLDE5LGJ1ZmYpOw0KICAgICAgICAgICAgICAgIFBhY2tldEd1YXJkX2ZyZWVfUGFja2V0R3VhcmQoYnVmZik7DQogICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdjE4NCA9IHRlbXBWMTg0VGFnLnJlYWRVOCgpOw0KICAgICAgICAgICAgZ3VpbGRFeHBCb29rID0gdGVtcEd1aWxkRXhwQm9va1RhZy5yZWFkVTMyKCk7DQogICAgICAgICAgICBnb3RvMTkxKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCiAgICAgICAgaWYoaXRlbUlkICE9IDI2NjAxNzEpew0KICAgICAgICAgICAgaWYoaXRlbUlkPD0yNjYwMTcxKXsNCiAgICAgICAgICAgICAgICBpZihpdGVtSWQtODI3MD4xKXsNCiAgICAgICAgICAgICAgICAgICAgZ290bzE3OCh1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpOw0KICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGdvdG85Nih1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpOw0KICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmKGl0ZW1JZCE9MjY2MDIzMil7DQogICAgICAgICAgICAgICAgaWYoaXRlbUlkIT0yNjYwMzk2KXsNCiAgICAgICAgICAgICAgICAgICAgaWYoaXRlbUlkIT0yNjYwMTcyKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIGdvdG8xNzgodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBpZihHYW1lV29ybGRfSXNQdlBTa2lsVHJlZUNoYW5uZWwoR19HYW1lV29ybGQpIT0xKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIENVc2VyX1NlbmRDbWRFcnJvclBhY2tldCh1c2VyLDMyLDIzLGJ1ZmYpOw0KICAgICAgICAgICAgICAgICAgICAgICAgUGFja2V0R3VhcmRfZnJlZV9QYWNrZXRHdWFyZChidWZmKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB2YXIgY2hlY2sgPSBDU2VjdV9Qcm90ZWN0aW9uRmllbGRfQ2hlY2socHRyKHB0cigweDA5NDFGN0NDKS5yZWFkVTMyKCkpLHVzZXIsNDQpOw0KICAgICAgICAgICAgICAgICAgICBpZihjaGVjayE9MCl7DQogICAgICAgICAgICAgICAgICAgICAgICBDVXNlcl9TZW5kQ21kRXJyb3JQYWNrZXQodXNlciwzMixjaGVjayxidWZmKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIFBhY2tldEd1YXJkX2ZyZWVfUGFja2V0R3VhcmQoYnVmZik7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgaWYoQ1VzZXJfaXNBZmZlY3RlZFByZW1pdW0odXNlci50b0ludDMyKCksMzMpPT0xKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIGd1aWxkRXhwQm9vayA9IDA7DQogICAgICAgICAgICAgICAgICAgICAgICB2MTg0ID0gMjM7DQogICAgICAgICAgICAgICAgICAgICAgICBnb3RvMTkxKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgQ1VzZXJfU2VuZENtZEVycm9yUGFja2V0KHVzZXIsMzIsMjE2LGJ1ZmYpOw0KICAgICAgICAgICAgICAgICAgICBQYWNrZXRHdWFyZF9mcmVlX1BhY2tldEd1YXJkKGJ1ZmYpOw0KICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGdvdG8xMjUodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKTsNCiAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgaWYoR2FtZVdvcmxkX0lzUHZQU2tpbFRyZWVDaGFubmVsKEdfR2FtZVdvcmxkKCkpIT0xKXsNCiAgICAgICAgICAgIENVc2VyX1NlbmRDbWRFcnJvclBhY2tldCh1c2VyLDMyLDIzLGJ1ZmYpOw0KICAgICAgICAgICAgUGFja2V0R3VhcmRfZnJlZV9QYWNrZXRHdWFyZChidWZmKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfQ0KICAgICAgICB2YXIgY2hlY2sgPSBDU2VjdV9Qcm90ZWN0aW9uRmllbGRfQ2hlY2socHRyKHB0cigweDA5NDFGN0NDKS5yZWFkVTMyKCkpLHVzZXIsNDQpOw0KICAgICAgICBpZihjaGVjayE9MCl7DQogICAgICAgICAgICBDVXNlcl9TZW5kQ21kRXJyb3JQYWNrZXQodXNlciwzMixjaGVjayxidWZmKTsNCiAgICAgICAgICAgIFBhY2tldEd1YXJkX2ZyZWVfUGFja2V0R3VhcmQoYnVmZik7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCiAgICAgICAgaWYoV29uZ1dvcmtfQ1NraWxsQ2hhbmdlcl9DaGVja0NvbmRpdGlvbih1c2VyKSE9MSl7DQogICAgICAgICAgICBDVXNlcl9TZW5kQ21kRXJyb3JQYWNrZXQodXNlciwzMiwxLGJ1ZmYpOw0KICAgICAgICAgICAgUGFja2V0R3VhcmRfZnJlZV9QYWNrZXRHdWFyZChidWZmKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfQ0KICAgICAgICBndWlsZEV4cEJvb2sgPSAwOw0KICAgICAgICB2MTg0ID0gMjI7DQogICAgICAgIGlmKGl0ZW1JZCA9PSAyNjYwMjMyKXsNCiAgICAgICAgICAgIGd1aWxkRXhwQm9vayA9IDE7DQogICAgICAgIH0NCiAgICAgICAgLy8g5qC55o2u57G75Z6L5aSE55CG5pWw5o2uIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiAgICAgICAgZ290bzE5MSh1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpOw0KICAgICAgICByZXR1cm47DQogICAgfSwgJ3ZvaWQnLCBbJ3BvaW50ZXInLCAnaW50J10pKTsNCn0NCg0KZnVuY3Rpb24gZ290bzE3MSh1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpew0KICAgIGlmKGl0ZW1JZCA9PSA2OTAwMDAyMjAgJiYgQ1VzZXJfSXNHdWlsZE1hc3Rlcih1c2VyKSE9MSl7DQogICAgICAgIENVc2VyX1NlbmRDbWRFcnJvclBhY2tldCh1c2VyLDMyLDIxOSxidWZmKTsNCiAgICAgICAgUGFja2V0R3VhcmRfZnJlZV9QYWNrZXRHdWFyZChidWZmKTsNCiAgICAgICAgcmV0dXJuOw0KICAgIH0NCiAgICB2YXIgZ3VpbGRWYWwgPSB1c2VyLmFkZCg1Nzc1OTUpLnJlYWRVMzIoKSArMTsNCiAgICB2YXIgZ3VpbGRMZXZlbFVwUGFyYW0gPSBHdWlsZFBhcmFtZXRlclNjcmlwdF9nZXRHdWlsZExldmVsVXBQYXJhbShHX0NEYXRhTWFuYWdlcigpLmFkZCg0MjI1MiksZ3VpbGRWYWwpOw0KICAgIHZhciBndWlsZERCSW5mbyA9IENVc2VyX0dldEd1aWxkREJJbmZvKHVzZXIpOw0KICAgIGlmKGd1aWxkTGV2ZWxVcFBhcmFtIT0wIHx8IGd1aWxkREJJbmZvLmFkZCg0MSkucmVhZFUzMigpID49Z3VpbGRMZXZlbFVwUGFyYW0uYWRkKDQpLnJlYWRVMzIoKSl7DQogICAgICAgIENVc2VyX1NlbmRDbWRFcnJvclBhY2tldCh1c2VyLDMyLDIxMCxidWZmKTsNCiAgICAgICAgUGFja2V0R3VhcmRfZnJlZV9QYWNrZXRHdWFyZChidWZmKTsNCiAgICAgICAgcmV0dXJuOw0KICAgIH0NCiAgICB2MTg0ID0gMTY7DQogICAgZ3VpbGRFeHBCb29rID0gR3VpbGRQYXJhbWV0ZXJTY3JpcHRfZ2V0R3VpbGRFeHBCb29rKEdfQ0RhdGFNYW5hZ2VyKCkuYWRkKDQyMjUyKSxpdGVtSWQpOw0KICAgIGdvdG8xOTEodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKTsNCn0NCg0KZnVuY3Rpb24gZ290bzk2KHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCl7DQogICAgdmFyIHRlbXBWMTg0VGFnID0gTWVtb3J5LmFsbG9jKDEpOw0KICAgIHRlbXBWMTg0VGFnLndyaXRlVTgodjE4NCk7DQogICAgdmFyIHRlbXBHdWlsZEV4cEJvb2tUYWcgPSBNZW1vcnkuYWxsb2MoNCk7DQogICAgdGVtcEd1aWxkRXhwQm9va1RhZy53cml0ZVUzMihndWlsZEV4cEJvb2spOw0KICAgIGlmKENVc2VyX0NhbExldmVsVXBJdGVtQ2hlY2sodXNlcixpdGVtX2lkKSE9MCAmJiBDVXNlcl9DYWxMZXZlbFVwSXRlbVN0YXRlKHVzZXIsdGVtcFYxODRUYWcsdGVtcEd1aWxkRXhwQm9va1RhZywxOSw1OSkhPTEpew0KICAgICAgICB2MTg0ID0gdGVtcFYxODRUYWcucmVhZFU4KCk7DQogICAgICAgIGd1aWxkRXhwQm9vayA9IHRlbXBHdWlsZEV4cEJvb2tUYWcucmVhZFUzMigpOw0KICAgICAgICBDVXNlcl9TZW5kQ21kRXJyb3JQYWNrZXQodXNlciwzMiwxOSxidWZmKTsNCiAgICAgICAgUGFja2V0R3VhcmRfZnJlZV9QYWNrZXRHdWFyZChidWZmKTsNCiAgICAgICAgcmV0dXJuOw0KICAgIH0NCiAgICB2MTg0ID0gdGVtcFYxODRUYWcucmVhZFU4KCk7DQogICAgZ3VpbGRFeHBCb29rID0gdGVtcEd1aWxkRXhwQm9va1RhZy5yZWFkVTMyKCk7DQogICAgZ290bzE5MSh1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpOw0KfQ0KDQpmdW5jdGlvbiBnb3RvMTI1KHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCl7DQogICAgdmFyIGNoZWNrID0gQ1NlY3VfUHJvdGVjdGlvbkZpZWxkX0NoZWNrKHB0cihwdHIoMHgwOTQxRjdDQykucmVhZFUzMigpKSx1c2VyLDQ0KTsNCiAgICBpZihjaGVjayE9MCl7DQogICAgICAgIENVc2VyX1NlbmRDbWRFcnJvclBhY2tldCh1c2VyLDMyLGNoZWNrLGJ1ZmYpOw0KICAgICAgICBQYWNrZXRHdWFyZF9mcmVlX1BhY2tldEd1YXJkKGJ1ZmYpOw0KICAgICAgICByZXR1cm47DQogICAgfQ0KICAgIGlmKEdhbWVXb3JsZF9Jc1B2UFNraWxUcmVlQ2hhbm5lbChHX0dhbWVXb3JsZCgpKSE9MCl7DQogICAgICAgIENVc2VyX1NlbmRDbWRFcnJvclBhY2tldCh1c2VyLDMyLDIzLGJ1ZmYpOw0KICAgICAgICBQYWNrZXRHdWFyZF9mcmVlX1BhY2tldEd1YXJkKGJ1ZmYpOw0KICAgICAgICByZXR1cm47DQogICAgfQ0KICAgIGlmKENVc2VyX0NoZWNrSXRlbUxvY2sodXNlciwxLHNsb2YpIT0wKXsNCiAgICAgICAgQ1VzZXJfU2VuZENtZEVycm9yUGFja2V0KHVzZXIsMzIsMjEzLGJ1ZmYpOw0KICAgICAgICBQYWNrZXRHdWFyZF9mcmVlX1BhY2tldEd1YXJkKGJ1ZmYpOw0KICAgICAgICByZXR1cm47DQogICAgfQ0KICAgIGlmKFdvbmdXb3JrX0NTa2lsbENoYW5nZXJfQ2hlY2tDb25kaXRpb24odXNlcikhPTEpew0KICAgICAgICB2YXIgbGV2ZWxFeHAgPSBDRGF0YU1hbmFnZXJfZ2V0X2xldmVsX2V4cChHX0NEYXRhTWFuYWdlcigpLENVc2VyQ2hhcmFjSW5mb19nZXRfY2hhcmFjX2xldmVsKHVzZXIpKTsNCiAgICAgICAgQ1VzZXJDaGFyYWNJbmZvX3NldEN1ckNoYXJhY0V4cCh1c2VyLGxldmVsRXhwKTsNCiAgICB9DQogICAgaWYoaXRlbUlkIT0xMjA2ICYmIGl0ZW1JZCE9MTI1Myl7DQogICAgICAgIGlmKGl0ZW1JZD09OTE2KXsNCiAgICAgICAgICAgIGd1aWxkRXhwQm9vayA9IDE7DQogICAgICAgICAgICB2MTg0ID0gMTA7DQogICAgICAgIH1lbHNlIGlmKGl0ZW1JZCA9PSA5NjApew0KICAgICAgICAgICAgZ3VpbGRFeHBCb29rID0gIDE7DQogICAgICAgICAgICB2MTg0ID0gMjQ7DQogICAgICAgICAgICB2YXIgZXhwYW5kRGF0YSA9IENVc2VyX0dldENoYXJhY0V4cGFuZERhdGEodXNlciwxMSk7DQogICAgICAgICAgICBpZihleHBhbmREYXRhKXsNCiAgICAgICAgICAgICAgICBDUXVlc3RTaG9wX2NsZWFyUVAoZXhwYW5kRGF0YSx1c2VyKTsNCiAgICAgICAgICAgICAgICBDUXVlc3RTaG9wX3NlbmRDaGFyYWNRcChleHBhbmREYXRhLHVzZXIsMCk7DQogICAgICAgICAgICB9DQogICAgICAgIH1lbHNlew0KICAgICAgICAgICAgZ3VpbGRFeHBCb29rICA9IGl0ZW1JZD09OTYzIHx8IGl0ZW1JZD09MjY2MDM5NjsNCiAgICAgICAgICAgIHYxODQgPSAxMDsNCiAgICAgICAgfQ0KICAgICAgICBnb3RvMTkxKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgIHJldHVybjsNCiAgICB9DQogICAgaWYoQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfbGV2ZWwodXNlcikgPD00OSl7DQogICAgICAgIFBhY2tldEd1YXJkX2ZyZWVfUGFja2V0R3VhcmQoYnVmZik7DQogICAgICAgIHJldHVybjsNCiAgICB9DQogICAgaWYoQ1VzZXJfaXNBZmZlY3RlZFByZW1pdW0odXNlci50b0ludDMyKCksMzMpPT0wKXsNCiAgICAgICAgZ3VpbGRFeHBCb29rID0gMTsNCiAgICAgICAgdjE4NCA9IDE4Ow0KICAgICAgICBnb3RvMTkxKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgIHJldHVybjsNCiAgICB9DQogICAgQ1VzZXJfU2VuZENtZEVycm9yUGFja2V0KHVzZXIsMzIsMjE2LGJ1ZmYpOw0KICAgIFBhY2tldEd1YXJkX2ZyZWVfUGFja2V0R3VhcmQoYnVmZik7DQogICAgcmV0dXJuOw0KfQ0KDQpmdW5jdGlvbiBnb3RvMTc4KHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCl7DQogICAgdmFyIGl0ZW1JZFZhbCA9IEdfQ0RhdGFNYW5hZ2VyKCkuYWRkKDIwNjg0KS5yZWFkVTMyKCk7DQogICAgY29uc29sZS5sb2coJ2l0ZW1JZFZhbCA6ICcraXRlbUlkVmFsKTsNCiAgICBpZihpdGVtSWQgPT0gaXRlbUlkVmFsKXsNCiAgICAgICAgdmFyIGl0ZW0gPSBDRGF0YU1hbmFnZXJfZmluZF9pdGVtKEdfQ0RhdGFNYW5hZ2VyKCksaXRlbUlkVmFsKTsNCiAgICAgICAgaWYoaXRlbUlkVmFsPT0wKXsNCiAgICAgICAgICAgIENVc2VyX1NlbmRDbWRFcnJvclBhY2tldCh1c2VyLDMyLDE3LGJ1ZmYpOw0KICAgICAgICAgICAgUGFja2V0R3VhcmRfZnJlZV9QYWNrZXRHdWFyZChidWZmKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfQ0KICAgICAgICBpZihDSXRlbV9pc19zdGFja2FibGUoaXRlbSkhPTEpew0KICAgICAgICAgICAgQ1VzZXJfU2VuZENtZEVycm9yUGFja2V0KHVzZXIsMzIsMTcsYnVmZik7DQogICAgICAgICAgICBQYWNrZXRHdWFyZF9mcmVlX1BhY2tldEd1YXJkKGJ1ZmYpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQogICAgICAgIHZhciBjaGFyYWNMZXZlbCA9IENVc2VyQ2hhcmFjSW5mb19nZXRfY2hhcmFjX2xldmVsKHVzZXIpOw0KICAgICAgICB2YXIgdXNhYmxlTGV2ZWwgPUNJdGVtX0dldFVzYWJsZUxldmVsKGl0ZW0pOw0KICAgICAgICBpZihjaGFyYWNMZXZlbCA8IHVzYWJsZUxldmVsKXsNCiAgICAgICAgICAgIENVc2VyX1NlbmRDbWRFcnJvclBhY2tldCh1c2VyLDMyLDE3LGJ1ZmYpOw0KICAgICAgICAgICAgUGFja2V0R3VhcmRfZnJlZV9QYWNrZXRHdWFyZChidWZmKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfQ0KICAgICAgICBpZihjaGFyYWNMZXZlbCA+IG1heExldmVsKzEpew0KICAgICAgICAgICAgQ1VzZXJfU2VuZENtZEVycm9yUGFja2V0KHVzZXIsMzIsMTcsYnVmZik7DQogICAgICAgICAgICBQYWNrZXRHdWFyZF9mcmVlX1BhY2tldEd1YXJkKGJ1ZmYpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQogICAgICAgIHYxODQgPTE7DQogICAgICAgIHZhciBhbGxvYyA9IE1lbW9yeS5hbGxvYyg0KTsNCiAgICAgICAgaWYoQ0l0ZW1fR2V0SW5jcmVhc2VTdGF0dXNJbnREYXRhKGl0ZW0sMCxhbGxvYykhPTEpew0KICAgICAgICAgICAgQ1VzZXJfU2VuZENtZEVycm9yUGFja2V0KHVzZXIsMzIsMTcsYnVmZik7DQogICAgICAgICAgICBQYWNrZXRHdWFyZF9mcmVlX1BhY2tldEd1YXJkKGJ1ZmYpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQogICAgICAgIGd1aWxkRXhwQm9vayA9IGFsbG9jLnJlYWRVMzIoKTsNCiAgICB9ZWxzZXsNCiAgICAgICAgdmFyIGl0ZW0gPSBDRGF0YU1hbmFnZXJfZmluZF9pdGVtKEdfQ0RhdGFNYW5hZ2VyKCksaXRlbUlkKTsNCiAgICAgICAgaWYoaXRlbSE9MCl7DQogICAgICAgICAgICBpZihDSXRlbV9HZXRJbmNyZWFzZVN0YXR1c1R5cGUoaXRlbSkgPT0xKXsNCiAgICAgICAgICAgICAgICB2YXIgYWxsb2MgPSBNZW1vcnkuYWxsb2MoNCk7DQogICAgICAgICAgICAgICAgQ0l0ZW1fR2V0SW5jcmVhc2VTdGF0dXNJbnREYXRhKGl0ZW0sMCxhbGxvYyk7DQogICAgICAgICAgICAgICAgZ3VpbGRFeHBCb29rID0gYWxsb2MucmVhZFUzMigpOw0KICAgICAgICAgICAgICAgIHYxODQgPSAxOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfQ0KICAgIGdvdG8xOTEodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKTsNCiAgICByZXR1cm47DQp9DQoNCmZ1bmN0aW9uIGdvdG8xOTEodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKXsNCiAgICBpZih2MTg0PT0tMSl7DQogICAgICAgIENVc2VyX1NlbmRDbWRFcnJvclBhY2tldCh1c2VyLDMyLDE3LGJ1ZmYpOw0KICAgICAgICBQYWNrZXRHdWFyZF9mcmVlX1BhY2tldEd1YXJkKGJ1ZmYpOw0KICAgICAgICByZXR1cm47DQogICAgfQ0KICAgIGlmKHYxODQ9PTE1KXsNCiAgICAgICAgaWYoQ1VzZXJfZ2V0X3N0YXRlKHVzZXIpPT0zKXsNCiAgICAgICAgICAgIHZhciBjdXJDaGFyYWNGYXRpZ3VlID0gQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY0ZhdGlndWUodXNlcik7DQogICAgICAgICAgICBpZihjdXJDaGFyYWNGYXRpZ3VlIDwgZ3VpbGRFeHBCb29rKXsNCiAgICAgICAgICAgICAgICBDVXNlcl9TZW5kQ21kRXJyb3JQYWNrZXQodXNlciwzMiw5NSxidWZmKTsNCiAgICAgICAgICAgICAgICBQYWNrZXRHdWFyZF9mcmVlX1BhY2tldEd1YXJkKGJ1ZmYpOw0KICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfWVsc2V7DQogICAgICAgICAgICBDVXNlcl9TZW5kQ21kRXJyb3JQYWNrZXQodXNlciwzMiwxOSxidWZmKTsNCiAgICAgICAgICAgIFBhY2tldEd1YXJkX2ZyZWVfUGFja2V0R3VhcmQoYnVmZik7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCiAgICB9DQogICAgaWYodjE4NCE9MCB8fCB2MTg0PT0xNyB8fCB2MTg0PT0xKXsNCiAgICAgICAgaWYoR2FtZVdvcmxkX0lzUHZQU2tpbFRyZWVDaGFubmVsKEdfR2FtZVdvcmxkKCkpIT0wKXsNCiAgICAgICAgICAgIENVc2VyX1NlbmRDbWRFcnJvclBhY2tldCh1c2VyLDMyLDE5LGJ1ZmYpOw0KICAgICAgICAgICAgUGFja2V0R3VhcmRfZnJlZV9QYWNrZXRHdWFyZChidWZmKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfQ0KICAgIH0NCiAgICB2YXIgaXRlbSA9IENEYXRhTWFuYWdlcl9maW5kX2l0ZW0oR19DRGF0YU1hbmFnZXIoKSxpdGVtSWQpOw0KICAgIGlmKGl0ZW09PTApew0KICAgICAgICBQYWNrZXRHdWFyZF9mcmVlX1BhY2tldEd1YXJkKGJ1ZmYpOw0KICAgICAgICByZXR1cm47DQogICAgfQ0KICAgIHZhciB1c2FibGVQdnBSYW5rID0gQ0l0ZW1fR2V0VXNhYmxlUHZQUmFuayhpdGVtKTsNCiAgICBpZih1c2FibGVQdnBSYW5rPkNVc2VyQ2hhcmFjSW5mb19nZXRfcHZwX2dyYWRlKHVzZXIpKXsNCiAgICAgICAgQ1VzZXJfU2VuZENtZEVycm9yUGFja2V0KHVzZXIsMzIsMSxidWZmKTsNCiAgICAgICAgUGFja2V0R3VhcmRfZnJlZV9QYWNrZXRHdWFyZChidWZmKTsNCiAgICAgICAgcmV0dXJuOw0KICAgIH0NCiAgICB2YXIgdGVtcE1ldGhvZCA9ICBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKGl0ZW0ucmVhZFUzMigpKS5hZGQoMTIqNCkucmVhZFBvaW50ZXIoKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQogICAgaWYodGVtcE1ldGhvZChpdGVtKSAhPTIxKXsNCiAgICAgICAgdmFyIGN1ckNoYXJhY0ludmVuVyA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNJbnZlblcodXNlcik7DQogICAgICAgIGlmKCBDSW52ZW50b3J5X2RlbGV0ZV9pdGVtKGN1ckNoYXJhY0ludmVuVywxLHNsb2YsMSwxMCwxKSAhPTEgKXsNCiAgICAgICAgICAgIENVc2VyX1NlbmRDbWRFcnJvclBhY2tldCh1c2VyLDMyLDE3LGJ1ZmYpOw0KICAgICAgICAgICAgUGFja2V0R3VhcmRfZnJlZV9QYWNrZXRHdWFyZChidWZmKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfQ0KICAgIH0NCiAgICB2YXIgdjE3MiA9IE1lbW9yeS5hbGxvYygxNTEpOw0KICAgIGNvbnNvbGUubG9nKCJpdGVtIGFsbCBoYW5kbGUgc3VjY2VzczogIit2MTg0KyIgLCIrZ3VpbGRFeHBCb29rKTsNCiAgICBzd2l0Y2ggKHYxODQpew0KICAgICAgICBjYXNlIDA6DQogICAgICAgICAgICBDVXNlcl9nYWluX3NwKHVzZXIsZ3VpbGRFeHBCb29rKTsNCiAgICAgICAgICAgIENVc2VyX2hpc3RvcnlfbG9nX3NwKHVzZXIsLTEsZ3VpbGRFeHBCb29rLDEpOw0KICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX2NsZWFyKGJ1ZmYpOw0KICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9oZWFkZXIoYnVmZiwgMSwgMzIpOw0KICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9ieXRlKGJ1ZmYsIDEpOw0KICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9zaG9ydChidWZmLCBzbG9mKTsNCiAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfYnl0ZShidWZmLCB2MTg0KTsNCiAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfaW50KGJ1ZmYsIGd1aWxkRXhwQm9vayk7DQogICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X3Nob3J0KGJ1ZmYsIDApOw0KICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9zaG9ydChidWZmLCAwKTsNCiAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9maW5hbGl6ZShidWZmLCAxKTsNCiAgICAgICAgICAgIENVc2VyX1NlbmQodXNlciwgYnVmZik7DQogICAgICAgICAgICBQYWNrZXRHdWFyZF9mcmVlX1BhY2tldEd1YXJkKGJ1ZmYpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICBjYXNlIDE6DQogICAgICAgICAgICBpZihDVXNlckNoYXJhY0luZm9fZ2V0X2NoYXJhY19sZXZlbCh1c2VyKT5tYXhMZXZlbC0xKXsNCiAgICAgICAgICAgICAgICBndWlsZEV4cEJvb2sgPSAwOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdmFyIHYxODAgPSBNZW1vcnkuYWxsb2MoNCk7DQogICAgICAgICAgICB2MTgwLndyaXRlVTMyKDApOw0KICAgICAgICAgICAgdmFyIHYxNzkgPSBNZW1vcnkuYWxsb2MoNCk7DQogICAgICAgICAgICB2MTc5LndyaXRlVTMyKDApOw0KICAgICAgICAgICAgdmFyIHYxODEgPSBNZW1vcnkuYWxsb2MoNCk7DQogICAgICAgICAgICB2MTgxLndyaXRlVTMyKDApOw0KICAgICAgICAgICAgdmFyIHNwVmFsID0gTWVtb3J5LmFsbG9jKDQpOw0KICAgICAgICAgICAgc3BWYWwud3JpdGVVMzIoMCk7DQogICAgICAgICAgICBpZihpdGVtSWQgPT0gR19DRGF0YU1hbmFnZXIoKS5hZGQoMjA2ODQpLnJlYWRVMzIoKSl7DQogICAgICAgICAgICAgICAgQ1VzZXJfcmV3YXJkRXhwKHVzZXIsZ3VpbGRFeHBCb29rLHNwVmFsLnRvSW50MzIoKSx2MTgxLnRvSW50MzIoKSx2MTgwLHYxNzksMywxKTsNCiAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgIENVc2VyX3Jld2FyZEV4cCh1c2VyLGd1aWxkRXhwQm9vayxzcFZhbC50b0ludDMyKCksdjE4MS50b0ludDMyKCksdjE4MCx2MTc5LDAsMSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBjb25zb2xlLmxvZygnMTExMTExMTExMTExMScpDQogICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfY2xlYXIoYnVmZik7DQogICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2hlYWRlcihidWZmLCAxLCAzMik7DQogICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2J5dGUoYnVmZiwgMSk7DQogICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X3Nob3J0KGJ1ZmYsIHNsb2YpOw0KICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9ieXRlKGJ1ZmYsIHYxODQpOw0KICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9pbnQoYnVmZiwgZ3VpbGRFeHBCb29rKTsNCiAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfc2hvcnQoYnVmZiwgdjE3OS5yZWFkVTMyKCktdjE4MC5yZWFkVTMyKCkpOw0KICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9zaG9ydChidWZmLCB2MTgxLnJlYWRVMzIoKSk7DQogICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfZmluYWxpemUoYnVmZiwgMSk7DQogICAgICAgICAgICBDVXNlcl9TZW5kKHVzZXIsIGJ1ZmYpOw0KICAgICAgICAgICAgUGFja2V0R3VhcmRfZnJlZV9QYWNrZXRHdWFyZChidWZmKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgY2FzZSAyOg0KICAgICAgICAgICAgdmFyIHVzZXJBZGRJbmZvID0gQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY0FkZEluZm9SZWZXKHVzZXIpOw0KICAgICAgICAgICAgcHRyKHVzZXJBZGRJbmZvKS53cml0ZVUzMihwdHIodXNlckFkZEluZm8pLnJlYWRVMzIoKStndWlsZEV4cEJvb2spOw0KICAgICAgICAgICAgZ290bzMyKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgY2FzZSAzOg0KICAgICAgICAgICAgdmFyIHVzZXJBZGRJbmZvID0gQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY0FkZEluZm9SZWZXKHVzZXIpOw0KICAgICAgICAgICAgdXNlckFkZEluZm8gPSB1c2VyQWRkSW5mby5hZGQoNCk7DQogICAgICAgICAgICBwdHIodXNlckFkZEluZm8pLndyaXRlVTMyKHB0cih1c2VyQWRkSW5mbykucmVhZFUzMigpK2d1aWxkRXhwQm9vayk7DQogICAgICAgICAgICBnb3RvMzIodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICBjYXNlIDQ6DQogICAgICAgICAgICB2YXIgdXNlckFkZEluZm8gPSBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjQWRkSW5mb1JlZlcodXNlcik7DQogICAgICAgICAgICB1c2VyQWRkSW5mbyA9IHVzZXJBZGRJbmZvLmFkZCg4KTsNCiAgICAgICAgICAgIHB0cih1c2VyQWRkSW5mbykud3JpdGVVMTYocHRyKHVzZXJBZGRJbmZvKS5yZWFkVTE2KCkrZ3VpbGRFeHBCb29rKTsNCiAgICAgICAgICAgIGdvdG8zMih1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZik7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIGNhc2UgNToNCiAgICAgICAgICAgIHZhciB1c2VyQWRkSW5mbyA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNBZGRJbmZvUmVmVyh1c2VyKTsNCiAgICAgICAgICAgIHVzZXJBZGRJbmZvID0gdXNlckFkZEluZm8uYWRkKDEwKTsNCiAgICAgICAgICAgIHB0cih1c2VyQWRkSW5mbykud3JpdGVVMTYocHRyKHVzZXJBZGRJbmZvKS5yZWFkVTE2KCkrZ3VpbGRFeHBCb29rKTsNCiAgICAgICAgICAgIGdvdG8zMih1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZik7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIGNhc2UgNjoNCiAgICAgICAgICAgIHZhciB1c2VyQWRkSW5mbyA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNBZGRJbmZvUmVmVyh1c2VyKTsNCiAgICAgICAgICAgIHVzZXJBZGRJbmZvID0gdXNlckFkZEluZm8uYWRkKDEyKTsNCiAgICAgICAgICAgIHB0cih1c2VyQWRkSW5mbykud3JpdGVVMTYocHRyKHVzZXJBZGRJbmZvKS5yZWFkVTE2KCkrZ3VpbGRFeHBCb29rKTsNCiAgICAgICAgICAgIGdvdG8zMih1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZik7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIGNhc2UgNzoNCiAgICAgICAgICAgIHZhciB1c2VyQWRkSW5mbyA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNBZGRJbmZvUmVmVyh1c2VyKTsNCiAgICAgICAgICAgIHVzZXJBZGRJbmZvID0gdXNlckFkZEluZm8uYWRkKDE0KTsNCiAgICAgICAgICAgIHB0cih1c2VyQWRkSW5mbykud3JpdGVVMTYocHRyKHVzZXJBZGRJbmZvKS5yZWFkVTE2KCkrZ3VpbGRFeHBCb29rKTsNCiAgICAgICAgICAgIGdvdG8zMih1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZik7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIGNhc2UgODoNCiAgICAgICAgICAgIHZhciB1c2VyQWRkSW5mbyA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNBZGRJbmZvUmVmVyh1c2VyKTsNCiAgICAgICAgICAgIHVzZXJBZGRJbmZvID0gdXNlckFkZEluZm8uYWRkKDY2KTsNCiAgICAgICAgICAgIHB0cih1c2VyQWRkSW5mbykud3JpdGVVMzIocHRyKHVzZXJBZGRJbmZvKS5yZWFkVTMyKCkrZ3VpbGRFeHBCb29rKTsNCiAgICAgICAgICAgIGdvdG8zMih1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZik7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIGNhc2UgOToNCiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMzsgaSsrKSB7DQogICAgICAgICAgICAgICAgdmFyIHVzZXJBZGRJbmZvID0gQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY0FkZEluZm9SZWZXKHVzZXIpOw0KICAgICAgICAgICAgICAgIHVzZXJBZGRJbmZvID0gdXNlckFkZEluZm8uYWRkKDIqKGkqOCkpOw0KICAgICAgICAgICAgICAgIHB0cih1c2VyQWRkSW5mbykud3JpdGVVMTYocHRyKHVzZXJBZGRJbmZvKS5yZWFkVTE2KCkrZ3VpbGRFeHBCb29rKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGdvdG8zMih1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZik7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIGNhc2UgMTA6DQogICAgICAgIGNhc2UgMjQ6DQogICAgICAgICAgICBpZihndWlsZEV4cEJvb2sgPT0xKXsNCiAgICAgICAgICAgICAgICB2YXIgY3VyQ2hhcmFjU2tpbGxXID0gQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY1NraWxsVyh1c2VyKTsNCiAgICAgICAgICAgICAgICBTa2lsbFNsb3RfY2xlYXJfYWxsX3NraWxsc19ib3RoKGN1ckNoYXJhY1NraWxsVyk7DQogICAgICAgICAgICAgICAgY3VyQ2hhcmFjU2tpbGxXID0gQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY1NraWxsVyh1c2VyKTsNCiAgICAgICAgICAgICAgICBTa2lsbFNsb3Rfc2V0X3BhcmVudChjdXJDaGFyYWNTa2lsbFcsdXNlcik7DQogICAgICAgICAgICAgICAgdmFyIGNoYXJjSm9iID0gQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfam9iKHVzZXIpOw0KICAgICAgICAgICAgICAgIGN1ckNoYXJhY1NraWxsVyA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNTa2lsbFcodXNlcik7DQogICAgICAgICAgICAgICAgYWRkU2tpbGxPbkNyZWF0ZUNoYXJhY3RlcihjdXJDaGFyYWNTa2lsbFcrNzAsY2hhcmNKb2IpOw0KICAgICAgICAgICAgICAgIGNoYXJjSm9iID0gQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfam9iKHVzZXIpOw0KICAgICAgICAgICAgICAgIGN1ckNoYXJhY1NraWxsVyA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNTa2lsbFcodXNlcik7DQogICAgICAgICAgICAgICAgYWRkU2tpbGxPbkNyZWF0ZUNoYXJhY3RlcihjdXJDaGFyYWNTa2lsbFcrNDc4LGNoYXJjSm9iKTsNCiAgICAgICAgICAgICAgICAvLyDov5nlupTor6XmmK/mioDog73lj6rog70xMuS4quWOn+WboA0KICAgICAgICAgICAgICAgIHZhciBza2lsbExpc3QgPSBNZW1vcnkuYWxsb2MoMTIpOw0KICAgICAgICAgICAgICAgIHN0ZF92ZWN0b3Jfc3RkX3BhaXJfaW50X2ludF92ZWN0b3Ioc2tpbGxMaXN0KTsNCg0KICAgICAgICAgICAgICAgIHZhciBjdXJDaGFyU2Vjb25kR3Jvd1R5cGUgPSBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhclNlY29uZEdyb3dUeXBlKHVzZXIpOw0KICAgICAgICAgICAgICAgIHZhciBjdXJDaGFyRmlyc3RHcm93VHlwZSA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyRmlyc3RHcm93VHlwZSh1c2VyKTsNCiAgICAgICAgICAgICAgICB2YXIgZGF0YU1hbmFnZSA9IEdfQ0RhdGFNYW5hZ2VyKCkuYWRkKDIwKS5yZWFkVTMyKCk7DQogICAgICAgICAgICAgICAgdmFyIGdpdmVTa2lsbCA9IENDaGFyYWN0ZXJfZ2V0X2dpdmVfc2tpbGwoZGF0YU1hbmFnZSsyMDEyKkNVc2VyQ2hhcmFjSW5mb19nZXRfY2hhcmFjX2pvYih1c2VyKSxjdXJDaGFyRmlyc3RHcm93VHlwZSxjdXJDaGFyU2Vjb25kR3Jvd1R5cGUsc2tpbGxMaXN0LnRvSW50MzIoKSwwKTsNCiAgICAgICAgICAgICAgICB2YXIgdjgwOw0KICAgICAgICAgICAgICAgIGlmKGdpdmVTa2lsbCAhPTEpew0KICAgICAgICAgICAgICAgICAgICB2YXIgY2hhcmNOYW1lID0gJyc7DQogICAgICAgICAgICAgICAgICAgIHZhciBjaGFyY05hbWVWYWwgPSBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjTmFtZSh1c2VySW5mbyk7DQogICAgICAgICAgICAgICAgICAgIGlmKCFjaGFyY05hbWVWYWwuaXNOdWxsKCkpDQogICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNoYXJjTmFtZSA9ICBjaGFyY05hbWVWYWwucmVhZFV0ZjhTdHJpbmcoLTEpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIHZhciB2MTg0QWRyciA9IE1lbW9yeS5hbGxvYygxKTsNCiAgICAgICAgICAgICAgICAgICAgdjE4NEFkcnIud3JpdGVVOCh2MTg0KTsNCiAgICAgICAgICAgICAgICAgICAgTG9nTWFuYWdlcl9sb2dGb3JtYXQoTWVtb3J5LmFsbG9jKDEpLE1lbW9yeS5hbGxvY1V0ZjhTdHJpbmcoInVzZXIuY3BwIikudG9JbnQzMigpDQogICAgICAgICAgICAgICAgICAgICAgICAsTWVtb3J5LmFsbG9jVXRmOFN0cmluZygndm9pZCBDVXNlcjo6aW5jcmVhc2Vfc3RhdHVzKHNob3J0IGludCknKSxwdHIoMHg0YWVlKQ0KICAgICAgICAgICAgICAgICAgICAgICAgLE1lbW9yeS5hbGxvY1V0ZjhTdHJpbmcoJ1VzZXIgJXMgLSBDVXNlcjo6c2V0X2dyb3dfdHlwZSAlZCcpLE1lbW9yeS5hbGxvY1V0ZjhTdHJpbmcoY2hhcmNOYW1lKSx2MTg0QWRycik7DQogICAgICAgICAgICAgICAgICAgIHY4MCA9IDA7DQogICAgICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOzsgaSsrKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBpZihzdGRfdmVjdG9yX3N0ZF9wYWlyX2ludF9pbnRfc2l6ZShza2lsbExpc3QpIDw9aSl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2tpbGwgPSBzdGRfdmVjdG9yX3N0ZF9wYWlyX2ludF9pbnRfb3BlcmF0b3Ioc2tpbGxMaXN0LGkpOw0KICAgICAgICAgICAgICAgICAgICAgICAgU2tpbGxTbG90X2dyb3d0eXBlX3NraWxsKENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNTa2lsbFcodXNlciksQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfam9iKHVzZXIpLHNraWxsLnJlYWRVOCgpLHNraWxsLmFkZCgxKS5yZWFkVTgoKSwwKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIFNraWxsU2xvdF9ncm93dHlwZV9za2lsbChDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjU2tpbGxXKHVzZXIpLENVc2VyQ2hhcmFjSW5mb19nZXRfY2hhcmFjX2pvYih1c2VyKSxza2lsbC5yZWFkVTgoKSxza2lsbC5hZGQoMSkucmVhZFU4KCksMSk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgdmFyIGN1ckNoYXJhY0V4cGVydEpvYlR5cGUgPUNVc2VyQ2hhcmFjSW5mb19HZXRDdXJDaGFyYWNFeHBlcnRKb2JUeXBlKHVzZXIpOw0KICAgICAgICAgICAgICAgICAgICB2YXIgZXhwZXJ0Sm9iU2NyaXB0ID0gQ0RhdGFNYW5hZ2VyX0dldEV4cGVydEpvYlNjcmlwdChHX0NEYXRhTWFuYWdlcigpLGN1ckNoYXJhY0V4cGVydEpvYlR5cGUpOw0KICAgICAgICAgICAgICAgICAgICBpZihleHBlcnRKb2JTY3JpcHQhPTApew0KICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IDsgaSsrKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoc3RkX3ZlY3Rvcl9zdGRfcGFpcl9pbnRfaW50X3NpemUoZXhwZXJ0Sm9iU2NyaXB0LmFkZCgxMikpIDw9aSl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VyQ2hhcmFjRXhwZXJ0Sm9iRXhwID0gQ1VzZXJDaGFyYWNJbmZvX0dldEN1ckNoYXJhY0V4cGVydEpvYkV4cCh1c2VyKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VyRXhwZXJ0Sm9iTGV2ZWwgPSBDVXNlcl9HZXRDdXJFeHBlcnRKb2JMZXZlbCh1c2VyLCBjdXJDaGFyYWNFeHBlcnRKb2JFeHApOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBleHBlcnRKb2IgPSBzdGRfdmVjdG9yX3N0ZF9wYWlyX2ludF9pbnRfb3BlcmF0b3IoZXhwZXJ0Sm9iU2NyaXB0LmFkZCgxMiksaSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgU2tpbGxTbG90X2dyb3d0eXBlX3NraWxsKENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNTa2lsbFcodXNlciksQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfam9iKHVzZXIpLGV4cGVydEpvYi5yZWFkVTE2KCksY3VyRXhwZXJ0Sm9iTGV2ZWwsMCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgU2tpbGxTbG90X2dyb3d0eXBlX3NraWxsKENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNTa2lsbFcodXNlciksQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfam9iKHVzZXIpLGV4cGVydEpvYi5yZWFkVTE2KCksY3VyRXhwZXJ0Sm9iTGV2ZWwsMSk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgV29uZ1dvcmtfQ1NraWxsQ2hhbmdlcl9DU2tpbGxDaGFuZ2VyKHYxNzIpOw0KICAgICAgICAgICAgICAgICAgICBXb25nV29ya19DU2tpbGxDaGFuZ2VyX1NraWxsSW5pdGlhbGl6ZSh2MTcyLHVzZXIsMCwwKTsNCiAgICAgICAgICAgICAgICAgICAgQ1VzZXJfc2VuZF9za2lsbF9pbmZvKHVzZXIpOw0KICAgICAgICAgICAgICAgICAgICB2YXIgcHJlbWl1bUxldGhlTWFuYWdlciA9IENHYW1lTWFuYWdlcl9HZXRQcmVtaXVtTGV0aGVNYW5hZ2VyKEdfQ0dhbWVNYW5hZ2VyKCkpOw0KICAgICAgICAgICAgICAgICAgICBpZihDVXNlcl9pc0FmZmVjdGVkUHJlbWl1bSh1c2VyLnRvSW50MzIoKSwzMykhPTApew0KICAgICAgICAgICAgICAgICAgICAgICAgaWYocHJlbWl1bUxldGhlTWFuYWdlciE9MCAmJiBDVXNlcl9pc0FmZmVjdGVkUHJlbWl1bSh1c2VyLnRvSW50MzIoKSwzMykhPTApew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIENQcmVtaXVtTGV0aGVNYW5hZ2VyX0luaXRMZXRoZVNraWxsKHByZW1pdW1MZXRoZU1hbmFnZXIsIHVzZXIsIDApOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIENQcmVtaXVtTGV0aGVNYW5hZ2VyX0luaXRMZXRoZVNraWxsKHByZW1pdW1MZXRoZU1hbmFnZXIsIHVzZXIsIDEpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9ZWxzZSBpZihwcmVtaXVtTGV0aGVNYW5hZ2VyIT0wKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIENQcmVtaXVtTGV0aGVNYW5hZ2VyX1VwZGF0ZUJhY2t1cFNraWxsRmxhZyhwcmVtaXVtTGV0aGVNYW5hZ2VyLHVzZXIsMCk7DQogICAgICAgICAgICAgICAgICAgICAgICBDUHJlbWl1bUxldGhlTWFuYWdlcl9VcGRhdGVCYWNrdXBTa2lsbEZsYWcocHJlbWl1bUxldGhlTWFuYWdlcix1c2VyLDEpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIFdvbmdXb3JrX0NTa2lsbENoYW5nZXJfZF9DU2tpbGxDaGFuZ2VyKHYxNzIpOw0KICAgICAgICAgICAgICAgICAgICB2ODAgPSAxOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBzdGRfdmVjdG9yX3N0ZF9wYWlyX2ludF9pbnRfZF92ZWN0b3Ioc2tpbGxMaXN0KTsNCiAgICAgICAgICAgICAgICBpZih2ODA9PTEpew0KICAgICAgICAgICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfY2xlYXIoYnVmZik7DQogICAgICAgICAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfaGVhZGVyKGJ1ZmYsIDEsIDMyKTsNCiAgICAgICAgICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9ieXRlKGJ1ZmYsIDEpOw0KICAgICAgICAgICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X3Nob3J0KGJ1ZmYsIHNsb2YpOw0KICAgICAgICAgICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2J5dGUoYnVmZiwgdjE4NCk7DQogICAgICAgICAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfaW50KGJ1ZmYsIGd1aWxkRXhwQm9vayk7DQogICAgICAgICAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfc2hvcnQoYnVmZiwgMCk7DQogICAgICAgICAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfc2hvcnQoYnVmZiwgMCk7DQogICAgICAgICAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9maW5hbGl6ZShidWZmLCAxKTsNCiAgICAgICAgICAgICAgICAgICAgQ1VzZXJfU2VuZCh1c2VyLCBidWZmKTsNCiAgICAgICAgICAgICAgICAgICAgaWYodXNlci5hZGQoMTQ0MzY5KjQpLnJlYWRVMzIoKSA9PSA1KXsNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwYXJ0eSA9IENVc2VyX0dldFBhcnR5KHVzZXIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgaWYocGFydHkhPTApew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9jbGVhcihidWZmKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2hlYWRlcihidWZmLCAwLCAyKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2J5dGUoYnVmZiwgMSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9zaG9ydChidWZmLCAxKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBDVXNlcl9tYWtlX2Jhc2ljX2luZm8odXNlciwgYnVmZiwgMSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX2ZpbmFsaXplKGJ1ZmYsIDEpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIENQYXJ0eV9zZW5kX3RvX3BhcnR5KHBhcnR5LCBidWZmKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfWVsc2UgaWYodXNlci5hZGQoMTQ0MzY5KjQpLnJlYWRVMzIoKSA9PSA4KXsNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB3YXJSb29tID0gQ1VzZXJfR2V0V2FyUm9vbSh1c2VyKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHdhclJvb20hPTApew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9jbGVhcihidWZmKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2hlYWRlcihidWZmLCAwLCAyKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2J5dGUoYnVmZiwgMSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9zaG9ydChidWZmLCAxKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBDVXNlcl9tYWtlX2Jhc2ljX2luZm8odXNlciwgYnVmZiwgMSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX2ZpbmFsaXplKGJ1ZmYsIDEpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIFdhclJvb21fU2VuZFRvUm9vbSh3YXJSb29tLCBidWZmKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH1lbHNlIHsNCiAgICAgICAgICAgICAgICB2YXIgY3VyQ2hhcmFjU2tpbGxUcmVlSW5kZXggPSBDVXNlckNoYXJhY0luZm9fR2V0Q3VyQ2hhcmFjU2tpbGxUcmVlSW5kZXgodXNlcik7DQogICAgICAgICAgICAgICAgdmFyIGN1ckNoYXJhY1NraWxsVyA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNTa2lsbFcodXNlcik7DQogICAgICAgICAgICAgICAgU2tpbGxTbG90X2NsZWFyX2FsbF9za2lsbHMoY3VyQ2hhcmFjU2tpbGxXLHVzZXIpOw0KICAgICAgICAgICAgICAgIGN1ckNoYXJhY1NraWxsVyA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNTa2lsbFcodXNlcik7DQogICAgICAgICAgICAgICAgU2tpbGxTbG90X3NldF9wYXJlbnQoY3VyQ2hhcmFjU2tpbGxXLHVzZXIpOw0KICAgICAgICAgICAgICAgIGN1ckNoYXJhY1NraWxsVHJlZUluZGV4ID0gQ1VzZXJDaGFyYWNJbmZvX0dldEN1ckNoYXJhY1NraWxsVHJlZUluZGV4KHVzZXIpOw0KICAgICAgICAgICAgICAgIGlmKGN1ckNoYXJhY1NraWxsVHJlZUluZGV4PT0tMSB8fCBjdXJDaGFyYWNTa2lsbFRyZWVJbmRleCE9MCl7DQogICAgICAgICAgICAgICAgICAgIGN1ckNoYXJhY1NraWxsVyA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNTa2lsbFcodXNlcik7DQogICAgICAgICAgICAgICAgICAgIGFkZFNraWxsT25DcmVhdGVDaGFyYWN0ZXIoY3VyQ2hhcmFjU2tpbGxXLmFkZCg3MCksQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfam9iKHVzZXIpKTsNCiAgICAgICAgICAgICAgICB9ZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIGN1ckNoYXJhY1NraWxsVyA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNTa2lsbFcodXNlcik7DQogICAgICAgICAgICAgICAgICAgIGFkZFNraWxsT25DcmVhdGVDaGFyYWN0ZXIoY3VyQ2hhcmFjU2tpbGxXLmFkZCg0NzgpLENVc2VyQ2hhcmFjSW5mb19nZXRfY2hhcmFjX2pvYih1c2VyKSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIC8vIOi/meW6lOivpeaYr+aKgOiDveWPquiDvTEy5Liq5Y6f5ZugDQogICAgICAgICAgICAgICAgdmFyIHNraWxsTGlzdCA9IE1lbW9yeS5hbGxvYygxMik7DQogICAgICAgICAgICAgICAgc3RkX3ZlY3Rvcl9zdGRfcGFpcl9pbnRfaW50X3ZlY3Rvcihza2lsbExpc3QpOw0KDQogICAgICAgICAgICAgICAgdmFyIGN1ckNoYXJTZWNvbmRHcm93VHlwZSA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyU2Vjb25kR3Jvd1R5cGUodXNlcik7DQogICAgICAgICAgICAgICAgdmFyIGN1ckNoYXJGaXJzdEdyb3dUeXBlID0gQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJGaXJzdEdyb3dUeXBlKHVzZXIpOw0KICAgICAgICAgICAgICAgIHZhciBkYXRhTWFuYWdlID0gR19DRGF0YU1hbmFnZXIoKS5hZGQoMjApLnJlYWRVMzIoKTsNCiAgICAgICAgICAgICAgICB2YXIgZ2l2ZVNraWxsID0gQ0NoYXJhY3Rlcl9nZXRfZ2l2ZV9za2lsbChkYXRhTWFuYWdlKzIwMTIqQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfam9iKHVzZXIpLGN1ckNoYXJGaXJzdEdyb3dUeXBlLGN1ckNoYXJTZWNvbmRHcm93VHlwZSxza2lsbExpc3QudG9JbnQzMigpLDApOw0KICAgICAgICAgICAgICAgIHZhciB2ODA7DQogICAgICAgICAgICAgICAgaWYoZ2l2ZVNraWxsICE9MSl7DQogICAgICAgICAgICAgICAgICAgIHZhciBjaGFyY05hbWUgPSAnJzsNCiAgICAgICAgICAgICAgICAgICAgdmFyIGNoYXJjTmFtZVZhbCA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNOYW1lKHVzZXJJbmZvKTsNCiAgICAgICAgICAgICAgICAgICAgaWYoIWNoYXJjTmFtZVZhbC5pc051bGwoKSkNCiAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgY2hhcmNOYW1lID0gIGNoYXJjTmFtZVZhbC5yZWFkVXRmOFN0cmluZygtMSk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgdmFyIHYxODRBZHJyID0gTWVtb3J5LmFsbG9jKDEpOw0KICAgICAgICAgICAgICAgICAgICB2MTg0QWRyci53cml0ZVU4KHYxODQpOw0KICAgICAgICAgICAgICAgICAgICBMb2dNYW5hZ2VyX2xvZ0Zvcm1hdChNZW1vcnkuYWxsb2MoMSksTWVtb3J5LmFsbG9jVXRmOFN0cmluZygidXNlci5jcHAiKS50b0ludDMyKCkNCiAgICAgICAgICAgICAgICAgICAgICAgICxNZW1vcnkuYWxsb2NVdGY4U3RyaW5nKCd2b2lkIENVc2VyOjppbmNyZWFzZV9zdGF0dXMoc2hvcnQgaW50KScpLHB0cigweDRCNDgpDQogICAgICAgICAgICAgICAgICAgICAgICAsTWVtb3J5LmFsbG9jVXRmOFN0cmluZygnVXNlciAlcyAtIENVc2VyOjpzZXRfZ3Jvd190eXBlICVkJyksTWVtb3J5LmFsbG9jVXRmOFN0cmluZyhjaGFyY05hbWUpLHYxODRBZHJyKTsNCiAgICAgICAgICAgICAgICAgICAgdjgwID0gMDsNCiAgICAgICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7OyBpKyspIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHN0ZF92ZWN0b3Jfc3RkX3BhaXJfaW50X2ludF9zaXplKHNraWxsTGlzdCkgPD1pKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBza2lsbCA9IHN0ZF92ZWN0b3Jfc3RkX3BhaXJfaW50X2ludF9vcGVyYXRvcihza2lsbExpc3QsaSk7DQogICAgICAgICAgICAgICAgICAgICAgICBTa2lsbFNsb3RfZ3Jvd3R5cGVfc2tpbGwoQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY1NraWxsVyh1c2VyKSxDVXNlckNoYXJhY0luZm9fZ2V0X2NoYXJhY19qb2IodXNlciksc2tpbGwucmVhZFU4KCksc2tpbGwuYWRkKDEpLnJlYWRVOCgpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLENVc2VyQ2hhcmFjSW5mb19HZXRDdXJDaGFyYWNTa2lsbFRyZWVJbmRleCh1c2VyKSk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgdmFyIGN1ckNoYXJhY0V4cGVydEpvYlR5cGUgPUNVc2VyQ2hhcmFjSW5mb19HZXRDdXJDaGFyYWNFeHBlcnRKb2JUeXBlKHVzZXIpOw0KICAgICAgICAgICAgICAgICAgICB2YXIgZXhwZXJ0Sm9iU2NyaXB0ID0gQ0RhdGFNYW5hZ2VyX0dldEV4cGVydEpvYlNjcmlwdChHX0NEYXRhTWFuYWdlcigpLGN1ckNoYXJhY0V4cGVydEpvYlR5cGUpOw0KICAgICAgICAgICAgICAgICAgICBpZihleHBlcnRKb2JTY3JpcHQhPTApew0KICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IDsgaSsrKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoc3RkX3ZlY3Rvcl9zdGRfcGFpcl9pbnRfaW50X3NpemUoZXhwZXJ0Sm9iU2NyaXB0LmFkZCgxMikpIDw9aSl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VyQ2hhcmFjRXhwZXJ0Sm9iRXhwID0gQ1VzZXJDaGFyYWNJbmZvX0dldEN1ckNoYXJhY0V4cGVydEpvYkV4cCh1c2VyKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VyRXhwZXJ0Sm9iTGV2ZWwgPSBDVXNlcl9HZXRDdXJFeHBlcnRKb2JMZXZlbCh1c2VyLCBjdXJDaGFyYWNFeHBlcnRKb2JFeHApOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBleHBlcnRKb2IgPSBzdGRfdmVjdG9yX3N0ZF9wYWlyX2ludF9pbnRfb3BlcmF0b3IoZXhwZXJ0Sm9iU2NyaXB0LmFkZCgxMiksaSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgU2tpbGxTbG90X2dyb3d0eXBlX3NraWxsKENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNTa2lsbFcodXNlciksQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfam9iKHVzZXIpLGV4cGVydEpvYi5yZWFkVTE2KCksY3VyRXhwZXJ0Sm9iTGV2ZWwsMCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgU2tpbGxTbG90X2dyb3d0eXBlX3NraWxsKENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNTa2lsbFcodXNlciksQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfam9iKHVzZXIpLGV4cGVydEpvYi5yZWFkVTE2KCksY3VyRXhwZXJ0Sm9iTGV2ZWwsMSk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgV29uZ1dvcmtfQ1NraWxsQ2hhbmdlcl9DU2tpbGxDaGFuZ2VyKHYxNzIpOw0KICAgICAgICAgICAgICAgICAgICB2YXIgdjIxOSA9IDA7DQogICAgICAgICAgICAgICAgICAgIGN1ckNoYXJhY1NraWxsVHJlZUluZGV4ID0gQ1VzZXJDaGFyYWNJbmZvX0dldEN1ckNoYXJhY1NraWxsVHJlZUluZGV4KHVzZXIpOw0KICAgICAgICAgICAgICAgICAgICBpZihjdXJDaGFyYWNTa2lsbFRyZWVJbmRleD09LTEgfHwgY3VyQ2hhcmFjU2tpbGxUcmVlSW5kZXghPTApew0KICAgICAgICAgICAgICAgICAgICAgICAgdjIxOSA9IDE7DQogICAgICAgICAgICAgICAgICAgIH1lbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHYyMTkgPSAyOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIFdvbmdXb3JrX0NTa2lsbENoYW5nZXJfU2tpbGxJbml0aWFsaXplKHYxNzIsdXNlcix2MjE5LDApOw0KICAgICAgICAgICAgICAgICAgICBDVXNlcl9zZW5kX3NraWxsX2luZm8odXNlcik7DQogICAgICAgICAgICAgICAgICAgIHZhciBwcmVtaXVtTGV0aGVNYW5hZ2VyID0gQ0dhbWVNYW5hZ2VyX0dldFByZW1pdW1MZXRoZU1hbmFnZXIoR19DR2FtZU1hbmFnZXIoKSk7DQogICAgICAgICAgICAgICAgICAgIGlmKENVc2VyX2lzQWZmZWN0ZWRQcmVtaXVtKHVzZXIudG9JbnQzMigpLDMzKSE9MCl7DQogICAgICAgICAgICAgICAgICAgICAgICBpZihwcmVtaXVtTGV0aGVNYW5hZ2VyIT0wICYmIENVc2VyX2lzQWZmZWN0ZWRQcmVtaXVtKHVzZXIudG9JbnQzMigpLDMzKSE9MCl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VyQ2hhcmFjU2tpbGxUcmVlSW5kZXggPSBDVXNlckNoYXJhY0luZm9fR2V0Q3VyQ2hhcmFjU2tpbGxUcmVlSW5kZXgodXNlcik7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgQ1ByZW1pdW1MZXRoZU1hbmFnZXJfSW5pdExldGhlU2tpbGwocHJlbWl1bUxldGhlTWFuYWdlciwgdXNlciwgY3VyQ2hhcmFjU2tpbGxUcmVlSW5kZXgpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9ZWxzZSBpZihwcmVtaXVtTGV0aGVNYW5hZ2VyIT0wKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIGN1ckNoYXJhY1NraWxsVHJlZUluZGV4ID0gQ1VzZXJDaGFyYWNJbmZvX0dldEN1ckNoYXJhY1NraWxsVHJlZUluZGV4KHVzZXIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgQ1ByZW1pdW1MZXRoZU1hbmFnZXJfVXBkYXRlQmFja3VwU2tpbGxGbGFnKHByZW1pdW1MZXRoZU1hbmFnZXIsdXNlcixjdXJDaGFyYWNTa2lsbFRyZWVJbmRleCk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgV29uZ1dvcmtfQ1NraWxsQ2hhbmdlcl9kX0NTa2lsbENoYW5nZXIodjE3Mik7DQogICAgICAgICAgICAgICAgICAgIHY4MCA9IDE7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHN0ZF92ZWN0b3Jfc3RkX3BhaXJfaW50X2ludF9kX3ZlY3Rvcihza2lsbExpc3QpOw0KICAgICAgICAgICAgICAgIGlmKHY4MD09MSl7DQogICAgICAgICAgICAgICAgICAgIGdvdG8zMih1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZik7DQogICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICBQYWNrZXRHdWFyZF9mcmVlX1BhY2tldEd1YXJkKGJ1ZmYpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICBjYXNlIDExOg0KICAgICAgICAgICAgaWYoQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfZ3VpbGRrZXkodXNlcikhPTApew0KICAgICAgICAgICAgICAgIENVc2VyQ2hhcmFjSW5mb19hZGRfZ3VpbGRfZXhwKHVzZXIsZ3VpbGRFeHBCb29rKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGdvdG8zMih1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZik7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIGNhc2UgMTI6DQogICAgICAgICAgICBDVXNlckNoYXJhY0luZm9fc2V0Q3VyQ2hhcmFjU3RhbWluYSh1c2VyLGd1aWxkRXhwQm9vayk7DQogICAgICAgICAgICBnb3RvMzIodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICBjYXNlIDEzOg0KICAgICAgICAgICAgdmFyIGludmVuUiA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNJbnZlblIodXNlcik7DQogICAgICAgICAgICB2YXIgY29pbiA9IENJbnZlbnRvcnlfR2V0RXZlbnRDb2luKGludmVuUik7DQogICAgICAgICAgICB2YXIgYWxsQ29pbiA9IGNvaW4rZ3VpbGRFeHBCb29rOw0KICAgICAgICAgICAgdmFyIGludmVuVyA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNJbnZlblcodXNlcik7DQogICAgICAgICAgICBDSW52ZW50b3J5X1NldEV2ZW50Q29pbihpbnZlblcsYWxsQ29pbik7DQogICAgICAgICAgICBpbnZlblIgPSBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjSW52ZW5SKHVzZXIpOw0KICAgICAgICAgICAgY29pbiA9IENJbnZlbnRvcnlfR2V0RXZlbnRDb2luKGludmVuUik7DQogICAgICAgICAgICBjVXNlckhpc3RvcnlMb2dfRXZlbnRDb2luQWRkKHVzZXIuYWRkKDQ5NzQwOCksY29pbixndWlsZEV4cEJvb2ssMik7DQogICAgICAgICAgICBDVXNlcl9TZW5kVXBkYXRlSXRlbUxpc3QodXNlciwxLDAsMSk7DQogICAgICAgICAgICBnb3RvMzIodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICBjYXNlIDE0Og0KICAgICAgICAgICAgQ1VzZXJfUmVjb3ZlckZhdGlndWUodXNlcixndWlsZEV4cEJvb2spOw0KICAgICAgICAgICAgQ1VzZXJfU2VuZEZhdGlndWUodXNlcik7DQogICAgICAgICAgICBnb3RvMzIodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICBjYXNlIDE1Og0KICAgICAgICAgICAgdmFyIGN1ckNoYXJhY0ZhdGlndWUgPSBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjRmF0aWd1ZSh1c2VyKTsNCiAgICAgICAgICAgIHZhciB2YWwgPSBjdXJDaGFyYWNGYXRpZ3VlIC0gZ3VpbGRFeHBCb29rIDwwID8wOmN1ckNoYXJhY0ZhdGlndWUgLSBndWlsZEV4cEJvb2sNCiAgICAgICAgICAgIENVc2VyQ2hhcmFjSW5mb19zZXRDdXJDaGFyYWNGYXRpZ3VlKHVzZXIsdmFsKTsNCiAgICAgICAgICAgIENVc2VyX1NlbmRGYXRpZ3VlKHVzZXIpOw0KICAgICAgICAgICAgZ290bzMyKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgY2FzZSAxNjoNCiAgICAgICAgICAgIGlmKENVc2VyQ2hhcmFjSW5mb19nZXRfY2hhcmFjX2d1aWxka2V5KHVzZXIpIT0wKXsNCiAgICAgICAgICAgICAgICB2YXIgY2hhcmNObyA9IENVc2VyX2dldF9jaGFyYWNfbm8odXNlciwtMSk7DQogICAgICAgICAgICAgICAgdmFyIGNoYXJjR3VpbGRLZXkgPSBDVXNlckNoYXJhY0luZm9fZ2V0X2NoYXJhY19ndWlsZGtleSh1c2VyKTsNCiAgICAgICAgICAgICAgICB2YXIgc2VydmVyR3JvdXAgPSBDVXNlcl9HZXRTZXJ2ZXJHcm91cCh1c2VyKTsNCiAgICAgICAgICAgICAgICB2YXIgc2VydmVyUHJveHkgPSBDU2VydmVyUHJveHlNZ3JfQ0d1aWxkU2VydmVyUHJveHlfR2V0U2VydmVyUHJveHkocHRyKHB0cigweDA5NDBCRTJDKS5yZWFkVTMyKCkpLHNlcnZlckdyb3VwKTsNCiAgICAgICAgICAgICAgICBDR3VpbGRTZXJ2ZXJQcm94eV9TZW5kSW5jcmVhc2VHdWlsZEV4cChzZXJ2ZXJQcm94eSxjaGFyY0d1aWxkS2V5LGNoYXJjTm8sZ3VpbGRFeHBCb29rLDEpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZ290bzMyKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgY2FzZSAxNzoNCiAgICAgICAgICAgIENVc2VyX2dhaW5fc2ZwKHVzZXIsIGd1aWxkRXhwQm9vayk7DQogICAgICAgICAgICBDVXNlcl9oaXN0b3J5X2xvZ19zZnAodXNlciwgLTEsIGd1aWxkRXhwQm9vaywgMSk7DQogICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfY2xlYXIoYnVmZik7DQogICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2hlYWRlcihidWZmLCAxLCAzMik7DQogICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2J5dGUoYnVmZiwgMSk7DQogICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X3Nob3J0KGJ1ZmYsIHNsb2YpOw0KICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9ieXRlKGJ1ZmYsIHYxODQpOw0KICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9pbnQoYnVmZiwgZ3VpbGRFeHBCb29rKTsNCiAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfc2hvcnQoYnVmZiwgMCk7DQogICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X3Nob3J0KGJ1ZmYsIDApOw0KICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX2ZpbmFsaXplKGJ1ZmYsIDEpOw0KICAgICAgICAgICAgQ1VzZXJfU2VuZCh1c2VyLCBidWZmKTsNCiAgICAgICAgICAgIFBhY2tldEd1YXJkX2ZyZWVfUGFja2V0R3VhcmQoYnVmZik7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIGNhc2UgMTg6DQogICAgICAgICAgICBTa2lsbFNsb3RfY2xlYXJfc2ZwX3NraWxscyhDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjU2tpbGxXKHVzZXIpLnRvSW50MzIoKSxDVXNlckNoYXJhY0luZm9fZ2V0X2NoYXJhY19qb2IodXNlcikscHRyKENVc2VyQ2hhcmFjSW5mb19HZXRDdXJDaGFyYWNTa2lsbFRyZWVJbmRleCh1c2VyKSkpOw0KICAgICAgICAgICAgU2tpbGxTbG90X3NldF9wYXJlbnQoQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY1NraWxsVyh1c2VyKSx1c2VyKTsNCiAgICAgICAgICAgIHZhciB2MjAyID0gMDsNCiAgICAgICAgICAgIGlmICggQ1VzZXJDaGFyYWNJbmZvX0dldEN1ckNoYXJhY1NraWxsVHJlZUluZGV4KHVzZXIpID09IC0xIHx8IENVc2VyQ2hhcmFjSW5mb19HZXRDdXJDaGFyYWNTa2lsbFRyZWVJbmRleCh1c2VyKSE9MCApew0KICAgICAgICAgICAgICAgIHYyMDIgPSAzOw0KICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgICAgdjIwMiA9IDQ7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBXb25nV29ya19DU2tpbGxDaGFuZ2VyX0NTa2lsbENoYW5nZXIodjE3Mik7DQogICAgICAgICAgICBXb25nV29ya19DU2tpbGxDaGFuZ2VyX1NraWxsSW5pdGlhbGl6ZSh2MTcyLCB1c2VyLCB2MjAyLCAwKTsNCiAgICAgICAgICAgIENVc2VyX3NlbmRfc2tpbGxfaW5mbyh1c2VyKTsNCiAgICAgICAgICAgIFdvbmdXb3JrX0NTa2lsbENoYW5nZXJfZF9DU2tpbGxDaGFuZ2VyKHYxNzIpOw0KICAgICAgICAgICAgZ290bzMyKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgY2FzZSAxOToNCiAgICAgICAgICAgIENVc2VyQ2hhcmFjSW5mb19JbmNyZWFzZVBvd2VyV2FyUG9pbnQodXNlcixndWlsZEV4cEJvb2spOw0KICAgICAgICAgICAgZ290bzMyKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgY2FzZSAyMDoNCiAgICAgICAgICAgIENVc2VyX2FkanVzdF9jaGFyYWNfc3RhdCh1c2VyKTsNCiAgICAgICAgICAgIGlmKHVzZXIuYWRkKDE0NDM2OSkucmVhZFUzMigpPT0zKXsNCiAgICAgICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfY2xlYXIoYnVmZik7DQogICAgICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9oZWFkZXIoYnVmZiwgMCwgMik7DQogICAgICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9ieXRlKGJ1ZmYsIDEpOw0KICAgICAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfc2hvcnQoYnVmZiwgMSk7DQogICAgICAgICAgICAgICAgQ1VzZXJfbWFrZV9iYXNpY19pbmZvKHVzZXIsIGJ1ZmYsIDEpOw0KICAgICAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9maW5hbGl6ZShidWZmLCAxKTsNCiAgICAgICAgICAgICAgICBDVXNlcl9TZW5kKHVzZXIsIGJ1ZmYpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZ290bzMyKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgY2FzZSAyMToNCiAgICAgICAgICAgIHZhciBjb2luID0gQ0ludmVudG9yeV9HZXRDb2luKENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNJbnZlblIodXNlcikpOw0KICAgICAgICAgICAgQ0ludmVudG9yeV9TZXRDb2luKENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNJbnZlblcodXNlciksY29pbitndWlsZEV4cEJvb2spOw0KICAgICAgICAgICAgY29pbiA9IENJbnZlbnRvcnlfR2V0Q29pbihDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjSW52ZW5SKHVzZXIpKTsNCiAgICAgICAgICAgIGNVc2VySGlzdG9yeUxvZ19Db2luQWRkKHVzZXIuYWRkKDQ5NzQwOCksY29pbixndWlsZEV4cEJvb2ssMyk7DQogICAgICAgICAgICBDVXNlcl9TZW5kVXBkYXRlSXRlbUxpc3QodXNlciwxLDAsMSk7DQogICAgICAgICAgICBnb3RvMzIodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICBjYXNlIDIyOg0KICAgICAgICAgICAgaWYoZ3VpbGRFeHBCb29rPT0xKXsNCiAgICAgICAgICAgICAgICB2YXIgc2tpbGxXID0gQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY1NraWxsVyh1c2VyKTsNCiAgICAgICAgICAgICAgICBTa2lsbFNsb3RfY2xlYXJfYWxsX3NraWxsc19ib3RoKHNraWxsVyk7DQogICAgICAgICAgICAgICAgc2tpbGxXID0gQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY1NraWxsVyh1c2VyKTsNCiAgICAgICAgICAgICAgICBTa2lsbFNsb3Rfc2V0X3BhcmVudChza2lsbFcsdXNlcik7DQogICAgICAgICAgICAgICAgQ1VzZXJfZ2l2ZVB2UFNraWxsVHJlZSh1c2VyLDAsMSwzKTsNCiAgICAgICAgICAgICAgICB2YXIgcHZwR3JhZGUgPSBDVXNlckNoYXJhY0luZm9fZ2V0X3B2cF9ncmFkZSh1c2VyKTsNCiAgICAgICAgICAgICAgICB2YXIgcHZQU2tpbGxQb2ludCA9IFB2UFNraWxsVHJlZVBhcmFtZXRlclNjcmlwdF9nZXRQdlBTa2lsbFBvaW50KA0KICAgICAgICAgICAgICAgICAgICBHX0NEYXRhTWFuYWdlcigpLmFkZCg0MzAwOCksQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfam9iKHVzZXIpDQogICAgICAgICAgICAgICAgICAgICxDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhckZpcnN0R3Jvd1R5cGUodXNlcikNCiAgICAgICAgICAgICAgICAgICAgLENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyU2Vjb25kR3Jvd1R5cGUodXNlcikNCiAgICAgICAgICAgICAgICAgICAgLHB2cEdyYWRlLDANCiAgICAgICAgICAgICAgICApOw0KICAgICAgICAgICAgICAgIHNraWxsVyA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNTa2lsbFcodXNlcik7DQogICAgICAgICAgICAgICAgU2tpbGxTbG90X3NldF9yZW1haW5fc3BfYXRfaW5kZXgoc2tpbGxXLnRvSW50MzIoKSxwdlBTa2lsbFBvaW50LDApOw0KICAgICAgICAgICAgICAgIHNraWxsVyA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNTa2lsbFcodXNlcik7DQogICAgICAgICAgICAgICAgU2tpbGxTbG90X3NldF9yZW1haW5fc3BfYXRfaW5kZXgoc2tpbGxXLnRvSW50MzIoKSxwdlBTa2lsbFBvaW50LDEpOw0KICAgICAgICAgICAgICAgIENVc2VyX3NlbmRfc2tpbGxfaW5mbyh1c2VyKTsNCiAgICAgICAgICAgICAgICB2YXIgcHJlbWl1bUxldGhlTWFuYWdlciA9IENHYW1lTWFuYWdlcl9HZXRQcmVtaXVtTGV0aGVNYW5hZ2VyKEdfQ0dhbWVNYW5hZ2VyKCkpOw0KICAgICAgICAgICAgICAgIGlmKENVc2VyX2lzQWZmZWN0ZWRQcmVtaXVtKHVzZXIudG9JbnQzMigpLDMzKSE9MCl7DQogICAgICAgICAgICAgICAgICAgIGlmKHByZW1pdW1MZXRoZU1hbmFnZXIhPTAgJiYgQ1VzZXJfaXNBZmZlY3RlZFByZW1pdW0odXNlci50b0ludDMyKCksMzMpIT0wKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIENQcmVtaXVtTGV0aGVNYW5hZ2VyX0luaXRMZXRoZVNraWxsKHByZW1pdW1MZXRoZU1hbmFnZXIsIHVzZXIsIDApOw0KICAgICAgICAgICAgICAgICAgICAgICAgQ1ByZW1pdW1MZXRoZU1hbmFnZXJfSW5pdExldGhlU2tpbGwocHJlbWl1bUxldGhlTWFuYWdlciwgdXNlciwgMSk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9ZWxzZSBpZihwcmVtaXVtTGV0aGVNYW5hZ2VyIT0wKXsNCiAgICAgICAgICAgICAgICAgICAgQ1ByZW1pdW1MZXRoZU1hbmFnZXJfVXBkYXRlQmFja3VwU2tpbGxGbGFnKHByZW1pdW1MZXRoZU1hbmFnZXIsdXNlciwwKTsNCiAgICAgICAgICAgICAgICAgICAgQ1ByZW1pdW1MZXRoZU1hbmFnZXJfVXBkYXRlQmFja3VwU2tpbGxGbGFnKHByZW1pdW1MZXRoZU1hbmFnZXIsdXNlciwxKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICB2YXIgY3VyQ2hhcmFjU2tpbGxUcmVlSW5kZXggPSBDVXNlckNoYXJhY0luZm9fR2V0Q3VyQ2hhcmFjU2tpbGxUcmVlSW5kZXgodXNlcik7DQogICAgICAgICAgICAgICAgdmFyIHNraWxsVyA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNTa2lsbFcodXNlcik7DQogICAgICAgICAgICAgICAgU2tpbGxTbG90X2NsZWFyX2FsbF9za2lsbHMoc2tpbGxXLGN1ckNoYXJhY1NraWxsVHJlZUluZGV4KTsNCiAgICAgICAgICAgICAgICBza2lsbFcgPSBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjU2tpbGxXKHVzZXIpOw0KICAgICAgICAgICAgICAgIFNraWxsU2xvdF9zZXRfcGFyZW50KHNraWxsVyx1c2VyKTsNCiAgICAgICAgICAgICAgICB2YXIgdjIxOSA9IDA7DQogICAgICAgICAgICAgICAgY3VyQ2hhcmFjU2tpbGxUcmVlSW5kZXggPSBDVXNlckNoYXJhY0luZm9fR2V0Q3VyQ2hhcmFjU2tpbGxUcmVlSW5kZXgodXNlcik7DQogICAgICAgICAgICAgICAgaWYoY3VyQ2hhcmFjU2tpbGxUcmVlSW5kZXg9PS0xIHx8IGN1ckNoYXJhY1NraWxsVHJlZUluZGV4IT0wKXsNCiAgICAgICAgICAgICAgICAgICAgdjIxOSA9IDE7DQogICAgICAgICAgICAgICAgfWVsc2Ugew0KICAgICAgICAgICAgICAgICAgICB2MjE5ID0gMjsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgQ1VzZXJfZ2l2ZVB2UFNraWxsVHJlZSh1c2VyLDAsMSx2MjE5KTsNCiAgICAgICAgICAgICAgICB2YXIgcHZwR3JhZGUgPSBDVXNlckNoYXJhY0luZm9fZ2V0X3B2cF9ncmFkZSh1c2VyKTsNCiAgICAgICAgICAgICAgICB2YXIgcHZQU2tpbGxQb2ludCA9IFB2UFNraWxsVHJlZVBhcmFtZXRlclNjcmlwdF9nZXRQdlBTa2lsbFBvaW50KA0KICAgICAgICAgICAgICAgICAgICBHX0NEYXRhTWFuYWdlcigpLmFkZCg0MzAwOCksQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfam9iKHVzZXIpDQogICAgICAgICAgICAgICAgICAgICxDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhckZpcnN0R3Jvd1R5cGUodXNlcikNCiAgICAgICAgICAgICAgICAgICAgLENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyU2Vjb25kR3Jvd1R5cGUodXNlcikNCiAgICAgICAgICAgICAgICAgICAgLHB2cEdyYWRlLDANCiAgICAgICAgICAgICAgICApOw0KICAgICAgICAgICAgICAgIHNraWxsVyA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNTa2lsbFcodXNlcik7DQogICAgICAgICAgICAgICAgU2tpbGxTbG90X3NldF9yZW1haW5fc3BfYXRfaW5kZXgoc2tpbGxXLnRvSW50MzIoKSxwdlBTa2lsbFBvaW50LENVc2VyQ2hhcmFjSW5mb19HZXRDdXJDaGFyYWNTa2lsbFRyZWVJbmRleCh1c2VyKSk7DQogICAgICAgICAgICAgICAgQ1VzZXJfc2VuZF9za2lsbF9pbmZvKHVzZXIpOw0KICAgICAgICAgICAgICAgIHZhciBwcmVtaXVtTGV0aGVNYW5hZ2VyID0gQ0dhbWVNYW5hZ2VyX0dldFByZW1pdW1MZXRoZU1hbmFnZXIoR19DR2FtZU1hbmFnZXIoKSk7DQogICAgICAgICAgICAgICAgaWYoQ1VzZXJfaXNBZmZlY3RlZFByZW1pdW0odXNlci50b0ludDMyKCksMzMpIT0wKXsNCiAgICAgICAgICAgICAgICAgICAgaWYocHJlbWl1bUxldGhlTWFuYWdlciE9MCAmJiBDVXNlcl9pc0FmZmVjdGVkUHJlbWl1bSh1c2VyLnRvSW50MzIoKSwzMykhPTApew0KICAgICAgICAgICAgICAgICAgICAgICAgY3VyQ2hhcmFjU2tpbGxUcmVlSW5kZXggPSBDVXNlckNoYXJhY0luZm9fR2V0Q3VyQ2hhcmFjU2tpbGxUcmVlSW5kZXgodXNlcik7DQogICAgICAgICAgICAgICAgICAgICAgICBDUHJlbWl1bUxldGhlTWFuYWdlcl9Jbml0TGV0aGVTa2lsbChwcmVtaXVtTGV0aGVNYW5hZ2VyLCB1c2VyLCBjdXJDaGFyYWNTa2lsbFRyZWVJbmRleCk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9ZWxzZSBpZihwcmVtaXVtTGV0aGVNYW5hZ2VyIT0wKXsNCiAgICAgICAgICAgICAgICAgICAgY3VyQ2hhcmFjU2tpbGxUcmVlSW5kZXggPSBDVXNlckNoYXJhY0luZm9fR2V0Q3VyQ2hhcmFjU2tpbGxUcmVlSW5kZXgodXNlcik7DQogICAgICAgICAgICAgICAgICAgIENQcmVtaXVtTGV0aGVNYW5hZ2VyX1VwZGF0ZUJhY2t1cFNraWxsRmxhZyhwcmVtaXVtTGV0aGVNYW5hZ2VyLHVzZXIsY3VyQ2hhcmFjU2tpbGxUcmVlSW5kZXgpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGdvdG8zMih1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZik7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIGNhc2UgMjM6DQogICAgICAgICAgICB2YXIgdmxvZzMgPSBNZW1vcnkuYWxsb2MoMTYpOw0KICAgICAgICAgICAgdmFyIGNoYXJjTmFtZSA9ICcnOw0KICAgICAgICAgICAgdmFyIGNoYXJjTmFtZVZhbCA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNOYW1lKHN0Tm90aWZ5SW5nYW1lQURJbmZvKTsNCiAgICAgICAgICAgIGlmKCFjaGFyY05hbWVWYWwuaXNOdWxsKCkpDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgY2hhcmNOYW1lID0gIGNoYXJjTmFtZVZhbC5yZWFkVXRmOFN0cmluZygtMSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBjTXlUcmFjZV9jTXlUcmFjZSh2bG9nMyxNZW1vcnkuYWxsb2NVdGY4U3RyaW5nKCJ2b2lkIENVc2VyOjppbmNyZWFzZV9zdGF0dXMoc2hvcnQgaW50KSIpLDE5NDY2LDApOw0KICAgICAgICAgICAgY015VHJhY2Vfb3BlcmF0b3IodmxvZzMudG9JbnQzMigpLE1lbW9yeS5hbGxvY1V0ZjhTdHJpbmcoIk9ORV9EQVlfTEVUSEUgOiBCVVlfU0tJTExfQ09ORklSTV9USUNLRVQsIGNoYXIoJXMpLCBjaGFyX25vKCVkKSwgc3R5bGUoJWQpIiksTWVtb3J5LmFsbG9jVXRmOFN0cmluZyhjaGFyY05hbWUpKTsNCiAgICAgICAgICAgIHZhciBwcmVtaXVtTGV0aGVNYW5hZ2VyID0gQ0dhbWVNYW5hZ2VyX0dldFByZW1pdW1MZXRoZU1hbmFnZXIoR19DR2FtZU1hbmFnZXIoKSk7DQogICAgICAgICAgICBpZihwcmVtaXVtTGV0aGVNYW5hZ2VyIT0wKXsNCiAgICAgICAgICAgICAgICBDUHJlbWl1bUxldGhlTWFuYWdlcl9Db25maXJtU2tpbGxSZXEocHJlbWl1bUxldGhlTWFuYWdlcix1c2VyKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGdvdG8zMih1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZik7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIGNhc2UgMjU6DQogICAgICAgICAgICB2YXIgaXZlblcgPSBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjSW52ZW5XKHVzZXIpOw0KICAgICAgICAgICAgQXZhdGFyQ29pbl9BZGQoaXZlblcuYWRkKDE2MjQpLGd1aWxkRXhwQm9vayk7DQogICAgICAgICAgICBBdmF0YXJDb2luX1NhdmVUb0RCKHVzZXIpOw0KICAgICAgICAgICAgQXZhdGFyQ29pbl9TZW5kU3luY1BhY2tldCh1c2VyKTsNCiAgICAgICAgICAgIEF2YXRhckNvaW5fSGlzdG9yeUxvZ19BZGRMb2codXNlcixwdHIoZ3VpbGRFeHBCb29rKSk7DQogICAgICAgICAgICBnb3RvMzIodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICBkZWZhdWx0Og0KICAgICAgICAgICAgZ290bzMyKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICB9DQp9DQoNCmZ1bmN0aW9uIGdvdG8zMih1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZil7DQogICAgSW50ZXJmYWNlUGFja2V0QnVmX2NsZWFyKGJ1ZmYpOw0KICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfaGVhZGVyKGJ1ZmYsIDEsIDMyKTsNCiAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2J5dGUoYnVmZiwgMSk7DQogICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9zaG9ydChidWZmLCBzbG9mKTsNCiAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2J5dGUoYnVmZiwgdjE4NCk7DQogICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9pbnQoYnVmZiwgZ3VpbGRFeHBCb29rKTsNCiAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X3Nob3J0KGJ1ZmYsIDApOw0KICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfc2hvcnQoYnVmZiwgMCk7DQogICAgSW50ZXJmYWNlUGFja2V0QnVmX2ZpbmFsaXplKGJ1ZmYsIDEpOw0KICAgIENVc2VyX1NlbmQodXNlciwgYnVmZik7DQogICAgaWYodXNlci5hZGQoMTQ0MzY5KjQpLnJlYWRVMzIoKSA9PSA1KXsNCiAgICAgICAgdmFyIHBhcnR5ID0gQ1VzZXJfR2V0UGFydHkodXNlcik7DQogICAgICAgIGlmKHBhcnR5IT0wKXsNCiAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9jbGVhcihidWZmKTsNCiAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfaGVhZGVyKGJ1ZmYsIDAsIDIpOw0KICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9ieXRlKGJ1ZmYsIDEpOw0KICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9zaG9ydChidWZmLCAxKTsNCiAgICAgICAgICAgIENVc2VyX21ha2VfYmFzaWNfaW5mbyh1c2VyLCBidWZmLCAxKTsNCiAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9maW5hbGl6ZShidWZmLCAxKTsNCiAgICAgICAgICAgIENQYXJ0eV9zZW5kX3RvX3BhcnR5KHBhcnR5LCBidWZmKTsNCiAgICAgICAgfQ0KICAgIH1lbHNlIGlmKHVzZXIuYWRkKDE0NDM2OSo0KS5yZWFkVTMyKCkgPT0gOCl7DQogICAgICAgIHZhciB3YXJSb29tID0gQ1VzZXJfR2V0V2FyUm9vbSh1c2VyKTsNCiAgICAgICAgaWYod2FyUm9vbSE9MCl7DQogICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfY2xlYXIoYnVmZik7DQogICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2hlYWRlcihidWZmLCAwLCAyKTsNCiAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfYnl0ZShidWZmLCAxKTsNCiAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfc2hvcnQoYnVmZiwgMSk7DQogICAgICAgICAgICBDVXNlcl9tYWtlX2Jhc2ljX2luZm8odXNlciwgYnVmZiwgMSk7DQogICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfZmluYWxpemUoYnVmZiwgMSk7DQogICAgICAgICAgICBXYXJSb29tX1NlbmRUb1Jvb20od2FyUm9vbSwgYnVmZik7DQogICAgICAgIH0NCiAgICB9DQogICAgUGFja2V0R3VhcmRfZnJlZV9QYWNrZXRHdWFyZChidWZmKTsNCn0NCg0KZnVuY3Rpb24gZ2V0UmV0dXJuVXNlckxldmVsS2V5KG1heExldmVsKXsNCiAgICBJbnRlcmNlcHRvci5yZXBsYWNlKHB0cigweDA4NjkyMzBhKSwgbmV3IE5hdGl2ZUNhbGxiYWNrKGZ1bmN0aW9uIChzdE5vdGlmeUluZ2FtZUFESW5mbywgYTIsIGEzKSB7DQogICAgICAgIGNvbnNvbGUubG9nKCdnZXRSZXR1cm5Vc2VyTGV2ZWxLZXkgJytzdE5vdGlmeUluZ2FtZUFESW5mbysnICcrYTIrJyAnK2EzKTsNCiAgICAgICAgaWYoYTMhPTApew0KICAgICAgICAgICAgaWYoYTIgPD0xOSl7DQogICAgICAgICAgICAgICAgcmV0dXJuIDE1Ow0KICAgICAgICAgICAgfQ0KICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgIGlmKGEyIDw9OSl7DQogICAgICAgICAgICAgICAgcmV0dXJuIDU7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZihhMiA8PTE0KXsNCiAgICAgICAgICAgICAgICByZXR1cm4gMTA7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZihhMiA8PTE5KXsNCiAgICAgICAgICAgICAgICByZXR1cm4gMTU7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgaWYoYTIgPD0yOSl7DQogICAgICAgICAgICByZXR1cm4gMjA7DQogICAgICAgIH0NCiAgICAgICAgaWYoYTIgPD0zOSl7DQogICAgICAgICAgICByZXR1cm4gMzA7DQogICAgICAgIH0NCiAgICAgICAgaWYoYTIgPD00OSl7DQogICAgICAgICAgICByZXR1cm4gNDA7DQogICAgICAgIH0NCiAgICAgICAgaWYoYTIgPD01OSl7DQogICAgICAgICAgICByZXR1cm4gNTA7DQogICAgICAgIH0NCiAgICAgICAgaWYoYTIgPD02OSl7DQogICAgICAgICAgICByZXR1cm4gNjA7DQogICAgICAgIH0NCiAgICAgICAgaWYoYTIgPD03OSl7DQogICAgICAgICAgICByZXR1cm4gNzA7DQogICAgICAgIH0NCiAgICAgICAgaWYoYTIgPD04Nil7DQogICAgICAgICAgICByZXR1cm4gODA7DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIDYwOw0KICAgIH0sICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50JywgJ2ludCddKSk7DQp9DQoNCi8v6K6+572u5pyA5aSn562J57qnDQpmdW5jdGlvbiBzZXRNYXhVcEdyYWRlKG1heExldmVsKXsNCiAgICBpZihtYXhMZXZlbCkgew0KICAgICAgICBjb25zb2xlLmxvZygiMSIpDQogICAgICAgIGNhbGN1cmF0ZVVzZXJNYXhMZXZlbChtYXhMZXZlbCk7DQogICAgICAgIHNldFVzZXJNYXhMZXZlbChtYXhMZXZlbCk7DQogICAgICAgIGlzVGhlcmVEYWlseVRyYWluaW5nUXVlc3RMaXN0KG1heExldmVsKTsNCiAgICAgICAgY2FsTGV2ZWxVcEl0ZW1DaGVjayhtYXhMZXZlbCk7DQogICAgICAgIGdldExldmVsU2VjdGlvbkV4cCgpOw0KICAgICAgICBnZXRTcEF0TGV2ZWxVcChtYXhMZXZlbCk7DQogICAgICAgIHNldExldmVsRXhwKG1heExldmVsKTsNCiAgICAgICAgc2V0UmV3YXJkU3AobWF4TGV2ZWwpOw0KICAgICAgICBjaGVja0xldmVsVXAobWF4TGV2ZWwpOw0KICAgICAgICBnYWluRXhwU3AobWF4TGV2ZWwpOw0KICAgICAgICBvbkxldmVsVXAobWF4TGV2ZWwpOw0KICAgICAgICBpbmNyZWFzZVN0YXR1cyhtYXhMZXZlbCk7DQogICAgICAgIGdldFJldHVyblVzZXJMZXZlbEtleShtYXhMZXZlbCkNCiAgICAgICAgY29uc29sZS5sb2coIjEzIik7DQoNCiAgICB9DQp9DQoNCi8v5Y+W5raI5paw6LSm5Y+36YCB5oiQ6ZW/5aWR57qmDQpmdW5jdGlvbiBJbnRlcmNlcHRvcl9JbnRlclNlbGVjdE1vYmlsZUF1dGhSZXdhcmQoKSB7DQoNCiAgICAvL+i/mOWOnyBJbnRlclNlbGVjdE1vYmlsZUF1dGhSZXdhcmQ6OmRpc3BhdGNoX3NpZyDlh73mlbANCiAgICB2YXIgRGVmcHRyID0gcHRyKDB4MDgxNjEzODQpOw0KICAgIHZhciB2YWx1ZSA9IERlZnB0ci5yZWFkVTgoKQ0KICAgIGlmICh2YWx1ZSAhPSAweDBGKSB7DQoNCiAgICAgICAgTWVtb3J5LnByb3RlY3QoRGVmcHRyLCAxMCwgJ3J3eCcpOw0KICAgICAgICBEZWZwdHIud3JpdGVTaG9ydCgweDg0MEYpOw0KICAgIH0NCiAgICAvL+mHjeWGmUludGVyU2VsZWN0TW9iaWxlQXV0aFJld2FyZDo6ZGlzcGF0Y2hfc2lnIOWHveaVsA0KICAgIHZhciBJbnRlcl9EaXNwYXRjaFByID0gcHRyKDB4MDgxNjEzMkEpOw0KICAgIHZhciBJbnRlcl9EaXNwYXRjaCA9IG5ldyBOYXRpdmVGdW5jdGlvbihJbnRlcl9EaXNwYXRjaFByLCAnaW50JywgWydwb2ludGVyJywgJ3BvaW50ZXInLCAncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQogICAgSW50ZXJjZXB0b3IucmVwbGFjZShJbnRlcl9EaXNwYXRjaFByLCBuZXcgTmF0aXZlQ2FsbGJhY2soZnVuY3Rpb24oSW50ZXJTZWxlY3RNb2JpbGVBdXRoUmV3YXJkLCBDVXNlciwgYTMpIHsNCg0KICAgICAgICAvL3ZhciBJbnRlcl9EaXNwYXRjaE9wZW4gPSB0cnVlOw0KICAgICAgICB2YXIgSW50ZXJfRGlzcGF0Y2hPcGVuID0gZmFsc2U7DQogICAgICAgIGlmIChJbnRlcl9EaXNwYXRjaE9wZW4pIHsNCg0KICAgICAgICAgICAgYTMuYWRkKDQpLndyaXRlSW50KDApOw0KICAgICAgICAgICAgcmV0dXJuIEludGVyX0Rpc3BhdGNoKEludGVyU2VsZWN0TW9iaWxlQXV0aFJld2FyZCwgQ1VzZXIsIGEzKTsgLy/miafooYzljp/lh73mlbDlj5HpgIHmiJDplb/lpZHnuqYNCg0KICAgICAgICB9DQoNCiAgICAgICAgcmV0dXJuIDA7IC8v5Y+W5raI5paw6LSm5Y+36YCB5oiQ6ZW/5aWR57qmICAgIOi/lOWbnjDooajnpLrmraPluLjov5Tlm54gDQoNCiAgICB9LCAnaW50JywgWydwb2ludGVyJywgJ3BvaW50ZXInLCAncG9pbnRlciddKSk7DQoNCn0NCg0KLy/lv73nlaXlia/mnKzpl6jlj6PnpoHmraLmkYbmkYoNCmZ1bmN0aW9uIFByaXZhdGVzdG9yZV9JZ25vcmVOZWFyRHVuZ2VvbigpDQp7DQogICAgSW50ZXJjZXB0b3IuYXR0YWNoKHB0cigweDA4NUM1MDgyKSx7DQogICAgb25FbnRlcjogZnVuY3Rpb24gKGFyZ3MpIHsNCiAgICB9LA0KICAgIG9uTGVhdmU6IGZ1bmN0aW9uIChyZXR2YWwpIHsNCiAgICAvL+iOt+WPlui/lOWbnuWAvA0KICAgIHZhciByZXR1cm5WYWx1ZSA9IHJldHZhbC50b0ludDMyKCk7DQogICAgY29uc29sZS5sb2coJ1JldHVybiBWYWx1ZTonICsgcmV0dXJuVmFsdWUpOw0KICAgIC8v5by65Yi26L+U5ZueMQ0KICAgIHJldHZhbC5yZXBsYWNlKDEpOw0KICAgIH0NCiAgICB9KTsNCn0NCg0KLy/lrqLmiLfnq6/kuLTml7bmj5DljYfmioDog73nrYnnuqcNCmZ1bmN0aW9uIHNraWxsVXBncmFkaW5nKCkNCnsNCiAgICBJbnRlcmNlcHRvci5hdHRhY2gocHRyKDB4ODY2QzQ2QSksIHsNCiAgICBvbkVudGVyOiBmdW5jdGlvbiAoYXJncykgew0KICAgIC8v6KeS6Imy5oqA6IO95L+h5oGvDQogICAgdGhpcy5za2lsbF9wdHIgPSBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjU2tpbGxSKGFyZ3NbMF0pOw0KICAgIA0KICAgIA0KICAgIC8v5L+d5a2Y5Y6f5aeL5oqA6IO95L+h5oGvDQogICAgdGhpcy5vbGRfc2tpbGxfaW5mbyA9IHRoaXMuc2tpbGxfcHRyLnJlYWRCeXRlQXJyYXkoMjAzICogMzIpOw0KICAgIA0KICAgIA0KICAgIC8v5Li05pe25L+u5pS55oqA6IO9562J57qnDQogICAgZm9yICh2YXIgaSA9IDA7IGkgPD0gMjAzOyArK2kpIHsNCiAgICBpZiAodGhpcy5za2lsbF9wdHIuYWRkKDIgKiAoaSArIDMyKSArIDYpLnJlYWRVOCgpKSB7DQogICAgdmFyIG9sZF9za2lsbF9sZXZlbCA9IHRoaXMuc2tpbGxfcHRyLmFkZCgyICogKGkgKyAzMikgKyA3KS5yZWFkVTgoKTsNCiAgICAvL+aJgOacieaKgOiDveetiee6pys1DQogICAgdGhpcy5za2lsbF9wdHIuYWRkKDIgKiAoaSArIDMyKSArIDcpLndyaXRlVTgob2xkX3NraWxsX2xldmVsICsgNSk7DQogICAgfQ0KICAgIH0NCiAgICB9LA0KICAgIG9uTGVhdmU6IGZ1bmN0aW9uIChyZXR2YWwpIHsNCiAgICAvL+i/mOWOn+aKgOiDveetiee6pw0KICAgIHRoaXMuc2tpbGxfcHRyLndyaXRlQnl0ZUFycmF5KHRoaXMub2xkX3NraWxsX2luZm8pOw0KICAgIH0NCiAgICB9KTsNCn0NCg0KLy/lia/mnKzmjaHkuJzopb/llorlloflj63nu5nngrnliLgNCmZ1bmN0aW9uIHByb2Nlc3NpbmdfZGF0YShpdGVtX2lkLCB1c2VyLCBhd2FyZF9pdGVtX2lkLCBhd2FyZF9pdGVtX2NvdW50LCBjb3VudCkgew0KICAgIGNvbnN0IGl0ZW1OYW1lID0gYXBpX0NJdGVtX0dldEl0ZW1OYW1lKGl0ZW1faWQpOw0KDQogICAgaWYgKGF3YXJkX2l0ZW1faWQgPT0gMCAmJiBjb3VudCAhPSAwKSB7DQogICAgICAgIGFwaV9HYW1lV29ybGRfU2VuZE5vdGlQYWNrZXRNZXNzYWdlKCLmga3llpznjqnlrrY8IiArDQogICAgICAgICAgICAiIiArIGFwaV9DVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjTmFtZSh1c2VyKSArICIiICsNCiAgICAgICAgICAgICI+5Zyo5Zyw5LiL5Z+O5Lit6I635b6X5LqGWyIgKyBpdGVtTmFtZSArICJd77yM5aWW5Yqx54K55Yi477ya4piGIiArIGNvdW50ICsgIuKYhiIsIDE0KTsNCg0KICAgICAgICBhcGlfcmVjaGFyZ2VfY2FzaF9jZXJhKHVzZXIsIGNvdW50KTsNCiAgICB9DQoNCiAgICBpZiAoYXdhcmRfaXRlbV9pZCAhPSAwICYmIGNvdW50ID09IDApIHsNCiAgICAgICAgYXBpX0dhbWVXb3JsZF9TZW5kTm90aVBhY2tldE1lc3NhZ2UoIuaBreWWnOeOqeWutjwiICsNCiAgICAgICAgICAgICIiICsgYXBpX0NVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNOYW1lKHVzZXIpICsgIiIgKw0KICAgICAgICAgICAgIj7lnKjlnLDkuIvln47kuK3ojrflvpfkuoZbIiArIGl0ZW1OYW1lICsgIl3vvIzlpZblirHvvJrimIYiICsgYXBpX0NJdGVtX0dldEl0ZW1OYW1lKGF3YXJkX2l0ZW1faWQpICsgIuKYhiIsIDE0KTsNCg0KICAgICAgICBhcGlfQ1VzZXJfQWRkSXRlbSh1c2VyLCBhd2FyZF9pdGVtX2lkLCBhd2FyZF9pdGVtX2NvdW50KTsNCiAgICB9DQoNCiAgICBpZiAoYXdhcmRfaXRlbV9pZCAhPSAwICYmIGNvdW50ICE9IDApIHsNCiAgICAgICAgYXBpX0dhbWVXb3JsZF9TZW5kTm90aVBhY2tldE1lc3NhZ2UoIuaBreWWnOeOqeWutjwiICsNCiAgICAgICAgICAgICIiICsgYXBpX0NVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNOYW1lKHVzZXIpICsgIiIgKw0KICAgICAgICAgICAgIj7lnKjlnLDkuIvln47kuK3ojrflvpfkuoZbIiArIGl0ZW1OYW1lICsgIl3vvIzlpZblirHvvJrimIYiICsgYXBpX0NJdGVtX0dldEl0ZW1OYW1lKGF3YXJkX2l0ZW1faWQpICsgIuKYhu+8jOWlluWKseeCueWIuO+8miIgKyBjb3VudCwgMTQpOw0KDQogICAgICAgIGFwaV9DVXNlcl9BZGRJdGVtKHVzZXIsIGF3YXJkX2l0ZW1faWQsIGF3YXJkX2l0ZW1fY291bnQpOw0KDQogICAgICAgIGFwaV9yZWNoYXJnZV9jYXNoX2NlcmEodXNlciwgY291bnQpOw0KICAgIH0NCg0KICAgIENVc2VyX3NlbmRfaXRlbXNwYWNlKHVzZXIsIElOVkVOVE9SWV9UWVBFX0lURU0pOw0KfQ0KDQovL+WumuaXtumCruS7tg0KZnVuY3Rpb24gZXhlY3V0ZUF0VGltZShob3VyLCBtaW51dGUsIHNlY29uZCwgZ29sZCwgaXRlbV9saXN0LCB0YXNrKSB7DQoNCgl2YXIgbm93ID0gbmV3IERhdGUoKTsNCg0KCXZhciB0YXJnZXQgPSBuZXcgRGF0ZShub3cuZ2V0RnVsbFllYXIoKSwgbm93LmdldE1vbnRoKCksIG5vdy5nZXREYXRlKCksIGhvdXIsIG1pbnV0ZSwgc2Vjb25kKTsNCg0KCWlmIChub3cuZ2V0VGltZSgpID4gdGFyZ2V0LmdldFRpbWUoKSkgew0KCQl0YXJnZXQuc2V0RGF0ZSh0YXJnZXQuZ2V0RGF0ZSgpICsgMSk7DQoJfQ0KDQoJdmFyIGRpZmYgPSB0YXJnZXQuZ2V0VGltZSgpIC0gbm93LmdldFRpbWUoKTsNCg0KCXNldFRpbWVvdXQoZnVuY3Rpb24oKSB7DQoJCS8vIOe7meWcqOe6v+eOqeWutu+8jOWPkemAgemBk+WFt+mCruS7tuagh+mimCwg6YKu5Lu25q2j5paHLCDph5HluIHmlbDph48sIOmBk+WFt+WIl+ihqA0KCQlhcGlfR2FtZXdvcmxkX3NlbmRfbWFpbCgiR03lj7DmnI3lrpjmlrnpgq7ku7YiLCAiRE5G5Y+w5pyN6L+Q6JCl5ZWG5LiN5Lya5bey5Lu75L2V5b2i5byP57Si6KaB5L2g55qE55So5oi35ZCN5a+G56CB6K+35L2g5LiN6KaB6YKu5a+E5YWz5LqO5oKo6LSm5Y+35a+G56CB55qE5Lu75L2V5L+h5oGvISIsIGdvbGQsIGl0ZW1fbGlzdCk7DQoJCXRhc2soKTsNCg0KCQlleGVjdXRlQXRUaW1lKGhvdXIsIG1pbnV0ZSwgc2Vjb25kLCB0YXNrKTsNCgl9LCBkaWZmKTsNCn0NCi8v5a6a5pe26YKu5Lu26K6+572u77yM5Y+v5oyJ5qih5p2/5aSN5Yi25aSa5LiqDQpmdW5jdGlvbiBzY2hlZHVsZWRfbWFpbCgpDQp7DQogICAgdmFyIGl0ZW1fbGlzdF9vbmUgPSBbDQogICAgICAgIFszMDM2LCAyMF0sDQogICAgICAgIFsxLCAyMF0NCiAgICBdOw0KICAgIC8vIDE0IC0+IOW9k+WkqeeahDE054K577yMMTIgLT7lvZPlpKnnmoQxNOeCuTEy5YiG77yMMCAtPiDlvZPlpKnnmoQxNOeCuTEy5YiGMOenku+8jDAgLT7ku6Pooajlj5HlpJrlsJHkuKrph5HluIHvvIxpdGVtX2xpc3Rfb25lIC0+5Y+R6YCB55qE6YGT5YW35pyA5aSaMTDkuKrpgZPlhbfvvIENCiAgICBleGVjdXRlQXRUaW1lKDE4LCAzMCwgMCwgMCwgaXRlbV9saXN0X29uZSwgZnVuY3Rpb24oKSB7DQogICAgICAgIGNvbnNvbGUubG9nKCJTZW5kaW5nIGFuIGVtYWlsIGFzIHNjaGVkdWxlZCIpOw0KICAgIH0pOw0KfQ0KDQoNCg0KLyoqDQogKiAg6ISa5pys5ZCv5Yqo5YWl5Y+jDQogKi8NCi8v5Yqg6L295Li75Yqf6IO9DQpmdW5jdGlvbiBzdGFydCgpDQp7DQogICAgbG9nKCcrKysrKysrKysrKysrKysrKysrKyBmcmlkYSBpbml0ICsrKysrKysrKysrKysrKysrKysrJyk7DQogICAgLy/liqDovb3mnKzlnLDphY3nva7mlofku7YNCiAgICBsb2FkX2NvbmZpZygnZnJpZGFfY29uZmlnLmpzb24nKTsNCiAgICAvL+aMguaOpea2iOaBr+WIhuWPkee6v+eoiyDmiafooYzpnIDopoHlnKjkuLvnur/nqIvov5DooYznmoTku6PnoIENCiAgICBob29rX1RpbWVyRGlzcGF0Y2hlcl9kaXNwYXRjaCgpOw0KICAgIC8v5Yid5aeL5YyW5pWw5o2u5bqTDQogICAgYXBpX3NjaGVkdWxlT25NYWluVGhyZWFkKGluaXRfZGIsIG51bGwpOw0KICAgIC8v6K6+572u6LSm5Y+36YeR5bqT5qC85a2Q5pWw6YePDQogICAgLy9zZXRNYXhDQWNjb3VudENhcmdvU29sdCgxMjApOw0KICAgIC8v5byA5ZCv5oCq54mp5pS75Z+O5rS75YqoDQogICAgLy9hcGlfc2NoZWR1bGVPbk1haW5UaHJlYWQoc3RhcnRfZXZlbnRfdmlsbGFnZWF0dGFjaywgbnVsbCk7DQogICAgLy/lvIDlkK/mir3lj5blubjov5DlnKjnur/njqnlrrbmtLvliqgNCiAgICAvL3N0YXJ0X2V2ZW50X2x1Y2t5X29ubGluZV91c2VyKCk7DQogICAgLy/op5LoibLnmbvlhaXnmbvlh7rlpITnkIYNCiAgICAvL2hvb2tfdXNlcl9pbm91dF9nYW1lX3dvcmxkKCk7DQogICAgLy/mr4/ml6XpppbmrKHnmbvlvZXlpITnkIYNCiAgICAvL2hvb2tfdXNlcl9maXJzdF9sb2dpbigpOw0KICAgIC8v5aSE55CGR03kv6Hmga8NCiAgICAvL2hvb2tfZ21fY29tbWFuZCgpOw0KICAgIC8v6a2U5rOV5bCB5Y2w6Ieq5Yqo6Kej5bCBDQogICAgLy9hdXRvX3Vuc2VhbF9yYW5kb21fb3B0aW9uX2VxdWlwbWVudCgpOw0KICAgIC8v5YWB6K646LWb5Yip5Lqa5oi/6Ze055qE5Lq65LqS55u45Y+v6KeBDQogICAgLy9zaGFyZV9zZXJpYV9yb29tKCk7DQogICAgLy/miYDmnInotKblj7fop5LoibLlvIDlkK9HTeadg+mZkA0KICAgIC8vaG9va19jaGVja19nbSgpOw0KICAgIC8v6Kej6Zmk5q+P5pel5Yib5bu66KeS6Imy5pWw6YeP6ZmQ5Yi2DQogICAgLy9kaXNhYmxlX2NoZWNrX2NyZWF0ZV9jaGFyYWN0ZXJfbGltaXQoKTsNCiAgICAvL+aNleiOt+eOqeWutua4uOaIj+S6i+S7tg0KICAgIGhvb2tfaGlzdG9yeV9sb2coKTsNCiAgICAvL+S/ruWkjee7neacm+S5i+WhlA0KICAgIC8vZml4X1RPRCh0cnVlKTsgDQogICAgLy/lnKjnur/lpZblirENCiAgICAvL2VuYWJsZV9vbmxpbmVfcmV3YXJkKCk7DQogICAgLy/kv67lpI3ml7boo4XplbbltYwNCiAgICAvL2ZpeF91c2VfZW1ibGVtKCk7DQogICAgLy/lj5bmtojlj7Lor5fnoa7orqTmoYYNCiAgICAvL2NhbmNlbF9lcGljX29rKCk7IA0KICAgIC8v5byA5ZCv5Yib5bu657yU6YCg6ICFDQogICAgLy9lbmFibGVfY3JlYXRlQ3JlYXRvcigpOw0KICAgIC8v5byA5ZCv5rex5riK5qih5byPDQogICAgLy9zdGFydEhlbGxQYXJ0eSgpOyANCiAgICAvL+iuvue9ruacgOWkp+etiee6pw0KICAgIC8vc2V0TWF4VXBHcmFkZSg4NSk7DQogICAgLy/nnqzpl7Tnp7vliqjoja/liYINCiAgICAvL0ludGVyY2VwdG9yX0Rpc3BhdGNoZXJfVGVsZXBvcnQoKTsNCiAgICAvL+WPlua2iOaWsOWPt+mAgeWlkee6pg0KICAgIC8vSW50ZXJjZXB0b3JfSW50ZXJTZWxlY3RNb2JpbGVBdXRoUmV3YXJkKCk7DQogICAgLy/lv73nlaXlia/mnKzpl6jlj6PnpoHmraLmkYbmkYoNCiAgICAvL1ByaXZhdGVzdG9yZV9JZ25vcmVOZWFyRHVuZ2VvbigpOw0KICAgIC8v5a6i5oi356uv5Li05pe25o+Q5Y2H5oqA6IO9562J57qnDQogICAgLy9za2lsbFVwZ3JhZGluZygpOw0KICAgIC8v5a6a5pe26YKu5Lu2DQogICAgLy9zY2hlZHVsZWRfbWFpbCgpOw0KICAgIEludGVyY2VwdG9yLmZsdXNoKCk7DQogICAgbG9nKCcrKysrKysrKysrKysrKysrKysrKyBmcmlkYSBpbml0IHN1Y2Nlc3MgKysrKysrKysrKysrKysrKysrKysnKTsgLy/lpoLmnpzkvaDlnKjmjqfliLblj7DnnIvop4Hov5nkuKrooajnpLrmiYDmnInlip/og73lvIDlkK/miJDlip8NCn0NCg0KLy/lu7bov5/liqDovb3mj5Lku7YNCmZ1bmN0aW9uIGF3YWtlKCkNCnsNCiAgICAvL0hvb2sgY2hlY2tfYXJndg0KICAgIEludGVyY2VwdG9yLmF0dGFjaChwdHIoMHg4MjlFQTVBKSwNCiAgICB7DQogICAgICAgIG9uRW50ZXI6IGZ1bmN0aW9uKGFyZ3MpDQogICAgICAgIHsNCg0KICAgICAgICB9LA0KICAgICAgICBvbkxlYXZlOiBmdW5jdGlvbihyZXR2YWwpDQogICAgICAgIHsNCiAgICAgICAgICAgIC8v562J5b6FY2hlY2tfYXJnduWHveaVsOaJp+ihjOe7k+adn++8jOWGjeWKoOi9veaPkuS7tg0KICAgICAgICAgICAgc3RhcnQoKTsNCiAgICAgICAgfQ0KICAgIH0pOw0KfQ0KDQovL+ahhuaetuWFpeWPow0KcnBjLmV4cG9ydHMgPQ0Kew0KICAgIGluaXQ6IGZ1bmN0aW9uKHN0YWdlLCBwYXJhbWV0ZXJzKQ0KICAgIHsgICAvL+iEmuacrOWKoOi9veaXtuaJp+ihjA0KICAgICAgICBjb25zb2xlLmxvZygnW2luaXQgc3RhcnRdJyk7DQogICAgICAgIGNvbnNvbGUubG9nKCdbaW5pdF0gc3RhZ2U9JyArIHN0YWdlICsgJywgcGFyYW1ldGVycz0nICsgSlNPTi5zdHJpbmdpZnkocGFyYW1ldGVycykpOw0KICAgICAgICBpZiAoc3RhZ2UgPT0gJ2Vhcmx5JykNCiAgICAgICAgew0KICAgICAgICAgICAgLy/pppbmrKHliqDovb3mj5Lku7bvvJrnrYnlvoXmnI3liqHlmajliJ3lp4vljJblkI7lho3liqDovb0NCiAgICAgICAgICAgIGF3YWtlKCk7DQogICAgICAgIH0gZWxzZQ0KICAgICAgICB7DQogICAgICAgICAgICAvL+eDremHjei9ve+8muebtOaOpeWKoOi9vQ0KICAgICAgICAgICAgc3RhcnQoKTsNCiAgICAgICAgfQ0KICAgICAgICBjb25zb2xlLmxvZygnW2luaXQgZW5kXScpOw0KICAgIH0sDQogICAgZGlzcG9zZTogZnVuY3Rpb24oKQ0KICAgIHsgICAvL+iEmuacrOWNuOi9veaXtuaJp+ihjA0KICAgICAgICB1bmluaXRfZGIoKTsNCiAgICAgICAgY29uc29sZS5sb2coJy0tLS0tLS0tLS0tLS0tLS0tLS0tIGZyaWRhIGRpc3Bvc2UgLS0tLS0tLS0tLS0tLS0tLS0nKTsNCiAgICB9DQp9Ow==', '', '菜逗逗整理');
        INSERT INTO da_frida_script (script_name, script_context, children_function, remark) VALUES('最新脚本20231217', 'DQovLy0tLS0tLS0tLS0tLS0tLS0tLS0tSU5UUk9EVUNFX0ZVTkNUSU9OU19CRUdJTi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiANCiANCi8vLS0tLS0tLS0tLS0tLS0tLS0tLS1GVU5DVElPTl9CRUdJTiBkbmYtYWRtaW7nmoRmaXJkYeS4u+WHveaVsCwg6K+05piOOuS9v+eUqOmFjeWll+acjeWKoeerr+WSjGZpcmRh5b+F6YCJLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KIA0KIA0KDQoNCi8v5Yid5aeL5YyW5Yqg6L295Ye95pWwDQpmdW5jdGlvbiBzdGFydChjaGFubmVsKSB7DQogICAgY29uc29sZS5sb2coIj09PT09PT09PT09PT09PT09PT09PT09PT5zdGFydCBpbml0IGZyaWRhIik7DQogICAgLy/mjILmjqXmtojmga/liIblj5Hnur/nqIsg5omn6KGM6ZyA6KaB5Zyo5Li757q/56iL6L+Q6KGM55qE5Luj56CBDQogICAgaG9va19UaW1lckRpc3BhdGNoZXJfZGlzcGF0Y2goKTsNCiAgICBsb2FkX2NvbmZpZyhjaGFubmVsKTsNCiAgICBpbml0Rm9yQ29uZmlnKCk7DQogICAgLy/kv67lpI3nu53mnJvkuYvloZQNCiAgICBmaXhfVE9EKCk7DQogICAgLy/op5LoibLnmbvlhaXnmbvlh7rlpITnkIYNCiAgICBob29rX3VzZXJfaW5vdXRfZ2FtZV93b3JsZCgpDQogICAgLy/mjZXojrfnjqnlrrbmuLjmiI/kuovku7YNCiAgICBob29rX2hpc3RvcnlfbG9nKCk7DQogICAgY29uc29sZS5sb2coIj09PT09PT09PT09PT09PT09PT09PT09PT5mcmlkYSBzdGFydCBzdWNjZXNzIik7DQp9DQoNCg0KLy/lh73mlbDlr7zlh7rjgIHlj4LmlbDosIPor5UNCnJwYy5leHBvcnRzID0gew0KICAgIHN0YXJ0OiBmdW5jdGlvbiAoY2hhbm5lbCkgew0KICAgICAgICBzdGFydChjaGFubmVsKTsNCiAgICB9LA0KICAgIGhhbmRsZXJGY01lc3NhZ2U6IGZ1bmN0aW9uIChwYXJhbSkgew0KICAgICAgICB2YXIgcGFyYW1Kc29uID0gdW5kZWZpbmVkOw0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgcGFyYW1Kc29uID0gSlNPTi5wYXJzZShwYXJhbSk7DQogICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7DQogICAgICAgICAgICAvL+mdnmpzb27moLzlvI/nmoTmtojmga8NCiAgICAgICAgICAgIGV4ZWNOb0pzb25NZXNzYWdlKHBhcmFtKTsNCiAgICAgICAgfQ0KICAgICAgICBpZiAocGFyYW1Kc29uICE9PSB1bmRlZmluZWQpIHsNCiAgICAgICAgICAgIGlmIChwYXJhbUpzb24udHlwZSA9PT0gJ2RlYnVnJykgew0KICAgICAgICAgICAgICAgIGRlYnVnZnJpZGEocGFyYW1Kc29uLmRhdGEpDQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIGV4ZWNKc29uTWVzc2FnZShwYXJhbUpzb24pDQogICAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgIH0sDQp9OyANCiAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tRlVOQ1RJT05fRU5EIGRuZi1hZG1pbueahGZpcmRh5Li75Ye95pWwLOivtOaYjjrkvb/nlKjphY3lpZfmnI3liqHnq6/lkoxmaXJkYeW/hemAiS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gDQogDQovLy0tLS0tLS0tLS0tLS0tLS0tLS0tRlVOQ1RJT05fQkVHSU4gZGVidWfmtojmga/lpITnkIYsIOivtOaYjjrosIPor5VmcmlkYS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiANCiANCi8v5omn6KGMZGVidWfmtojmga8NCmZ1bmN0aW9uIGRlYnVnZnJpZGEoZGVidWdEYXRhKSB7DQogICBjb25zb2xlLmxvZygi5o6l5pS25YiwZGVidWfmtojmga86IitkZWJ1Z0RhdGEpOw0KfSANCiAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tRlVOQ1RJT05fRU5EIGRlYnVn5raI5oGv5aSE55CGLOivtOaYjjrosIPor5VmcmlkYS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gDQogDQovLy0tLS0tLS0tLS0tLS0tLS0tLS0tRlVOQ1RJT05fQkVHSU4g5L+u5aSN57ud5pyb5LmL5aGULCDor7TmmI465L+u5aSN57ud5pyb5LmL5aGULS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KIA0KIA0KLy/kv67lpI3nu53mnJvkuYvloZQNCi8vc2tpcF91c2VyX2FwYzog5Li6dHJ1ZeaXtiwg6Lez6L+H5q+PMTDlsYLnmoRVc2VyQVBDDQpmdW5jdGlvbiBmaXhfVE9EKHNraXBfdXNlcl9hcGMpIHsNCiAgICBjb25zb2xlLmxvZygiPT09PT09PT09PT09PT09PT09PT09PT7kv67lpI3nu53mnJvkuYvloZQiKQ0KICAgIC8v5q+P5pel6L+b5YWl5qyh5pWw6ZmQ5Yi2DQogICAgLy9UT0RfVXNlclN0YXRlOjpnZXRFbnRlckNvdW50DQogICAgSW50ZXJjZXB0b3IuYXR0YWNoKHB0cigweDA4NjQzODcyKSwgew0KDQogICAgICAgIG9uRW50ZXI6IGZ1bmN0aW9uIChhcmdzKSB7DQogICAgICAgICAgICAvL+S7iuaXpeW3sui/m+WFpeasoeaVsOW8uuWItua4hembtg0KICAgICAgICAgICAgYXJnc1swXS5hZGQoMHgxMCkud3JpdGVJbnQoMCk7DQogICAgICAgIH0sDQogICAgICAgIG9uTGVhdmU6IGZ1bmN0aW9uIChyZXR2YWwpIHsNCiAgICAgICAgfQ0KICAgIH0pOw0KDQogICAgLy/mr48xMOWxguaMkeaImOeOqeWutkFQQyDmnI3liqHlmajlhoXop5LoibLkuI3otrMxMOS4quaXoOazlei/m+WFpQ0KICAgIGlmIChza2lwX3VzZXJfYXBjKSB7DQogICAgICAgIC8v6Lez6L+HMTAvMjAvLi4uLzkw5bGCDQogICAgICAgIC8vVE9EX1VzZXJTdGF0ZTo6Z2V0VG9kYXlFbnRlckxheWVyDQogICAgICAgIEludGVyY2VwdG9yLmF0dGFjaChwdHIoMHgwODY0MzgzRSksIHsNCg0KICAgICAgICAgICAgb25FbnRlcjogZnVuY3Rpb24gKGFyZ3MpIHsNCiAgICAgICAgICAgICAgICAvL+e7neacm+S5i+WhlOW9k+WJjeWxguaVsA0KICAgICAgICAgICAgICAgIHZhciB0b2RheV9lbnRlcl9sYXllciA9IGFyZ3NbMV0uYWRkKDB4MTQpLnJlYWRTaG9ydCgpOw0KDQogICAgICAgICAgICAgICAgaWYgKCgodG9kYXlfZW50ZXJfbGF5ZXIgJSAxMCkgPT0gOSkgJiYgKHRvZGF5X2VudGVyX2xheWVyID4gMCkgJiYgKHRvZGF5X2VudGVyX2xheWVyIDwgMTAwKSkgew0KICAgICAgICAgICAgICAgICAgICAvL+W9k+WJjeWxguaVsOS4ujEw55qE5YCN5pWw5pe2ICDnm7TmjqXov5vlhaXkuIvkuIDlsYINCiAgICAgICAgICAgICAgICAgICAgYXJnc1sxXS5hZGQoMHgxNCkud3JpdGVTaG9ydCh0b2RheV9lbnRlcl9sYXllciArIDEpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBvbkxlYXZlOiBmdW5jdGlvbiAocmV0dmFsKSB7DQogICAgICAgICAgICB9DQogICAgICAgIH0pOw0KICAgIH0NCg0KDQoNCiAgICAvL+S/ruWkjemHkeW4geW8guW4uA0KICAgIC8vQ1BhcnR5OjpVc2VBbmNpZW50RHVuZ2Vvbkl0ZW1zDQogICAgdmFyIENQYXJ0eV9Vc2VBbmNpZW50RHVuZ2Vvbkl0ZW1zX3B0ciA9IHB0cigweDg1OUVBQzIpOw0KICAgIHZhciBDUGFydHlfVXNlQW5jaWVudER1bmdlb25JdGVtcyA9IG5ldyBOYXRpdmVGdW5jdGlvbihDUGFydHlfVXNlQW5jaWVudER1bmdlb25JdGVtc19wdHIsICdpbnQnLCBbJ3BvaW50ZXInLCAncG9pbnRlcicsICdwb2ludGVyJywgJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KICAgIEludGVyY2VwdG9yLnJlcGxhY2UoQ1BhcnR5X1VzZUFuY2llbnREdW5nZW9uSXRlbXNfcHRyLCBuZXcgTmF0aXZlQ2FsbGJhY2soZnVuY3Rpb24gKHBhcnR5LCBkdW5nZW9uLCBpbnZlbl9pdGVtLCBhNCkgew0KDQogICAgICAgIC8v5b2T5YmN6L+b5YWl55qE5Zyw5LiL5Z+OaWQNCiAgICAgICAgdmFyIGR1bmdlb25faW5kZXggPSBDRHVuZ2Vvbl9nZXRfaW5kZXgoZHVuZ2Vvbik7DQoNCiAgICAgICAgLy/moLnmja7lnLDkuIvln45pZOWIpOaWreaYr+WQpuS4uue7neacm+S5i+WhlA0KICAgICAgICBpZiAoKGR1bmdlb25faW5kZXggPj0gMTEwMDgpICYmIChkdW5nZW9uX2luZGV4IDw9IDExMTA3KSkgew0KICAgICAgICAgICAgLy/nu53mnJvkuYvloZQg5LiN5YaN5omj6Zmk6YeR5biBDQogICAgICAgICAgICByZXR1cm4gMTsNCiAgICAgICAgfQ0KDQogICAgICAgIC8v5YW25LuW5Ymv5pys5omn6KGM5Y6f5aeL5omj6Zmk6YGT5YW36YC76L6RDQogICAgICAgIHJldHVybiBDUGFydHlfVXNlQW5jaWVudER1bmdlb25JdGVtcyhwYXJ0eSwgZHVuZ2VvbiwgaW52ZW5faXRlbSwgYTQpOw0KICAgIH0sICdpbnQnLCBbJ3BvaW50ZXInLCAncG9pbnRlcicsICdwb2ludGVyJywgJ3BvaW50ZXInXSkpOw0KfSANCiAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tRlVOQ1RJT05fRU5EIOS/ruWkjee7neacm+S5i+WhlCzor7TmmI465L+u5aSN57ud5pyb5LmL5aGULS0tLS0tLS0tLS0tLS0tLS0tLS0tLSANCiANCi8vLS0tLS0tLS0tLS0tLS0tLS0tLS1GVU5DVElPTl9CRUdJTiDmnI3liqHnq6/ln7rnoYBhcGnlh73mlbAsIOivtOaYjjrmnI3liqHnq6/ln7rnoYBhcGnlh73mlbAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogDQogLy/ojrflj5bns7vnu5/ml7bpl7QNCnZhciBDU3lzdGVtVGltZV9nZXRDdXJTZWMgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODBDQkM5RSksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIEdsb2JhbERhdGFfc19zeXN0ZW1UaW1lXyA9IHB0cigweDk0MUY3MTQpOw0KLy/ojrflj5ZVVEPml7bpl7Qo56eSKQ0KdmFyIGdldEN1clNlYyA9IG5ldyBOYXRpdmVGdW5jdGlvbihNb2R1bGUuZ2V0RXhwb3J0QnlOYW1lKG51bGwsICd0aW1lJyksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KDQovL+S7juWuouaIt+err+WwgeWMheS4reivu+WPluaVsOaNrg0KdmFyIFBhY2tldEJ1Zl9nZXRfYnl0ZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4NThDRjIyKSwgJ2ludCcsIFsncG9pbnRlcicsICdwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBQYWNrZXRCdWZfZ2V0X3Nob3J0ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDg1OENGQzApLCAnaW50JywgWydwb2ludGVyJywgJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIFBhY2tldEJ1Zl9nZXRfaW50ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDg1OEQyN0UpLCAnaW50JywgWydwb2ludGVyJywgJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIFBhY2tldEJ1Zl9nZXRfYmluYXJ5ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDg1OEQzQjIpLCAnaW50JywgWydwb2ludGVyJywgJ3BvaW50ZXInLCAnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCg0KLy/mnI3liqHlmajnu4TljIUNCnZhciBQYWNrZXRHdWFyZF9QYWNrZXRHdWFyZCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4NThERDRDKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9oZWFkZXIgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODBDQjhGQyksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50JywgJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9ieXRlID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgwQ0I5MjApLCAnaW50JywgWydwb2ludGVyJywgJ3VpbnQ4J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X3Nob3J0ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgwRDlFQTQpLCAnaW50JywgWydwb2ludGVyJywgJ3VpbnQxNiddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9pbnQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODBDQjkzQyksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2JpbmFyeSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MTFERjA4KSwgJ2ludCcsIFsncG9pbnRlcicsICdwb2ludGVyJywgJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgSW50ZXJmYWNlUGFja2V0QnVmX2ZpbmFsaXplID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgwQ0I5NTgpLCAnaW50JywgWydwb2ludGVyJywgJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgRGVzdHJveV9QYWNrZXRHdWFyZF9QYWNrZXRHdWFyZCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4NThERTgwKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgSW50ZXJmYWNlUGFja2V0QnVmX2NsZWFyID0gIG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODBjYjhlNiksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfcGFja2V0ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MTUwOThlKSwgJ2ludCcsIFsncG9pbnRlcicsJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIFBhY2tldEd1YXJkX2ZyZWVfUGFja2V0R3VhcmQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg1OGRlODApLCAndm9pZCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgUGFja2V0X01vbml0b3JfTWF4X0xldmVsX0Jyb2FkQ2FzdF9QYWNrZXRfTW9uaXRvcl9NYXhfTGV2ZWxfQnJvYWRDYXN0ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4Njk0NTYwKSwgJ3ZvaWQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KDQovL+acjeWKoeWZqOe7hOWMhQ0KZnVuY3Rpb24gYXBpX1BhY2tldEd1YXJkX1BhY2tldEd1YXJkKCkNCnsNCiAgICB2YXIgcGFja2V0X2d1YXJkID0gTWVtb3J5LmFsbG9jKDB4MjAwMDApOw0KICAgIFBhY2tldEd1YXJkX1BhY2tldEd1YXJkKHBhY2tldF9ndWFyZCk7DQoNCiAgICByZXR1cm4gcGFja2V0X2d1YXJkOw0KfQ0KDQovL+acjeWKoeWZqOeOr+Wigw0KdmFyIEdfQ0Vudmlyb25tZW50ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MENDMTgxKSwgJ3BvaW50ZXInLCBbXSwgeyJhYmkiOiJzeXN2In0pOw0KLy/ojrflj5blvZPliY3mnI3liqHlmajphY3nva7mlofku7blkI0NCnZhciBDRW52aXJvbm1lbnRfZ2V0X2ZpbGVfbmFtZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MERBMzlBKSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KLy/ojrflj5ZHYW1lV29ybGTlrp7kvosNCnZhciBHX0dhbWVXb3JsZCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MERBM0E3KSwgJ3BvaW50ZXInLCBbXSwgeyJhYmkiOiJzeXN2In0pOw0KLy/moLnmja5zZXJ2ZXJfaWTmn6Xmib51c2VyDQp2YXIgR2FtZVdvcmxkX2ZpbmRfZnJvbV93b3JsZCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4NkM0QjlDKSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInLCAnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCi8v5Z+O6ZWH556s56e7DQp2YXIgR2FtZVdvcmxkX21vdmVfYXJlYSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4NkM1QTg0KSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInLCAncG9pbnRlcicsICdpbnQnLCAnaW50JywgJ2ludCcsICdpbnQnLCAnaW50JywgJ2ludCcsICdpbnQnLCAnaW50JywgJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQovL+agueaNrui0puWPt+afpeaJvuW3sueZu+W9leinkuiJsg0KdmFyIEdhbWVXb3JsZF9maW5kX3VzZXJfZnJvbV93b3JsZF9ieWFjY2lkID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDg2QzRENDApLCAncG9pbnRlcicsIFsncG9pbnRlcicsICdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KLy/lsIbljY/orq7lj5Hnu5nmiYDmnInlnKjnur/njqnlrrYo5oWO55SoISDlub/mkq3nsbvmjqXlj6Plv4XpobvpmZDliLbosIPnlKjpopHnjocsIOmYsuatokND5pS75Ye7KQ0KLy/pmaTpnZ7lv4Xpobvkvb/nlKgsIOWQpuWImeaUueeUqOWvueixoeabtOWKoOaYjuehrueahENQYXJ0eTo6c2VuZF90b19wYXJ0eS9HYW1lV29ybGQ6OnNlbmRfdG9fYXJlYQ0KdmFyIEdhbWVXb3JsZF9zZW5kX2FsbCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4NkM4QzE0KSwgICdpbnQnLCBbJ3BvaW50ZXInLCAncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgR2FtZVdvcmxkX3NlbmRfYWxsX3dpdGhfc3RhdGUgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODZDOTE4NCksICAnaW50JywgWydwb2ludGVyJywgJ3BvaW50ZXInLCAnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCi8v6I635Y+W5Zyo57q/546p5a625pWw6YePDQp2YXIgR2FtZVdvcmxkX2dldF9Vc2VyQ291bnRfSW5Xb3JsZCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4NkM0NTUwKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQovL+WcqOe6v+eOqeWutuWIl+ihqCjnlKjkuo5zdGQ6Om1hcOmBjeWOhikNCnZhciBHYW1ld29ybGRfdXNlcl9tYXBfYmVnaW4gPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODBGNzhBNiksICdpbnQnLCBbJ3BvaW50ZXInLCAncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgR2FtZXdvcmxkX3VzZXJfbWFwX2VuZCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MEY3OENDKSwgJ2ludCcsIFsncG9pbnRlcicsICdwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBHYW1ld29ybGRfdXNlcl9tYXBfbm90X2VxdWFsID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgwRjc4RjIpLCAnYm9vbCcsIFsncG9pbnRlcicsICdwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBHYW1ld29ybGRfdXNlcl9tYXBfZ2V0ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgwRjc5NDQpLCAncG9pbnRlcicsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgR2FtZXdvcmxkX3VzZXJfbWFwX25leHQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODBGNzkwNiksICdwb2ludGVyJywgWydwb2ludGVyJywgJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIEdhbWVXb3JsZF9Jc0VuY2hhbnRSZXZpc2lvbkNoYW5uZWwgPW5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODIzNDNmYyksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIEdhbWVXb3JsZF9nZXREdW5nZW9uTWluaW11bVJlcXVpcmVkTGV2ZWwgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2YzkwNzYpLCAnaW50JywgWydwb2ludGVyJywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBHYW1lV29ybGRfc2VuZF91c2VyX2R1bmdlb25faW5vdXRfbWVzc2FnZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODZjOGZjOCksICd2b2lkJywgWydwb2ludGVyJywncG9pbnRlcicsJ2ludCcsJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgR2FtZVdvcmxkX0lzUHZQU2tpbFRyZWVDaGFubmVsID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MjM0NDFlKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQoNCnZhciBHX0NHYW1lTWFuYWdlciA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODBjYzE4ZSksICdwb2ludGVyJywgW10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDR2FtZU1hbmFnZXJfR2V0UHJlbWl1bUxldGhlTWFuYWdlciA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODI5OGU4OCksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENFdmVudE1hbmFnZXJfR2V0UmVwZWF0RXZlbnQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgxMTU5OTgpLCAncG9pbnRlcicsIFsncG9pbnRlcicsJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgRXZlbnRDbGFzc2lmeV9DRXZlbnRTY3JpcHRNbmdfcHJvY2Vzc19sZXZlbF91cF9yZXdhcmQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgxMGJmNTYpLCAncG9pbnRlcicsIFsncG9pbnRlcicsJ3BvaW50ZXInLCdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIEd1aWxkUGFyYW1ldGVyU2NyaXB0X2dldEd1aWxkTGV2ZWxVcFBhcmFtID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4OTc5NjQ4KSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInLCdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIEd1aWxkUGFyYW1ldGVyU2NyaXB0X2dldEd1aWxkRXhwQm9vayA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODk3OTY3MiksICdpbnQnLCBbJ3BvaW50ZXInLCdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KDQovL+iOt+WPlkRhdGFNYW5hZ2Vy5a6e5L6L77yM55So5LqO5aSE55CGcHZm55qEDQp2YXIgR19DRGF0YU1hbmFnZXIgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODBDQzE5QiksICdwb2ludGVyJywgW10sIHsiYWJpIjoic3lzdiJ9KTsNCi8v5LuOcHZm5Lit6I635Y+W5Lu75Yqh5pWw5o2uDQp2YXIgQ0RhdGFNYW5hZ2VyX2ZpbmRfcXVlc3QgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODM1RkRDNiksICdwb2ludGVyJywgWydwb2ludGVyJywgJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQovL+iOt+WPluijheWkh3B2ZuaVsOaNrg0KdmFyIENEYXRhTWFuYWdlcl9maW5kX2l0ZW0gPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODM1RkEzMiksICdwb2ludGVyJywgWydwb2ludGVyJywgJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ0RhdGFNYW5hZ2VyX2dldF9sZXZlbF9leHAgPSAgbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MzYwNDQyKSwgJ2ludCcsIFsncG9pbnRlcicsJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ0RhdGFNYW5hZ2VyX2dldERhaWx5VHJhaW5pbmdRdWVzdCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODM2NDBmZSksICdwb2ludGVyJywgWydwb2ludGVyJywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDRGF0YU1hbmFnZXJfR2V0U3BBdExldmVsVXAgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgzNjBjYjgpLCAnaW50JywgWydwb2ludGVyJywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDRGF0YU1hbmFnZXJfZ2V0X2V2ZW50X3NjcmlwdF9tbmcgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgxMTBiNjIpLCAncG9pbnRlcicsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ0RhdGFNYW5hZ2VyX0dldEV4cGVydEpvYlNjcmlwdCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODIyYjVmMiksICdwb2ludGVyJywgWydwb2ludGVyJywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDRGF0YU1hbmFnZXJfZ2V0X2RpbWVuc2lvbklub3V0ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MjJiNjEyKSwgJ2ludCcsIFsncG9pbnRlcicsJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQoNCi8v6YCa55+l5a6i5oi356uvUXVlc3RQaWVjZeabtOaWsA0KdmFyIEdFVF9VU0VSID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NGJiOWNmKSwgICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KLy/nu5nop5LoibLlj5Hmtojmga8NCnZhciBDVXNlcl9TZW5kTm90aVBhY2tldE1lc3NhZ2UgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODY4ODZDRSksICdpbnQnLCBbJ3BvaW50ZXInLCAncG9pbnRlcicsICdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KLy/op5LoibLlop7liqDnu4/pqowNCnZhciBDVXNlcl9nYWluX2V4cF9zcCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4NjZBM0ZFKSwgJ2ludCcsIFsncG9pbnRlcicsICdpbnQnLCAncG9pbnRlcicsICdwb2ludGVyJywgJ2ludCcsICdpbnQnLCAnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCi8v5Y+R6YCB6YGT5YW3DQp2YXIgQ1VzZXJfQWRkSXRlbSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4NjdCNkQ0KSwgJ2ludCcsIFsncG9pbnRlcicsICdpbnQnLCAnaW50JywgJ2ludCcsICdwb2ludGVyJywgJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQovL+mAmuefpeWuouaIt+err+mBk+WFt+abtOaWsCjlrqLmiLfnq6/mjIfpkogsIOmAmuefpeaWueW8j1vku4XlrqLmiLfnq689MSwg5LiW55WM5bm/5pKtPTAsIOWwj+mYnz0yLCB3YXIgcm9vbT0zXSwgaXRlbVNwYWNlW+ijheWkhz0wLCDml7boo4U9MV0sIOmBk+WFt+aJgOWcqOeahOiDjOWMheanvSkNCnZhciBDVXNlcl9TZW5kVXBkYXRlSXRlbUxpc3QgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODY3QzY1QSksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50JywgJ2ludCcsICdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KLy8g6YCa55+l5a6i5oi356uv5pu05paw6IOM5YyF5qCPDQp2YXIgQ1VzZXJfc2VuZF9pdGVtc3BhY2UgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODY1REI2QyksICAnaW50JywgWydwb2ludGVyJywgJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQovL+iOt+WPlueOqeWutuS7u+WKoeS/oeaBrw0KdmFyIENVc2VyX2dldEN1ckNoYXJhY1F1ZXN0VyA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MTRBQTVFKSwgICdwb2ludGVyJywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCi8v5Lu75Yqh55u45YWz5pON5L2cKOesrOS6jOS4quWPguaVsOS4uuWNj+iurue8luWPtzogMzM95o6l5Y+X5Lu75YqhLCAzND3mlL7lvIPku7vliqEsIDM1PeS7u+WKoeWujOaIkOadoeS7tuW3sua7oei2sywgMzY95o+Q5Lqk5Lu75Yqh6aKG5Y+W5aWW5YqxKQ0KdmFyIENVc2VyX3F1ZXN0X2FjdGlvbiA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY2REE4QSksICAnaW50JywgWydwb2ludGVyJywgJ2ludCcsICdpbnQnLCAnaW50JywgJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQovL+WPkeWMhee7meWuouaIt+errw0KdmFyIENVc2VyX1NlbmQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODY0ODVCQSksICdpbnQnLCBbJ3BvaW50ZXInLCAncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQovL+iuvue9rkdN5a6M5oiQ5Lu75Yqh5qih5byPKOaXoOadoeS7tuWujOaIkOS7u+WKoSkNCnZhciBDVXNlcl9zZXRHbVF1ZXN0RmxhZyA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MjJGQzhFKSwgICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCi8v5piv5ZCmR03ku7vliqHmqKHlvI8NCnZhciBDVXNlcl9nZXRHbVF1ZXN0RmxhZyA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MjJGQzhFKSwgICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KLy/pgJrnn6XlrqLmiLfnq6/mm7TmlrDlt7LlrozmiJDku7vliqHliJfooagNCnZhciBDVXNlcl9zZW5kX2NsZWFyX3F1ZXN0X2xpc3QgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODY4QjA0NCksICAnaW50JywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCi8v6K6h566X5Lu75Yqh5Z+656GA5aWW5YqxKOS4jeWMheWQq+mBk+WFt+WlluWKsSkNCnZhciBDVXNlcl9xdWVzdF9iYXNpY19yZXdhcmQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODY2RTdBOCksICAnaW50JywgWydwb2ludGVyJywgJ3BvaW50ZXInLCAncG9pbnRlcicsICdwb2ludGVyJywgJ3BvaW50ZXInLCAncG9pbnRlcicsICdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KLy/pgJrnn6XlrqLmiLfnq69RUOabtOaWsA0KdmFyIENVc2VyX3NlbmRDaGFyYWNRcCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4NjhBQzI0KSwgICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KLy/pgJrnn6XlrqLmiLfnq69RdWVzdFBpZWNl5pu05pawDQp2YXIgQ1VzZXJfc2VuZENoYXJhY1F1ZXN0UGllY2UgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODY4QUYyQyksICAnaW50JywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCi8v6I635Y+W6KeS6Imy54q25oCBDQp2YXIgQ1VzZXJfZ2V0X3N0YXRlID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgwREEzOEMpLCAnaW50JywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCi8v6YCa55+l5a6i5oi356uv6KeS6Imy5bGe5oCn5pu05pawDQp2YXIgQ1VzZXJfU2VuZE5vdGlQYWNrZXQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODY3QkE1QyksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50JywgJ2ludCcsICdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KLy8g6I635Y+W6LSm5Y+36YeR5bqTDQp2YXIgQ1VzZXJfR2V0QWNjb3VudENhcmdvID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MjJmYzIyKSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KLy/ph43nva7lvILnlYwv5p6B6ZmQ56Wt5Z2b5qyh5pWwDQp2YXIgQ1VzZXJfRGltZW5zaW9uSW5vdXRVcGRhdGUgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODY1NkMxMiksICAnaW50JywgWydwb2ludGVyJywgJ2ludCcsICdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KLy/pgZPlhbfmmK/lkKbooqvplIENCnZhciBDVXNlcl9DaGVja0l0ZW1Mb2NrID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDg2NDY5NDIpLCAnaW50JywgWydwb2ludGVyJywgJ2ludCcsICdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KLy8g6K6+572u55So5oi35pyA5aSn562J57qnIGludOS4uuetiee6pw0KdmFyIENVc2VyX1NldFVzZXJNYXhMZXZlbCAgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2OGZlYzgpLCAncG9pbnRlcicsIFsncG9pbnRlcicsICdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyX0NhbGN1cmF0ZVVzZXJNYXhMZXZlbCAgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2OGZmMDQpLCAncG9pbnRlcicsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQovL+iOt+WPluinkuiJsuaJgOWcqOmYn+S8jQ0KdmFyIENVc2VyX0dldFBhcnR5ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NjU1MTRDKSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KLy/ojrflj5bop5LoibLmianlsZXmlbDmja4NCnZhciBDVXNlcl9HZXRDaGFyYWNFeHBhbmREYXRhID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MERENTg0KSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInLCAnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCi8v6I635Y+W6KeS6Imy54K55Yi45L2Z6aKdDQp2YXIgQ1VzZXJfR2V0Q2VyYSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODBGREY3QSksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KLy/ojrflj5bop5LoibLotKblj7dpZA0KdmFyIENVc2VyX2dldF9hY2NfaWQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODBEQTM2RSksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KLy/ov5Tlm57pgInmi6nop5LoibLnlYzpnaINCnZhciBDVXNlcl9SZXR1cm5Ub1NlbGVjdENoYXJhY0xpc3QgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODY4NkZFRSksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDVXNlcl9TZW5kQ21kRXJyb3JQYWNrZXQgPW5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY3YmY0MiksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50JywgJ3VpbnQ4J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDVXNlcl9DaGVja01vbmV5ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NjZhZjFjKSwgJ2ludCcsIFsncG9pbnRlcicsICdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyX0dldENoYXJhY0V4cGFuZERhdGFSID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MjhiNWRlKSwgJ2ludCcsIFsnaW50JywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDVXNlcl9pc0dNVXNlciA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODE0NTg5YyksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyX29uTGV2ZWxVcCA9ICBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2NjMxMWEpLCAndm9pZCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ1VzZXJfZ2V0SGFkZXMgID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MjMwODAwKSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyX2NoZWNrX2xldmVsX3VwICA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY2MmFlYSksICdpbnQnLCBbJ3BvaW50ZXInLCdpbnQnLCdpbnQnLCdpbnQnLCdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyX2dhaW5fc3AgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2NmE5YTApLCAnaW50JywgWydwb2ludGVyJywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDVXNlcl9nYWluX3NmcCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY2YWFkMiksICdpbnQnLCBbJ3BvaW50ZXInLCdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyX2hpc3RvcnlfbG9nX3NwID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NjZhYzBlKSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInLCdpbnQnLCdpbnQnLCdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyX2hpc3RvcnlfbG9nX3NmcCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY2YWNkMCksICdwb2ludGVyJywgWydwb2ludGVyJywnaW50JywnaW50JywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDVXNlcl9HZXRUdXRvcmlhbFNraXBhYmxlICA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODRlY2FkNCksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyX1VwZGF0ZVR1dG9yaWFsU2tpcGFibGUgID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4Njk3MzE4KSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ1VzZXJfdXBkYXRlX2NoYXJhY19zdGF0ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NjY0NmM4KSwgJ2ludCcsIFsncG9pbnRlcicsJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ1VzZXJfR2V0U2VydmVyR3JvdXAgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgwY2JjOTApLCAnaW50JywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDVXNlcl9tYWtlR3VpbGRMZXZlbFVwTWVzc2FnZSA9ICBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2Nzk3NTQpLCAndm9pZCcsIFsncG9pbnRlcicsJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ1VzZXJfZ2V0Q3VyQ2hhcmFjUXVlc3RSPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgxOWE4YTYpLCAgJ3BvaW50ZXInLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyX1VwZGF0ZVVzZXJJbmZvNEd1aWxkID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NjdjZDIwKSwgJ3ZvaWQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyX2dldF9jaGFyYWNfbm8gPSAgbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MTU3NDFjKSwgJ2ludCcsIFsncG9pbnRlcicsJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ1VzZXJfVmVyaWZ5UHJlc2VudEF2ZW5nZXJUaXRsZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY4YjU1MiksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyX0FkZEN1ckNoYXJhY01lcmNlbmFyeUluZm8gPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2OGU1OTYpLCAncG9pbnRlcicsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ1VzZXJfZGVjaWRlX2dyb3d0aF9wb3dlcl9yZXdhcmRfc3lzdGVtID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NjhkNzgwKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ1VzZXJfUmVDYWxjQ2hhdHRpbmdFbW90aWNvbiA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY4OWEyMiksICd2b2lkJywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDVXNlcl9TZW5kQ2hhdHRpbmdFbW90aWNvbiA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY4OWI5MCksICd2b2lkJywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDVXNlcl9pc0FmZmVjdGVkUHJlbWl1bSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODBlNjAwZSksICdpbnQnLCBbJ2ludCcsICdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyX3Byb2Nlc3NOUENHaWZ0T25MZXZlbFVwID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NjY0MDdhKSwgJ3ZvaWQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyX3Byb2Nlc3NMZXZlbFVwRXZlbnRSZXdhcmQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2NjNjYzApLCAnaW50JywgWydwb2ludGVyJywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDVXNlcl9wcm9jZXNzTGV2ZWxVcEV2ZW50ICA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY5MTE1YSksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyX2luY1BsYXlFeHBBZGQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2OTcyOWEpLCAncG9pbnRlcicsIFsncG9pbnRlcicsICdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyX0NoZWNrSW5UcmFkZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODBkYTJmZSksICd1aW50MTYnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyX2dldEN1ckNoYXJhY1RvdGFsRmF0aWd1ZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY1Nzc2NiksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyX0lzR3VpbGRNYXN0ZXIgPSAgbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MjMwMTcyKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ1VzZXJfR2V0R3VpbGREQkluZm8gPSAgbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MjMwMTY0KSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyX0NhbExldmVsVXBJdGVtQ2hlY2sgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2ODlkMDYpLCAnaW50JywgWydwb2ludGVyJywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDVXNlcl9DYWxMZXZlbFVwSXRlbVN0YXRlID0gIG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY4OWQ3NCksICdpbnQnLCBbJ3BvaW50ZXInLCAncG9pbnRlcicsICdwb2ludGVyJywnaW50JywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDVXNlcl9HZXRDdXJFeHBlcnRKb2JMZXZlbCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY4YmM3YyksICdpbnQnLCBbJ3BvaW50ZXInLCdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyX3NlbmRfc2tpbGxfaW5mbyA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY2YzQ2YSksICd2b2lkJywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDVXNlcl9tYWtlX2Jhc2ljX2luZm8gPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2NWE0NGUpLCAnaW50JywgWydwb2ludGVyJywncG9pbnRlcicsJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ1VzZXJfR2V0V2FyUm9vbSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY1NTFkZSksICdwb2ludGVyJywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDVXNlcl9hZGp1c3RfY2hhcmFjX3N0YXQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2NjQ3NjYpLCAnaW50JywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDVXNlcl9pbmNyZWFzZV9zdGF0dXMgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2NjU3ZmMpLCAndm9pZCcsIFsncG9pbnRlcicsICdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyX1NlbmRUYWdDaGFyYWNJbmZvID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NjkwM2Y4KSwgJ3ZvaWQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyX2dpdmVDaGFyYWNMaW5rQm9udXNFeHA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY1MjU2NCksICd2b2lkJywgWydwb2ludGVyJywgJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ1VzZXJfZ2V0X2NoYXJhY19ubyAgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2NGRmYTApLCAnaW50JywgWydwb2ludGVyJywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDVXNlcl9SZWNvdmVyRmF0aWd1ZSA9bmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NjU3YWRhKSwgJ2ludCcsIFsncG9pbnRlcicsJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ1VzZXJfU2VuZEZhdGlndWUgPW5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY1NjU0MCksICd2b2lkJywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDVXNlcl9wcm9jZXNzTGV2ZWxSZXdhcmQgID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4Njg3NDVlKSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInLCdpbnQnLCdpbnQnLCdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyX2dpdmVQdlBTa2lsbFRyZWUgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2NjU0MDApLCAnaW50JywgWydwb2ludGVyJywnaW50JywnaW50JywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDVXNlcl9yZXdhcmRFeHAgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2OGIyMGMpLCAndm9pZCcsIFsncG9pbnRlcicsICdpbnQnLCAnaW50JywgJ2ludCcsICdwb2ludGVyJywgJ3BvaW50ZXInLCdpbnQnLCdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KDQp2YXIgQ1VzZXJDaGFyYWNJbmZvX3NldERlbWVuc2lvbklub3V0VmFsdWUgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgyMmYxODQpLCAnaW50JywgWydwb2ludGVyJywnaW50JywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCi8v6I635Y+W6KeS6Imy5ZCN5a2XDQp2YXIgQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY05hbWUgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODEwMTAyOCksICdwb2ludGVyJywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCi8v6I635Y+W6KeS6Imy5LiK5qyh6YCA5Ye65ri45oiP5pe26Ze0DQp2YXIgQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY0xhc3RQbGF5VGljayA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MkE2NkFBKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQovL+iOt+WPluinkuiJsuetiee6pw0KdmFyIENVc2VyQ2hhcmFjSW5mb19nZXRfY2hhcmFjX2xldmVsID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgwREEyQjgpLCAnaW50JywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCi8v6I635Y+W6KeS6Imy5b2T5YmN562J57qn5Y2H57qn5omA6ZyA57uP6aqMDQp2YXIgQ1VzZXJDaGFyYWNJbmZvX2dldF9sZXZlbF91cF9leHAgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2NEUzQkEpLCAnaW50JywgWydwb2ludGVyJywgJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQovL+iOt+WPluinkuiJsuiDjOWMhQ0KdmFyIENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNJbnZlblcgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODBEQTI4RSksICdwb2ludGVyJywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCi8v6I635Y+W6KeS6Imy5Ymv6IGM5LiaDQp2YXIgQ1VzZXJDaGFyYWNJbmZvX0dldEN1ckNoYXJhY0V4cGVydEpvYiA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MjJmOGQ0KSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQovL+iuvue9ruW5uOi/kOeCueaVsA0KdmFyIENVc2VyQ2hhcmFjSW5mb19TZXRDdXJDaGFyYWNMdWNrUG9pbnQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2NDY3MEEpLCAnaW50JywgWydwb2ludGVyJywgJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQovL+iOt+WPluinkuiJsuW9k+WJjeW5uOi/kOeCuQ0KdmFyIENVc2VyQ2hhcmFjSW5mb19HZXRDdXJDaGFyYWNMdWNrUG9pbnQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODIyRjgyOCksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KLy/orr7nva7op5LoibLlsZ7mgKfmlLnlj5johI/moIforrAo6KeS6Imy5LiK57q/5pe25oqK5omA5pyJ5bGe5oCn5LuO5pWw5o2u5bqT57yT5a2Y5Yiw5YaF5a2Y5LitLCDlj6rmnInorr7nva7kuobohI/moIforrAsIOinkuiJsuS4i+e6v+aXtuaJjeiDveato+ehruWtmOaho+WIsOaVsOaNruW6kywg5ZCm5YiZ5Y+Y5Yqo55qE5bGe5oCn5LiL57q/5ZCO5Y+v6IO95Lya5Zue5qGjKQ0KdmFyIENVc2VyQ2hhcmFjSW5mb19lbmFibGVTYXZlQ2hhcmFjU3RhdCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MTlBODcwKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQovL+acrOasoeeZu+W9leaXtumXtA0KdmFyIENVc2VyQ2hhcmFjSW5mb19HZXRMb2dpblRpY2sgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODIyRjY5MiksICAnaW50JywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCi8v6I635Y+W5b2T5YmN6KeS6ImyaWQNCnZhciBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjTm8gPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODBDQkM0RSksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNNb25leT0gIG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODE3YTE4OCksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyQ2hhcmFjSW5mb19HZXRDdXJDaGFyYWNNYXhFcXVpcExldmVsID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NjQ2N2EwKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ1VzZXJDaGFyYWNJbmZvX1NldEN1ckNoYXJhY01heEVxdWlwTGV2ZWwgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2NDY3YzIpLCAnaW50JywgWydwb2ludGVyJywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjU2tpbGxSID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MjJmMTMwKSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNTa2lsbFcgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgyMmYxNDApLCAncG9pbnRlcicsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY1IgPSAgbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NTRmNzE4KSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfZXhwID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NGVjMDVjKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ1VzZXJDaGFyYWNJbmZvX3NldEN1ckNoYXJhY0V4cCA9ICBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgxOWE4N2MpLCAnaW50JywgWydwb2ludGVyJywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDVXNlckNoYXJhY0luZm9fYWRkQ3VyQ2hhcmFjRXhwID0gIG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY5NjdiZSksICdpbnQnLCBbJ3BvaW50ZXInLCdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyQ2hhcmFjSW5mb19pbmNDdXJDaGFyYWNMZXZlbCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY5Njc2MiksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyQ2hhcmFjSW5mb19zZXRDdXJDaGFyYWNFeHAgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgxOWE4N2MpLCAnaW50JywgWydwb2ludGVyJywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDVXNlckNoYXJhY0luZm9fcmVzZXRDaGFyYWNGYXRpZ3VlR3Jvd25VcEJ1ZmYgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2OTYzODYpLCAnaW50JywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjR3Jvd1R5cGUgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgxNTc0MWMpLCAnaW50JywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDVXNlckNoYXJhY0luZm9fc2V0X2NoYXJhY19mYXRpZ3VlX2J1Zl9ib251c19leHAgPSAgbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NDY5YTAyKSwgJ2ludCcsIFsncG9pbnRlcicsICdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNDcmVhdGVUaW1lID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MjJmMjAyKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ1VzZXJDaGFyYWNJbmZvX1Jlc2V0Q3VyQ2hhcmFjRHVuZ2VvblBsYXlDb3VudCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY5NjlmZSksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyQ2hhcmFjSW5mb19HZXRDdXJDaGFyYWNFeHBlcnRKb2JFeHAgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgzNzUwMjYpLCAnaW50JywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDVXNlckNoYXJhY0luZm9fR2V0Q3VyQ2hhcmFjRHVuZ2VvblBsYXlDb3VudCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODViZmM3OCksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyQ2hhcmFjSW5mb19nZXRfY2hhcmFjX2pvYiA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODBmZGYyMCksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyQ2hhcmFjSW5mb19nZXRfcHZwX2dyYWRlID0gIG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODE5ZWU0YSksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyQ2hhcmFjSW5mb19nZXRfY2hhcmFjX2pvYiA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODBmZGYyMCksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyU2Vjb25kR3Jvd1R5cGUgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgyMmYyM2MpLCAnaW50JywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhckZpcnN0R3Jvd1R5cGUgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgxMTBjOTQpLCAnaW50JywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDVXNlckNoYXJhY0luZm9fR2V0Q3VyQ2hhcmFjRXhwZXJ0Sm9iVHlwZSA9ICBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgyMmY4OTQpLCAnaW50JywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDVXNlckNoYXJhY0luZm9fR2V0Q3VyQ2hhcmFjU2tpbGxUcmVlSW5kZXggPW5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODIyZjMzYyksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyQ2hhcmFjSW5mb19zZXRDdXJDaGFyYWNGYXRpZ3VlID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MjJmMmNlKSwgJ2ludCcsIFsncG9pbnRlcicsJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ1VzZXJDaGFyYWNJbmZvX2FkZF9ndWlsZF9leHAgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2NDVjNzYpLCAnaW50JywgWydwb2ludGVyJywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDVXNlckNoYXJhY0luZm9fc2V0Q3VyQ2hhcmFjU3RhbWluYSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODJmMDkxNCksICdpbnQnLCBbJ3BvaW50ZXInLCdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyQ2hhcmFjSW5mb19JbmNyZWFzZVBvd2VyV2FyUG9pbnQgPSAgbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4Njg3ZWZjKSwgJ2ludCcsIFsncG9pbnRlcicsJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY1IgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgxMjA0MzIpLCAncG9pbnRlcicsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY0ludmVuUiA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODBkYTI3ZSksICdwb2ludGVyJywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDVXNlckNoYXJhY0luZm9fZ2V0X2NoYXJhY19ndWlsZGtleSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODIyZjQ2YyksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNGYXRpZ3VlID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MjJmMmFlKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY0FkZEluZm9SZWZXID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4Njk2MGQ4KSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQoNCnZhciBDSW52ZW50b3J5X0dldEludmVuUmVmID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDg0RkMxREUpLCAncG9pbnRlcicsIFsncG9pbnRlcicsICdpbnQnLCAnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCi8v5YeP5bCR6YeR5biBDQp2YXIgQ0ludmVudG9yeV91c2VfbW9uZXkgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODRGRjU0QyksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50JywgJ2ludCcsICdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KLy/lop7liqDph5HluIENCnZhciBDSW52ZW50b3J5X2dhaW5fbW9uZXkgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODRGRjI5QyksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50JywgJ2ludCcsICdpbnQnLCAnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCi8v6I635Y+W6KeS6Imy5b2T5YmN5oyB5pyJ6YeR5biB5pWw6YePDQp2YXIgQ0ludmVudG9yeV9nZXRfbW9uZXkgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODEzNDdENiksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KLy/ojrflj5bml7boo4XnrqHnkIblmagNCnZhciBDSW52ZW50b3J5X0dldEF2YXRhckl0ZW1NZ3JSID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgwREQ1NzYpLCAncG9pbnRlcicsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQovL+iDjOWMheS4reWIoOmZpOmBk+WFtyjog4zljIXmjIfpkogsIOiDjOWMheexu+Weiywg5qe9LCDmlbDph48sIOWIoOmZpOWOn+WboCwg6K6w5b2V5Yig6Zmk5pel5b+XKQ0KdmFyIENJbnZlbnRvcnlfZGVsZXRlX2l0ZW0gPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODUwNDAwQyksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50JywgJ2ludCcsICdpbnQnLCAnaW50JywgJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ0ludmVudG9yeV9HZXRJbnZlbkRhdGEgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg0ZmJmMmMpLCAnaW50JywgWydwb2ludGVyJywnaW50JywncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ0ludmVudG9yeV9HZXRJbnZlblNsb3QgID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NGZiOTE4KSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInLCAnaW50JywgJ2ludCcsICdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENJbnZlbnRvcnlfdXBkYXRlX2l0ZW09IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODUwMDBhZSksICdpbnQnLCBbJ3BvaW50ZXInLCdpbnQnLCdpbnQnLCdpbnQnLCdpbnQnLCdpbnQnLCdpbnQnLCdpbnQnLCdpbnQnLCdpbnQnLCdpbnQnLCdpbnQnLCdpbnQnLCdpbnQnLCdpbnQnLCdpbnQnLCdpbnQnLCdpbnQnLCdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENJbnZlbnRvcnlfaW5zZXJ0SXRlbUludG9JbnZlbnRvcnkgPSAgbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NTAyZDg2KSwgJ2ludCcsIFsncG9pbnRlcicsJ2ludCcsJ2ludCcsJ2ludCcsJ2ludCcsJ2ludCcsJ2ludCcsJ2ludCcsJ2ludCcsJ2ludCcsJ2ludCcsJ2ludCcsJ2ludCcsJ2ludCcsJ2ludCcsJ2ludCcsJ2ludCcsJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ0ludmVudG9yeV9HZXRFdmVudENvaW4gID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MTEwYzdhKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ0ludmVudG9yeV9TZXRFdmVudENvaW4gPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgxMTBjODYpLCAncG9pbnRlcicsIFsncG9pbnRlcicsJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ0ludmVudG9yeV9HZXRDb2luID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MjJkNjhhKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ0ludmVudG9yeV9TZXRDb2luID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MjJkNjdjKSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInLCdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENJbnZlbnRvcnlfZ2V0X2ludmVuX3Nsb3Rfbm89IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODUwY2Q2MiksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCg0KLy8g5YiG6Kej5py6IOWPguaVsCDop5LoibIg5L2N572uIOiDjOWMheexu+WeiyAgMjM5ICDop5LoibLvvIjosIHnmoTvvIkgMHhGRkZGDQp2YXIgRGlzUGF0Y2hlcl9EaXNKb2ludEl0ZW1fZGlzam9pbnQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODFmOTJjYSksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50JywgJ2ludCcsICdpbnQnLCdwb2ludGVyJywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCg0KdmFyIEFjY291bnRDYXJnb1NjcmlwdF9HZXRDdXJyVXBncmFkZUluZm8gPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg4YzgwYmEpLCAnaW50JywgWydwb2ludGVyJywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDQWNjb3VudENhcmdvX0NoZWNrVmFsaWRTbG90ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MjhBNTU0KSwgJ2ludCcsIFsncG9pbnRlcicsJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ0FjY291bnRDYXJnb19SZXNldFNsb3QgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgyODk4YzApLCAnaW50JywgWydwb2ludGVyJywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDQWNjb3VudENhcmdvX0NoZWNrTW9uZXlMaW1pdCA9bmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MjhhNGNhKSwgJ2ludCcsIFsncG9pbnRlcicsJ3VpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENBY2NvdW50Q2FyZ29fQWRkTW9uZXkgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgyOGE3NDIpLCAncG9pbnRlcicsIFsncG9pbnRlcicsICd1aW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDQWNjb3VudENhcmdvX1NlbmROb3RpZnlNb25leSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODI4YTdkYyksICdwb2ludGVyJywgWydpbnQnLCAnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDQWNjb3VudENhcmdvX1N1Yk1vbmV5ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MjhhNzY0KSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInLCAndWludCddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ0FjY291bnRDYXJnb19HZXRJdGVtQ291bnQgPW5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODI4YTc5NCksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENBY2NvdW50Q2FyZ29fR2V0TW9uZXkgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgyMmYwMjApLCAnaW50JywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDQWNjb3VudENhcmdvX1NldFN0YWJsZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODQ0ZGMxNiksICdwb2ludGVyJywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCi8vIOiOt+WPlui0puWPt+mHkeW6k+S4gOS4quepuueahOagvOWtkA0KdmFyIENBY2NvdW50Q2FyZ29fR2V0RW1wdHlTbG90PSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgyOGE1ODApLCAnaW50JywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCi8vIOWwhuW3sue7j+eJqeWTgeenu+WKqOWIsOafkOS4quagvOWtkCDnrKzkuIDkuKrotKblj7fph5HlupPvvIznrKzkuozkuKrnp7vlhaXnmoTnianlk4HvvIznrKzkuInkuKrmoLzlrZDkvY3nva4NCnZhciBDQWNjb3VudENhcmdvX0luc2VydEl0ZW0gPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgyODljODIpLCAnaW50JywgWydwb2ludGVyJywncG9pbnRlcicsJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQovLyDlkJHlrqLmiLfnq6/lj5HpgIHotKblj7fph5HlupPliJfooagNCnZhciBDQWNjb3VudENhcmdvX1NlbmRJdGVtTGlzdCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODI4YTg4YSksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KDQovL+WIoOmZpOiDjOWMheanveS4reeahOmBk+WFtw0KdmFyIEludmVuX0l0ZW1fcmVzZXQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgwQ0I3RDgpLCAgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQovL+ajgOafpeiDjOWMheS4remBk+WFt+aYr+WQpuS4uuepug0KdmFyIEludmVuX0l0ZW1faXNFbXB0eSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MTFFRDY2KSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQovL+iOt+WPluiDjOWMheS4remBk+WFt2l0ZW1faWQNCnZhciBJbnZlbl9JdGVtX2dldEtleSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4NTBEMTRFKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQovL+mBk+WFt+aYr+WQpuaYr+ijheWkhw0KdmFyIEludmVuX0l0ZW1faXNFcXVpcGFibGVJdGVtVHlwZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODE1MDgxMiksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KLy/og4zljIXpgZPlhbcNCnZhciBJbnZlbl9JdGVtX0ludmVuX0l0ZW0gPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODBDQjg1NCksICdwb2ludGVyJywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCi8v6I635Y+W6YGT5YW36ZmE5Yqg5L+h5oGvDQp2YXIgSW52ZW5fSXRlbV9nZXRfYWRkX2luZm8gPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODBGNzgzQSksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KDQp2YXIgQ0l0ZW1fR2V0SW5kZXggPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODExMGM0OCksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENJdGVtX0dldEdyYWRlID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgxMTBjNTQpLCAnaW50JywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDSXRlbV9HZXRJdGVtTmFtZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MTFlZDgyKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ0l0ZW1fR2V0UHJpY2UgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODIyYzg0YSksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENJdGVtX0dldEdlblJhdGUgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODIyYzg0YSksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENJdGVtX0dldE5lZWRMZXZlbCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4NTQ1ZmRhKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ0l0ZW1fR2V0VXNhYmxlTGV2ZWwgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODBmMTJlZSksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENJdGVtX0dldFJhcml0eSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MGYxMmQ2KSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ0l0ZW1fR2V0QXR0YWNoVHlwZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MGYxMmUyKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ0l0ZW1fR2V0SXRlbUdyb3VwTmFtZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MGYxMzEyKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ0l0ZW1fR2V0VXBTa2lsbFR5cGUgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODU0NWZjYyksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENJdGVtX0dldEdldEV4cGVydEpvYkNvbXBvdW5kTWF0ZXJpYWxWYXJpYXRpb24gPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODUwZDI5MiksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENJdGVtX0dldEV4cGVydEpvYkNvbXBvdW5kUmF0ZVZhcmlhdGlvbiA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4NTBkMmFhKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ0l0ZW1fR2V0RXhwZXJ0Sm9iQ29tcG91bmRSZXN1bHRWYXJpYXRpb24gPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODUwZDJjMiksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENJdGVtX0dldEV4cGVydEpvYlNlbGZEaXNqb2ludEJpZ1dpblJhdGUgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODUwZDJkZSksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENJdGVtX0dldEV4cGVydEpvYlNlbGZEaXNqb2ludFJlc3VsdFZhcmlhdGlvbiA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4NTBkMmY2KSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ0l0ZW1fR2V0RXhwZXJ0Sm9iQWRkaXRpb25hbEV4cCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4NTBkMzBlKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQovL+mBk+WFt+aYr+WQpuS4uua2iOiAl+WTgQ0KdmFyIENJdGVtX2lzX3N0YWNrYWJsZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MEYxMkZBKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ0l0ZW1faXNQYWNrYWdhYmxlID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MjhiNWI0KSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ0l0ZW1fZ2V0VXNhYmxlUGVyaW9kID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MTEwYzYwKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ0l0ZW1fZ2V0RXhwaXJhdGlvbkRhdGUgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgwZjEzMDYpLCAnaW50JywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDSXRlbV9HZXRJbmNyZWFzZVN0YXR1c0ludERhdGEgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2OTQ2NTgpLCAnaW50JywgWydwb2ludGVyJywnaW50JywncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ0l0ZW1fR2V0SW5jcmVhc2VTdGF0dXNUeXBlID0gIG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY5NDZiNiksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENJdGVtX0dldFVzYWJsZVB2UFJhbmsgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2OTQ2YzQpLCAnaW50JywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCg0KdmFyIENFcXVpcEl0ZW1fR2V0VXNhYmxlRXF1aXBtZW50VHlwZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODMyZTAzNiksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENFcXVpcEl0ZW1fR2V0U3ViVHlwZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MzNlZWNjKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQovL+aYr+WQpumtlOazleWwgeWNsOijheWkhw0KdmFyIENFcXVpcEl0ZW1fSXNSYW5kb21PcHRpb24gPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODUxNEU1RSksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KLy/ojrflj5boo4XlpIfprZTms5XlsIHljbDnrYnnuqcNCnZhciBDRXF1aXBJdGVtX0dldFJhbmRvbU9wdGlvbkdyYWRlID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDg1MTRFNkUpLCAnaW50JywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCg0KdmFyIFVzZXJRdWVzdF9maW5pc2hfcXVlc3QgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODZBQzg1NCksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCi8v6YCa55+l5a6i5oi356uv5pu05paw6KeS6Imy5Lu75Yqh5YiX6KGoDQp2YXIgVXNlclF1ZXN0X2dldF9xdWVzdF9pbmZvID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDg2QUJCQTgpLCAnaW50JywgWydwb2ludGVyJywgJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KLy/ph43nva7miYDmnInku7vliqHkuLrmnKrlrozmiJDnirbmgIENCnZhciBVc2VyUXVlc3RfcmVzZXQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODZBQjg5NCksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIFVzZXJRdWVzdF9nZXRfbWFpbF9xdWVzdF9pbmZvID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NmFiZDdhKSwgJ2ludCcsIFsnaW50JywnaW50JywncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgVXNlclF1ZXN0X1Jlc2V0VXJnZW50UXVlc3RXYWl0aW5nTGlzdCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODZhZDE3OCksICAncG9pbnRlcicsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQoNCi8v6K6+572u5Lu75Yqh5Li65bey5a6M5oiQ54q25oCBDQp2YXIgV29uZ1dvcmtfQ1F1ZXN0Q2xlYXJfc2V0Q2xlYXJlZFF1ZXN0ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgwOEJBNzgpLCAnaW50JywgWydwb2ludGVyJywgJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQovL+mHjee9ruS7u+WKoeS4uuacquWujOaIkOeKtuaAgQ0KdmFyIFdvbmdXb3JrX0NRdWVzdENsZWFyX3Jlc2V0Q2xlYXJlZFF1ZXN0cyA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MDhCQUFDKSwgJ2ludCcsIFsncG9pbnRlcicsICdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KLy/ku7vliqHmmK/lkKblt7LlrozmiJANCnZhciBXb25nV29ya19DUXVlc3RDbGVhcl9pc0NsZWFyZWRRdWVzdCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MDhCQUUwKSwgJ2ludCcsIFsncG9pbnRlcicsICdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KLy/ngrnliLjlhYXlgLwNCnZhciBXb25nV29ya19JUEdfQ0lQR0hlbHBlcl9JUEdJbnB1dCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MEZGQ0E0KSwgICdpbnQnLCBbJ3BvaW50ZXInLCAncG9pbnRlcicsICdpbnQnLCAnaW50JywgJ3BvaW50ZXInLCAncG9pbnRlcicsICdwb2ludGVyJywgJ3BvaW50ZXInLCAncG9pbnRlcicsICdwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCi8v5Luj5biB5YWF5YC8DQp2YXIgV29uZ1dvcmtfSVBHX0NJUEdIZWxwZXJfSVBHSW5wdXRQb2ludCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MEZGRkMwKSwgICdpbnQnLCBbJ3BvaW50ZXInLCAncG9pbnRlcicsJ2ludCcsICdpbnQnLCAncG9pbnRlcicsICdwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCi8v5ZCM5q2l54K55Yi45pWw5o2u5bqTDQp2YXIgV29uZ1dvcmtfSVBHX0NJUEdIZWxwZXJfSVBHUXVlcnkgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODEwMDc5MCksICAnaW50JywgWydwb2ludGVyJywgJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KLy/ojrflj5bml7boo4Xmj5Lmp73mlbDmja4NCnZhciBXb25nV29ya19DQXZhdGFySXRlbU1ncl9nZXRKZXdlbFNvY2tldERhdGEgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODJGOThGOCksICdwb2ludGVyJywgWydwb2ludGVyJywgJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQovL+WPkeezu+e7n+mCruS7tijlpJrpgZPlhbcpDQp2YXIgV29uZ1dvcmtfQ01haWxCb3hIZWxwZXJfUmVxREJTZW5kTmV3U3lzdGVtTXVsdGlNYWlsID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDg1NTZCNjgpLCAnaW50JywgWydwb2ludGVyJywgJ3BvaW50ZXInLCAnaW50JywgJ2ludCcsICdpbnQnLCAncG9pbnRlcicsICdpbnQnLCAnaW50JywgJ2ludCcsICdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIFdvbmdXb3JrX0NNYWlsQm94SGVscGVyX01ha2VTeXN0ZW1NdWx0aU1haWxQb3N0YWwgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODU1NkExNCksICdpbnQnLCBbJ3BvaW50ZXInLCAncG9pbnRlcicsICdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KLy/lj5Hns7vnu5/pgq7ku7Yo5pe26KOFKSjku4XmlK/mjIHlnKjnur/op5LoibLlj5Hkv6EpDQp2YXIgV29uZ1dvcmtfQ01haWxCb3hIZWxwZXJfUmVxREJTZW5kTmV3QXZhdGFyTWFpbCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4NTU2MUIwKSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInLCAnaW50JywgJ2ludCcsICdpbnQnLCAnaW50JywgJ2ludCcsICdpbnQnLCAncG9pbnRlcicsICdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIFdvbmdXb3JrX0NVc2VyUHJlbWl1bV9HZXRHb2xkQm9udXMgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2OTRhNjQpLCAnaW50JywgWydwb2ludGVyJywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBXb25nV29ya19DVXNlclByZW1pdW1fUmVjYWxjQWRkaXRpb25hbEluZm8gPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2YWU4YzYpLCAncG9pbnRlcicsIFsncG9pbnRlcicsJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIFdvbmdXb3JrX0NHTUFjY291bnRzX2lzR00gPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgxMDkzNDYpLCAnaW50JywgWydwb2ludGVyJywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBXb25nV29ya19DU2tpbGxDaGFuZ2VyX0NoZWNrQ29uZGl0aW9uID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NjA5ZDEwKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgV29uZ1dvcmtfQ1NraWxsQ2hhbmdlcl9kX0NTa2lsbENoYW5nZXIgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgyMzRmYzQpLCAndm9pZCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgV29uZ1dvcmtfQ1NraWxsQ2hhbmdlcl9DU2tpbGxDaGFuZ2VyID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MjM0ZmJlKSwgJ3ZvaWQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIFdvbmdXb3JrX0NTa2lsbENoYW5nZXJfU2tpbGxJbml0aWFsaXplID1uZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2MDllOTApLCAncG9pbnRlcicsIFsncG9pbnRlcicsJ3BvaW50ZXInLCdpbnQnLCdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIFdvbmdXb3JrX0NNYWlsQm94SGVscGVyX1JlcURCU2VuZE5ld1N5c3RlbU1haWwgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg1NTU1ZTgpLCAnaW50JywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCg0KLy/mo4DmtYvlvZPliY3op5LoibLmmK/lkKblj6/mjqXor6Xku7vliqENCnZhciBzdFNlbGVjdFF1ZXN0UGFyYW1fc3RTZWxlY3RRdWVzdFBhcmFtID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgzNDgwQjQpLCAncG9pbnRlcicsIFsncG9pbnRlcicsICdwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBRdWVzdF9jaGVja19wb3NzaWJsZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MzUyRDg2KSwgJ2ludCcsIFsncG9pbnRlcicsICdwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCg0KLy/ojrflj5blia/mnKxpZA0KdmFyIENEdW5nZW9uX2dldF9pbmRleCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODBGRENGMCksICAnaW50JywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCg0KLy/op6PlsIHprZTms5XlsIHljbANCnZhciByYW5kb21fb3B0aW9uX0NSYW5kb21PcHRpb25JdGVtSGFuZGxlX2dpdmVfb3B0aW9uID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDg1RjJDQzYpLCAgJ2ludCcsIFsncG9pbnRlcicsICdpbnQnLCAnaW50JywgJ2ludCcsICdpbnQnLCAnaW50JywgJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KDQp2YXIgQXZhdGFyQ29pbl9BZGQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgxN2ZlZmEpLCAnaW50JywgWydwb2ludGVyJywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBBdmF0YXJDb2luX1NhdmVUb0RCID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MTgwMGQ2KSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQXZhdGFyQ29pbl9TZW5kU3luY1BhY2tldCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODE3ZmZlNCksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIEF2YXRhckNvaW5fSGlzdG9yeUxvZ19BZGRMb2cgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgxN2ZmOWMpLCAndm9pZCcsIFsncG9pbnRlcicsJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KDQp2YXIgQ1ByZW1pdW1MZXRoZU1hbmFnZXJfSW5pdExldGhlU2tpbGwgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg1YzQwMDgpLCAnaW50JywgWydpbnQnLCdwb2ludGVyJywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDUHJlbWl1bUxldGhlTWFuYWdlcl9VcGRhdGVCYWNrdXBTa2lsbEZsYWcgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg1YzNmMzApLCAnaW50JywgWydpbnQnLCdwb2ludGVyJywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDUHJlbWl1bUxldGhlTWFuYWdlcl9Db25maXJtU2tpbGxSZXEgPW5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODVjM2Q3MCksICdpbnQnLCBbJ3BvaW50ZXInLCdwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCg0KdmFyIFNraWxsU2xvdF9nZXRfcmVtYWluX3NwX2F0X2luZGV4ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NjAzNTI4KSwgJ2ludCcsIFsncG9pbnRlcicsJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIFNraWxsU2xvdF9nZXRfcmVtYWluX3NmcF9hdF9pbmRleCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODYwMzVmMiksICdpbnQnLCBbJ3BvaW50ZXInLCdwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBTa2lsbFNsb3RfZ3Jvd3R5cGVfc2tpbGwgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2MDQwYmMpLCAnaW50JywgWydwb2ludGVyJywncG9pbnRlcicsJ2ludCcsJ2ludCcsJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgU2tpbGxTbG90X3NldF9yZW1haW5fc3BfYXRfaW5kZXggPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2MDM0ZjgpLCAnaW50JywgWydpbnQnLCdpbnQnLCdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIFNraWxsU2xvdF9jbGVhcl9zZnBfc2tpbGxzID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NjA0ZTc4KSwgJ2ludCcsIFsnaW50JywnaW50JywncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgU2tpbGxTbG90X2NsZWFyX2FsbF9za2lsbHMgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2MDRkOTApLCAnaW50JywgWydwb2ludGVyJywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBTa2lsbFNsb3RfY2xlYXJfYWxsX3NraWxsc19ib3RoID0gIG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODYwNGUwOCksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIFNraWxsU2xvdF9zZXRfcGFyZW50ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MjJlZTJlKSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInLCdwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBhZGRTa2lsbE9uQ3JlYXRlQ2hhcmFjdGVyID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NjA0ZmUyKSwgJ3ZvaWQnLCBbJ2ludCcsJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ0NoYXJhY3Rlcl9nZXRfZ2l2ZV9za2lsbCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODM0ODc5OCksICdpbnQnLCBbJ2ludCcsJ2ludCcsJ2ludCcsJ2ludCcsJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQoNCnZhciBDUXVlc3RTaG9wX2NsZWFyUVAgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg1ZWY1NGMpLCAnaW50JywgWydwb2ludGVyJywgJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENRdWVzdFNob3Bfc2VuZENoYXJhY1FwID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NWVmNmZjKSwgJ3ZvaWQnLCBbJ3BvaW50ZXInLCAncG9pbnRlcicsJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQoNCi8v6I635Y+W5raI6ICX5ZOB57G75Z6LDQp2YXIgQ1N0YWNrYWJsZUl0ZW1fR2V0SXRlbVR5cGUgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODUxNEE4NCksICAnaW50JywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCi8v6I635Y+W5b6956ug5pSv5oyB55qE6ZW25bWM5qe957G75Z6LDQp2YXIgQ1N0YWNrYWJsZUl0ZW1fZ2V0SmV3ZWxUYXJnZXRTb2NrZXQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgyMkNBMjgpLCAgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQoNCnZhciBDTW9uaXRvclNlcnZlclByb3h5X1NlbmRDaGFyTGV2ZWxHcm93VHlwZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODQ3MGMwNCksICdpbnQnLCBbJ3BvaW50ZXInLCdpbnQnLCdpbnQnLCdpbnQnLCdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENNb25pdG9yU2VydmVyUHJveHlfU2VuZFBhY2tldCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODQ3MGRmNCksICdpbnQnLCBbJ3BvaW50ZXInLCdwb2ludGVyJywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDU2VydmVyUHJveHlNZ3JfQ01vbml0b3JTZXJ2ZXJQcm94eV9HZXRTZXJ2ZXJQcm94eSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODExMjA4YSksICdwb2ludGVyJywgWydwb2ludGVyJywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDU2VydmVyUHJveHlNZ3JfQ0d1aWxkU2VydmVyUHJveHlfR2V0U2VydmVyUHJveHkgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgxMWQzYjgpLCAncG9pbnRlcicsIFsncG9pbnRlcicsJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ0d1aWxkU2VydmVyUHJveHlfU2VuZENoYXJMZXZlbEdyb3dUeXBlID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NDZkYTlhKSwgJ2ludCcsIFsncG9pbnRlcicsJ2ludCcsJ2ludCcsJ2ludCcsJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQoNCi8v5pe26KOF6ZW25bWM5pWw5o2u5a2Y55uYDQp2YXIgREJfVXBkYXRlQXZhdGFySmV3ZWxTbG90X21ha2VSZXF1ZXN0ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDg0MzA4MUMpLCAncG9pbnRlcicsIFsnaW50JywgJ2ludCcsICdwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCg0KLy/ojrflj5blrZfnrKbkuLLplb/luqYNCnZhciBzdHJsZW4gPSBuZXcgTmF0aXZlRnVuY3Rpb24oTW9kdWxlLmdldEV4cG9ydEJ5TmFtZShudWxsLCAnc3RybGVuJyksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KDQovL+e6v+eoi+WuieWFqOmUgQ0KdmFyIEd1YXJkX011dGV4X0d1YXJkID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgxMDU0NEMpLCAnaW50JywgWydwb2ludGVyJywgJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIERlc3Ryb3lfR3VhcmRfTXV0ZXhfR3VhcmQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODEwNTQ2OCksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KDQovL+acjeWKoeWZqOWGhee9ruWumuaXtuWZqOmYn+WIlw0KdmFyIEdfVGltZXJRdWV1ZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MEY2NDdDKSwgJ3BvaW50ZXInLCBbXSwgeyJhYmkiOiJzeXN2In0pOw0KDQovL+aJp+ihjGRlYnVn5ZG95LukDQp2YXIgRG9Vc2VyRGVmaW5lQ29tbWFuZCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODIwQkE5MCksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50JywgJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KDQovL+iuvue9ruinkuiJsuetiee6pyjmnIDpq5g3MOe6pykNCnZhciBEaXNQYXRjaGVyX0RlYnVnQ29tbWFuZF9fZGVidWdDb21tYW5kU2V0TGV2ZWwgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg1OEVGREUpLCAnaW50JywgWydwb2ludGVyJywgJ3BvaW50ZXInLCAnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsvL+mcgOimgeS4tOaXtuW8gEdN5p2D6ZmQDQoNCi8vdmVjdG9y55u45YWz5pON5L2cDQp2YXIgc3RkX3ZlY3Rvcl9zdGRfcGFpcl9pbnRfaW50X3ZlY3RvciA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MTM0OUQ2KSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIHN0ZF92ZWN0b3Jfc3RkX3BhaXJfaW50X2ludF9jbGVhciA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MTdBMzQyKSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIHN0ZF9tYWtlX3BhaXJfaW50X2ludCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MUI4RDQxKSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInLCAncG9pbnRlcicsICdwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBzdGRfdmVjdG9yX3N0ZF9wYWlyX2ludF9pbnRfcHVzaF9iYWNrID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgwREQ2MDYpLCAncG9pbnRlcicsIFsncG9pbnRlcicsICdwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciB2ZWN0b3JfdW5zaWduZWRfaW50X29wZXJhdG9yPSAgbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MDhlMWRjKSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInLCdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIHN0ZF92ZWN0b3Jfc3RkX3BhaXJfaW50X2ludF9zaXplID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MGRkODE0KSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgc3RkX3ZlY3Rvcl9zdGRfcGFpcl9pbnRfaW50X29wZXJhdG9yID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MGVhOGE0KSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInLCdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIHN0ZF92ZWN0b3Jfc3RkX3BhaXJfaW50X2ludF9kX3ZlY3RvciA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODEzNDllYSksICd2b2lkJywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBzdGRfdmVjdG9yX2NoYXJhY19pbmZvX3NpemUgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgxYTBiOWEpLCAnaW50JywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBzdGRfdmVjdG9yX0NoYXJhY19pbmZvX29wZXJhdG9yQXJyID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MWEwYmI4KSwgJ2ludCcsIFsncG9pbnRlcicsJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQoNCnZhciBMb2dNYW5hZ2VyX2xvZ0Zvcm1hdCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwOGFkM2MwYSksICdpbnQnLCBbJ3BvaW50ZXInLCdpbnQnLCdwb2ludGVyJywncG9pbnRlcicsJ3BvaW50ZXInLCdwb2ludGVyJywnLi4uJywncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgY1VzZXJIaXN0b3J5TG9nX0V2ZW50Q29pbkFkZCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY4M2M1OCksICdwb2ludGVyJywgWydwb2ludGVyJywnaW50JywnaW50JywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBjVXNlckhpc3RvcnlMb2dfQ29pbkFkZCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY4M2I5MCksICdpbnQnLCBbJ3BvaW50ZXInLCdpbnQnLCdpbnQnLCdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIEhpc3RvcnlMb2dfV3JpdGVMZXZlbFVwID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NGI5ZTVlKSwgJ2ludCcsIFsncG9pbnRlcicsJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIGNVc2VySGlzdG9yeUxvZ19MZXZlbFVwICA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY4NDViMiksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50JywgJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgY1VzZXJIaXN0b3J5TG9nX0l0ZW1BZGQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2ODJlODQpLCAnaW50JywgWydpbnQnLCdpbnQnLCdpbnQnLCdpbnQnLCdwb2ludGVyJywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCg0KLy/lvIDlkK/mgKrnianmlLvln44NCnZhciBJbnRlcl9WaWxsYWdlQXR0YWNrZWRTdGFydF9kaXNwYXRjaF9zaWcgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODRERjQ3QSksICdwb2ludGVyJywgWydwb2ludGVyJywgJ3BvaW50ZXInLCAncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQovL+e7k+adn+aAqueJqeaUu+Wfjg0KdmFyIHZpbGxhZ2VfYXR0YWNrZWRfQ1ZpbGxhZ2VNb25zdGVyTWdyX09uRGVzdHJveVZpbGxhZ2VNb25zdGVyID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NkI0M0Q0KSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInLCAnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBHbG9iYWxEYXRhX3NfdmlsbGFnZU1vbnN0ZXJNZ3IgPSBwdHIoMHg5NDFGNzdDKTsNCg0KLy/ojrflj5bpmJ/kvI3kuK3njqnlrrYNCnZhciBDUGFydHlfZ2V0X3VzZXIgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgxNDU3NjQpLCAncG9pbnRlcicsIFsncG9pbnRlcicsICdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENQYXJ0eV9zZW5kX3RvX3BhcnR5ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NTlkMTRlKSwgJ2ludCcsIFsncG9pbnRlcicsJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KDQovL+e7neacm+S5i+WhlOWxguaVsA0KdmFyIFRPRF9MYXllcl9UT0RfTGF5ZXIgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg1RkU3QjQpLCAncG9pbnRlcicsIFsncG9pbnRlcicsICdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KLy/orr7nva7nu53mnJvkuYvloZTlsYLmlbANCnZhciBUT0RfVXNlclN0YXRlX3NldEVudGVyTGF5ZXIgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2NDM4RkMpLCAncG9pbnRlcicsIFsncG9pbnRlcicsICdwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCg0KdmFyIGNNeVRyYWNlX2NNeVRyYWNlID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NTRmNzE4KSwgJ3ZvaWQnLCBbJ3BvaW50ZXInLCdwb2ludGVyJywnaW50JywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBjTXlUcmFjZV9vcGVyYXRvciA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODU0Zjc4OCksICd2b2lkJywgWydpbnQnLCdwb2ludGVyJywncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQoNCnZhciBNc2dRdWV1ZU1ncl9wdXQgPSAgbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NTcwZmRlKSwgJ2ludCcsIFsnaW50JywnaW50JywncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgTnVtYmVyVG9TdHJpbmc9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODEwOTA0YiksICd1aW50JywgWyd1aW50JywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCg0KdmFyIEdldEludGVncmF0ZWRQdlBJdGVtQXR0ciA9bmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NGZjNWZmKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQVJBRF9TaW5nbGV0b25fU2VydmljZVJlc3RyaWN0TWFuYWdlcl9HZXQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgxNjI1ZTYpLCAncG9pbnRlcicsIFtdLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgU2VydmljZVJlc3RyaWN0TWFuYWdlcl9pc1Jlc3RyaWN0ZWQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgxNmU2YjgpLCAndWludDgnLCBbJ2ludCcsJ3BvaW50ZXInLCdpbnQnLCdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENTZWN1X1Byb3RlY3Rpb25GaWVsZF9DaGVjayA9ICBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgyODhhMDIpLCAnaW50JywgWydwb2ludGVyJywncG9pbnRlcicsJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQoNCnZhciBzdEFtcGxpZnlPcHRpb25fdF9nZXRBYmlsaXR5VHlwZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODE1MDczMiksICd1aW50OCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgc3RBbXBsaWZ5T3B0aW9uX3RfZ2V0QWJpbGl0eVZhbHVlID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MTUwNzcyKSwgJ3VpbnQxNicsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgc3RBbXBsaWZ5T3B0aW9uX3RfR2V0TG9jayA9ICBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgyOGI1YTgpLCAnaW50JywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCg0KdmFyIFN0cmVhbVBvb2xfQWNxdWlyZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODI4ZmE4NiksICdwb2ludGVyJywgWydwb2ludGVyJywncG9pbnRlcicsJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ1N0cmVhbUd1YXJkX0NTdHJlYW1HdWFyZCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODBjOGMyNiksICd2b2lkJywgWydwb2ludGVyJywncG9pbnRlcicsJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ1N0cmVhbUd1YXJkX29wZXJhdG9yID0gIG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODBjOGM0NiksICdpbnQnLCBbJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQ1N0cmVhbUd1YXJkX29wZXJhdG9yX2ludCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODBjOGM1NiksICdpbnQnLCBbJ3BvaW50ZXInLCdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIENTdHJlYW1HdWFyZF9vcGVyYXRvcl9wID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MGM4YzRlKSwgJ2ludCcsIFsnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDU3RyZWFtR3VhcmRfR2V0SW5CdWZmZXJfU0lHX0FDQ09VTlRfQ0FSR09fREFUQSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODQ1M2ExMCksICdwb2ludGVyJywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBEZXN0cm95X0NTdHJlYW1HdWFyZF9DU3RyZWFtR3VhcmQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2MWM4ZDIpLCAndm9pZCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQoNCnZhciBDU3RhY2thYmxlSXRlbV9nZXRTdGFja2FibGVMaW1pdCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODIyYzlmYyksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIGl0ZW1fbG9ja19DSXRlbUxvY2tfQ2hlY2tJdGVtTG9jayA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODU0MWE5NiksICdpbnQnLCBbJ2ludCcsJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgVXBncmFkZVNlcGFyYXRlSW5mb19Jc1RyYWRlUmVzdHJpY3Rpb24gPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgxMTBiMGEpLCAnaW50JywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBTdHJlYW1fb3BlcmF0b3JfcCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODYxYzc5NiksICdpbnQnLCBbJ3BvaW50ZXInLCdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIFN0cmVhbV9HZXRPdXRCdWZmZXJfU0lHX0FDQ09VTlRfQ0FSR09fREFUQSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODQ1M2EyNiksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KDQp2YXIgQ0d1aWxkU2VydmVyUHJveHlfU2VuZEluY3JlYXNlR3VpbGRFeHAgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg0NmVjZTIpLCAnaW50JywgWydwb2ludGVyJywnaW50JywnaW50JywnaW50JywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBQdlBTa2lsbFRyZWVQYXJhbWV0ZXJTY3JpcHRfZ2V0UHZQU2tpbGxQb2ludCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwOGE1ZGQ2MiksICdpbnQnLCBbJ3BvaW50ZXInLCdpbnQnLCdpbnQnLCdpbnQnLCdpbnQnLCdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIFNlcnZlclBhcmFtZXRlclNjcmlwdF9pc0R1bmdlb25PcGVuICA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODI2ODdmYyksICdpbnQnLCBbXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIFhOdWNsZWFyX0NIYWRlc19FeHBVcCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODRiOTUzZSksICdpbnQnLCBbJ3BvaW50ZXInLCdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIFdhclJvb21fU2VuZFRvUm9vbSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODZiZTBjYyksICdpbnQnLCBbJ3BvaW50ZXInLCdwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCg0KdmFyIENDaGFyYWN0ZXJWaWV3X2VuYWJsZVNhdmVDaGFyYWNWaWV3ID0gIG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODIyZmJkYSksICdwb2ludGVyJywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBDTGV2ZWxEdW5nZW9uUGxheVN0YXRpc3RpY19JbmNyZWFzZUxldmVsRHVuZ2VvblBsYXkgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2MGVjYzYpLCAncG9pbnRlcicsIFsncG9pbnRlcicsJ2ludCcsJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgZXhwZXJ0X2pvYl9DRXhwZXJ0Sm9iX0luY3JlYXNlRXhwZXJ0Sm9iRXhwID0gIG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODM3NTAyNiksICd2b2lkJywgWydwb2ludGVyJywncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgQVBTeXN0ZW1fQ1VzZXJQcm9jX0NsZWFyQWN0aW9uQW5kU2VuZHRvVXNlciA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODEyMjM5MCksICd2b2lkJywgWydwb2ludGVyJywnaW50JywnaW50JywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBEQl9JbnNlcnRVbmxpbWl0U3VwcG9ydExvZ19tYWtlUmVxdWVzdCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODBjYmM5ZSksICd2b2lkJywgWydwb2ludGVyJywnaW50JywncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgREJfSW5zZXJ0QXJjaGlldmVFdmVudExvZ19tYWtlUmVxdWVzdCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODExNTk5OCksICd2b2lkJywgWydpbnQnLCdpbnQnLCdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIFJEQVJTY3JpcHRTdHJpbmdNYW5hZ2VyX2ZpbmRTdHJpbmcgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDhhYTU3ZmUpLCAncG9pbnRlcicsIFsncG9pbnRlcicsJ2ludCcsJ3BvaW50ZXInLCdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIEltcG9ydFNwUGVyTGV2ZWxSZWZlcmVuY2VUYWJsZSA9ICBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg5MTA1MDUpLCAnaW50JywgWydwb2ludGVyJywncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgc3RTcFBlckxldmVsVGFibGUgPSAgbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MzdmNTQ0KSwgJ3ZvaWQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KDQovL+iOt+WPluiDjOWMheanveS4reeahOmBk+WFtw0KdmFyIElOVkVOVE9SWV9UWVBFX0JPRFkgPSAwOyAgICAgICAgICAgIC8v6Lqr5LiK56m/55qE6KOF5aSHKDAtMjYpDQp2YXIgSU5WRU5UT1JZX1RZUEVfSVRFTSA9IDE7ICAgICAgICAgICAgLy/nianlk4HmoI8oMC0zMTEpDQp2YXIgSU5WRU5UT1JZX1RZUEVfQVZBUlRBUiA9IDI7ICAgICAgICAgLy/ml7boo4XmoI8oMC0xMDQpDQp2YXIgSU5WRU5UT1JZX1RZUEVfQ1JFQVRVUkUgPSAzOyAgICAgICAgLy/lrqDnianoo4XlpIcoMC0yNDEpDQoNCi8v6YCa55+l5a6i5oi356uv5pu05paw6IOM5YyF5qCPDQp2YXIgRU5VTV9JVEVNU1BBQ0VfSU5WRU5UT1JZID0gMDsgICAgICAgLy/nianlk4HmoI8NCnZhciBFTlVNX0lURU1TUEFDRV9BVkFUQVIgPSAxOyAgICAgICAgICAvL+aXtuijheagjw0KdmFyIEVOVU1fSVRFTVNQQUNFX0NBUkdPID0gMjsgICAgICAgICAgIC8v5LuT5bqTDQp2YXIgRU5VTV9JVEVNU1BBQ0VfQ1JFQVRVUkUgPSA3OyAgICAgICAgLy/lrqDnianmoI8NCnZhciBFTlVNX0lURU1TUEFDRV9BQ0NPVU5UX0NBUkdPID0gMTI7ICAvL+i0puWPt+S7k+W6kw0KDQovL01ZU1FM5pON5L2cDQovL+a4uOaIj+S4reW3suaJk+W8gOeahOaVsOaNruW6k+e0ouW8lSjmuLjmiI/mlbDmja7lupPpnZ7nur/nqIvlronlhagg6LCo5oWO5pON5L2cKQ0KdmFyIFRBSVdBTl9DQUlOID0gMjsNCnZhciBEQk1ncl9HZXREQkhhbmRsZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4M0Y1MjNFKSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInLCAnaW50JywgJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgTXlTUUxfTXlTUUwgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODNGM0FDOCksICdwb2ludGVyJywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBNeVNRTF9pbml0ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgzRjNDRTQpLCAnaW50JywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBNeVNRTF9vcGVuID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgzRjQwMjQpLCAnaW50JywgWydwb2ludGVyJywgJ3BvaW50ZXInLCAnaW50JywgJ3BvaW50ZXInLCAncG9pbnRlcicsICdwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBNeVNRTF9jbG9zZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4M0YzRTc0KSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgTXlTUUxfc2V0X3F1ZXJ5XzIgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODNGNDFDMCksICdpbnQnLCBbJ3BvaW50ZXInLCAncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgTXlTUUxfc2V0X3F1ZXJ5XzMgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODNGNDFDMCksICdpbnQnLCBbJ3BvaW50ZXInLCAncG9pbnRlcicsICdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIE15U1FMX3NldF9xdWVyeV80ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgzRjQxQzApLCAnaW50JywgWydwb2ludGVyJywgJ3BvaW50ZXInLCAnaW50JywgJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgTXlTUUxfc2V0X3F1ZXJ5XzUgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODNGNDFDMCksICdpbnQnLCBbJ3BvaW50ZXInLCAncG9pbnRlcicsICdpbnQnLCAnaW50JywgJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgTXlTUUxfc2V0X3F1ZXJ5XzYgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODNGNDFDMCksICdpbnQnLCBbJ3BvaW50ZXInLCAncG9pbnRlcicsICdpbnQnLCAnaW50JywgJ2ludCcsICdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIE15U1FMX2V4ZWMgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODNGNDMyNiksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBNeVNRTF9leGVjX3F1ZXJ5PSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgzRjUzNDgpLCAnaW50JywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBNeVNRTF9nZXRfbl9yb3dzID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgwRTIzNkMpLCAnaW50JywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciBNeVNRTF9mZXRjaCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4M0Y0NEJDKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgTXlTUUxfZ2V0X2ludCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MTE2OTJDKSwgJ2ludCcsIFsncG9pbnRlcicsICdpbnQnLCAncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgTXlTUUxfZ2V0X3VpbnQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODBFMjJGMiksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50JywgJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIE15U1FMX2dldF91bG9uZ2xvbmcgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODE3NTRDOCksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50JywgJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIE15U1FMX2dldF91c2hvcnQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODExNjk5MCksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIE15U1FMX2dldF9mbG9hdCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4NDRENkQwKSwgJ2ludCcsIFsncG9pbnRlcicsICdpbnQnLCAncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgTXlTUUxfZ2V0X2JpbmFyeSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MTI1MzFBKSwgJ2ludCcsIFsncG9pbnRlcicsICdpbnQnLCAncG9pbnRlcicsICdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIE15U1FMX2dldF9iaW5hcnlfbGVuZ3RoID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgxMjUzREUpLCAnaW50JywgWydwb2ludGVyJywgJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQp2YXIgTXlTUUxfZ2V0X3N0ciA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MEVDREVBKSwgJ2ludCcsIFsncG9pbnRlcicsICdpbnQnLCAncG9pbnRlcicsICdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIE15U1FMX2Jsb2JfdG9fc3RyID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgzRjQ1MkEpLCAncG9pbnRlcicsIFsncG9pbnRlcicsICdpbnQnLCAncG9pbnRlcicsICdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KdmFyIGNvbXByZXNzX3ppcCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4NkIyMDFGKSwgJ2ludCcsIFsncG9pbnRlcicsICdwb2ludGVyJywgJ3BvaW50ZXInLCAnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCnZhciB1bmNvbXByZXNzX3ppcCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4NkIyMTAyKSwgJ2ludCcsIFsncG9pbnRlcicsICdwb2ludGVyJywgJ3BvaW50ZXInLCAnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCg0KdmFyIE15U1FMX3NldF9xdWVyeV8zX3B0ciA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4M0Y0MUMwKSwgJ2ludCcsIFsncG9pbnRlcicsICdwb2ludGVyJywgJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KDQovL+W3suaJk+W8gOeahOaVsOaNruW6k+WPpeafhA0KdmFyIG15c3FsX3RhaXdhbl9jYWluID0gbnVsbDsNCnZhciBteXNxbF90YWl3YW5fY2Fpbl8ybmQgPSBudWxsOw0KdmFyIG15c3FsX3RhaXdhbl9iaWxsaW5nID0gbnVsbDsNCnZhciBteXNxbF9mcmlkYSA9IG51bGw7DQoNCg0KDQovKioNCiAqICDmnI3liqHnq6/lh73mlbBIb29r44CB5bCB6KOF5Y+K6Ieq5a6a5LmJ5Yqf6IO9DQogKi8NCi8v6I635Y+W57O757ufVVRD5pe26Ze0KOenkikNCmZ1bmN0aW9uIGFwaV9DU3lzdGVtVGltZV9nZXRDdXJTZWMoKQ0Kew0KICAgIHJldHVybiBnZXRDdXJTZWMocHRyKDApKTsNCn0NCg0KLy/nu5nop5LoibLlj5Hnu4/pqowNCmZ1bmN0aW9uIGFwaV9DVXNlcl9nYWluX2V4cF9zcCh1c2VyLCBleHApDQp7DQogICAgdmFyIGEyID0gTWVtb3J5LmFsbG9jKDQpOw0KICAgIHZhciBhMyA9IE1lbW9yeS5hbGxvYyg0KTsNCiAgICBDVXNlcl9nYWluX2V4cF9zcCh1c2VyLCBleHAsIGEyLCBhMywgMCwgMCwgMCk7DQp9DQoNCi8v57uZ6KeS6Imy5Y+R6YGT5YW3DQpmdW5jdGlvbiBhcGlfQ1VzZXJfQWRkSXRlbSh1c2VyLCBpdGVtX2lkLCBpdGVtX2NudCkNCnsNCiAgICB2YXIgaXRlbV9zcGFjZSA9IE1lbW9yeS5hbGxvYyg0KTsNCiAgICB2YXIgc2xvdCA9IENVc2VyX0FkZEl0ZW0odXNlciwgaXRlbV9pZCwgaXRlbV9jbnQsIDYsIGl0ZW1fc3BhY2UsIDApOw0KDQogICAgaWYoc2xvdCA+PSAwKQ0KICAgIHsNCiAgICAgICAgLy/pgJrnn6XlrqLmiLfnq6/mnInmuLjmiI/pgZPlhbfmm7TmlrANCiAgICAgICAgQ1VzZXJfU2VuZFVwZGF0ZUl0ZW1MaXN0KHVzZXIsIDEsIGl0ZW1fc3BhY2UucmVhZEludCgpLCBzbG90KTsNCiAgICB9DQoNCiAgICByZXR1cm47DQp9DQoNCi8v6I635Y+W6KeS6Imy5ZCN5a2XDQpmdW5jdGlvbiBhcGlfQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY05hbWUodXNlcikNCnsNCiAgICB2YXIgcCA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNOYW1lKHVzZXIpOw0KICAgIGlmKHAuaXNOdWxsKCkpDQogICAgew0KICAgICAgICByZXR1cm4gJyc7DQogICAgfQ0KDQogICAgcmV0dXJuIHAucmVhZFV0ZjhTdHJpbmcoLTEpOw0KfQ0KDQovL+e7meinkuiJsuWPkea2iOaBrw0KZnVuY3Rpb24gYXBpX0NVc2VyX1NlbmROb3RpUGFja2V0TWVzc2FnZSh1c2VyLCBtc2csIG1zZ190eXBlKQ0Kew0KICAgIHZhciBwID0gTWVtb3J5LmFsbG9jVXRmOFN0cmluZyhtc2cpOw0KICAgIENVc2VyX1NlbmROb3RpUGFja2V0TWVzc2FnZSh1c2VyLCBwLCBtc2dfdHlwZSk7DQoNCiAgICByZXR1cm47DQp9DQoNCg0KLy/ngrnliLjlhYXlgLwgKOemgeatouebtOaOpeS/ruaUuWJpbGxpbmflupPmiYDmnInooajlrZfmrrUsIOeCueWIuOebuOWFs+aTjeS9nOWKoeW/heiwg+eUqOaVsOaNruW6k+WtmOWCqOi/h+eoiyEpDQpmdW5jdGlvbiBhcGlfcmVjaGFyZ2VfY2FzaF9jZXJhKHVzZXIsIGFtb3VudCkNCnsNCiAgICAvL+WFheWAvA0KICAgIFdvbmdXb3JrX0lQR19DSVBHSGVscGVyX0lQR0lucHV0KHB0cigweDk0MUY3MzQpLnJlYWRQb2ludGVyKCksIHVzZXIsIDUsIGFtb3VudCwgcHRyKDB4OEM3RkEyMCksIHB0cigweDhDN0ZBMjApLA0KICAgICAgICBNZW1vcnkuYWxsb2NVdGY4U3RyaW5nKCdHTScpLCBwdHIoMCksIHB0cigwKSwgcHRyKDApKTsNCg0KICAgIC8v6YCa55+l5a6i5oi356uv5YWF5YC857uT5p6cDQogICAgV29uZ1dvcmtfSVBHX0NJUEdIZWxwZXJfSVBHUXVlcnkocHRyKDB4OTQxRjczNCkucmVhZFBvaW50ZXIoKSwgdXNlcik7DQp9DQoNCi8v5Luj5biB5YWF5YC8ICjnpoHmraLnm7TmjqXkv67mlLliaWxsaW5n5bqT5omA5pyJ6KGo5a2X5q61LCDngrnliLjnm7jlhbPmk43kvZzliqHlv4XosIPnlKjmlbDmja7lupPlrZjlgqjov4fnqIshKQ0KZnVuY3Rpb24gYXBpX3JlY2hhcmdlX2Nhc2hfY2VyYV9wb2ludCh1c2VyLCBhbW91bnQpDQp7DQogICAgLy/lhYXlgLwNCiAgICBXb25nV29ya19JUEdfQ0lQR0hlbHBlcl9JUEdJbnB1dFBvaW50KHB0cigweDk0MUY3MzQpLnJlYWRQb2ludGVyKCksIHVzZXIsIGFtb3VudCwgNCwgcHRyKDApLCBwdHIoMCkpOw0KDQogICAgLy/pgJrnn6XlrqLmiLfnq6/lhYXlgLznu5PmnpwNCiAgICBXb25nV29ya19JUEdfQ0lQR0hlbHBlcl9JUEdRdWVyeShwdHIoMHg5NDFGNzM0KS5yZWFkUG9pbnRlcigpLCB1c2VyKTsNCn0NCg0KLy/ojrflj5bpgZPlhbflkI3lrZcNCmZ1bmN0aW9uIGFwaV9DSXRlbV9HZXRJdGVtTmFtZShpdGVtX2lkKQ0Kew0KICAgIHZhciBjaXRlbSA9IENEYXRhTWFuYWdlcl9maW5kX2l0ZW0oR19DRGF0YU1hbmFnZXIoKSwgaXRlbV9pZCk7DQogICAgaWYoIWNpdGVtLmlzTnVsbCgpKQ0KICAgIHsNCiAgICAgICAgcmV0dXJuIHB0cihDSXRlbV9HZXRJdGVtTmFtZShjaXRlbSkpLnJlYWRVdGY4U3RyaW5nKC0xKTsNCiAgICB9DQoNCiAgICByZXR1cm4gaXRlbV9pZC50b1N0cmluZygpOw0KfQ0KIA0KIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS1GVU5DVElPTl9FTkQg5pyN5Yqh56uv5Z+656GAYXBp5Ye95pWwLOivtOaYjjrmnI3liqHnq6/ln7rnoYBhcGnlh73mlbAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tIA0KIA0KLy8tLS0tLS0tLS0tLS0tLS0tLS0tLUZVTkNUSU9OX0JFR0lOIOaMguaOpea2iOaBr+WIhuWPkee6v+eoiywg6K+05piOOuaMguaOpea2iOaBr+WIhuWPkee6v+eoiyDmiafooYzpnIDopoHlnKjkuLvnur/nqIvov5DooYznmoTku6PnoIEtLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogDQogDQoNCg0KLy/pnIDopoHlnKhkaXNwYXRjaGVy57q/56iL5omn6KGM55qE5Lu75Yqh6Zif5YiXKOeDreWKoOi9veWQjuS8muiiq+a4heepuikNCnZhciB0aW1lcl9kaXNwYXRjaGVyX2xpc3QgPSBbXTsNCg0KLy/lnKhkaXNwYXRjaGVy57q/56iL5omn6KGMKGFyZ3PkuLrlh73mlbBm55qE5Y+C5pWw57uE5oiQ55qE5pWw57uELCDoi6Vm5peg5Y+C5pWwYXJnc+WPr+S4um51bGwpDQpmdW5jdGlvbiBhcGlfc2NoZWR1bGVPbk1haW5UaHJlYWQoZiwgYXJncykNCnsNCiAgICAvL+e6v+eoi+WuieWFqA0KICAgIHZhciBndWFyZCA9IGFwaV9HdWFyZF9NdXRleF9HdWFyZCgpOw0KDQogICAgdGltZXJfZGlzcGF0Y2hlcl9saXN0LnB1c2goW2YsIGFyZ3NdKTsNCg0KICAgIERlc3Ryb3lfR3VhcmRfTXV0ZXhfR3VhcmQoZ3VhcmQpOw0KDQogICAgcmV0dXJuOw0KfQ0KDQovL+iuvue9ruWumuaXtuWZqCDliLDmnJ/lkI7lnKhkaXNwYXRjaGVy57q/56iL5omn6KGMDQpmdW5jdGlvbiBhcGlfc2NoZWR1bGVPbk1haW5UaHJlYWRfZGVsYXkoZiwgYXJncywgZGVsYXkpDQp7DQogICAgc2V0VGltZW91dChhcGlfc2NoZWR1bGVPbk1haW5UaHJlYWQsIGRlbGF5LCBmLCBhcmdzKTsNCn0NCg0KDQovL+eUs+ivt+mUgSjnlLPor7flkI7liqHlv4XmiYvliqjph4rmlL4hISEpDQpmdW5jdGlvbiBhcGlfR3VhcmRfTXV0ZXhfR3VhcmQoKQ0Kew0KICAgIHZhciBhMSA9IE1lbW9yeS5hbGxvYygxMDApOw0KICAgIEd1YXJkX011dGV4X0d1YXJkKGExLCBHX1RpbWVyUXVldWUoKS5hZGQoMTYpKTsNCg0KICAgIHJldHVybiBhMTsNCn0NCg0KLy/lpITnkIbliLDmnJ/nmoToh6rlrprkuYnlrprml7blmagNCmZ1bmN0aW9uIGRvX3RpbWVyX2Rpc3BhdGNoKCkNCnsNCiAgICAvL+W9k+WJjeW+heWkhOeQhueahOWumuaXtuWZqOS7u+WKoeWIl+ihqA0KICAgIHZhciB0YXNrX2xpc3QgPSBbXTsNCg0KICAgIC8v57q/56iL5a6J5YWoDQogICAgdmFyIGd1YXJkID0gYXBpX0d1YXJkX011dGV4X0d1YXJkKCk7DQoNCiAgICAvL+S+neasoeWPluWHuumYn+WIl+S4reeahOS7u+WKoQ0KICAgIHdoaWxlKHRpbWVyX2Rpc3BhdGNoZXJfbGlzdC5sZW5ndGggPiAwKQ0KICAgIHsNCiAgICAgICAgLy/lhYjlhaXlhYjlh7oNCiAgICAgICAgdmFyIHRhc2sgPSB0aW1lcl9kaXNwYXRjaGVyX2xpc3Quc2hpZnQoKTsNCiAgICAgICAgdGFza19saXN0LnB1c2godGFzayk7DQogICAgfQ0KDQogICAgRGVzdHJveV9HdWFyZF9NdXRleF9HdWFyZChndWFyZCk7DQoNCiAgICAvL+aJp+ihjOS7u+WKoQ0KICAgIGZvcih2YXIgaT0wOyBpPHRhc2tfbGlzdC5sZW5ndGg7ICsraSkNCiAgICB7DQogICAgICAgIHZhciB0YXNrID0gdGFza19saXN0W2ldOw0KDQogICAgICAgIHZhciBmID0gdGFza1swXTsNCiAgICAgICAgdmFyIGFyZ3MgPSB0YXNrWzFdOw0KDQogICAgICAgIGYuYXBwbHkobnVsbCwgYXJncyk7DQogICAgfQ0KfQ0KDQoNCi8v5oyC5o6l5raI5oGv5YiG5Y+R57q/56iLIOehruS/neS7o+eggee6v+eoi+WuieWFqA0KZnVuY3Rpb24gaG9va19UaW1lckRpc3BhdGNoZXJfZGlzcGF0Y2goKQ0Kew0KICAgIC8vaG9vayBUaW1lckRpc3BhdGNoZXI6OmRpc3BhdGNoDQogICAgLy/mnI3liqHlmajlhoXnva7lrprml7blmagg5q+P56eS6Iez5bCR5omn6KGM5LiA5qyhDQogICAgSW50ZXJjZXB0b3IuYXR0YWNoKHB0cigweDg2MzJBMTgpLCB7DQoNCiAgICAgICAgb25FbnRlcjogZnVuY3Rpb24gKGFyZ3MpIHsNCiAgICAgICAgfSwNCiAgICAgICAgb25MZWF2ZTogZnVuY3Rpb24gKHJldHZhbCkgew0KDQogICAgICAgICAgICAvL+a4heepuuetieW+heaJp+ihjOeahOS7u+WKoemYn+WIlw0KICAgICAgICAgICAgZG9fdGltZXJfZGlzcGF0Y2goKTsNCiAgICAgICAgfQ0KICAgIH0pOw0KfSANCiAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tRlVOQ1RJT05fRU5EIOaMguaOpea2iOaBr+WIhuWPkee6v+eoiyzor7TmmI465oyC5o6l5raI5oGv5YiG5Y+R57q/56iLIOaJp+ihjOmcgOimgeWcqOS4u+e6v+eoi+i/kOihjOeahOS7o+eggS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gDQogDQovLy0tLS0tLS0tLS0tLS0tLS0tLS0tRlVOQ1RJT05fQkVHSU4g6KeS6Imy55m75YWl55m75Ye65aSE55CGLCDor7TmmI466KeS6Imy55m75YWl55m75Ye65aSE55CGLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KIA0KIC8v6KeS6Imy55m75YWl55m75Ye65aSE55CGDQogDQovL+inkuiJsueZu+WFpeeZu+WHuuWkhOeQhg0KZnVuY3Rpb24gaG9va191c2VyX2lub3V0X2dhbWVfd29ybGQoKSB7DQogICAgY29uc29sZS5sb2coIj09PT09PT09PT09PT09PT09PT09PT0+IOW8gOWQr+inkuiJsueZu+WFpeeZu+WHuuWkhOeQhiIpOw0KICAgIC8v6YCJ5oup6KeS6Imy5aSE55CG5Ye95pWwIEhvb2sgR2FtZVdvcmxkOjpyZWFjaF9nYW1lX3dvcmxkDQogICAgSW50ZXJjZXB0b3IuYXR0YWNoKHB0cigweDg2QzRFNTApLCB7DQogICAgICAgIC8v5Ye95pWw5YWl5Y+jLCDmi7/liLDlh73mlbDlj4LmlbBhcmdzDQogICAgICAgIG9uRW50ZXI6IGZ1bmN0aW9uIChhcmdzKSB7DQogICAgICAgICAgICAvL+S/neWtmOWHveaVsOWPguaVsA0KICAgICAgICAgICAgdGhpcy51c2VyID0gYXJnc1sxXTsgICAgICAgICAgDQogICAgICAgICAgICB2YXIgY2hhcmFjX25vID0gQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY05vKHRoaXMudXNlcik7DQogICAgICAgICAgICB2YXIgY2hhcmFjX05hbWUgPSBhcGlfQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY05hbWUodGhpcy51c2VyKTsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfop5LoibI8JytjaGFyYWNfTmFtZSsnOicrY2hhcmFjX25vKyc+55m75b2V5ri45oiPJyk7DQogICAgICAgICAgICB2YXIgZ2FtZV9jb25maWcgPSBnbG9iYWxfY29uZmlnWydnYW1lX2NvbmZpZyddOw0KICAgICAgICAgICAgaWYoZ2FtZV9jb25maWdbJ2VuYWJsZV91c2VyX2xvZ2luX3dlbGNvbWUnXSA9PT0gJ3RydWUnKXsNCiAgICAgICAgICAgICAvL+e7meinkuiJsuWPkea2iOaBr+mXruWAmQ0KICAgICAgICAgICAgIGFwaV9DVXNlcl9TZW5kTm90aVBhY2tldE1lc3NhZ2UodGhpcy51c2VyLCBnYW1lX2NvbmZpZ1snZW5hYmxlX3VzZXJfbG9naW5fd2VsY29tZV90ZXh0J10ucmVwbGFjZSgnJXMnLCBjaGFyYWNfTmFtZSksIDEpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgLy/popHpgZPlhazlkYoNCiAgICAgICAgICAgIGlmKGdhbWVfY29uZmlnWydlbmFibGVfdXNlcl9sb2dpbl9ub3RpY2UnXSA9PT0gJ3RydWUnKXsNCiAgICAgICAgICAgICBwdXNoU2VuZE5vdGlQYWNrZXRNZXNzYWdlKGdhbWVfY29uZmlnWydlbmFibGVfdXNlcl9sb2dpbl9ub3RpY2VfdGV4dCddLnJlcGxhY2UoJyVzJywgY2hhcmFjX05hbWUpLDE2KTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHZhciB1c2VyRHRvPXsNCiAgICAgICAgICAgICAgICAndHlwZSc6J2dhbWVfdXNlcl9sb2dpbicsDQogICAgICAgICAgICAgICAgJ2RhdGEnOiBjaGFyYWNfbm8NCiAgICAgICAgICAgIH07DQogICAgICAgICAgICBzZW5kKEpTT04uc3RyaW5naWZ5KHVzZXJEdG8pKTsNCiAgICAgICAgfSwNCiAgICAgICAgLy/ljp/lh73mlbDmiafooYzlrozmr5UsIOi/memHjOWPr+S7peW+l+WIsOW5tuS/ruaUuei/lOWbnuWAvHJldHZhbA0KICAgICAgICBvbkxlYXZlOiBmdW5jdGlvbiAocmV0dmFsKSB7DQogICAgICAgIH0NCiAgICB9KTsNCg0KICAgIC8v6KeS6Imy6YCA5Ye65pe25aSE55CG5Ye95pWwIEhvb2sgR2FtZVdvcmxkOjpsZWF2ZV9nYW1lX3dvcmxkDQogICAgSW50ZXJjZXB0b3IuYXR0YWNoKHB0cigweDg2QzUyODgpLCB7DQogICAgICAgIG9uRW50ZXI6IGZ1bmN0aW9uIChhcmdzKSB7DQogICAgICAgICAgICB2YXIgdXNlciA9IGFyZ3NbMV07DQogICAgICAgICAgICB0aGlzLnVzZXIgPSB1c2VyOw0KICAgICAgICB9DQogICAgfSk7DQogICAgLy/op5LoibLpgIDlh7rml7blpITnkIblh73mlbAgSG9vayBDR2FtZU1hbmFnZXI6OnVzZXJfZXhpdA0KICAgIEludGVyY2VwdG9yLmF0dGFjaChwdHIoMHgwODI5ODVhOCksIHsNCg0KICAgICAgICBvbkVudGVyOiBmdW5jdGlvbiAoYXJncykgew0KICAgICAgICAgICAgdmFyIHVzZXIgPSBhcmdzWzFdOw0KICAgICAgICAgICAgdGhpcy51c2VyID0gdXNlcjsNCiAgICAgICAgICAgIHZhciBjaGFyYWNfbm8gPSBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjTm8odGhpcy51c2VyKTsNCiAgICAgICAgICAgIHZhciBjaGFyYWNfTmFtZSA9IGFwaV9DVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjTmFtZSh0aGlzLnVzZXIpOw0KICAgICAgICAgICAgY29uc29sZS5sb2coJ+inkuiJsjwnK2NoYXJhY19OYW1lKyc6JytjaGFyYWNfbm8rJz7pgIDlh7rmuLjmiI8nKTsNCiAgICAgICAgICAgIC8v6aKR6YGT5YWs5ZGKDQogICAgICAgICAgICBpZihnYW1lX2NvbmZpZ1snZW5hYmxlX3VzZXJfZXhpdF9ub3RpY2UnXSA9PT0gJ3RydWUnKXsNCiAgICAgICAgICAgICBwdXNoU2VuZE5vdGlQYWNrZXRNZXNzYWdlKGdhbWVfY29uZmlnWydlbmFibGVfdXNlcl9leGl0X25vdGljZV90ZXh0J10ucmVwbGFjZSgnJXMnLCBjaGFyYWNfTmFtZSksMTYpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICBvbkxlYXZlOiBmdW5jdGlvbiAocmV0dmFsKSB7DQogICAgICAgICAgICAvLyB2YXIgYWNjSWQgPSBDVXNlcl9nZXRfYWNjX2lkKHRoaXMudXNlcik7DQogICAgICAgIH0NCiAgICB9KTsNCn0gDQogLy8tLS0tLS0tLS0tLS0tLS0tLS0tLUZVTkNUSU9OX0VORCDop5LoibLnmbvlhaXnmbvlh7rlpITnkIYs6K+05piOOuinkuiJsueZu+WFpeeZu+WHuuWkhOeQhi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gDQogDQovLy0tLS0tLS0tLS0tLS0tLS0tLS0tRlVOQ1RJT05fQkVHSU4g5LiW55WM5bm/5pKtKOmikemBk+WGheWFrOWRiiksIOivtOaYjjrkuJbnlYzlub/mkq0o6aKR6YGT5YaF5YWs5ZGKKS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiANCiANCg0KLy/lj5HpgIHlrZfnrKbkuLLnu5nlrqLmiLfnq68NCmZ1bmN0aW9uIGFwaV9JbnRlcmZhY2VQYWNrZXRCdWZfcHV0X3N0cmluZyhwYWNrZXRfZ3VhcmQsIHMpDQp7DQogICAgdmFyIHAgPSBNZW1vcnkuYWxsb2NVdGY4U3RyaW5nKHMpOw0KICAgIHZhciBsZW4gPSBzdHJsZW4ocCk7DQogICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9pbnQocGFja2V0X2d1YXJkLCBsZW4pOw0KICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfYmluYXJ5KHBhY2tldF9ndWFyZCwgcCwgbGVuKTsNCg0KICAgIHJldHVybjsNCn0NCg0KIC8v5LiW55WM5bm/5pKtKOmikemBk+WGheWFrOWRiikNCmZ1bmN0aW9uIGFwaV9HYW1lV29ybGRfU2VuZE5vdGlQYWNrZXRNZXNzYWdlKG1zZywgbXNnX3R5cGUpDQp7DQogICAgdmFyIHBhY2tldF9ndWFyZCA9IGFwaV9QYWNrZXRHdWFyZF9QYWNrZXRHdWFyZCgpOw0KICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfaGVhZGVyKHBhY2tldF9ndWFyZCwgMCwgMTIpOw0KICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfYnl0ZShwYWNrZXRfZ3VhcmQsIG1zZ190eXBlKTsNCiAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X3Nob3J0KHBhY2tldF9ndWFyZCwgMCk7DQogICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9ieXRlKHBhY2tldF9ndWFyZCwgMCk7DQogICAgYXBpX0ludGVyZmFjZVBhY2tldEJ1Zl9wdXRfc3RyaW5nKHBhY2tldF9ndWFyZCwgbXNnKTsNCiAgICBJbnRlcmZhY2VQYWNrZXRCdWZfZmluYWxpemUocGFja2V0X2d1YXJkLCAxKTsNCiAgICBHYW1lV29ybGRfc2VuZF9hbGxfd2l0aF9zdGF0ZShHX0dhbWVXb3JsZCgpLCBwYWNrZXRfZ3VhcmQsIDMpOyAgLy/lj6rnu5lzdGF0ZSA+PSAzIOeahOeOqeWutuWPkeWFrOWRig0KICAgIERlc3Ryb3lfUGFja2V0R3VhcmRfUGFja2V0R3VhcmQocGFja2V0X2d1YXJkKTsNCn0NCg0KLy/lkJHlrprml7bku7vliqHliJfooajmt7vliqDkuIDkuKrlj5HpgIHlhazlkYrnmoTlrprml7bku7vliqENCmZ1bmN0aW9uIHB1c2hTZW5kTm90aVBhY2tldE1lc3NhZ2UobXNnLCBtc2dfdHlwZSl7DQogIHZhciBhcmdzID0gW107DQogIGFyZ3MucHVzaChtc2cpOw0KICBhcmdzLnB1c2gobXNnX3R5cGUpOw0KICBhcGlfc2NoZWR1bGVPbk1haW5UaHJlYWQoYXBpX0dhbWVXb3JsZF9TZW5kTm90aVBhY2tldE1lc3NhZ2UsIGFyZ3MpOw0KfQ0KIA0KIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS1GVU5DVElPTl9FTkQg5LiW55WM5bm/5pKtKOmikemBk+WGheWFrOWRiiks6K+05piOOuS4lueVjOW5v+aSrSjpopHpgZPlhoXlhazlkYopLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSANCiANCi8vLS0tLS0tLS0tLS0tLS0tLS0tLS1GVU5DVElPTl9CRUdJTiDliqDovb3mnKzlnLBqc29u6YWN572u5paH5Lu2LCDor7TmmI46ZnJpZGHkuLvlh73mlbDkvp3otZbvvIzor7vlj5ZkbmYtYWRtaW7phY3lpZfnmoRqc29u6YWN572u5paH5Lu2LS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KIA0KICANCg0KDQovL+WKoOi9veacrOWcsOmFjee9ruaWh+S7tihqc29u5qC85byPKQ0KdmFyIGdsb2JhbF9jaGFubmVsID0gJyc7DQp2YXIgZ2xvYmFsX2NvbmZpZyA9IHt9Ow0KZnVuY3Rpb24gbG9hZF9jb25maWcoY2hhbm5lbCkgew0KICAgIGNvbnNvbGUubG9nKCI9PT09PT09PT09PT09PT09PT09PT09PuWKoOi9vWpzb27phY3nva7mlofku7YiKQ0KICAgIGdsb2JhbF9jaGFubmVsPWNoYW5uZWw7DQogICAgdmFyIGRhdGEgPSBhcGlfcmVhZF9maWxlKCcvZGF0YS9mcmlkYS8nICsgY2hhbm5lbCArICcvZnJpZGFfY29uZi5qc29uJywgJ3InLCAxMCAqIDEwMjQgKiAxMDI0KTsNCiAgICBnbG9iYWxfY29uZmlnID0gSlNPTi5wYXJzZShkYXRhKTsNCn0gDQogLy8tLS0tLS0tLS0tLS0tLS0tLS0tLUZVTkNUSU9OX0VORCDliqDovb3mnKzlnLBqc29u6YWN572u5paH5Lu2LOivtOaYjjpmcmlkYeS4u+WHveaVsOS+nei1lu+8jOivu+WPlmRuZi1hZG1pbumFjeWll+eahGpzb27phY3nva7mlofku7YtLS0tLS0tLS0tLS0tLS0tLS0tLS0tIA0KIA0KLy8tLS0tLS0tLS0tLS0tLS0tLS0tLUZVTkNUSU9OX0JFR0lOIOivu+WPluacrOWcsOaWh+S7tiwg6K+05piOOuivu+WPluacrOWcsOaWh+S7tizliqDovb3mnKzlnLBqc29u6YWN572u5paH5Lu25L6d6LWWLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KIA0KIC8vbGludXjor7vmnKzlnLDmlofku7YNCnZhciBmb3BlbiA9IG5ldyBOYXRpdmVGdW5jdGlvbihNb2R1bGUuZ2V0RXhwb3J0QnlOYW1lKG51bGwsICdmb3BlbicpLCAnaW50JywgWydwb2ludGVyJywgJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIGZyZWFkID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKE1vZHVsZS5nZXRFeHBvcnRCeU5hbWUobnVsbCwgJ2ZyZWFkJyksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50JywgJ2ludCcsICdpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIGZjbG9zZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihNb2R1bGUuZ2V0RXhwb3J0QnlOYW1lKG51bGwsICdmY2xvc2UnKSwgJ2ludCcsIFsnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCmZ1bmN0aW9uIGFwaV9yZWFkX2ZpbGUocGF0aCwgbW9kZSwgbGVuKSB7DQogICAgdmFyIHBhdGhfcHRyID0gTWVtb3J5LmFsbG9jVXRmOFN0cmluZyhwYXRoKTsNCiAgICB2YXIgbW9kZV9wdHIgPSBNZW1vcnkuYWxsb2NVdGY4U3RyaW5nKG1vZGUpOw0KICAgIHZhciBmID0gZm9wZW4ocGF0aF9wdHIsIG1vZGVfcHRyKTsNCiAgICBpZiAoZiA9PSAwKQ0KICAgICAgICByZXR1cm4gbnVsbDsNCiAgICB2YXIgZGF0YSA9IE1lbW9yeS5hbGxvYyhsZW4pOw0KICAgIHZhciBmcmVhZF9yZXQgPSBmcmVhZChkYXRhLCAxLCBsZW4sIGYpOw0KICAgIGZjbG9zZShmKTsNCiAgICAvL+i/lOWbnuWtl+espuS4sg0KICAgIGlmIChtb2RlID09ICdyJykNCiAgICAgICAgcmV0dXJuIGRhdGEucmVhZFV0ZjhTdHJpbmcoZnJlYWRfcmV0KTsNCiAgICAvL+i/lOWbnuS6jOi/m+WItmJ1ZmbmjIfpkogNCiAgICByZXR1cm4gZGF0YTsNCn0gDQogLy8tLS0tLS0tLS0tLS0tLS0tLS0tLUZVTkNUSU9OX0VORCDor7vlj5bmnKzlnLDmlofku7Ys6K+05piOOuivu+WPluacrOWcsOaWh+S7tizliqDovb3mnKzlnLBqc29u6YWN572u5paH5Lu25L6d6LWWLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSANCiANCi8vLS0tLS0tLS0tLS0tLS0tLS0tLS1GVU5DVElPTl9CRUdJTiDmoLnmja7phY3nva7liJ3lp4vljJbnm7jlhbPlip/og70sIOivtOaYjjrmoLnmja7phY3nva7liJ3lp4vljJbnm7jlhbPlip/og70tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogDQogLy/moLnmja7muLjmiI/phY3nva7mjqfliLbnm7jlhbPlip/og70NCg0KLy/moLnmja7phY3nva7liJ3lp4vljJbnm7jlhbPlip/og70JDQpmdW5jdGlvbiBpbml0Rm9yQ29uZmlnKCl7DQogICAgdmFyIGdhbWVfY29uZmlnID0gZ2xvYmFsX2NvbmZpZ1snZ2FtZV9jb25maWcnXTsNCiAgICBpZihnYW1lX2NvbmZpZ1snZW5hYmxlX2dhbWVfbWFzdGVyJ10gPT09ICd0cnVlJyl7DQogICAgICAgIC8v5omA5pyJ6LSm5Y+36KeS6Imy5byA5ZCvR03mnYPpmZANCiAgICAgICAgaG9va19jaGVja19nbSgpOw0KICAgIH0NCiAgICBpZihnYW1lX2NvbmZpZ1snZGlzYWJsZV9jaGVja19jcmVhdGVfY2hhcmFjdGVyX2xpbWl0J10gPT09ICd0cnVlJyl7DQogICAgICAgIC8v6Kej6Zmk5q+P5pel5Yib5bu66KeS6Imy5pWw6YeP6ZmQ5Yi2DQogICAgICAgIGRpc2FibGVfY2hlY2tfY3JlYXRlX2NoYXJhY3Rlcl9saW1pdCgpOw0KICAgIH0NCiAgICBpZihnYW1lX2NvbmZpZ1snc2hhcmVfc2VyaWFfcm9vbSddID09PSAndHJ1ZScpew0KICAgICAgICAvL+WFgeiuuOi1m+WIqeS6muaIv+mXtOeahOS6uuS6kuebuOWPr+ingQ0KICAgICAgICBzaGFyZV9zZXJpYV9yb29tKCk7DQogICAgfQ0KICAgIGlmKGdhbWVfY29uZmlnWydQcml2YXRlc3RvcmVfSWdub3JlTmVhckR1bmdlb24nXSA9PT0gJ3RydWUnKXsNCiAgICAgICAgLy/lv73nlaXlia/mnKzpl6jlj6PnpoHmraLmkYbmkYoNCiAgICAgICAgUHJpdmF0ZXN0b3JlX0lnbm9yZU5lYXJEdW5nZW9uKCk7DQogICAgfQ0KICAgIGlmKGdhbWVfY29uZmlnWydlbmFibGVfY3JlYXRvciddID09PSAndHJ1ZScpew0KICAgICAgICAvL+W8gOWQr+WIm+W7uue8lOmAoA0KICAgICAgICBlbmFibGVfY3JlYXRlQ3JlYXRvcigpOw0KICAgIH0NCiAgICBpZihnYW1lX2NvbmZpZ1snY2FuY2VsX2VwaWNfb2snXSA9PT0gJ3RydWUnKXsNCiAgICAgICAgLy/lj7Lor5flhY3noa7orqQNCiAgICAgICAgY2FuY2VsX2VwaWNfb2soKTsNCiAgICB9DQogICAgaWYoZ2FtZV9jb25maWdbJ2F1dG9fdW5zZWFsX3JhbmRvbV9vcHRpb25fZXF1aXBtZW50J10gPT09ICd0cnVlJyl7DQogICAgICAgIC8v6a2U5rOV5bCB5Y2w6Ieq5Yqo6Kej5bCBDQogICAgICAgIGF1dG9fdW5zZWFsX3JhbmRvbV9vcHRpb25fZXF1aXBtZW50KCk7DQogICAgfQ0KICAgIGlmKGdhbWVfY29uZmlnWydkaXNhYmxlX21vYmlsZV9yZXdhcmRzJ10gPT09ICd0cnVlJyl7DQogICAgICAgIC8v5Y+W5raI5paw6LSm5Y+36YCB5oiQ6ZW/5aWR57qmDQogICAgICAgIEludGVyY2VwdG9yX0ludGVyU2VsZWN0TW9iaWxlQXV0aFJld2FyZCgpOw0KICAgIH0NCiAgICBpZihnYW1lX2NvbmZpZ1snbWF4X2xldmVsJ10gPiAwKXsNCiAgICAgICAgLy/orr7nva7mnIDlpKfnrYnnuqcNCiAgICAgICAgc2V0TWF4VXBHcmFkZShnYW1lX2NvbmZpZ1snbWF4X2xldmVsJ10pOw0KICAgIH0NCiAgICBpZihnYW1lX2NvbmZpZ1snZW5oYW5jZW1lbnRfbGV2ZWxfMTNfbm9fZXhpdCddID09PSAndHJ1ZScpew0KICAgICAgICAvLysxM+S7peS4iuW8uuWMluWIuOaXoOmcgOWwj+mAgA0KICAgICAgICBlbmhhbmNlbWVudF9sZXZlbF8xM19ub19leGl0KCk7DQogICAgfQ0KICAgIA0KfSANCiAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tRlVOQ1RJT05fRU5EIOagueaNrumFjee9ruWIneWni+WMluebuOWFs+WKn+iDvSzor7TmmI465qC55o2u6YWN572u5Yid5aeL5YyW55u45YWz5Yqf6IO9LS0tLS0tLS0tLS0tLS0tLS0tLS0tLSANCiANCi8vLS0tLS0tLS0tLS0tLS0tLS0tLS1GVU5DVElPTl9CRUdJTiDprZTms5XlsIHljbDoh6rliqjop6PlsIEsIOivtOaYjjrprZTms5XlsIHljbDoh6rliqjop6PlsIEtLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogDQogLy/prZTms5XlsIHljbDoh6rliqjop6PlsIENCmZ1bmN0aW9uIGF1dG9fdW5zZWFsX3JhbmRvbV9vcHRpb25fZXF1aXBtZW50KCkgew0KICAgIC8vQ0ludmVudG9yeTo6aW5zZXJ0SXRlbUludG9JbnZlbnRvcnkNCiAgICBjb25zb2xlLmxvZygiPT09PT09PT09PT09PT09PT09PT09PT4g6a2U5rOV5bCB5Y2w6Ieq5Yqo6Kej5bCBIik7DQogICAgSW50ZXJjZXB0b3IuYXR0YWNoKHB0cigweDg1MDJEODYpLCB7DQogICAgICAgIG9uRW50ZXI6IGZ1bmN0aW9uIChhcmdzKSB7DQogICAgICAgICAgICB0aGlzLnVzZXIgPSBhcmdzWzBdLnJlYWRQb2ludGVyKCk7DQogICAgICAgIH0sDQogICAgICAgIG9uTGVhdmU6IGZ1bmN0aW9uIChyZXR2YWwpIHsNCg0KICAgICAgICAgICAgLy/nianlk4HmoI/mlrDlop7nianlk4HnmoTkvY3nva4NCiAgICAgICAgICAgIHZhciBzbG90ID0gcmV0dmFsLnRvSW50MzIoKTsNCiAgICAgICAgICAgIGlmIChzbG90ID4gMCkgew0KICAgICAgICAgICAgICAgIC8v6I635Y+W6YGT5YW355qE6KeS6ImyDQogICAgICAgICAgICAgICAgdmFyIHVzZXIgPSB0aGlzLnVzZXI7DQoNCiAgICAgICAgICAgICAgICAvL+inkuiJsuiDjOWMhQ0KICAgICAgICAgICAgICAgIHZhciBpbnZlbiA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNJbnZlblcodXNlcik7DQoNCiAgICAgICAgICAgICAgICAvL+iDjOWMheS4reaWsOWinueahOmBk+WFtw0KICAgICAgICAgICAgICAgIHZhciBpbnZlbl9pdGVtID0gQ0ludmVudG9yeV9HZXRJbnZlblJlZihpbnZlbiwgSU5WRU5UT1JZX1RZUEVfSVRFTSwgc2xvdCk7DQoNCiAgICAgICAgICAgICAgICAvL+i/h+a7pOmBk+WFt+exu+Weiw0KICAgICAgICAgICAgICAgIGlmICghSW52ZW5fSXRlbV9pc0VxdWlwYWJsZUl0ZW1UeXBlKGludmVuX2l0ZW0pKQ0KICAgICAgICAgICAgICAgICAgICByZXR1cm47DQoNCiAgICAgICAgICAgICAgICAvL+ijheWkh2lkDQogICAgICAgICAgICAgICAgdmFyIGl0ZW1faWQgPSBJbnZlbl9JdGVtX2dldEtleShpbnZlbl9pdGVtKTsNCg0KICAgICAgICAgICAgICAgIC8vcHZm5Lit6I635Y+W6KOF5aSH5pWw5o2uDQogICAgICAgICAgICAgICAgdmFyIGNpdGVtID0gQ0RhdGFNYW5hZ2VyX2ZpbmRfaXRlbShHX0NEYXRhTWFuYWdlcigpLCBpdGVtX2lkKTsNCg0KICAgICAgICAgICAgICAgIC8v5qOA5p+l6KOF5aSH5piv5ZCm5Li66a2U5rOV5bCB5Y2w57G75Z6LDQogICAgICAgICAgICAgICAgaWYgKCFDRXF1aXBJdGVtX0lzUmFuZG9tT3B0aW9uKGNpdGVtKSkNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KDQogICAgICAgICAgICAgICAgLy/mmK/lkKblt7Looqvop6PpmaTprZTms5XlsIHljbDvvIjprZTms5XlsIHljbDliY0xMOS4quWtl+iKguaYr+WQpuS4ujDvvIkNCiAgICAgICAgICAgICAgICB2YXIgcmFuZG9tX29wdGlvbiA9IGludmVuX2l0ZW0uYWRkKDM3KTsNCiAgICAgICAgICAgICAgICBpZiAocmFuZG9tX29wdGlvbi5yZWFkVTMyKCkgfHwgcmFuZG9tX29wdGlvbi5hZGQoNCkucmVhZFUzMigpIHx8IHJhbmRvbV9vcHRpb24uYWRkKDgpLnJlYWRTaG9ydCgpKSB7DQogICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAvL+Wwneivleino+mZpOmtlOazleWwgeWNsA0KICAgICAgICAgICAgICAgIHZhciByZXQgPSByYW5kb21fb3B0aW9uX0NSYW5kb21PcHRpb25JdGVtSGFuZGxlX2dpdmVfb3B0aW9uKHB0cigweDk0MUY4MjApLnJlYWRQb2ludGVyKCksIGl0ZW1faWQsIENJdGVtX0dldFJhcml0eShjaXRlbSksIENJdGVtX0dldFVzYWJsZUxldmVsKGNpdGVtKQ0KICAgICAgICAgICAgICAgICAgICAsIENJdGVtX0dldEl0ZW1Hcm91cE5hbWUoY2l0ZW0pLCBDRXF1aXBJdGVtX0dldFJhbmRvbU9wdGlvbkdyYWRlKGNpdGVtKSwgaW52ZW5faXRlbS5hZGQoMzcpKTsNCiAgICAgICAgICAgICAgICBpZiAocmV0KSB7DQogICAgICAgICAgICAgICAgICAgIC8v6YCa55+l5a6i5oi356uv5pyJ6KOF5aSH5pu05pawDQogICAgICAgICAgICAgICAgICAgIENVc2VyX1NlbmRVcGRhdGVJdGVtTGlzdCh1c2VyLCAxLCAwLCBzbG90KTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9KTsNCn0gDQogLy8tLS0tLS0tLS0tLS0tLS0tLS0tLUZVTkNUSU9OX0VORCDprZTms5XlsIHljbDoh6rliqjop6PlsIEs6K+05piOOumtlOazleWwgeWNsOiHquWKqOino+WwgS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gDQogDQovLy0tLS0tLS0tLS0tLS0tLS0tLS0tRlVOQ1RJT05fQkVHSU4g5Y+y6K+X5YWN56Gu6K6kLCDor7TmmI465Y+y6K+X5YWN56Gu6K6kLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KIA0KIC8v5Y+y6K+X5YWN56Gu6K6kDQpmdW5jdGlvbiBjYW5jZWxfZXBpY19vaygpIHsNCiAgICBjb25zb2xlLmxvZygiPT09PT09PT09PT09PT09PT09PT09PT4g5Y+y6K+X5YWN56Gu6K6kIikNCiAgICBNZW1vcnkucGF0Y2hDb2RlKHB0cigweDA4NUE1NkNFKS5hZGQoMiksIDEsIGZ1bmN0aW9uIChjb2RlKSB7DQogICAgICAgIHZhciBjdyA9IG5ldyBYODZXcml0ZXIoY29kZSwgeyBwYzogcHRyKDB4MDg1QTU2Q0UpLmFkZCgyKSB9KTsNCiAgICAgICAgY3cucHV0VTgoOSk7DQogICAgICAgIGN3LmZsdXNoKCk7DQogICAgfSk7DQogICAgSW50ZXJjZXB0b3IuYXR0YWNoKHB0cigweDA4MTUwZjE4KSwgew0KICAgICAgICBvbkxlYXZlOiBmdW5jdGlvbiAocmV0dmFsKSB7DQogICAgICAgICAgICByZXR2YWwucmVwbGFjZSgwKTsNCiAgICAgICAgfQ0KICAgIH0pOw0KfSANCiAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tRlVOQ1RJT05fRU5EIOWPsuivl+WFjeehruiupCzor7TmmI465Y+y6K+X5YWN56Gu6K6kLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSANCiANCi8vLS0tLS0tLS0tLS0tLS0tLS0tLS1GVU5DVElPTl9CRUdJTiDop6PpmaTmr4/ml6XliJvlu7rop5LoibLmlbDph4/pmZDliLYsIOivtOaYjjrop6PpmaTmr4/ml6XliJvlu7rop5LoibLmlbDph4/pmZDliLYtLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogDQogDQovL+ino+mZpOavj+aXpeWIm+W7uuinkuiJsuaVsOmHj+mZkOWItg0KZnVuY3Rpb24gZGlzYWJsZV9jaGVja19jcmVhdGVfY2hhcmFjdGVyX2xpbWl0KCkgew0KICAgICBjb25zb2xlLmxvZygiPT09PT09PT09PT09PT09PT09PT09PT7op6PpmaTmr4/ml6XliJvlu7rop5LoibLmlbDph4/pmZDliLYiKQ0KICAgIC8vREJfQ3JlYXRlQ2hhcmFjOjpDaGVja0xpbWl0Q3JlYXRlTmV3Q2hhcmFjDQogICAgSW50ZXJjZXB0b3IuYXR0YWNoKHB0cigweDg0MDE5MjIpLCB7DQogICAgICAgIG9uRW50ZXI6IGZ1bmN0aW9uIChhcmdzKSB7DQogICAgICAgIH0sDQogICAgICAgIG9uTGVhdmU6IGZ1bmN0aW9uIChyZXR2YWwpIHsNCiAgICAgICAgICAgIC8v5by65Yi26L+U5Zue5YWB6K645Yib5bu6DQogICAgICAgICAgICByZXR2YWwucmVwbGFjZSgxKTsNCiAgICAgICAgfQ0KICAgIH0pOw0KfSANCiAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tRlVOQ1RJT05fRU5EIOino+mZpOavj+aXpeWIm+W7uuinkuiJsuaVsOmHj+mZkOWItizor7TmmI466Kej6Zmk5q+P5pel5Yib5bu66KeS6Imy5pWw6YeP6ZmQ5Yi2LS0tLS0tLS0tLS0tLS0tLS0tLS0tLSANCiANCi8vLS0tLS0tLS0tLS0tLS0tLS0tLS1GVU5DVElPTl9CRUdJTiDlvIDlkK/liJvlu7rnvJTpgKAsIOivtOaYjjrlvIDlkK/liJvlu7rnvJTpgKAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogDQogLy/lvIDlkK/liJvlu7rnvJTpgKANCmZ1bmN0aW9uIGVuYWJsZV9jcmVhdGVDcmVhdG9yKCl7DQogICAgY29uc29sZS5sb2coIj09PT09PT09PT09PT09PT09PT09PT0+IOW8gOWQr+WIm+W7uue8lOmAoCIpDQogICAgTWVtb3J5LnBhdGNoQ29kZShwdHIoMHgwODFDMDI5RSkuYWRkKDEpLCAxLCBmdW5jdGlvbiAoY29kZSkgew0KICAgICAgICB2YXIgY3cgPSBuZXcgWDg2V3JpdGVyKGNvZGUsIHsgcGM6IHB0cigweDA4MUMwMjlFKS5hZGQoMSkgfSk7DQogICAgICAgIGN3LnB1dFU4KDExKTsNCiAgICAgICAgY3cuZmx1c2goKTsNCiAgICB9KTsNCn0gDQogLy8tLS0tLS0tLS0tLS0tLS0tLS0tLUZVTkNUSU9OX0VORCDlvIDlkK/liJvlu7rnvJTpgKAs6K+05piOOuW8gOWQr+WIm+W7uue8lOmAoC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gDQogDQovLy0tLS0tLS0tLS0tLS0tLS0tLS0tRlVOQ1RJT05fQkVHSU4g5omA5pyJ6LSm5Y+36KeS6Imy5byA5ZCvR03mnYPpmZAsIOivtOaYjjrmiYDmnInotKblj7fop5LoibLlvIDlkK9HTeadg+mZkC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiANCiAvL+aJgOaciei0puWPt+inkuiJsuW8gOWQr0dN5p2D6ZmQDQpmdW5jdGlvbiBob29rX2NoZWNrX2dtKCkgew0KICAgIGNvbnNvbGUubG9nKCI9PT09PT09PT09PT09PT09PT09PT09PuW8gOWQr0dN5p2D6ZmQIikNCiAgICAvL0dN6LSm5oi3DQogICAgLy9Xb25nV29yazo6Q0dNQWNjb3VudHM6OmlzR00NCiAgICBJbnRlcmNlcHRvci5hdHRhY2gocHRyKDB4ODEwOTM0NiksIHsNCg0KICAgICAgICBvbkVudGVyOiBmdW5jdGlvbiAoYXJncykgew0KICAgICAgICB9LA0KICAgICAgICBvbkxlYXZlOiBmdW5jdGlvbiAocmV0dmFsKSB7DQogICAgICAgICAgICAvL+W8uuWItui/lOWbnnRydWUNCiAgICAgICAgICAgIHJldHZhbC5yZXBsYWNlKDEpOw0KICAgICAgICB9DQogICAgfSk7DQoNCiAgICAvL0dN6KeS6ImyDQogICAgLy9DVXNlcjo6aXNHTVVzZXINCiAgICBJbnRlcmNlcHRvci5hdHRhY2gocHRyKDB4ODE0NTg5QyksIHsNCg0KICAgICAgICBvbkVudGVyOiBmdW5jdGlvbiAoYXJncykgew0KICAgICAgICB9LA0KICAgICAgICBvbkxlYXZlOiBmdW5jdGlvbiAocmV0dmFsKSB7DQogICAgICAgICAgICAvL+W8uuWItui/lOWbnnRydWUNCiAgICAgICAgICAgIHJldHZhbC5yZXBsYWNlKDEpOw0KICAgICAgICB9DQogICAgfSk7DQp9IA0KIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS1GVU5DVElPTl9FTkQg5omA5pyJ6LSm5Y+36KeS6Imy5byA5ZCvR03mnYPpmZAs6K+05piOOuaJgOaciei0puWPt+inkuiJsuW8gOWQr0dN5p2D6ZmQLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSANCiANCi8vLS0tLS0tLS0tLS0tLS0tLS0tLS1GVU5DVElPTl9CRUdJTiDlj5bmtojmlrDotKblj7fpgIHmiJDplb/lpZHnuqYsIOivtOaYjjrlj5bmtojmlrDotKblj7fpgIHmiJDplb/lpZHnuqYtLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogDQogLy/lj5bmtojmlrDotKblj7fpgIHmiJDplb/lpZHnuqYNCmZ1bmN0aW9uIEludGVyY2VwdG9yX0ludGVyU2VsZWN0TW9iaWxlQXV0aFJld2FyZCgpIHsNCiAgICBjb25zb2xlLmxvZygiPT09PT09PT09PT09PT09PT09PT09PT7lj5bmtojmlrDotKblj7fpgIHmiJDplb/lpZHnuqYiKQ0KICAgIC8v6L+Y5Y6fIEludGVyU2VsZWN0TW9iaWxlQXV0aFJld2FyZDo6ZGlzcGF0Y2hfc2lnIOWHveaVsA0KICAgIHZhciBEZWZwdHIgPSBwdHIoMHgwODE2MTM4NCk7DQogICAgdmFyIHZhbHVlID0gRGVmcHRyLnJlYWRVOCgpDQogICAgaWYgKHZhbHVlICE9IDB4MEYpIHsNCg0KICAgICAgICBNZW1vcnkucHJvdGVjdChEZWZwdHIsIDEwLCAncnd4Jyk7DQogICAgICAgIERlZnB0ci53cml0ZVNob3J0KDB4ODQwRik7DQogICAgfQ0KICAgIC8v6YeN5YaZSW50ZXJTZWxlY3RNb2JpbGVBdXRoUmV3YXJkOjpkaXNwYXRjaF9zaWcg5Ye95pWwDQogICAgdmFyIEludGVyX0Rpc3BhdGNoUHIgPSBwdHIoMHgwODE2MTMyQSk7DQogICAgdmFyIEludGVyX0Rpc3BhdGNoID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKEludGVyX0Rpc3BhdGNoUHIsICdpbnQnLCBbJ3BvaW50ZXInLCAncG9pbnRlcicsICdwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCiAgICBJbnRlcmNlcHRvci5yZXBsYWNlKEludGVyX0Rpc3BhdGNoUHIsIG5ldyBOYXRpdmVDYWxsYmFjayhmdW5jdGlvbiAoSW50ZXJTZWxlY3RNb2JpbGVBdXRoUmV3YXJkLCBDVXNlciwgYTMpIHsNCg0KICAgICAgICAvL3ZhciBJbnRlcl9EaXNwYXRjaE9wZW4gPSB0cnVlOw0KICAgICAgICB2YXIgSW50ZXJfRGlzcGF0Y2hPcGVuID0gZmFsc2U7DQogICAgICAgIGlmIChJbnRlcl9EaXNwYXRjaE9wZW4pIHsNCg0KICAgICAgICAgICAgYTMuYWRkKDQpLndyaXRlSW50KDApOw0KICAgICAgICAgICAgcmV0dXJuIEludGVyX0Rpc3BhdGNoKEludGVyU2VsZWN0TW9iaWxlQXV0aFJld2FyZCwgQ1VzZXIsIGEzKTsgLy/miafooYzljp/lh73mlbDlj5HpgIHmiJDplb/lpZHnuqYNCg0KICAgICAgICB9DQoNCiAgICAgICAgcmV0dXJuIDA7IC8v5Y+W5raI5paw6LSm5Y+36YCB5oiQ6ZW/5aWR57qmICAgIOi/lOWbnjDooajnpLrmraPluLjov5Tlm54gDQoNCiAgICB9LCAnaW50JywgWydwb2ludGVyJywgJ3BvaW50ZXInLCAncG9pbnRlciddKSk7DQp9IA0KIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS1GVU5DVElPTl9FTkQg5Y+W5raI5paw6LSm5Y+36YCB5oiQ6ZW/5aWR57qmLOivtOaYjjrlj5bmtojmlrDotKblj7fpgIHmiJDplb/lpZHnuqYtLS0tLS0tLS0tLS0tLS0tLS0tLS0tIA0KIA0KLy8tLS0tLS0tLS0tLS0tLS0tLS0tLUZVTkNUSU9OX0JFR0lOIOW/veeVpeWJr+acrOmXqOWPo+emgeatouaRhuaRiiwg6K+05piOOuW/veeVpeWJr+acrOmXqOWPo+emgeatouaRhuaRii0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiANCiAvL+W/veeVpeWJr+acrOmXqOWPo+emgeatouaRhuaRig0KZnVuY3Rpb24gUHJpdmF0ZXN0b3JlX0lnbm9yZU5lYXJEdW5nZW9uKCkgew0KICAgIGNvbnNvbGUubG9nKCI9PT09PT09PT09PT09PT09PT09PT09PuW/veeVpeWJr+acrOmXqOWPo+emgeatouaRhuaRiiIpDQogICAgSW50ZXJjZXB0b3IuYXR0YWNoKHB0cigweDA4NUM1MDgyKSwgew0KICAgICAgICBvbkVudGVyOiBmdW5jdGlvbiAoYXJncykgew0KICAgICAgICB9LA0KICAgICAgICBvbkxlYXZlOiBmdW5jdGlvbiAocmV0dmFsKSB7DQogICAgICAgICAgICAvL+iOt+WPlui/lOWbnuWAvA0KICAgICAgICAgICAgdmFyIHJldHVyblZhbHVlID0gcmV0dmFsLnRvSW50MzIoKTsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdSZXR1cm4gVmFsdWU6JyArIHJldHVyblZhbHVlKTsNCiAgICAgICAgICAgIC8v5by65Yi26L+U5ZueMQ0KICAgICAgICAgICAgcmV0dmFsLnJlcGxhY2UoMSk7DQogICAgICAgIH0NCiAgICB9KTsNCn0gDQogLy8tLS0tLS0tLS0tLS0tLS0tLS0tLUZVTkNUSU9OX0VORCDlv73nlaXlia/mnKzpl6jlj6PnpoHmraLmkYbmkYos6K+05piOOuW/veeVpeWJr+acrOmXqOWPo+emgeatouaRhuaRii0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gDQogDQovLy0tLS0tLS0tLS0tLS0tLS0tLS0tRlVOQ1RJT05fQkVHSU4g6K6+572u5pyA5aSn562J57qnLCDor7TmmI466K6+572u5pyA5aSn562J57qnLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KIA0KIC8qKg0KICog6K6+572u5pyA5aSn562J57qnDQogKiBAcGFyYW0gbWF4TGV2ZWwNCiAqLw0KZnVuY3Rpb24gc2V0VXNlck1heExldmVsKG1heExldmVsKXsNCiAgICBJbnRlcmNlcHRvci5yZXBsYWNlKHB0cigweDA4NjhmZWM4KSwgbmV3IE5hdGl2ZUNhbGxiYWNrKGZ1bmN0aW9uIChpbmZvLCBsZXZlbCkgew0KICAgICAgICB2YXIgd3JpdGVMZXZlbCA9IG1heExldmVsOw0KICAgICAgICBpZiAobGV2ZWwgPD0gbWF4TGV2ZWwpIHsNCiAgICAgICAgICAgIGlmIChsZXZlbCA+IDApIHsNCiAgICAgICAgICAgICAgICB3cml0ZUxldmVsID0gbGV2ZWw7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIHdyaXRlTGV2ZWwgPSAxOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIC8vIDU4NDY2NA0KICAgICAgICBpbmZvLmFkZCgweDhFQkQ4KS53cml0ZUludCh3cml0ZUxldmVsKTsNCiAgICAgICAgcmV0dXJuIGluZm87DQogICAgfSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInLCAnaW50J10pKTsNCn0NCg0KLyoqDQogKiDph43mlrDorqHnrpfnrYnnuqcNCiAqIEBwYXJhbSBtYXhMZXZlbA0KICovDQpmdW5jdGlvbiBjYWxjdXJhdGVVc2VyTWF4TGV2ZWwobWF4TGV2ZWwpew0KICAgIEludGVyY2VwdG9yLnJlcGxhY2UocHRyKDB4MDg2OGZmMDQpLCBuZXcgTmF0aXZlQ2FsbGJhY2soZnVuY3Rpb24gKGExKSB7DQogICAgICAgIHZhciBpbmZvID0gYTE7DQogICAgICAgIHZhciBjYWxNYXhMZXZlbCA9IDA7DQogICAgICAgIC8vIOiOt+WPluinkuiJsuaVsOmHjw0KICAgICAgICB2YXIgaW5mb1NpemUgPSBzdGRfdmVjdG9yX2NoYXJhY19pbmZvX3NpemUoaW5mby5hZGQoMHg3OTZFOCkpOw0KICAgICAgICBmb3IodmFyIGk9MDtpPGluZm9TaXplO2krKyl7DQogICAgICAgICAgICAvLyDor7vlj5bmr4/kuKrop5LoibLnmoTnrYnnuqcNCiAgICAgICAgICAgIHZhciByZWFkTGV2ZWwgPSBwdHIoc3RkX3ZlY3Rvcl9DaGFyYWNfaW5mb19vcGVyYXRvckFycihpbmZvLmFkZCg0OTczODQpLGkpKS5hZGQoMzkpLnJlYWRVMTYoKTsNCiAgICAgICAgICAgIGlmKHJlYWRMZXZlbCA+IGNhbE1heExldmVsKXsNCiAgICAgICAgICAgICAgICBjYWxNYXhMZXZlbCA9IHJlYWRMZXZlbDsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICBpZihjYWxNYXhMZXZlbCA+IG1heExldmVsKXsNCiAgICAgICAgICAgIGNhbE1heExldmVsCT0gbWF4TGV2ZWw7DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIENVc2VyX1NldFVzZXJNYXhMZXZlbChpbmZvLGNhbE1heExldmVsKTsNCiAgICB9LCAncG9pbnRlcicsIFsncG9pbnRlciddKSk7DQp9DQoNCi8qKg0KICogdG9kbyDmr4/ml6XnmoTml6XluLjku7vliqENCiAqIEBwYXJhbSBtYXhMZXZlbA0KICovDQpmdW5jdGlvbiBpc1RoZXJlRGFpbHlUcmFpbmluZ1F1ZXN0TGlzdChtYXhMZXZlbCl7DQogICAgSW50ZXJjZXB0b3IucmVwbGFjZShwdHIoMHgwODM2NDExZSksIG5ldyBOYXRpdmVDYWxsYmFjayhmdW5jdGlvbiAoaW5mbywgYTEsIGEyKSB7DQogICAgICAgIHZhciBsZXZlbCA9IGExOw0KICAgICAgICBpZihsZXZlbDw9MCB8fCBsZXZlbCA+IG1heExldmVsKXsNCiAgICAgICAgICAgIHJldHVybiAwOw0KICAgICAgICB9DQogICAgICAgIHZhciBxdWVyc3QgPSBhMjsNCiAgICAgICAgLy8gY29uc29sZS5sb2coInVzZXIgYW5kIGxldmVsIDoiK2luZm8rIiAsIitsZXZlbCsnICwnK3F1ZXJzdCk7DQogICAgICAgIHZhciBxdWVzdExpc3QgPSBDRGF0YU1hbmFnZXJfZ2V0RGFpbHlUcmFpbmluZ1F1ZXN0KGluZm8sbGV2ZWwpOw0KDQogICAgICAgIHZhciBpID0gMDsNCiAgICAgICAgZm9yIChpID0gMDsgaSA8IDY7IGkrKykgew0KICAgICAgICAgICAgdmFyIHZhbCA9IHF1ZXN0TGlzdC5hZGQoaSoyKS5yZWFkVTE2KCk7DQogICAgICAgICAgICBpZihxdWVyc3QgPT0gdmFsKXsNCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnaXNUaGVyZURhaWx5VHJhaW5pbmdRdWVzdExpc3QgIHZhbDonK3ZhbCsnICAnK2kpOw0KICAgICAgICAgICAgICAgIHJldHVybiAxOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIHJldHVybiAwOw0KICAgIH0sICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50JywgJ2ludCddKSk7DQp9DQoNCg0KZnVuY3Rpb24gZ2V0UmV0dXJuVXNlckxldmVsS2V5KG1heExldmVsKXsNCiAgICBJbnRlcmNlcHRvci5yZXBsYWNlKHB0cigweDA4NjkyMzBhKSwgbmV3IE5hdGl2ZUNhbGxiYWNrKGZ1bmN0aW9uIChzdE5vdGlmeUluZ2FtZUFESW5mbywgYTIsIGEzKSB7DQogICAgICAgIGNvbnNvbGUubG9nKCdnZXRSZXR1cm5Vc2VyTGV2ZWxLZXkgJytzdE5vdGlmeUluZ2FtZUFESW5mbysnICcrYTIrJyAnK2EzKTsNCiAgICAgICAgaWYoYTMhPTApew0KICAgICAgICAgICAgaWYoYTIgPD0xOSl7DQogICAgICAgICAgICAgICAgcmV0dXJuIDE1Ow0KICAgICAgICAgICAgfQ0KICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgIGlmKGEyIDw9OSl7DQogICAgICAgICAgICAgICAgcmV0dXJuIDU7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZihhMiA8PTE0KXsNCiAgICAgICAgICAgICAgICByZXR1cm4gMTA7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZihhMiA8PTE5KXsNCiAgICAgICAgICAgICAgICByZXR1cm4gMTU7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgaWYoYTIgPD0yOSl7DQogICAgICAgICAgICByZXR1cm4gMjA7DQogICAgICAgIH0NCiAgICAgICAgaWYoYTIgPD0zOSl7DQogICAgICAgICAgICByZXR1cm4gMzA7DQogICAgICAgIH0NCiAgICAgICAgaWYoYTIgPD00OSl7DQogICAgICAgICAgICByZXR1cm4gNDA7DQogICAgICAgIH0NCiAgICAgICAgaWYoYTIgPD01OSl7DQogICAgICAgICAgICByZXR1cm4gNTA7DQogICAgICAgIH0NCiAgICAgICAgaWYoYTIgPD02OSl7DQogICAgICAgICAgICByZXR1cm4gNjA7DQogICAgICAgIH0NCiAgICAgICAgaWYoYTIgPD03OSl7DQogICAgICAgICAgICByZXR1cm4gNzA7DQogICAgICAgIH0NCiAgICAgICAgaWYoYTIgPD04Nil7DQogICAgICAgICAgICByZXR1cm4gODA7DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIDYwOw0KICAgIH0sICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50JywgJ2ludCddKSk7DQp9DQoNCi8qKg0KICog6I635Y+W562J57qn5q6157uP6aqMIO+8jOWKoOi9veWIsOS6hjIwMA0KICovDQpmdW5jdGlvbiBnZXRMZXZlbFNlY3Rpb25FeHAoKXsNCiAgICAvLyAwODM2MDRCNg0KICAgIEludGVyY2VwdG9yLnJlcGxhY2UocHRyKDB4MDgzNjA0QjYpLCBuZXcgTmF0aXZlQ2FsbGJhY2soZnVuY3Rpb24gKGNoYXJhY0FkdmFuY2VBbHRhck1hbmFnZXIsIGV4cCkgew0KICAgICAgICBpZihleHAgPjEgJiYgZXhwIDw9IDIwMCl7DQogICAgICAgICAgICAvLyDov5Tlm57ku4DkuYjotZ7mmK/kuI3nnIsNCiAgICAgICAgICAgIHZhciBleHBTZWN0aW9uID0gY2hhcmFjQWR2YW5jZUFsdGFyTWFuYWdlci5hZGQoKGV4cCsxMDkxMikqNCkucmVhZFUzMigpLWNoYXJhY0FkdmFuY2VBbHRhck1hbmFnZXIuYWRkKChleHArMTA5MTEpKjQpLnJlYWRVMzIoKQ0KICAgICAgICAgICAgcmV0dXJuIGV4cFNlY3Rpb247DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIDA7DQogICAgfSwgJ2ludCcsIFsncG9pbnRlcicsICdpbnQnXSkpOw0KfQ0KDQovKioNCiAqIOajgOafpeaYr+WQpuaYr+WNh+e6p+mhuSDkvovlpoLljYfnuqfliLgs55So5aSE5LiN5aSnDQogKiBAcGFyYW0gbWF4TGV2ZWwNCiAqLw0KZnVuY3Rpb24gY2FsTGV2ZWxVcEl0ZW1DaGVjayhtYXhMZXZlbCl7DQogICAgSW50ZXJjZXB0b3IucmVwbGFjZShwdHIoMHgwODY4OWQwNiksIG5ldyBOYXRpdmVDYWxsYmFjayhmdW5jdGlvbiAodXNlciwgaXRlbV9pZCkgew0KICAgICAgICBjb25zb2xlLmxvZygiY2FsTGV2ZWxVcEl0ZW1DaGVjayBleGVjIikNCiAgICAgICAgdmFyIGNoYXJhY19sZXZlbCA9IENVc2VyQ2hhcmFjSW5mb19nZXRfY2hhcmFjX2xldmVsKHVzZXIpOw0KICAgICAgICBpZihhMj09MjY3NTM4OCl7DQogICAgICAgICAgICByZXR1cm4gY2hhcmFjX2xldmVsID4gMCAmJiBjaGFyYWNfbGV2ZWwgPD0gNjk7DQogICAgICAgIH0NCiAgICAgICAgaWYoaXRlbV9pZCA+IDB4MjhEMkJDKXsNCiAgICAgICAgICAgIGlmICggaXRlbV9pZCAhPSAxMDAwMDkxNSAmJiBpdGVtX2lkICE9IDY5MDAwMDA5NyApDQogICAgICAgICAgICAgICAgcmV0dXJuIDA7DQogICAgICAgICAgICByZXR1cm4gY2hhcmFjX2xldmVsID4gMCAmJiBjaGFyYWNfbGV2ZWwgPD0gbWF4TGV2ZWw7DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIGl0ZW1faWQgPT0gODA0OSAmJiBjaGFyYWNfbGV2ZWwgPiAxOCAmJiBjaGFyYWNfbGV2ZWwgPD0gNTk7DQogICAgfSwgJ2ludCcsIFsncG9pbnRlcicsICdpbnQnXSkpOw0KfQ0KDQoNCg0KLyoqDQogKiBzcOeCuSDlkoxwdmbmnInlhbPns7sNCiAqIEBwYXJhbSBtYXhMZXZlbA0KICovDQpmdW5jdGlvbiBnZXRTcEF0TGV2ZWxVcChtYXhMZXZlbCl7DQogICAgSW50ZXJjZXB0b3IucmVwbGFjZShwdHIoMHgwODM2MGNiOCksIG5ldyBOYXRpdmVDYWxsYmFjayhmdW5jdGlvbiAoY2hhcmFjQWR2YW5jZUFsdGFyTWFuYWdlciwgbGV2ZWwpIHsNCiAgICAgICAgaWYobGV2ZWwgPjAgJiYgbGV2ZWwgPD0gbWF4TGV2ZWwpew0KICAgICAgICAgICAgdmFyIHJlcyA9IGNoYXJhY0FkdmFuY2VBbHRhck1hbmFnZXIuYWRkKChsZXZlbCsxMzk4OCkqNCkucmVhZFUxNigpOw0KICAgICAgICAgICAgcmV0dXJuIHJlczsNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gMDsNCiAgICB9LCAnaW50JywgWydwb2ludGVyJywgJ2ludCddKSk7DQp9DQoNCi8qKg0KICog5pyq55+lDQogKiBAcGFyYW0gbWF4TGV2ZWwNCiAqLw0KZnVuY3Rpb24gc2V0TGV2ZWxFeHAobWF4TGV2ZWwpew0KICAgIC8vIEludGVyY2VwdG9yLnJlcGxhY2UocHRyKDB4MDgzNjA0MDApLCBuZXcgTmF0aXZlQ2FsbGJhY2soZnVuY3Rpb24gKGNoYXJhY0FkdmFuY2VBbHRhck1hbmFnZXIpIHsNCiAgICAvLyAgICAgY29uc29sZS5sb2coInNldExldmVsRXhwIGV4ZWMiKQ0KICAgIC8vICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDIwMDsgaSsrKSB7DQogICAgLy8gICAgICAgICBjaGFyYWNBZHZhbmNlQWx0YXJNYW5hZ2VyLmFkZCgoaSsxMDkxMykqNCkud3JpdGVVSW50KDEwMDAwMCtpKTsNCiAgICAvLyAgICAgfQ0KICAgIC8vICAgICByZXR1cm4gMTsNCiAgICAvLyB9LCAnaW50JywgWydwb2ludGVyJ10pKTsNCn0NCg0KLyoqDQogKiDorr7nva7mr4/kuKrnrYnnuqfpgIHnmoRzcCAs5LuO5paH5Lu25Lit6K+75Y+W5Ye65p2l77yM5aSn5qaC5pyA5aSa5YiwMjAwDQogKiBAcGFyYW0gbWF4TGV2ZWwNCiAqLw0KZnVuY3Rpb24gc2V0UmV3YXJkU3AobWF4TGV2ZWwpew0KICAgIEludGVyY2VwdG9yLnJlcGxhY2UocHRyKDB4MDgzNjBiZGUpLCBuZXcgTmF0aXZlQ2FsbGJhY2soZnVuY3Rpb24gKGNoYXJhY0FkdmFuY2VBbHRhck1hbmFnZXIpIHsNCiAgICAgICAgdmFyIHJlczsNCiAgICAgICAgdmFyIHJlZkxpc3QgPSBNZW1vcnkuYWxsb2MoMTIpOw0KICAgICAgICBzdFNwUGVyTGV2ZWxUYWJsZShyZWZMaXN0KTsNCiAgICAgICAgdmFyIG1zZyA9IE1lbW9yeS5hbGxvY1V0ZjhTdHJpbmcoIkV0Yy9zcFRhYmxlLmV0YyIpOw0KICAgICAgICBpZihJbXBvcnRTcFBlckxldmVsUmVmZXJlbmNlVGFibGUobXNnLHJlZkxpc3QpIT0wKXsNCiAgICAgICAgICAgIHJlcyA9IDA7DQogICAgICAgIH1lbHNlew0KICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPD1tYXhMZXZlbDsgaSsrKSB7DQogICAgICAgICAgICAgICAgY2hhcmFjQWR2YW5jZUFsdGFyTWFuYWdlci5hZGQoKGkrMTM5ODgpKjQpLndyaXRlVUludCgwKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGZvciAodmFyIGk9MDtpPD1tYXhMZXZlbDtpKyspew0KICAgICAgICAgICAgICAgIHZhciByZWFkVmFsID0gdmVjdG9yX3Vuc2lnbmVkX2ludF9vcGVyYXRvcihyZWZMaXN0LGkpLnJlYWRVSW50KCk7DQogICAgICAgICAgICAgICAgY2hhcmFjQWR2YW5jZUFsdGFyTWFuYWdlci5hZGQoKGkrMTM5ODgpKjQpLndyaXRlVUludChyZWFkVmFsKQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcmVzID0gMTsNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gcmVzOw0KICAgIH0sICdpbnQnLCBbJ3BvaW50ZXInXSkpOw0KfQ0KDQovKioNCiAqIOajgOafpeetiee6p+WNh+e6pw0KICogZmxhZyAwIOe7j+mqjOS5puWNh+e6pyAgMSDmnYDmgKrljYfnuqcgMiDpgJrlhbMgIDEzIOS7u+WKoQ0KICogcmV0dXJuICDljYfnuqcxIOS4jeWNh+e6pzANCiAqLw0KZnVuY3Rpb24gY2hlY2tMZXZlbFVwKG1heExldmVsKXsNCiAgICBJbnRlcmNlcHRvci5yZXBsYWNlKHB0cigweDA4NjYyYWVhKSwgbmV3IE5hdGl2ZUNhbGxiYWNrKGZ1bmN0aW9uIChzdE5vdGlmeUluZ2FtZUFESW5mbyxhZGRFeHAsYXJnc0EsYXJnc0IsZmxhZykgew0KICAgICAgICB2YXIgYXJnczIgPSBwdHIoYXJnc0EpOw0KICAgICAgICB2YXIgYXJnczMgPSBwdHIoYXJnc0IpOw0KICAgICAgICB2YXIgdmxvZyA9IE1lbW9yeS5hbGxvYygxNik7DQogICAgICAgIHZhciB2bG9nMiA9IE1lbW9yeS5hbGxvYygxNik7DQogICAgICAgIHZhciB2bG9nMyA9IE1lbW9yeS5hbGxvYygxNik7DQogICAgICAgIHZhciB2bG9nNCA9IE1lbW9yeS5hbGxvYygxNik7DQogICAgICAgIHZhciB2NDEgPSBNZW1vcnkuYWxsb2MoMTApOw0KICAgICAgICAvLyBjb25zb2xlLmxvZygnY2hlY2tMZXZlbFVwIGFyZ3M6JysgIHN0Tm90aWZ5SW5nYW1lQURJbmZvKycsJythZGRFeHArJywnK2FyZ3NBKycsJythcmdzQisnLCcrZmxhZykNCiAgICAgICAgdmFyIG5leHRMZXZlbCA9IENVc2VyQ2hhcmFjSW5mb19nZXRfY2hhcmFjX2xldmVsKHN0Tm90aWZ5SW5nYW1lQURJbmZvKSsxOw0KICAgICAgICB2YXIgcmVzVmFsID0gMDsNCiAgICAgICAgaWYoQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY1Ioc3ROb3RpZnlJbmdhbWVBREluZm8pIT0wKXsNCiAgICAgICAgICAgIGlmKENVc2VyQ2hhcmFjSW5mb19nZXRfY2hhcmFjX2xldmVsKHN0Tm90aWZ5SW5nYW1lQURJbmZvKSA+IDApew0KICAgICAgICAgICAgICAgIHdoaWxlICggYWRkRXhwID4wICYmIG5leHRMZXZlbCA8PSBtYXhMZXZlbCApew0KICAgICAgICAgICAgICAgICAgICB2YXIgbm93TGV2ZWxFeHAgPSBDRGF0YU1hbmFnZXJfZ2V0X2xldmVsX2V4cChHX0NEYXRhTWFuYWdlcigpLENVc2VyQ2hhcmFjSW5mb19nZXRfY2hhcmFjX2xldmVsKHN0Tm90aWZ5SW5nYW1lQURJbmZvKSk7DQogICAgICAgICAgICAgICAgICAgIHZhciBuZXh0TGV2ZWxFeHAgPSBDRGF0YU1hbmFnZXJfZ2V0X2xldmVsX2V4cChHX0NEYXRhTWFuYWdlcigpLG5leHRMZXZlbCk7DQogICAgICAgICAgICAgICAgICAgIHZhciBjaGFyYWNFeHAgPSBDVXNlckNoYXJhY0luZm9fZ2V0X2NoYXJhY19leHAoc3ROb3RpZnlJbmdhbWVBREluZm8pOw0KICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygidXNlciBub3dMZXZlbCBuZXh0TGV2ZWwgbm93RXhwIG5vd0xldmVsRXhwIG5leHRMZXZlbEV4cCA6IiArIENVc2VyQ2hhcmFjSW5mb19nZXRfY2hhcmFjX2xldmVsKHN0Tm90aWZ5SW5nYW1lQURJbmZvKQ0KICAgICAgICAgICAgICAgICAgICAvLyAgICAgKycsJytuZXh0TGV2ZWwrJywnK2NoYXJhY0V4cCsnLCcrbm93TGV2ZWxFeHArJywnK25leHRMZXZlbEV4cCk7DQogICAgICAgICAgICAgICAgICAgIC8vIOmZjee6p+aIluWNh+e6pw0KICAgICAgICAgICAgICAgICAgICBpZihjaGFyYWNFeHA8bm93TGV2ZWxFeHAgfHwgY2hhcmFjRXhwPm5leHRMZXZlbEV4cCl7DQogICAgICAgICAgICAgICAgICAgICAgICAvLyDlkozlvZPliY3nu4/pqozkuI3ljLnphY0g5LuO5paw6K6+572u57uP6aqMDQogICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2hhcmNOYW1lID0gJyc7DQogICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2hhcmNOYW1lVmFsID0gQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY05hbWUoc3ROb3RpZnlJbmdhbWVBREluZm8pOw0KICAgICAgICAgICAgICAgICAgICAgICAgaWYoIWNoYXJjTmFtZVZhbC5pc051bGwoKSkNCiAgICAgICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFyY05hbWUgPSAgY2hhcmNOYW1lVmFsLnJlYWRVdGY4U3RyaW5nKC0xKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIGNNeVRyYWNlX2NNeVRyYWNlKHZsb2czLE1lbW9yeS5hbGxvY1V0ZjhTdHJpbmcoImJvb2wgQ1VzZXI6Ol9jaGVja19sZXZlbF91cChpbnQsIGludCYsIGludCYsIGVFeHBBZGRSZWFzb24sIGludCkiKSwxNjQ0Myw1KTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNNeVRyYWNlX29wZXJhdG9yKHZsb2czLnRvSW50MzIoKSxNZW1vcnkuYWxsb2NVdGY4U3RyaW5nKCIlcyBpcyBMZXZlbCglZCkgYW5kIEV4cCglZCkgSW5jb25zaXN0ZW5jeShib3R0b20oJWQpLCB0b3AoJWQpKSIpLE1lbW9yeS5hbGxvY1V0ZjhTdHJpbmcoY2hhcmNOYW1lKSk7DQogICAgICAgICAgICAgICAgICAgICAgICAvLyDov5nlupTor6XlsLHmmK/kuLrku4DkuYjlh7rnjrDljYfnuqflkI7nu4/pqoznmb7liIbmr5TkuLowDQogICAgICAgICAgICAgICAgICAgICAgICBDVXNlckNoYXJhY0luZm9fc2V0Q3VyQ2hhcmFjRXhwKHN0Tm90aWZ5SW5nYW1lQURJbmZvLG5vd0xldmVsRXhwKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBpZiggbmV4dExldmVsRXhwLSBub3dMZXZlbEV4cCA8PTApew0KICAgICAgICAgICAgICAgICAgICAgICAgLy8g5ruh57qn5LqGIOS4i+S4quetiee6p+aciemXrumimA0KICAgICAgICAgICAgICAgICAgICAgICAgY015VHJhY2VfY015VHJhY2UodmxvZzQsTWVtb3J5LmFsbG9jVXRmOFN0cmluZygiYm9vbCBDVXNlcjo6X2NoZWNrX2xldmVsX3VwKGludCwgaW50JiwgaW50JiwgZUV4cEFkZFJlYXNvbiwgaW50KSIpLDE2NDU0LDUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgY015VHJhY2Vfb3BlcmF0b3IodmxvZzQudG9JbnQzMigpLE1lbW9yeS5hbGxvY1V0ZjhTdHJpbmcoIkNVc2VyOjpfY2hlY2tfbGV2ZWxfdXAsIExFVkVMOiVkIFRPUDolZCBCT1RUT006JWQiKSxNZW1vcnkuYWxsb2NVdGY4U3RyaW5nKG5leHRMZXZlbCsnJykpOw0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDA7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgY2hhcmFjRXhwID0gQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfZXhwKHN0Tm90aWZ5SW5nYW1lQURJbmZvKTsNCiAgICAgICAgICAgICAgICAgICAgLy8g57uP6aqM5YC85Yik5patDQogICAgICAgICAgICAgICAgICAgIGlmKCBOdW1iZXIoYWRkRXhwK2NoYXJhY0V4cCkgPCBuZXh0TGV2ZWxFeHAgKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIENVc2VyQ2hhcmFjSW5mb19hZGRDdXJDaGFyYWNFeHAoc3ROb3RpZnlJbmdhbWVBREluZm8sIGFkZEV4cCk7DQogICAgICAgICAgICAgICAgICAgICAgICBpZihmbGFnICE9IDApew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBoYWRlcyA9IENVc2VyX2dldEhhZGVzKHN0Tm90aWZ5SW5nYW1lQURJbmZvKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBYTnVjbGVhcl9DSGFkZXNfRXhwVXAoaGFkZXMsYWRkRXhwKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIGFkZEV4cCA9IDA7DQogICAgICAgICAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgICAgICAgICAgLy8g5Y2H57qn5LqGDQogICAgICAgICAgICAgICAgICAgICAgICB2YXIgdjE0ID0gYXJnczIucmVhZFUxNigpOw0KICAgICAgICAgICAgICAgICAgICAgICAgLy8g6I635Y+W562J57qn5o+Q5Y2H55qEIHNw54K5DQogICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3BBdExldmVsVXAgPSBDRGF0YU1hbmFnZXJfR2V0U3BBdExldmVsVXAoR19DRGF0YU1hbmFnZXIoKSxuZXh0TGV2ZWwpOw0KICAgICAgICAgICAgICAgICAgICAgICAgLy8g6K6+572u5b2T5YmN562J57qn55qEc3DngrkNCiAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3MyLndyaXRlVTE2KHYxNCtzcEF0TGV2ZWxVcCk7DQogICAgICAgICAgICAgICAgICAgICAgICAvLyDlpoLmnpznrYnnuqflnKg0Oee6p+S7peS4ig0KICAgICAgICAgICAgICAgICAgICAgICAgaWYobmV4dExldmVsPjQ5KXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmdzMyA9IGFyZ3MzLmFkZCg0KTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkaWZmRXhwICA9IG5leHRMZXZlbEV4cCAtIENVc2VyQ2hhcmFjSW5mb19nZXRfY2hhcmFjX2V4cChzdE5vdGlmeUluZ2FtZUFESW5mbyk7DQogICAgICAgICAgICAgICAgICAgICAgICArK25leHRMZXZlbDsNCiAgICAgICAgICAgICAgICAgICAgICAgIENVc2VyQ2hhcmFjSW5mb19pbmNDdXJDaGFyYWNMZXZlbChzdE5vdGlmeUluZ2FtZUFESW5mbyk7DQogICAgICAgICAgICAgICAgICAgICAgICBhZGRFeHAgPSBhZGRFeHAgKyAoQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfZXhwKHN0Tm90aWZ5SW5nYW1lQURJbmZvKS1uZXh0TGV2ZWxFeHApOw0KICAgICAgICAgICAgICAgICAgICAgICAgaWYoQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfbGV2ZWwoc3ROb3RpZnlJbmdhbWVBREluZm8pID45ICYmIENVc2VyX0dldFR1dG9yaWFsU2tpcGFibGUoc3ROb3RpZnlJbmdhbWVBREluZm8pIT0wKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBDVXNlcl9VcGRhdGVUdXRvcmlhbFNraXBhYmxlKHN0Tm90aWZ5SW5nYW1lQURJbmZvKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIENVc2VyQ2hhcmFjSW5mb19zZXRDdXJDaGFyYWNFeHAoc3ROb3RpZnlJbmdhbWVBREluZm8sbmV4dExldmVsRXhwKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIENVc2VyX3VwZGF0ZV9jaGFyYWNfc3RhdChzdE5vdGlmeUluZ2FtZUFESW5mbywxKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJlc1ZhbCA9IDE7DQogICAgICAgICAgICAgICAgICAgICAgICAvLyB0b2RvIOiusOW9leaXpeW/lyAg5paH5Lu25oyH6ZKIIOWFs+azqOaYr+WQpuWPr+S7peato+W4uA0KICAgICAgICAgICAgICAgICAgICAgICAgSGlzdG9yeUxvZ19Xcml0ZUxldmVsVXAoc3ROb3RpZnlJbmdhbWVBREluZm8uYWRkKDQqMTI0MzUwKSxwdHIoQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfZXhwKHN0Tm90aWZ5SW5nYW1lQURJbmZvKSkpOw0KICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGdvbGRCb251cyA9ICBXb25nV29ya19DVXNlclByZW1pdW1fR2V0R29sZEJvbnVzKHN0Tm90aWZ5SW5nYW1lQURJbmZvLmFkZCg0NjMzODgpLENVc2VyQ2hhcmFjSW5mb19nZXRfY2hhcmFjX2xldmVsKHN0Tm90aWZ5SW5nYW1lQURJbmZvKSk7DQogICAgICAgICAgICAgICAgICAgICAgICBpZihnb2xkQm9udXMhPTApew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBDdXJDaGFyYWNJbnZlblcgPSBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjSW52ZW5XKHN0Tm90aWZ5SW5nYW1lQURJbmZvKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBDSW52ZW50b3J5X2dhaW5fbW9uZXkoQ3VyQ2hhcmFjSW52ZW5XLGdvbGRCb251cywxMywxLDApOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIENVc2VyX1NlbmRVcGRhdGVJdGVtTGlzdChzdE5vdGlmeUluZ2FtZUFESW5mbywxLDAsMCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coIkNJbnZlbnRvcnlfZ2Fpbl9tb25leSBpcyBzdWNjZXNzISEhIik7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICBXb25nV29ya19DVXNlclByZW1pdW1fUmVjYWxjQWRkaXRpb25hbEluZm8oc3ROb3RpZnlJbmdhbWVBREluZm8uYWRkKDQ2MzM4OCksc3ROb3RpZnlJbmdhbWVBREluZm8pOw0KICAgICAgICAgICAgICAgICAgICAgICAgaWYoZmxhZyAhPSAwKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaGFkZXMgPSBDVXNlcl9nZXRIYWRlcyhzdE5vdGlmeUluZ2FtZUFESW5mbyk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgWE51Y2xlYXJfQ0hhZGVzX0V4cFVwKGhhZGVzLGRpZmZFeHApOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgY1VzZXJIaXN0b3J5TG9nX0xldmVsVXAoc3ROb3RpZnlJbmdhbWVBREluZm8uYWRkKDQ5NzQwOCksQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfbGV2ZWwoc3ROb3RpZnlJbmdhbWVBREluZm8pLENVc2VyQ2hhcmFjSW5mb19nZXRfY2hhcmFjX2xldmVsKHN0Tm90aWZ5SW5nYW1lQURJbmZvKSk7DQogICAgICAgICAgICAgICAgICAgICAgICBpZihDVXNlckNoYXJhY0luZm9fZ2V0X2NoYXJhY19sZXZlbChzdE5vdGlmeUluZ2FtZUFESW5mbykgPiA1OSl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdG9kbyA2MOe6pyAg5byC55WMICAgIOi/mOacieWkqeeVjD8NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBDVXNlcl9EaW1lbnNpb25Jbm91dFVwZGF0ZShzdE5vdGlmeUluZ2FtZUFESW5mbywxLDEpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgaWYoQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfbGV2ZWwoc3ROb3RpZnlJbmdhbWVBREluZm8pID09IG1heExldmVsKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihXb25nV29ya19DR01BY2NvdW50c19pc0dNKHB0cihwdHIoMHgwOTQxRjcxMCkucmVhZFUzMigpKSxDVXNlcl9nZXRfYWNjX2lkKHN0Tm90aWZ5SW5nYW1lQURJbmZvKSkhPTApew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQYWNrZXRfTW9uaXRvcl9NYXhfTGV2ZWxfQnJvYWRDYXN0X1BhY2tldF9Nb25pdG9yX01heF9MZXZlbF9Ccm9hZENhc3QodjQxKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNlcnZlclByb3h5ID0gQ1NlcnZlclByb3h5TWdyX0NNb25pdG9yU2VydmVyUHJveHlfR2V0U2VydmVyUHJveHkocHRyKHB0cigweDA5NDBCRTI4KS5yZWFkVTMyKCkpLENVc2VyX0dldFNlcnZlckdyb3VwKHN0Tm90aWZ5SW5nYW1lQURJbmZvKSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENNb25pdG9yU2VydmVyUHJveHlfU2VuZFBhY2tldChzZXJ2ZXJQcm94eSx2NDEsNDApOw0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgaWYoQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfbGV2ZWwoc3ROb3RpZnlJbmdhbWVBREluZm8pID09IEdhbWVXb3JsZF9nZXREdW5nZW9uTWluaW11bVJlcXVpcmVkTGV2ZWwoR19HYW1lV29ybGQoKSwyNTUpKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihTZXJ2ZXJQYXJhbWV0ZXJTY3JpcHRfaXNEdW5nZW9uT3BlbigpIT0wKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgR2FtZVdvcmxkX3NlbmRfdXNlcl9kdW5nZW9uX2lub3V0X21lc3NhZ2UoR19HYW1lV29ybGQoKSxzdE5vdGlmeUluZ2FtZUFESW5mbywxMTAwNywxKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgR2FtZVdvcmxkX3NlbmRfdXNlcl9kdW5nZW9uX2lub3V0X21lc3NhZ2UoR19HYW1lV29ybGQoKSxzdE5vdGlmeUluZ2FtZUFESW5mbywxMTAwNywwKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICBDVXNlcl9tYWtlR3VpbGRMZXZlbFVwTWVzc2FnZShzdE5vdGlmeUluZ2FtZUFESW5mbyxDVXNlckNoYXJhY0luZm9fZ2V0X2NoYXJhY19sZXZlbChzdE5vdGlmeUluZ2FtZUFESW5mbykpOw0KICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3VzZXIgbGV2ZWwgc3VjY2VzcycpOw0KICAgICAgICAgICAgICAgICAgICAgICAgLy8g5Yiw6L+Z6YeM5bey57uP5Y2H57qn5a6M5oiQ5LqGICDmiafooYzljYfnuqfkuovku7YNCiAgICAgICAgICAgICAgICAgICAgICAgIENVc2VyX29uTGV2ZWxVcChzdE5vdGlmeUluZ2FtZUFESW5mbyk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgLy9DVXNlcl9TZW5kTm90aVBhY2tldChzdE5vdGlmeUluZ2FtZUFESW5mbywxLDM3LDApOw0KICAgICAgICAgICAgICAgIHJldHVybiByZXNWYWw7DQogICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICBjTXlUcmFjZV9jTXlUcmFjZSh2bG9nMixNZW1vcnkuYWxsb2NVdGY4U3RyaW5nKCJib29sIENVc2VyOjpfY2hlY2tfbGV2ZWxfdXAoaW50LCBpbnQmLCBpbnQmLCBlRXhwQWRkUmVhc29uLCBpbnQpIiksMTY0MTgsNSk7DQogICAgICAgICAgICAgICAgY015VHJhY2Vfb3BlcmF0b3IodmxvZzIudG9JbnQzMigpLE1lbW9yeS5hbGxvY1V0ZjhTdHJpbmcoIkNVc2VyOjpfY2hlY2tfbGV2ZWxfdXAgbV9zZWxlY3RlZC0+bV9sZXZlbCBpcyAwIiksJ1UwMDAwJyk7DQogICAgICAgICAgICAgICAgcmV0dXJuIDA7DQogICAgICAgICAgICB9DQogICAgICAgIH1lbHNlew0KICAgICAgICAgICAgY015VHJhY2VfY015VHJhY2UodmxvZyxNZW1vcnkuYWxsb2NVdGY4U3RyaW5nKCJib29sIENVc2VyOjpfY2hlY2tfbGV2ZWxfdXAoaW50LCBpbnQmLCBpbnQmLCBlRXhwQWRkUmVhc29uLCBpbnQpIiksMTY0MTEsNSk7DQogICAgICAgICAgICBjTXlUcmFjZV9vcGVyYXRvcih2bG9nLE1lbW9yeS5hbGxvY1V0ZjhTdHJpbmcoIkNVc2VyOjpfY2hlY2tfbGV2ZWxfdXAgbV9zZWxlY3RlZCBpcyBOVUxMIiksJ1UwMDAwJyk7DQogICAgICAgICAgICByZXR1cm4gMDsNCiAgICAgICAgfQ0KICAgIH0sICdpbnQnLCBbJ3BvaW50ZXInLCdpbnQnLCdpbnQnLCdpbnQnLCdpbnQnXSkpOw0KfQ0KDQovKioNCiAqIOiOt+W+l+e7j+mqjOWSjHNw54K5DQogKiBhNiDmgKrnialpZCAgYTMgc3DngrkNCiAqIEBwYXJhbSBtYXhMZXZlbA0KICovDQpmdW5jdGlvbiBnYWluRXhwU3AobWF4TGV2ZWwpew0KICAgIEludGVyY2VwdG9yLnJlcGxhY2UocHRyKDB4MDg2NmEzZmUpLCBuZXcgTmF0aXZlQ2FsbGJhY2soZnVuY3Rpb24gKHVzZXJJbmZvLGFkZEV4cCxhMyxhNCxzb3VyY2VUeXBlLGE2LGE3KSB7DQogICAgICAgIC8vIGNvbnNvbGUubG9nKCdnYWluRXhwU3AgYXJnczonK3VzZXJJbmZvKycsJythZGRFeHArJywnK2EzKycsJythNCsnLCcrc291cmNlVHlwZSsnLCcrYTYrJywnK2E3KQ0KICAgICAgICB2YXIgb25tZW50ID0gR19DRW52aXJvbm1lbnQoKS5hZGQoNDI0KjQpLnJlYWRVMTYoKTsNCiAgICAgICAgaWYob25tZW50ID09IDIgJiYgQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfbGV2ZWwodXNlckluZm8pID4gNDkpew0KICAgICAgICAgICAgYWRkRXhwID0gMDsNCiAgICAgICAgfQ0KICAgICAgICBpZiggKGFkZEV4cCAmIDB4ODAwMDAwMDApICE9MCApew0KICAgICAgICAgICAgYWRkRXhwID0gMDsNCiAgICAgICAgfQ0KICAgICAgICB2YXIgYWRkVmFsVGVtcCA9IHVzZXJJbmZvLmFkZCgxNDU0MzQqNCk7DQogICAgICAgIGlmKHNvdXJjZVR5cGU9PTEgfHwgc291cmNlVHlwZT09Mil7DQogICAgICAgICAgICB2YXIgYWRkVmFsID0gYWRkVmFsVGVtcC5yZWFkVTE2KCk7DQogICAgICAgICAgICB1c2VySW5mby5hZGQoMTQ1NDM0KjQpLndyaXRlVTE2KGFkZFZhbCthZGRFeHApOw0KICAgICAgICB9DQogICAgICAgIHZhciBhZGRWYWwgPSBhZGRWYWxUZW1wLnJlYWRVMTYoKTsNCiAgICAgICAgdXNlckluZm8uYWRkKDE0NTQzMSo0KS53cml0ZVUxNihhZGRWYWwrYWRkRXhwKTsNCiAgICAgICAgQ1VzZXJfaW5jUGxheUV4cEFkZCh1c2VySW5mbyxhZGRFeHApOw0KICAgICAgICB2YXIgdXBMZXZlbFRhZyA9IDA7DQogICAgICAgIGlmKENVc2VyQ2hhcmFjSW5mb19nZXRfY2hhcmFjX2xldmVsKHVzZXJJbmZvKSA8PSBtYXhMZXZlbC0xKXsNCiAgICAgICAgICAgIHVwTGV2ZWxUYWcgPSBDVXNlcl9jaGVja19sZXZlbF91cCh1c2VySW5mbywgYWRkRXhwLCBhMyxhNCxzb3VyY2VUeXBlKTsNCiAgICAgICAgICAgIHZhciBjdXJDaGFyYWNTa2lsbFIgPSBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjU2tpbGxSKHVzZXJJbmZvKTsNCiAgICAgICAgICAgIHZhciByZWFtaW5TcEF0SW5kZXggPSBTa2lsbFNsb3RfZ2V0X3JlbWFpbl9zcF9hdF9pbmRleChjdXJDaGFyYWNTa2lsbFIsTWVtb3J5LmFsbG9jVXRmOFN0cmluZygnMCcpKTsNCiAgICAgICAgICAgIHZhciBhM1ZhbCA9IHB0cihhMykucmVhZFVJbnQoKTsNCiAgICAgICAgICAgIENVc2VyX2dhaW5fc3AodXNlckluZm8sYTNWYWwpOw0KICAgICAgICAgICAgQ1VzZXJfaGlzdG9yeV9sb2dfc3AodXNlckluZm8scmVhbWluU3BBdEluZGV4LGEzLDApOw0KICAgICAgICAgICAgY3VyQ2hhcmFjU2tpbGxSID0gQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY1NraWxsUih1c2VySW5mbyk7DQogICAgICAgICAgICB2YXIgcmVhbWluU3RwQXRJbmRleCA9IFNraWxsU2xvdF9nZXRfcmVtYWluX3NmcF9hdF9pbmRleChjdXJDaGFyYWNTa2lsbFIsTWVtb3J5LmFsbG9jVXRmOFN0cmluZygnMicpKTsNCiAgICAgICAgICAgIHZhciBhNFZhbCA9IHB0cihhNCkucmVhZFVJbnQoKTsNCiAgICAgICAgICAgIENVc2VyX2dhaW5fc2ZwKHVzZXJJbmZvLGE0VmFsKTsNCiAgICAgICAgICAgIENVc2VyX2hpc3RvcnlfbG9nX3NmcCh1c2VySW5mbyxyZWFtaW5TdHBBdEluZGV4LGE0LDApOw0KICAgICAgICB9DQogICAgICAgIHZhciB2MzMgPSBNZW1vcnkuYWxsb2MoMTIpOw0KICAgICAgICBQYWNrZXRHdWFyZF9QYWNrZXRHdWFyZCh2MzMpOw0KICAgICAgICAvLyDorr7nva7op5LoibLlj6/pl6/liLDnrYnnuqcNCiAgICAgICAgaWYodXBMZXZlbFRhZz09MSl7DQogICAgICAgICAgICBDVXNlcl9DYWxjdXJhdGVVc2VyTWF4TGV2ZWwodXNlckluZm8pOw0KICAgICAgICAgICAgaWYoQ1VzZXJDaGFyYWNJbmZvX0dldEN1ckNoYXJhY01heEVxdWlwTGV2ZWwodXNlckluZm8pICE9MCl7DQogICAgICAgICAgICAgICAgdmFyIHVzZXJDdXJMZXZlbCA9IENVc2VyQ2hhcmFjSW5mb19nZXRfY2hhcmFjX2xldmVsKHVzZXJJbmZvKTsNCiAgICAgICAgICAgICAgICBpZih1c2VyQ3VyTGV2ZWwgPT0gQ1VzZXJDaGFyYWNJbmZvX0dldEN1ckNoYXJhY01heEVxdWlwTGV2ZWwodXNlckluZm8pKXsNCiAgICAgICAgICAgICAgICAgICAgQ1VzZXJDaGFyYWNJbmZvX1NldEN1ckNoYXJhY01heEVxdWlwTGV2ZWwodXNlckluZm8sMCk7DQogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdDVXNlckNoYXJhY0luZm9fU2V0Q3VyQ2hhcmFjTWF4RXF1aXBMZXZlbCBpcyAwJyk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdmFyIGN1ckNoYXJhY1F1ZXN0VyA9IENVc2VyX2dldEN1ckNoYXJhY1F1ZXN0Vyh1c2VySW5mbyk7DQogICAgICAgICAgICBVc2VyUXVlc3RfUmVzZXRVcmdlbnRRdWVzdFdhaXRpbmdMaXN0KGN1ckNoYXJhY1F1ZXN0Vyk7DQogICAgICAgICAgICB2YXIgY3VyQ2hhcmFjUXVlc3RSID1DVXNlcl9nZXRDdXJDaGFyYWNRdWVzdFIodXNlckluZm8pOw0KICAgICAgICAgICAgVXNlclF1ZXN0X2dldF9xdWVzdF9pbmZvKGN1ckNoYXJhY1F1ZXN0Uix2MzMpOw0KICAgICAgICAgICAgQ0NoYXJhY3RlclZpZXdfZW5hYmxlU2F2ZUNoYXJhY1ZpZXcodXNlckluZm8uYWRkKDQ5NzM5NikpOw0KICAgICAgICAgICAgQ1VzZXJfU2VuZCh1c2VySW5mbyx2MzMpOw0KICAgICAgICAgICAgaWYoQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfbGV2ZWwodXNlckluZm8pID09IG1heExldmVsKXsNCiAgICAgICAgICAgICAgICBDVXNlckNoYXJhY0luZm9fcmVzZXRDaGFyYWNGYXRpZ3VlR3Jvd25VcEJ1ZmYodXNlckluZm8pOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgQ1VzZXJfVXBkYXRlVXNlckluZm80R3VpbGQodXNlckluZm8pOw0KICAgICAgICAgICAgdmFyIGN1ckNoYXJhR3Jvd1R5cGUgPSBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjR3Jvd1R5cGUodXNlckluZm8pOw0KICAgICAgICAgICAgdmFyIGN1ckNoYXJhTGV2ZWwgPSBDVXNlckNoYXJhY0luZm9fZ2V0X2NoYXJhY19sZXZlbCh1c2VySW5mbyk7DQogICAgICAgICAgICB2YXIgY2hhcmFjTm8gPSBDVXNlcl9nZXRfY2hhcmFjX25vKHVzZXJJbmZvLC0xKTsNCiAgICAgICAgICAgIHZhciBhY2NJZCA9IENVc2VyX2dldF9hY2NfaWQodXNlckluZm8pOw0KICAgICAgICAgICAgdmFyIHNlcnZlckdyb3VwID0gQ1VzZXJfR2V0U2VydmVyR3JvdXAodXNlckluZm8pOw0KICAgICAgICAgICAgdmFyIHNlcnZlclByb3h5ID0gQ1NlcnZlclByb3h5TWdyX0NHdWlsZFNlcnZlclByb3h5X0dldFNlcnZlclByb3h5KHB0cihwdHIoMHgwOTQwQkUyQykucmVhZFUzMigpKSxzZXJ2ZXJHcm91cCk7DQogICAgICAgICAgICBDR3VpbGRTZXJ2ZXJQcm94eV9TZW5kQ2hhckxldmVsR3Jvd1R5cGUoc2VydmVyUHJveHksYWNjSWQsY2hhcmFjTm8sY3VyQ2hhcmFMZXZlbCxjdXJDaGFyYUdyb3dUeXBlKTsNCiAgICAgICAgICAgIHNlcnZlclByb3h5ID0gQ1NlcnZlclByb3h5TWdyX0NNb25pdG9yU2VydmVyUHJveHlfR2V0U2VydmVyUHJveHkocHRyKHB0cigweDA5NDBCRTI4KS5yZWFkVTMyKCkpLHNlcnZlckdyb3VwKTsNCiAgICAgICAgICAgIENNb25pdG9yU2VydmVyUHJveHlfU2VuZENoYXJMZXZlbEdyb3dUeXBlKHNlcnZlclByb3h5LGFjY0lkLGNoYXJhY05vLGN1ckNoYXJhTGV2ZWwsY3VyQ2hhcmFHcm93VHlwZSk7DQogICAgICAgICAgICB2YXIgdmVyaWZ5ID0gQ1VzZXJfVmVyaWZ5UHJlc2VudEF2ZW5nZXJUaXRsZSh1c2VySW5mbyk7DQogICAgICAgICAgICBpZih2ZXJpZnkgIT0gMSl7DQogICAgICAgICAgICAgICAgdmFyIHYzNCA9IE1lbW9yeS5hbGxvYygxNik7DQogICAgICAgICAgICAgICAgdmFyIGFjY0lkID0gQ1VzZXJfZ2V0X2FjY19pZCh1c2VySW5mbyk7DQogICAgICAgICAgICAgICAgY015VHJhY2VfY015VHJhY2UodjM0LE1lbW9yeS5hbGxvY1V0ZjhTdHJpbmcoImJvb2wgQ1VzZXI6OmdhaW5fZXhwX3NwKGludCwgaW50JiwgaW50JiwgZUV4cEFkZFJlYXNvbiwgaW50LCBib29sKSIpLDIwNTUwLDApOw0KICAgICAgICAgICAgICAgIGNNeVRyYWNlX29wZXJhdG9yKHYzNC50b0ludDMyKCksTWVtb3J5LmFsbG9jVXRmOFN0cmluZygiQ1VzZXI6OlZlcmlmeVByZXNlbnRBdmVuZ2VyVGl0bGUoKSBtX2lkKCVzKSwgY2hhcmFjX25vKCV1KSIpLE1lbW9yeS5hbGxvY1V0ZjhTdHJpbmcoYWNjSWQrJycpKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIENVc2VyX0FkZEN1ckNoYXJhY01lcmNlbmFyeUluZm8odXNlckluZm8pOw0KICAgICAgICB9DQogICAgICAgIHZhciByZWFkVGVtcFZhbCA9IHVzZXJJbmZvLmFkZCgxNDQzNjkqNCkucmVhZFUxNigpOw0KICAgICAgICBpZihyZWFkVGVtcFZhbD09NSB8fCByZWFkVGVtcFZhbD09OCB8fCByZWFkVGVtcFZhbD09NyB8fCByZWFkVGVtcFZhbD09MTAgfHwgcmVhZFRlbXBWYWw9PTEyICl7DQogICAgICAgICAgICBpZihhNyAhPSAxKXsNCiAgICAgICAgICAgICAgICBDVXNlcl9TZW5kTm90aVBhY2tldCh1c2VySW5mbywxLDM3LDApOw0KICAgICAgICAgICAgICAgIENVc2VyQ2hhcmFjSW5mb19zZXRfY2hhcmFjX2ZhdGlndWVfYnVmX2JvbnVzX2V4cCh1c2VySW5mbywwKTsNCiAgICAgICAgICAgIH1lbHNlIGlmKHVwTGV2ZWxUYWcgPT0xKXsNCiAgICAgICAgICAgICAgICBDVXNlcl9TZW5kTm90aVBhY2tldCh1c2VySW5mbywxLDM3LDApOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYodXBMZXZlbFRhZz09MSl7DQogICAgICAgICAgICAgICAgQ1VzZXJfZGVjaWRlX2dyb3d0aF9wb3dlcl9yZXdhcmRfc3lzdGVtKHVzZXJJbmZvKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICBpZih1cExldmVsVGFnID09IDEpew0KICAgICAgICAgICAgdmFyIHBsYXlDb3VudCA9IENVc2VyQ2hhcmFjSW5mb19HZXRDdXJDaGFyYWNEdW5nZW9uUGxheUNvdW50KHVzZXJJbmZvKTsNCiAgICAgICAgICAgIHZhciBjdXJDaGFyYUxldmVsID0gQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfbGV2ZWwodXNlckluZm8pOw0KICAgICAgICAgICAgQ0xldmVsRHVuZ2VvblBsYXlTdGF0aXN0aWNfSW5jcmVhc2VMZXZlbER1bmdlb25QbGF5KHB0cihwdHIoMHgwOTQxRjc2NCkucmVhZFUzMigpKSxjdXJDaGFyYUxldmVsLHBsYXlDb3VudCk7DQogICAgICAgICAgICBDVXNlckNoYXJhY0luZm9fUmVzZXRDdXJDaGFyYWNEdW5nZW9uUGxheUNvdW50KHVzZXJJbmZvKTsNCiAgICAgICAgICAgIC8vIOWJr+iBjOS4mg0KICAgICAgICAgICAgdmFyIGV4cGVydEpvYkV4cCA9IENVc2VyQ2hhcmFjSW5mb19HZXRDdXJDaGFyYWNFeHBlcnRKb2JFeHAodXNlckluZm8pOw0KICAgICAgICAgICAgZXhwZXJ0X2pvYl9DRXhwZXJ0Sm9iX0luY3JlYXNlRXhwZXJ0Sm9iRXhwKHVzZXJJbmZvLHB0cihleHBlcnRKb2JFeHApKTsNCiAgICAgICAgICAgIENVc2VyX1JlQ2FsY0NoYXR0aW5nRW1vdGljb24odXNlckluZm8pOw0KICAgICAgICAgICAgQ1VzZXJfU2VuZENoYXR0aW5nRW1vdGljb24odXNlckluZm8pOw0KICAgICAgICB9DQogICAgICAgIGlmKHVwTGV2ZWxUYWcgPT0gMSl7DQogICAgICAgICAgICBpZihDVXNlckNoYXJhY0luZm9fZ2V0X2NoYXJhY19sZXZlbCh1c2VySW5mbykgPT0gbWF4TGV2ZWwpew0KICAgICAgICAgICAgICAgIEFQU3lzdGVtX0NVc2VyUHJvY19DbGVhckFjdGlvbkFuZFNlbmR0b1VzZXIodXNlckluZm8sMzMsMCwwKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICBDVXNlcl9TZW5kTm90aVBhY2tldCh1c2VySW5mbywxLDM3LDApOw0KICAgICAgICAvLyDph4rmlL4gdjMzOw0KICAgICAgICByZXR1cm4gdXBMZXZlbFRhZzsNCiAgICB9LCAnaW50JywgWydwb2ludGVyJywnaW50JywnaW50JywnaW50JywnaW50JywnaW50JywnaW50J10pKTsNCn0NCg0KLyoqDQogKiDop5LoibLljYfnuqflpITnkIYNCiAqIOWOn+acieeahOaWueW8j+aaguaXtuayoeacieWunueOsCDjgILjgILjgIIg5Y+q6IO95puy57q/5pWR5Zu9DQogKiBAcGFyYW0gbWF4TGV2ZWwNCiAqLw0KZnVuY3Rpb24gb25MZXZlbFVwKG1heExldmVsKXsNCiAgICBJbnRlcmNlcHRvci5yZXBsYWNlKHB0cigweDA4NjYzMTFhKSwgbmV3IE5hdGl2ZUNhbGxiYWNrKGZ1bmN0aW9uICh1c2VySW5mbykgew0KICAgICAgICB2YXIgY3VyTGV2ZWwgPSBDVXNlckNoYXJhY0luZm9fZ2V0X2NoYXJhY19sZXZlbCh1c2VySW5mbyk7DQogICAgICAgIHZhciBjcmVhdGVUaW1lID0gQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY0NyZWF0ZVRpbWUodXNlckluZm8pOw0KICAgICAgICB2YXIgY3VyU2VjID0gQ1N5c3RlbVRpbWVfZ2V0Q3VyU2VjKHB0cigweDA5NDFGNzE0KSk7DQogICAgICAgIGNvbnNvbGUubG9nKCJvbkxldmVsVXAgYXJnczoiK2N1ckxldmVsKycsJytjcmVhdGVUaW1lKycsJytjdXJTZWMpOw0KICAgICAgICAvLyAyMDI0LTEyLTExIDExOjA2OjQ5DQogICAgICAgIGlmKGN1ckxldmVsPT0xNSAmJiBjcmVhdGVUaW1lPjEyMDM1NDExOTkgJiYgY3VyU2VjPD0gMTczMzg4NjQwOSl7DQogICAgICAgICAgICB2YXIgY2hhcmNOYW1lID0gJyc7DQogICAgICAgICAgICB2YXIgY2hhcmNOYW1lVmFsID0gQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY05hbWUodXNlckluZm8pOw0KICAgICAgICAgICAgaWYoIWNoYXJjTmFtZVZhbC5pc051bGwoKSkNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICBjaGFyY05hbWUgPSAgY2hhcmNOYW1lVmFsLnJlYWRVdGY4U3RyaW5nKC0xKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHZhciBjaGFyY05vID0gQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY05vKHVzZXJJbmZvKTsNCiAgICAgICAgICAgIHZhciBhY2NJZCA9IENVc2VyX2dldF9hY2NfaWQodXNlckluZm8pOw0KICAgICAgICAgICAgREJfSW5zZXJ0VW5saW1pdFN1cHBvcnRMb2dfbWFrZVJlcXVlc3QoTWVtb3J5LmFsbG9jVXRmOFN0cmluZyhhY2NJZCsnJyksY2hhcmNObyxNZW1vcnkuYWxsb2NVdGY4U3RyaW5nKGNoYXJjTmFtZSkpDQogICAgICAgIH0NCiAgICAgICAgdmFyIGNoYXJjSm9iID0gQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfam9iKHVzZXJJbmZvKTsNCiAgICAgICAgdmFyIGNoYXJjTm8gPSBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjTm8odXNlckluZm8pOw0KICAgICAgICBDVXNlcl9wcm9jZXNzTGV2ZWxSZXdhcmQodXNlckluZm8sY3VyTGV2ZWwsY2hhcmNObyxjaGFyY0pvYik7DQogICAgICAgIHZhciBmaW5kU3RyaW5nTGVuZ3RoID0gMDsNCiAgICAgICAgdmFyIGlzQWZmZWN0ZWRQcmVtaXVtID0gQ1VzZXJfaXNBZmZlY3RlZFByZW1pdW0odXNlckluZm8udG9JbnQzMigpLDE2KTsNCiAgICAgICAgaWYoaXNBZmZlY3RlZFByZW1pdW0hPTAgJiYgQ1N5c3RlbVRpbWVfZ2V0Q3VyU2VjKHB0cigweDA5NDFGNzE0KSkgPD0gdWludDY0KDB4NDc4RTcwNTApKXsNCg0KICAgICAgICB9DQogICAgICAgIENVc2VyX3Byb2Nlc3NOUENHaWZ0T25MZXZlbFVwKHVzZXJJbmZvKTsNCiAgICAgICAgQ1VzZXJfcHJvY2Vzc0xldmVsVXBFdmVudFJld2FyZCh1c2VySW5mbywwKTsNCiAgICAgICAgQ1VzZXJfcHJvY2Vzc0xldmVsVXBFdmVudCh1c2VySW5mbyk7DQogICAgICAgIGlmKENVc2VyQ2hhcmFjSW5mb19nZXRfY2hhcmFjX2xldmVsKHVzZXJJbmZvKSA9PSBtYXhMZXZlbCl7DQoNCiAgICAgICAgfQ0KICAgICAgICBpZihDVXNlckNoYXJhY0luZm9fZ2V0X2NoYXJhY19sZXZlbCh1c2VySW5mbykgPD0gbWF4TGV2ZWwpew0KICAgICAgICAgICAgY29uc29sZS5sb2coInF1ZXJ5LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS03NjE2IikNCiAgICAgICAgICAgIHZhciBpdGVtSWQgPSA3NjE2Ow0KICAgICAgICAgICAgdmFyIGl0ZW1OdW0gPSAxMDsNCiAgICAgICAgICAgIHZhciBpdGVtX3NwYWNlID0gTWVtb3J5LmFsbG9jKDQpOw0KICAgICAgICAgICAgdmFyIGl0ZW0gPSBDRGF0YU1hbmFnZXJfZmluZF9pdGVtKEdfQ0RhdGFNYW5hZ2VyKCksNzYxNik7DQogICAgICAgICAgICBpZighaXRlbS5pc051bGwoKSl7DQogICAgICAgICAgICAgICAgY29uc29sZS5sb2coImZpbmQgaXRlbSA3NjE2Iik7DQogICAgICAgICAgICAgICAgdmFyIGl0ZW1BZGRyID0gTWVtb3J5LmFsbG9jKDExNik7DQogICAgICAgICAgICAgICAgLy8g6YCB6YKA6K+35Ye9DQogICAgICAgICAgICAgICAgSW52ZW5fSXRlbV9JbnZlbl9JdGVtKGl0ZW1BZGRyKTsNCiAgICAgICAgICAgICAgICB2YXIgaW52ZW5SZWYgPSBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjSW52ZW5SKHVzZXJJbmZvKTsNCiAgICAgICAgICAgICAgICAvLyAvLyBpbnZlbkRhVEEg5piv5qC85a2Q55qE5L2N572uDQogICAgICAgICAgICAgICAgdmFyIGludmVuRGF0YSA9IENJbnZlbnRvcnlfR2V0SW52ZW5EYXRhKGludmVuUmVmLDc2MTYsaXRlbUFkZHIpOw0KICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJpbnZlbkRhdGEgOiIraW52ZW5EYXRhKTsNCiAgICAgICAgICAgICAgICBpZihpbnZlbkRhdGEgPj0wKXsNCiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coImludmVuIHVzZXIgaGF2ZSBpdGVtICA3NjE2Iik7DQogICAgICAgICAgICAgICAgICAgIC8vIOiDjOWMheacieWAvCDpooTorqHmmK/mlbDph48NCiAgICAgICAgICAgICAgICAgICAgdmFyIHJlYWR2YWwgPSBpdGVtQWRkci5hZGQoNykucmVhZFUxNigpOw0KICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygicmVhZFZhbCA6IityZWFkdmFsKTsNCiAgICAgICAgICAgICAgICAgICAgaWYocmVhZHZhbCA8IGl0ZW1OdW0pew0KICAgICAgICAgICAgICAgICAgICAgICAgaW52ZW5EYXRhID0gQ1VzZXJfQWRkSXRlbSh1c2VySW5mbywgaXRlbUlkLCBpdGVtTnVtLXJlYWR2YWwsIDYsIGl0ZW1fc3BhY2UsIDApOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgICAgICAgIGludmVuRGF0YSA9IENVc2VyX0FkZEl0ZW0odXNlckluZm8sIGl0ZW1JZCwgaXRlbU51bSwgNiwgaXRlbV9zcGFjZSwgMCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGlmKGludmVuRGF0YSA+PTAgKXsNCiAgICAgICAgICAgICAgICAgICAgLy/pgJrnn6XlrqLmiLfnq6/mnInmuLjmiI/pgZPlhbfmm7TmlrANCiAgICAgICAgICAgICAgICAgICAgQ1VzZXJfU2VuZFVwZGF0ZUl0ZW1MaXN0KHVzZXJJbmZvLCAxLCBpdGVtX3NwYWNlLnJlYWRJbnQoKSwgaW52ZW5EYXRhKTsNCiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coInNlbmQgc3VjY2VzcyIpDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIHZhciBldmVudF9zY3JpcHRfbW5nID0gQ0RhdGFNYW5hZ2VyX2dldF9ldmVudF9zY3JpcHRfbW5nKEdfQ0RhdGFNYW5hZ2VyKCkpOw0KICAgICAgICBFdmVudENsYXNzaWZ5X0NFdmVudFNjcmlwdE1uZ19wcm9jZXNzX2xldmVsX3VwX3Jld2FyZChldmVudF9zY3JpcHRfbW5nLHVzZXJJbmZvLDApOw0KICAgIH0sICd2b2lkJywgWydwb2ludGVyJ10pKTsNCn0NCg0KLyoqDQogKiDnianlk4Hkvb/nlKjnirbmgIEgIDEyMDUJ6IOM5Yi66JyY6JubDQogKi8NCmZ1bmN0aW9uIGluY3JlYXNlU3RhdHVzKG1heExldmVsKXsNCg0KICAgIEludGVyY2VwdG9yLnJlcGxhY2UocHRyKDB4MDg2NjU3ZmMpLCBuZXcgTmF0aXZlQ2FsbGJhY2soZnVuY3Rpb24gKHVzZXIsIHNsb2YpIHsNCiAgICAgICAgY29uc29sZS5sb2coImluY3JlYXNlU3RhdHVzOiIrdXNlcisnLCcrc2xvZik7DQogICAgICAgIHZhciBidWZmID0gIE1lbW9yeS5hbGxvYygxMik7DQogICAgICAgIFBhY2tldEd1YXJkX1BhY2tldEd1YXJkKGJ1ZmYpOw0KICAgICAgICBjb25zb2xlLmxvZygnQ1VzZXJfQ2hlY2tJblRyYWRlKHVzZXIpOicrQ1VzZXJfQ2hlY2tJblRyYWRlKHVzZXIpKQ0KICAgICAgICBpZihDVXNlcl9DaGVja0luVHJhZGUodXNlcikhPTApew0KICAgICAgICAgICAgQ1VzZXJfU2VuZENtZEVycm9yUGFja2V0KHVzZXIsIDMyLCAxOSwgYnVmZik7DQogICAgICAgICAgICBQYWNrZXRHdWFyZF9mcmVlX1BhY2tldEd1YXJkKGJ1ZmYpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQogICAgICAgIHZhciB1c2VySXRlbSA9ICBNZW1vcnkuYWxsb2MoMTI4KTsNCiAgICAgICAgdmFyIGN1ckNoYXJhY0ludmVuUmVmID0gQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY0ludmVuUih1c2VyKTsNCiAgICAgICAgQ0ludmVudG9yeV9HZXRJbnZlblNsb3QodXNlckl0ZW0sY3VyQ2hhcmFjSW52ZW5SZWYudG9JbnQzMigpLDEscGFyc2VJbnQoc2xvZikpOw0KICAgICAgICB2YXIgaXRlbUlkID0gdXNlckl0ZW0uYWRkKDIpLnJlYWRVMzIoKTsNCiAgICAgICAgLy8g5qCH5b+X57G75Z6LDQogICAgICAgIHZhciB2MTg0ID0gLTE7DQogICAgICAgIC8vIOimgeWKoOeahOWAvA0KICAgICAgICB2YXIgZ3VpbGRFeHBCb29rID0gMDsNCg0KICAgICAgICBpZihpdGVtSWQgPT0gMTIwNSl7DQogICAgICAgICAgICB2MTg0ID0gMTc7DQogICAgICAgICAgICBndWlsZEV4cEJvb2sgPSA1Ow0KICAgICAgICAgICAgZ290bzE5MSh1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQogICAgICAgIGlmKGl0ZW1JZCA8PSAxMjA1KXsNCiAgICAgICAgICAgIGlmKGl0ZW1JZCA9PSAxMDM2KXsNCiAgICAgICAgICAgICAgICB2MTg0ID0gMTsNCiAgICAgICAgICAgICAgICBndWlsZEV4cEJvb2sgPSAxMDAwMDsNCiAgICAgICAgICAgICAgICBnb3RvMTkxKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYoaXRlbUlkIDw9IDEwMzYpew0KICAgICAgICAgICAgICAgIGlmKGl0ZW1JZCE9IDIwMSl7DQogICAgICAgICAgICAgICAgICAgIGlmKGl0ZW1JZCA+IDIwMSl7DQogICAgICAgICAgICAgICAgICAgICAgICBpZihpdGVtSWQgPT0gOTYzKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnb3RvMTI1KHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgaWYoaXRlbUlkID4gOTYzKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihpdGVtSWQgPT0gMTAzNCl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYxODQgPSAxOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBndWlsZEV4cEJvb2sgPSAxMDA7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdvdG8xOTEodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihpdGVtSWQ+MTAzNCl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYxODQgPSAxOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBndWlsZEV4cEJvb2sgPSAxMDAwOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnb3RvMTkxKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoaXRlbUlkID09IDEwMzEpew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MTg0ID0gMDsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3VpbGRFeHBCb29rID0gNTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ290bzE5MSh1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdvdG8xNzgodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICBpZihpdGVtSWQ9PTkxNiB8fCBpdGVtSWQ9PTk2MCl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZ290bzEyNSh1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIGdvdG8xNzgodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBpZihpdGVtSWQhPTQyKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGl0ZW1JZDw9NDIpew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGl0ZW1JZCE9MyAmJiBpdGVtSWQhPTI4KXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ290bzE3OCh1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdvdG8xMjUodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICBpZihpdGVtSWQ9PTEwOSB8fCBpdGVtSWQ+PTEwOSAmJiBpdGVtSWQtMTYxPD0xKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnb3RvMTI1KHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgZ290bzE3OCh1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpOw0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIHYxODQgPSAyMTsNCiAgICAgICAgICAgICAgICAgICAgZ3VpbGRFeHBCb29rID0gMTsNCiAgICAgICAgICAgICAgICAgICAgZ290bzE5MSh1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpOw0KICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHZhciByZXBlYXRFdmVudCA9IENFdmVudE1hbmFnZXJfR2V0UmVwZWF0RXZlbnQocHRyKHB0cigweDA5NDFGNzMwKS5yZWFkVTMyKCkpLDE1KTsNCiAgICAgICAgICAgICAgICB2YXIgdGVtcE1ldGhvZCA9ICBuZXcgTmF0aXZlRnVuY3Rpb24ocmVwZWF0RXZlbnQuYWRkKDUyKjQpLCAnaW50JywgWydwb2ludGVyJywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCiAgICAgICAgICAgICAgICBpZihyZXBlYXRFdmVudCE9MCAmJiB0ZW1wTWV0aG9kKHJlcGVhdEV2ZW50LDApIT0wKXsNCiAgICAgICAgICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX2NsZWFyKGJ1ZmYpOw0KICAgICAgICAgICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2hlYWRlcihidWZmLDEsMzIpOw0KICAgICAgICAgICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2J5dGUoYnVmZiwwKTsNCiAgICAgICAgICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9ieXRlKGJ1ZmYsMTkpOw0KICAgICAgICAgICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfZmluYWxpemUoYnVmZiwxKTsNCiAgICAgICAgICAgICAgICAgICAgQ1VzZXJfU2VuZCh1c2VyLGJ1ZmYpOw0KICAgICAgICAgICAgICAgICAgICBQYWNrZXRHdWFyZF9mcmVlX1BhY2tldEd1YXJkKGJ1ZmYpOw0KICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGlmKENVc2VyX2dldEN1ckNoYXJhY1RvdGFsRmF0aWd1ZSh1c2VyKSE9MCl7DQogICAgICAgICAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9jbGVhcihidWZmKTsNCiAgICAgICAgICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9oZWFkZXIoYnVmZiwxLDMyKTsNCiAgICAgICAgICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9ieXRlKGJ1ZmYsMCk7DQogICAgICAgICAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfYnl0ZShidWZmLDY3KTsNCiAgICAgICAgICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX2ZpbmFsaXplKGJ1ZmYsMSk7DQogICAgICAgICAgICAgICAgICAgIENVc2VyX1NlbmQodXNlcixidWZmKTsNCiAgICAgICAgICAgICAgICAgICAgUGFja2V0R3VhcmRfZnJlZV9QYWNrZXRHdWFyZChidWZmKTsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB2MTg0ID0gMTQ7DQogICAgICAgICAgICAgICAgZ3VpbGRFeHBCb29rID0gMDsNCiAgICAgICAgICAgICAgICBnb3RvMTkxKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYoaXRlbUlkID09IDEwNDMpew0KICAgICAgICAgICAgICAgIHYxODQgPSAyOw0KICAgICAgICAgICAgICAgIGd1aWxkRXhwQm9vayA9IDI1MDsNCiAgICAgICAgICAgICAgICBnb3RvMTkxKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYoaXRlbUlkIDw9IDEwNDMpew0KICAgICAgICAgICAgICAgIGlmKGl0ZW1JZCA9PSAxMDM5KXsNCiAgICAgICAgICAgICAgICAgICAgdjE4NCA9IDQ7DQogICAgICAgICAgICAgICAgICAgIGd1aWxkRXhwQm9vayA9IDUwOw0KICAgICAgICAgICAgICAgIH1lbHNlIGlmKGl0ZW1JZCA+IDEwMzkpew0KICAgICAgICAgICAgICAgICAgICBpZihpdGVtSWQgPT0gMTA0MSl7DQogICAgICAgICAgICAgICAgICAgICAgICB2MTg0ID0gNTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGd1aWxkRXhwQm9vayA9IDUwOw0KICAgICAgICAgICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGl0ZW1JZCA+IDEwNDEpew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYxODQgPSA3Ow0KICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjE4NCA9IDY7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICBndWlsZEV4cEJvb2sgPSA1MDsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH1lbHNlIGlmKGl0ZW1JZCA9PSAxMDM3KXsNCiAgICAgICAgICAgICAgICAgICAgdjE4NCA9IDE7DQogICAgICAgICAgICAgICAgICAgIGd1aWxkRXhwQm9vayA9IDEwMDAwMDsNCiAgICAgICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICAgICAgdjE4NCA9IDA7DQogICAgICAgICAgICAgICAgICAgIGd1aWxkRXhwQm9vayA9MjA7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGdvdG8xOTEodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKTsNCiAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZihpdGVtSWQgPT0gMTA0Nil7DQogICAgICAgICAgICAgICAgLy8g5oqX5oCn5LmL55+zDQogICAgICAgICAgICAgICAgdjE4NCA9IDk7DQogICAgICAgICAgICAgICAgZ3VpbGRFeHBCb29rID0gMTA7DQogICAgICAgICAgICAgICAgZ290bzE5MSh1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpOw0KICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmKGl0ZW1JZCA8PSAxMDQ2KXsNCiAgICAgICAgICAgICAgICAvLyB0b2RvIOmtlOWKm+S5i+efsw0KICAgICAgICAgICAgICAgIGlmKGl0ZW1JZCA9PSAxMDQ0KXsNCiAgICAgICAgICAgICAgICAgICAgdjE4NCA9IDM7DQogICAgICAgICAgICAgICAgICAgIGd1aWxkRXhwQm9vayA9IDI1MDsNCiAgICAgICAgICAgICAgICB9ZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIHYxODQgPSA4Ow0KICAgICAgICAgICAgICAgICAgICBndWlsZEV4cEJvb2sgPSAxMDsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgZ290bzE5MSh1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpOw0KICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmKGl0ZW1JZCA8IDEyMDApew0KICAgICAgICAgICAgICAgIGdvdG8xNzgodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKTsNCiAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZihpdGVtSWQgPiAxMjAyKXsNCiAgICAgICAgICAgICAgICBpZihpdGVtSWQgPT0gMTIwNCl7DQogICAgICAgICAgICAgICAgICAgIHYxODQgPSAxNzsNCiAgICAgICAgICAgICAgICAgICAgZ3VpbGRFeHBCb29rID0gMTsNCiAgICAgICAgICAgICAgICAgICAgZ290bzE5MSh1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpOw0KICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGdvdG8xNzgodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKTsNCiAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICB9DQogICAgICAgICAgICBnb3RvMTcxKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCiAgICAgICAgaWYoaXRlbUlkIDw9IDgyNjgpew0KICAgICAgICAgICAgaWYoaXRlbUlkIDwgODI2Nyl7DQogICAgICAgICAgICAgICAgaWYoaXRlbUlkID09IDcxMDEpew0KICAgICAgICAgICAgICAgICAgICBpZihDVXNlcl9nZXRfc3RhdGUodXNlcikhPTMpew0KICAgICAgICAgICAgICAgICAgICAgICAgQ1VzZXJfU2VuZENtZEVycm9yUGFja2V0KHVzZXIsMzIsMTksYnVmZik7DQogICAgICAgICAgICAgICAgICAgICAgICBQYWNrZXRHdWFyZF9mcmVlX1BhY2tldEd1YXJkKGJ1ZmYpOw0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIHYxODQgPSAxMzsNCiAgICAgICAgICAgICAgICAgICAgZ3VpbGRFeHBCb29rID0gODsNCiAgICAgICAgICAgICAgICAgICAgZ290bzE5MSh1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpOw0KICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGlmKGl0ZW1JZCA8PSA3MTAxKXsNCiAgICAgICAgICAgICAgICAgICAgaWYoaXRlbUlkPT0xMjMyKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIHYxODQgPSAxOw0KICAgICAgICAgICAgICAgICAgICAgICAgZ3VpbGRFeHBCb29rID0gMTAwMDAwMDA7DQogICAgICAgICAgICAgICAgICAgICAgICBnb3RvMTkxKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgaWYoaXRlbUlkIDw9IDEyMzIpew0KICAgICAgICAgICAgICAgICAgICAgICAgaWYoaXRlbUlkIT0xMjA2KXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihpdGVtSWQ9PTEyMzEpew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MTg0ID0gMTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3VpbGRFeHBCb29rID0gMTAwMDAwMDsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ290bzE5MSh1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdvdG8xNzgodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICBnb3RvMTI1KHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgaWYoaXRlbUlkID09IDEyNTMpew0KICAgICAgICAgICAgICAgICAgICAgICAgZ290bzEyNSh1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpOw0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGlmKGl0ZW1JZCAhPTMyMDQpew0KICAgICAgICAgICAgICAgICAgICAgICAgaWYoaXRlbUlkPT0xMjQ3KXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MTg0ID0gMTk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3VpbGRFeHBCb29rID0gMTA7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZ290bzE5MSh1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIGdvdG8xNzgodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBpZihDVXNlckNoYXJhY0luZm9fZ2V0X2NoYXJhY19ndWlsZGtleSh1c2VyKSE9MCl7DQogICAgICAgICAgICAgICAgICAgICAgICB2MTg0ID0gMTE7DQogICAgICAgICAgICAgICAgICAgICAgICBndWlsZEV4cEJvb2sgPSAxMDsNCiAgICAgICAgICAgICAgICAgICAgICAgIGdvdG8xOTEodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBDVXNlcl9TZW5kQ21kRXJyb3JQYWNrZXQodXNlciwzMiw2NCxidWZmKTsNCiAgICAgICAgICAgICAgICAgICAgUGFja2V0R3VhcmRfZnJlZV9QYWNrZXRHdWFyZChidWZmKTsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBpZihpdGVtSWQ9PTcxODEpew0KICAgICAgICAgICAgICAgICAgICB2MTg0ID0gMTM7DQogICAgICAgICAgICAgICAgICAgIGd1aWxkRXhwQm9vayA9IDU7DQogICAgICAgICAgICAgICAgICAgIGdvdG8xOTEodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKTsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBpZihpdGVtSWQgPD0gNzE4MSl7DQogICAgICAgICAgICAgICAgICAgIGlmKGl0ZW1JZCAhPSA3MTA1KXsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGl0ZW1JZCA9PSA3MTgwKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MTg0ID0gMTM7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3VpbGRFeHBCb29rID0gMTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnb3RvMTkxKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgZ290bzE3OCh1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpOw0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGlmKENVc2VyQ2hhcmFjSW5mb19nZXRfY2hhcmFjX2d1aWxka2V5KHVzZXIpKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIHYxODQgPSAxMTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGd1aWxkRXhwQm9vayA9IDUwOw0KICAgICAgICAgICAgICAgICAgICAgICAgZ290bzE5MSh1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpOw0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIENVc2VyX1NlbmRDbWRFcnJvclBhY2tldCh1c2VyLDMyLDY0LGJ1ZmYpOw0KICAgICAgICAgICAgICAgICAgICBQYWNrZXRHdWFyZF9mcmVlX1BhY2tldEd1YXJkKGJ1ZmYpOw0KICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGlmKGl0ZW1JZCA9PSA3OTU4KXsNCiAgICAgICAgICAgICAgICAgICAgdjE4NCA9IDIwOw0KICAgICAgICAgICAgICAgICAgICBndWlsZEV4cEJvb2sgPSAwOw0KICAgICAgICAgICAgICAgICAgICBnb3RvMTkxKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgaWYoaXRlbUlkIT04MDQ5KXsNCiAgICAgICAgICAgICAgICAgICAgaWYoaXRlbUlkICE9IDcyOTgpew0KICAgICAgICAgICAgICAgICAgICAgICAgZ290bzE3OCh1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpOw0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGlmKENVc2VyX2dldF9zdGF0ZSh1c2VyKSE9Myl7DQogICAgICAgICAgICAgICAgICAgICAgICBDVXNlcl9TZW5kQ21kRXJyb3JQYWNrZXQodXNlciwzMiwxOSxidWZmKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIFBhY2tldEd1YXJkX2ZyZWVfUGFja2V0R3VhcmQoYnVmZik7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgdjE4NCA9IDEzOw0KICAgICAgICAgICAgICAgICAgICBndWlsZEV4cEJvb2sgPSAyOw0KICAgICAgICAgICAgICAgICAgICBnb3RvMTkxKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICBnb3RvOTYodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfQ0KICAgICAgICBpZihpdGVtSWQ9PTI2NzAwMDgpew0KICAgICAgICAgICAgdmFyIHJlcGVhdEV2ZW50ID0gQ0V2ZW50TWFuYWdlcl9HZXRSZXBlYXRFdmVudChwdHIocHRyKDB4MDk0MUY3MzApLnJlYWRVMzIoKSksMTUpOw0KICAgICAgICAgICAgdmFyIHRlbXBNZXRob2QgPSAgbmV3IE5hdGl2ZUZ1bmN0aW9uKHJlcGVhdEV2ZW50LmFkZCg1Mio0KSwgJ2ludCcsIFsncG9pbnRlcicsJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQogICAgICAgICAgICBpZihyZXBlYXRFdmVudCE9MCAmJiB0ZW1wTWV0aG9kKHJlcGVhdEV2ZW50LDApIT0wKXsNCiAgICAgICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfY2xlYXIoYnVmZik7DQogICAgICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9oZWFkZXIoYnVmZiwxLDMyKTsNCiAgICAgICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2J5dGUoYnVmZiwwKTsNCiAgICAgICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2J5dGUoYnVmZiwxOSk7DQogICAgICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX2ZpbmFsaXplKGJ1ZmYsMSk7DQogICAgICAgICAgICAgICAgQ1VzZXJfU2VuZCh1c2VyLGJ1ZmYpOw0KICAgICAgICAgICAgICAgIFBhY2tldEd1YXJkX2ZyZWVfUGFja2V0R3VhcmQoYnVmZik7DQogICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYoQ1VzZXJfZ2V0Q3VyQ2hhcmFjVG90YWxGYXRpZ3VlKHVzZXIpIT0wKXsNCiAgICAgICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfY2xlYXIoYnVmZik7DQogICAgICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9oZWFkZXIoYnVmZiwxLDMyKTsNCiAgICAgICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2J5dGUoYnVmZiwwKTsNCiAgICAgICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2J5dGUoYnVmZiw2Nyk7DQogICAgICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX2ZpbmFsaXplKGJ1ZmYsMSk7DQogICAgICAgICAgICAgICAgQ1VzZXJfU2VuZCh1c2VyLGJ1ZmYpOw0KICAgICAgICAgICAgICAgIFBhY2tldEd1YXJkX2ZyZWVfUGFja2V0R3VhcmQoYnVmZik7DQogICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdjE4NCA9IDE0Ow0KICAgICAgICAgICAgZ3VpbGRFeHBCb29rID0gMDsNCiAgICAgICAgICAgIGdvdG8xOTEodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfQ0KICAgICAgICBpZihpdGVtSWQ+MjY3MDAwOCl7DQogICAgICAgICAgICBpZihpdGVtSWQhPTEwMDAwOTE1KXsNCiAgICAgICAgICAgICAgICBpZihpdGVtSWQ8PTEwMDAwOTE1KXsNCiAgICAgICAgICAgICAgICAgICAgaWYoaXRlbUlkPT0yNjc1MDIxKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIHYxODQgPSAyMTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGd1aWxkRXhwQm9vayA9IDE7DQogICAgICAgICAgICAgICAgICAgICAgICBnb3RvMTkxKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgaWYoaXRlbUlkIT0yNjc1Mzg4KXsNCiAgICAgICAgICAgICAgICAgICAgICAgIGdvdG8xNzgodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBnb3RvOTYodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKTsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBpZiAoIGl0ZW1JZCA9PSA2OTAwMDAyMjAgKXsNCiAgICAgICAgICAgICAgICAgICAgZ290bzE3MSh1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpOw0KICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGlmICggaXRlbUlkID09IDY5MDAwMDMwMSApDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICB2MTg0ID0gMjU7DQogICAgICAgICAgICAgICAgICAgIGd1aWxkRXhwQm9vayA9IDE7DQogICAgICAgICAgICAgICAgICAgIGdvdG8xOTEodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKTsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBpZiAoIGl0ZW1JZCAhPSA2OTAwMDAwOTcgKXsNCiAgICAgICAgICAgICAgICAgICAgZ290bzE3OCh1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpOw0KICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdmFyIHRlbXBWMTg0VGFnID0gTWVtb3J5LmFsbG9jKDEpOw0KICAgICAgICAgICAgdGVtcFYxODRUYWcud3JpdGVVOCh2MTg0KTsNCiAgICAgICAgICAgIHZhciB0ZW1wR3VpbGRFeHBCb29rVGFnID0gTWVtb3J5LmFsbG9jKDQpOw0KICAgICAgICAgICAgdGVtcEd1aWxkRXhwQm9va1RhZy53cml0ZVUzMihndWlsZEV4cEJvb2spOw0KICAgICAgICAgICAgaWYoQ1VzZXJfQ2FsTGV2ZWxVcEl0ZW1TdGF0ZSh1c2VyLHRlbXBWMTg0VGFnLHRlbXBHdWlsZEV4cEJvb2tUYWcsMSw2OSkhPTEpew0KICAgICAgICAgICAgICAgIHYxODQgPSB0ZW1wVjE4NFRhZy5yZWFkVTgoKTsNCiAgICAgICAgICAgICAgICBndWlsZEV4cEJvb2sgPSB0ZW1wR3VpbGRFeHBCb29rVGFnLnJlYWRVMzIoKTsNCiAgICAgICAgICAgICAgICBDVXNlcl9TZW5kQ21kRXJyb3JQYWNrZXQodXNlciwzMiwxOSxidWZmKTsNCiAgICAgICAgICAgICAgICBQYWNrZXRHdWFyZF9mcmVlX1BhY2tldEd1YXJkKGJ1ZmYpOw0KICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHYxODQgPSB0ZW1wVjE4NFRhZy5yZWFkVTgoKTsNCiAgICAgICAgICAgIGd1aWxkRXhwQm9vayA9IHRlbXBHdWlsZEV4cEJvb2tUYWcucmVhZFUzMigpOw0KICAgICAgICAgICAgZ290bzE5MSh1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQogICAgICAgIGlmKGl0ZW1JZCAhPSAyNjYwMTcxKXsNCiAgICAgICAgICAgIGlmKGl0ZW1JZDw9MjY2MDE3MSl7DQogICAgICAgICAgICAgICAgaWYoaXRlbUlkLTgyNzA+MSl7DQogICAgICAgICAgICAgICAgICAgIGdvdG8xNzgodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKTsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBnb3RvOTYodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKTsNCiAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZihpdGVtSWQhPTI2NjAyMzIpew0KICAgICAgICAgICAgICAgIGlmKGl0ZW1JZCE9MjY2MDM5Nil7DQogICAgICAgICAgICAgICAgICAgIGlmKGl0ZW1JZCE9MjY2MDE3Mil7DQogICAgICAgICAgICAgICAgICAgICAgICBnb3RvMTc4KHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgaWYoR2FtZVdvcmxkX0lzUHZQU2tpbFRyZWVDaGFubmVsKEdfR2FtZVdvcmxkKSE9MSl7DQogICAgICAgICAgICAgICAgICAgICAgICBDVXNlcl9TZW5kQ21kRXJyb3JQYWNrZXQodXNlciwzMiwyMyxidWZmKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIFBhY2tldEd1YXJkX2ZyZWVfUGFja2V0R3VhcmQoYnVmZik7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgdmFyIGNoZWNrID0gQ1NlY3VfUHJvdGVjdGlvbkZpZWxkX0NoZWNrKHB0cihwdHIoMHgwOTQxRjdDQykucmVhZFUzMigpKSx1c2VyLDQ0KTsNCiAgICAgICAgICAgICAgICAgICAgaWYoY2hlY2shPTApew0KICAgICAgICAgICAgICAgICAgICAgICAgQ1VzZXJfU2VuZENtZEVycm9yUGFja2V0KHVzZXIsMzIsY2hlY2ssYnVmZik7DQogICAgICAgICAgICAgICAgICAgICAgICBQYWNrZXRHdWFyZF9mcmVlX1BhY2tldEd1YXJkKGJ1ZmYpOw0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGlmKENVc2VyX2lzQWZmZWN0ZWRQcmVtaXVtKHVzZXIudG9JbnQzMigpLDMzKT09MSl7DQogICAgICAgICAgICAgICAgICAgICAgICBndWlsZEV4cEJvb2sgPSAwOw0KICAgICAgICAgICAgICAgICAgICAgICAgdjE4NCA9IDIzOw0KICAgICAgICAgICAgICAgICAgICAgICAgZ290bzE5MSh1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpOw0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIENVc2VyX1NlbmRDbWRFcnJvclBhY2tldCh1c2VyLDMyLDIxNixidWZmKTsNCiAgICAgICAgICAgICAgICAgICAgUGFja2V0R3VhcmRfZnJlZV9QYWNrZXRHdWFyZChidWZmKTsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBnb3RvMTI1KHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIGlmKEdhbWVXb3JsZF9Jc1B2UFNraWxUcmVlQ2hhbm5lbChHX0dhbWVXb3JsZCgpKSE9MSl7DQogICAgICAgICAgICBDVXNlcl9TZW5kQ21kRXJyb3JQYWNrZXQodXNlciwzMiwyMyxidWZmKTsNCiAgICAgICAgICAgIFBhY2tldEd1YXJkX2ZyZWVfUGFja2V0R3VhcmQoYnVmZik7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCiAgICAgICAgdmFyIGNoZWNrID0gQ1NlY3VfUHJvdGVjdGlvbkZpZWxkX0NoZWNrKHB0cihwdHIoMHgwOTQxRjdDQykucmVhZFUzMigpKSx1c2VyLDQ0KTsNCiAgICAgICAgaWYoY2hlY2shPTApew0KICAgICAgICAgICAgQ1VzZXJfU2VuZENtZEVycm9yUGFja2V0KHVzZXIsMzIsY2hlY2ssYnVmZik7DQogICAgICAgICAgICBQYWNrZXRHdWFyZF9mcmVlX1BhY2tldEd1YXJkKGJ1ZmYpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQogICAgICAgIGlmKFdvbmdXb3JrX0NTa2lsbENoYW5nZXJfQ2hlY2tDb25kaXRpb24odXNlcikhPTEpew0KICAgICAgICAgICAgQ1VzZXJfU2VuZENtZEVycm9yUGFja2V0KHVzZXIsMzIsMSxidWZmKTsNCiAgICAgICAgICAgIFBhY2tldEd1YXJkX2ZyZWVfUGFja2V0R3VhcmQoYnVmZik7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCiAgICAgICAgZ3VpbGRFeHBCb29rID0gMDsNCiAgICAgICAgdjE4NCA9IDIyOw0KICAgICAgICBpZihpdGVtSWQgPT0gMjY2MDIzMil7DQogICAgICAgICAgICBndWlsZEV4cEJvb2sgPSAxOw0KICAgICAgICB9DQogICAgICAgIC8vIOagueaNruexu+Wei+WkhOeQhuaVsOaNriAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogICAgICAgIGdvdG8xOTEodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKTsNCiAgICAgICAgcmV0dXJuOw0KICAgIH0sICd2b2lkJywgWydwb2ludGVyJywgJ2ludCddKSk7DQp9DQoNCmZ1bmN0aW9uIGdvdG8xNzEodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKXsNCiAgICBpZihpdGVtSWQgPT0gNjkwMDAwMjIwICYmIENVc2VyX0lzR3VpbGRNYXN0ZXIodXNlcikhPTEpew0KICAgICAgICBDVXNlcl9TZW5kQ21kRXJyb3JQYWNrZXQodXNlciwzMiwyMTksYnVmZik7DQogICAgICAgIFBhY2tldEd1YXJkX2ZyZWVfUGFja2V0R3VhcmQoYnVmZik7DQogICAgICAgIHJldHVybjsNCiAgICB9DQogICAgdmFyIGd1aWxkVmFsID0gdXNlci5hZGQoNTc3NTk1KS5yZWFkVTMyKCkgKzE7DQogICAgdmFyIGd1aWxkTGV2ZWxVcFBhcmFtID0gR3VpbGRQYXJhbWV0ZXJTY3JpcHRfZ2V0R3VpbGRMZXZlbFVwUGFyYW0oR19DRGF0YU1hbmFnZXIoKS5hZGQoNDIyNTIpLGd1aWxkVmFsKTsNCiAgICB2YXIgZ3VpbGREQkluZm8gPSBDVXNlcl9HZXRHdWlsZERCSW5mbyh1c2VyKTsNCiAgICBpZihndWlsZExldmVsVXBQYXJhbSE9MCB8fCBndWlsZERCSW5mby5hZGQoNDEpLnJlYWRVMzIoKSA+PWd1aWxkTGV2ZWxVcFBhcmFtLmFkZCg0KS5yZWFkVTMyKCkpew0KICAgICAgICBDVXNlcl9TZW5kQ21kRXJyb3JQYWNrZXQodXNlciwzMiwyMTAsYnVmZik7DQogICAgICAgIFBhY2tldEd1YXJkX2ZyZWVfUGFja2V0R3VhcmQoYnVmZik7DQogICAgICAgIHJldHVybjsNCiAgICB9DQogICAgdjE4NCA9IDE2Ow0KICAgIGd1aWxkRXhwQm9vayA9IEd1aWxkUGFyYW1ldGVyU2NyaXB0X2dldEd1aWxkRXhwQm9vayhHX0NEYXRhTWFuYWdlcigpLmFkZCg0MjI1MiksaXRlbUlkKTsNCiAgICBnb3RvMTkxKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQp9DQoNCmZ1bmN0aW9uIGdvdG85Nih1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpew0KICAgIHZhciB0ZW1wVjE4NFRhZyA9IE1lbW9yeS5hbGxvYygxKTsNCiAgICB0ZW1wVjE4NFRhZy53cml0ZVU4KHYxODQpOw0KICAgIHZhciB0ZW1wR3VpbGRFeHBCb29rVGFnID0gTWVtb3J5LmFsbG9jKDQpOw0KICAgIHRlbXBHdWlsZEV4cEJvb2tUYWcud3JpdGVVMzIoZ3VpbGRFeHBCb29rKTsNCiAgICBpZihDVXNlcl9DYWxMZXZlbFVwSXRlbUNoZWNrKHVzZXIsaXRlbV9pZCkhPTAgJiYgQ1VzZXJfQ2FsTGV2ZWxVcEl0ZW1TdGF0ZSh1c2VyLHRlbXBWMTg0VGFnLHRlbXBHdWlsZEV4cEJvb2tUYWcsMTksNTkpIT0xKXsNCiAgICAgICAgdjE4NCA9IHRlbXBWMTg0VGFnLnJlYWRVOCgpOw0KICAgICAgICBndWlsZEV4cEJvb2sgPSB0ZW1wR3VpbGRFeHBCb29rVGFnLnJlYWRVMzIoKTsNCiAgICAgICAgQ1VzZXJfU2VuZENtZEVycm9yUGFja2V0KHVzZXIsMzIsMTksYnVmZik7DQogICAgICAgIFBhY2tldEd1YXJkX2ZyZWVfUGFja2V0R3VhcmQoYnVmZik7DQogICAgICAgIHJldHVybjsNCiAgICB9DQogICAgdjE4NCA9IHRlbXBWMTg0VGFnLnJlYWRVOCgpOw0KICAgIGd1aWxkRXhwQm9vayA9IHRlbXBHdWlsZEV4cEJvb2tUYWcucmVhZFUzMigpOw0KICAgIGdvdG8xOTEodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKTsNCn0NCg0KZnVuY3Rpb24gZ290bzEyNSh1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpew0KICAgIHZhciBjaGVjayA9IENTZWN1X1Byb3RlY3Rpb25GaWVsZF9DaGVjayhwdHIocHRyKDB4MDk0MUY3Q0MpLnJlYWRVMzIoKSksdXNlciw0NCk7DQogICAgaWYoY2hlY2shPTApew0KICAgICAgICBDVXNlcl9TZW5kQ21kRXJyb3JQYWNrZXQodXNlciwzMixjaGVjayxidWZmKTsNCiAgICAgICAgUGFja2V0R3VhcmRfZnJlZV9QYWNrZXRHdWFyZChidWZmKTsNCiAgICAgICAgcmV0dXJuOw0KICAgIH0NCiAgICBpZihHYW1lV29ybGRfSXNQdlBTa2lsVHJlZUNoYW5uZWwoR19HYW1lV29ybGQoKSkhPTApew0KICAgICAgICBDVXNlcl9TZW5kQ21kRXJyb3JQYWNrZXQodXNlciwzMiwyMyxidWZmKTsNCiAgICAgICAgUGFja2V0R3VhcmRfZnJlZV9QYWNrZXRHdWFyZChidWZmKTsNCiAgICAgICAgcmV0dXJuOw0KICAgIH0NCiAgICBpZihDVXNlcl9DaGVja0l0ZW1Mb2NrKHVzZXIsMSxzbG9mKSE9MCl7DQogICAgICAgIENVc2VyX1NlbmRDbWRFcnJvclBhY2tldCh1c2VyLDMyLDIxMyxidWZmKTsNCiAgICAgICAgUGFja2V0R3VhcmRfZnJlZV9QYWNrZXRHdWFyZChidWZmKTsNCiAgICAgICAgcmV0dXJuOw0KICAgIH0NCiAgICBpZihXb25nV29ya19DU2tpbGxDaGFuZ2VyX0NoZWNrQ29uZGl0aW9uKHVzZXIpIT0xKXsNCiAgICAgICAgdmFyIGxldmVsRXhwID0gQ0RhdGFNYW5hZ2VyX2dldF9sZXZlbF9leHAoR19DRGF0YU1hbmFnZXIoKSxDVXNlckNoYXJhY0luZm9fZ2V0X2NoYXJhY19sZXZlbCh1c2VyKSk7DQogICAgICAgIENVc2VyQ2hhcmFjSW5mb19zZXRDdXJDaGFyYWNFeHAodXNlcixsZXZlbEV4cCk7DQogICAgfQ0KICAgIGlmKGl0ZW1JZCE9MTIwNiAmJiBpdGVtSWQhPTEyNTMpew0KICAgICAgICBpZihpdGVtSWQ9PTkxNil7DQogICAgICAgICAgICBndWlsZEV4cEJvb2sgPSAxOw0KICAgICAgICAgICAgdjE4NCA9IDEwOw0KICAgICAgICB9ZWxzZSBpZihpdGVtSWQgPT0gOTYwKXsNCiAgICAgICAgICAgIGd1aWxkRXhwQm9vayA9ICAxOw0KICAgICAgICAgICAgdjE4NCA9IDI0Ow0KICAgICAgICAgICAgdmFyIGV4cGFuZERhdGEgPSBDVXNlcl9HZXRDaGFyYWNFeHBhbmREYXRhKHVzZXIsMTEpOw0KICAgICAgICAgICAgaWYoZXhwYW5kRGF0YSl7DQogICAgICAgICAgICAgICAgQ1F1ZXN0U2hvcF9jbGVhclFQKGV4cGFuZERhdGEsdXNlcik7DQogICAgICAgICAgICAgICAgQ1F1ZXN0U2hvcF9zZW5kQ2hhcmFjUXAoZXhwYW5kRGF0YSx1c2VyLDApOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgIGd1aWxkRXhwQm9vayAgPSBpdGVtSWQ9PTk2MyB8fCBpdGVtSWQ9PTI2NjAzOTY7DQogICAgICAgICAgICB2MTg0ID0gMTA7DQogICAgICAgIH0NCiAgICAgICAgZ290bzE5MSh1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpOw0KICAgICAgICByZXR1cm47DQogICAgfQ0KICAgIGlmKENVc2VyQ2hhcmFjSW5mb19nZXRfY2hhcmFjX2xldmVsKHVzZXIpIDw9NDkpew0KICAgICAgICBQYWNrZXRHdWFyZF9mcmVlX1BhY2tldEd1YXJkKGJ1ZmYpOw0KICAgICAgICByZXR1cm47DQogICAgfQ0KICAgIGlmKENVc2VyX2lzQWZmZWN0ZWRQcmVtaXVtKHVzZXIudG9JbnQzMigpLDMzKT09MCl7DQogICAgICAgIGd1aWxkRXhwQm9vayA9IDE7DQogICAgICAgIHYxODQgPSAxODsNCiAgICAgICAgZ290bzE5MSh1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpOw0KICAgICAgICByZXR1cm47DQogICAgfQ0KICAgIENVc2VyX1NlbmRDbWRFcnJvclBhY2tldCh1c2VyLDMyLDIxNixidWZmKTsNCiAgICBQYWNrZXRHdWFyZF9mcmVlX1BhY2tldEd1YXJkKGJ1ZmYpOw0KICAgIHJldHVybjsNCn0NCg0KZnVuY3Rpb24gZ290bzE3OCh1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpew0KICAgIHZhciBpdGVtSWRWYWwgPSBHX0NEYXRhTWFuYWdlcigpLmFkZCgyMDY4NCkucmVhZFUzMigpOw0KICAgIGNvbnNvbGUubG9nKCdpdGVtSWRWYWwgOiAnK2l0ZW1JZFZhbCk7DQogICAgaWYoaXRlbUlkID09IGl0ZW1JZFZhbCl7DQogICAgICAgIHZhciBpdGVtID0gQ0RhdGFNYW5hZ2VyX2ZpbmRfaXRlbShHX0NEYXRhTWFuYWdlcigpLGl0ZW1JZFZhbCk7DQogICAgICAgIGlmKGl0ZW1JZFZhbD09MCl7DQogICAgICAgICAgICBDVXNlcl9TZW5kQ21kRXJyb3JQYWNrZXQodXNlciwzMiwxNyxidWZmKTsNCiAgICAgICAgICAgIFBhY2tldEd1YXJkX2ZyZWVfUGFja2V0R3VhcmQoYnVmZik7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCiAgICAgICAgaWYoQ0l0ZW1faXNfc3RhY2thYmxlKGl0ZW0pIT0xKXsNCiAgICAgICAgICAgIENVc2VyX1NlbmRDbWRFcnJvclBhY2tldCh1c2VyLDMyLDE3LGJ1ZmYpOw0KICAgICAgICAgICAgUGFja2V0R3VhcmRfZnJlZV9QYWNrZXRHdWFyZChidWZmKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfQ0KICAgICAgICB2YXIgY2hhcmFjTGV2ZWwgPSBDVXNlckNoYXJhY0luZm9fZ2V0X2NoYXJhY19sZXZlbCh1c2VyKTsNCiAgICAgICAgdmFyIHVzYWJsZUxldmVsID1DSXRlbV9HZXRVc2FibGVMZXZlbChpdGVtKTsNCiAgICAgICAgaWYoY2hhcmFjTGV2ZWwgPCB1c2FibGVMZXZlbCl7DQogICAgICAgICAgICBDVXNlcl9TZW5kQ21kRXJyb3JQYWNrZXQodXNlciwzMiwxNyxidWZmKTsNCiAgICAgICAgICAgIFBhY2tldEd1YXJkX2ZyZWVfUGFja2V0R3VhcmQoYnVmZik7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCiAgICAgICAgaWYoY2hhcmFjTGV2ZWwgPiBtYXhMZXZlbCsxKXsNCiAgICAgICAgICAgIENVc2VyX1NlbmRDbWRFcnJvclBhY2tldCh1c2VyLDMyLDE3LGJ1ZmYpOw0KICAgICAgICAgICAgUGFja2V0R3VhcmRfZnJlZV9QYWNrZXRHdWFyZChidWZmKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfQ0KICAgICAgICB2MTg0ID0xOw0KICAgICAgICB2YXIgYWxsb2MgPSBNZW1vcnkuYWxsb2MoNCk7DQogICAgICAgIGlmKENJdGVtX0dldEluY3JlYXNlU3RhdHVzSW50RGF0YShpdGVtLDAsYWxsb2MpIT0xKXsNCiAgICAgICAgICAgIENVc2VyX1NlbmRDbWRFcnJvclBhY2tldCh1c2VyLDMyLDE3LGJ1ZmYpOw0KICAgICAgICAgICAgUGFja2V0R3VhcmRfZnJlZV9QYWNrZXRHdWFyZChidWZmKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfQ0KICAgICAgICBndWlsZEV4cEJvb2sgPSBhbGxvYy5yZWFkVTMyKCk7DQogICAgfWVsc2V7DQogICAgICAgIHZhciBpdGVtID0gQ0RhdGFNYW5hZ2VyX2ZpbmRfaXRlbShHX0NEYXRhTWFuYWdlcigpLGl0ZW1JZCk7DQogICAgICAgIGlmKGl0ZW0hPTApew0KICAgICAgICAgICAgaWYoQ0l0ZW1fR2V0SW5jcmVhc2VTdGF0dXNUeXBlKGl0ZW0pID09MSl7DQogICAgICAgICAgICAgICAgdmFyIGFsbG9jID0gTWVtb3J5LmFsbG9jKDQpOw0KICAgICAgICAgICAgICAgIENJdGVtX0dldEluY3JlYXNlU3RhdHVzSW50RGF0YShpdGVtLDAsYWxsb2MpOw0KICAgICAgICAgICAgICAgIGd1aWxkRXhwQm9vayA9IGFsbG9jLnJlYWRVMzIoKTsNCiAgICAgICAgICAgICAgICB2MTg0ID0gMTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0NCiAgICBnb3RvMTkxKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgcmV0dXJuOw0KfQ0KDQpmdW5jdGlvbiBnb3RvMTkxKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCl7DQogICAgaWYodjE4ND09LTEpew0KICAgICAgICBDVXNlcl9TZW5kQ21kRXJyb3JQYWNrZXQodXNlciwzMiwxNyxidWZmKTsNCiAgICAgICAgUGFja2V0R3VhcmRfZnJlZV9QYWNrZXRHdWFyZChidWZmKTsNCiAgICAgICAgcmV0dXJuOw0KICAgIH0NCiAgICBpZih2MTg0PT0xNSl7DQogICAgICAgIGlmKENVc2VyX2dldF9zdGF0ZSh1c2VyKT09Myl7DQogICAgICAgICAgICB2YXIgY3VyQ2hhcmFjRmF0aWd1ZSA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNGYXRpZ3VlKHVzZXIpOw0KICAgICAgICAgICAgaWYoY3VyQ2hhcmFjRmF0aWd1ZSA8IGd1aWxkRXhwQm9vayl7DQogICAgICAgICAgICAgICAgQ1VzZXJfU2VuZENtZEVycm9yUGFja2V0KHVzZXIsMzIsOTUsYnVmZik7DQogICAgICAgICAgICAgICAgUGFja2V0R3VhcmRfZnJlZV9QYWNrZXRHdWFyZChidWZmKTsNCiAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICB9DQogICAgICAgIH1lbHNlew0KICAgICAgICAgICAgQ1VzZXJfU2VuZENtZEVycm9yUGFja2V0KHVzZXIsMzIsMTksYnVmZik7DQogICAgICAgICAgICBQYWNrZXRHdWFyZF9mcmVlX1BhY2tldEd1YXJkKGJ1ZmYpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQogICAgfQ0KICAgIGlmKHYxODQhPTAgfHwgdjE4ND09MTcgfHwgdjE4ND09MSl7DQogICAgICAgIGlmKEdhbWVXb3JsZF9Jc1B2UFNraWxUcmVlQ2hhbm5lbChHX0dhbWVXb3JsZCgpKSE9MCl7DQogICAgICAgICAgICBDVXNlcl9TZW5kQ21kRXJyb3JQYWNrZXQodXNlciwzMiwxOSxidWZmKTsNCiAgICAgICAgICAgIFBhY2tldEd1YXJkX2ZyZWVfUGFja2V0R3VhcmQoYnVmZik7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCiAgICB9DQogICAgdmFyIGl0ZW0gPSBDRGF0YU1hbmFnZXJfZmluZF9pdGVtKEdfQ0RhdGFNYW5hZ2VyKCksaXRlbUlkKTsNCiAgICBpZihpdGVtPT0wKXsNCiAgICAgICAgUGFja2V0R3VhcmRfZnJlZV9QYWNrZXRHdWFyZChidWZmKTsNCiAgICAgICAgcmV0dXJuOw0KICAgIH0NCiAgICB2YXIgdXNhYmxlUHZwUmFuayA9IENJdGVtX0dldFVzYWJsZVB2UFJhbmsoaXRlbSk7DQogICAgaWYodXNhYmxlUHZwUmFuaz5DVXNlckNoYXJhY0luZm9fZ2V0X3B2cF9ncmFkZSh1c2VyKSl7DQogICAgICAgIENVc2VyX1NlbmRDbWRFcnJvclBhY2tldCh1c2VyLDMyLDEsYnVmZik7DQogICAgICAgIFBhY2tldEd1YXJkX2ZyZWVfUGFja2V0R3VhcmQoYnVmZik7DQogICAgICAgIHJldHVybjsNCiAgICB9DQogICAgdmFyIHRlbXBNZXRob2QgPSAgbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cihpdGVtLnJlYWRVMzIoKSkuYWRkKDEyKjQpLnJlYWRQb2ludGVyKCksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KICAgIGlmKHRlbXBNZXRob2QoaXRlbSkgIT0yMSl7DQogICAgICAgIHZhciBjdXJDaGFyYWNJbnZlblcgPSBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjSW52ZW5XKHVzZXIpOw0KICAgICAgICBpZiggQ0ludmVudG9yeV9kZWxldGVfaXRlbShjdXJDaGFyYWNJbnZlblcsMSxzbG9mLDEsMTAsMSkgIT0xICl7DQogICAgICAgICAgICBDVXNlcl9TZW5kQ21kRXJyb3JQYWNrZXQodXNlciwzMiwxNyxidWZmKTsNCiAgICAgICAgICAgIFBhY2tldEd1YXJkX2ZyZWVfUGFja2V0R3VhcmQoYnVmZik7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCiAgICB9DQogICAgdmFyIHYxNzIgPSBNZW1vcnkuYWxsb2MoMTUxKTsNCiAgICBjb25zb2xlLmxvZygiaXRlbSBhbGwgaGFuZGxlIHN1Y2Nlc3M6ICIrdjE4NCsiICwiK2d1aWxkRXhwQm9vayk7DQogICAgc3dpdGNoICh2MTg0KXsNCiAgICAgICAgY2FzZSAwOg0KICAgICAgICAgICAgQ1VzZXJfZ2Fpbl9zcCh1c2VyLGd1aWxkRXhwQm9vayk7DQogICAgICAgICAgICBDVXNlcl9oaXN0b3J5X2xvZ19zcCh1c2VyLC0xLGd1aWxkRXhwQm9vaywxKTsNCiAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9jbGVhcihidWZmKTsNCiAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfaGVhZGVyKGJ1ZmYsIDEsIDMyKTsNCiAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfYnl0ZShidWZmLCAxKTsNCiAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfc2hvcnQoYnVmZiwgc2xvZik7DQogICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2J5dGUoYnVmZiwgdjE4NCk7DQogICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2ludChidWZmLCBndWlsZEV4cEJvb2spOw0KICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9zaG9ydChidWZmLCAwKTsNCiAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfc2hvcnQoYnVmZiwgMCk7DQogICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfZmluYWxpemUoYnVmZiwgMSk7DQogICAgICAgICAgICBDVXNlcl9TZW5kKHVzZXIsIGJ1ZmYpOw0KICAgICAgICAgICAgUGFja2V0R3VhcmRfZnJlZV9QYWNrZXRHdWFyZChidWZmKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgY2FzZSAxOg0KICAgICAgICAgICAgaWYoQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfbGV2ZWwodXNlcik+bWF4TGV2ZWwtMSl7DQogICAgICAgICAgICAgICAgZ3VpbGRFeHBCb29rID0gMDsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHZhciB2MTgwID0gTWVtb3J5LmFsbG9jKDQpOw0KICAgICAgICAgICAgdjE4MC53cml0ZVUzMigwKTsNCiAgICAgICAgICAgIHZhciB2MTc5ID0gTWVtb3J5LmFsbG9jKDQpOw0KICAgICAgICAgICAgdjE3OS53cml0ZVUzMigwKTsNCiAgICAgICAgICAgIHZhciB2MTgxID0gTWVtb3J5LmFsbG9jKDQpOw0KICAgICAgICAgICAgdjE4MS53cml0ZVUzMigwKTsNCiAgICAgICAgICAgIHZhciBzcFZhbCA9IE1lbW9yeS5hbGxvYyg0KTsNCiAgICAgICAgICAgIHNwVmFsLndyaXRlVTMyKDApOw0KICAgICAgICAgICAgaWYoaXRlbUlkID09IEdfQ0RhdGFNYW5hZ2VyKCkuYWRkKDIwNjg0KS5yZWFkVTMyKCkpew0KICAgICAgICAgICAgICAgIENVc2VyX3Jld2FyZEV4cCh1c2VyLGd1aWxkRXhwQm9vayxzcFZhbC50b0ludDMyKCksdjE4MS50b0ludDMyKCksdjE4MCx2MTc5LDMsMSk7DQogICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICBDVXNlcl9yZXdhcmRFeHAodXNlcixndWlsZEV4cEJvb2ssc3BWYWwudG9JbnQzMigpLHYxODEudG9JbnQzMigpLHYxODAsdjE3OSwwLDEpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgY29uc29sZS5sb2coJzExMTExMTExMTExMTEnKQ0KICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX2NsZWFyKGJ1ZmYpOw0KICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9oZWFkZXIoYnVmZiwgMSwgMzIpOw0KICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9ieXRlKGJ1ZmYsIDEpOw0KICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9zaG9ydChidWZmLCBzbG9mKTsNCiAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfYnl0ZShidWZmLCB2MTg0KTsNCiAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfaW50KGJ1ZmYsIGd1aWxkRXhwQm9vayk7DQogICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X3Nob3J0KGJ1ZmYsIHYxNzkucmVhZFUzMigpLXYxODAucmVhZFUzMigpKTsNCiAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfc2hvcnQoYnVmZiwgdjE4MS5yZWFkVTMyKCkpOw0KICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX2ZpbmFsaXplKGJ1ZmYsIDEpOw0KICAgICAgICAgICAgQ1VzZXJfU2VuZCh1c2VyLCBidWZmKTsNCiAgICAgICAgICAgIFBhY2tldEd1YXJkX2ZyZWVfUGFja2V0R3VhcmQoYnVmZik7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIGNhc2UgMjoNCiAgICAgICAgICAgIHZhciB1c2VyQWRkSW5mbyA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNBZGRJbmZvUmVmVyh1c2VyKTsNCiAgICAgICAgICAgIHB0cih1c2VyQWRkSW5mbykud3JpdGVVMzIocHRyKHVzZXJBZGRJbmZvKS5yZWFkVTMyKCkrZ3VpbGRFeHBCb29rKTsNCiAgICAgICAgICAgIGdvdG8zMih1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZik7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIGNhc2UgMzoNCiAgICAgICAgICAgIHZhciB1c2VyQWRkSW5mbyA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNBZGRJbmZvUmVmVyh1c2VyKTsNCiAgICAgICAgICAgIHVzZXJBZGRJbmZvID0gdXNlckFkZEluZm8uYWRkKDQpOw0KICAgICAgICAgICAgcHRyKHVzZXJBZGRJbmZvKS53cml0ZVUzMihwdHIodXNlckFkZEluZm8pLnJlYWRVMzIoKStndWlsZEV4cEJvb2spOw0KICAgICAgICAgICAgZ290bzMyKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgY2FzZSA0Og0KICAgICAgICAgICAgdmFyIHVzZXJBZGRJbmZvID0gQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY0FkZEluZm9SZWZXKHVzZXIpOw0KICAgICAgICAgICAgdXNlckFkZEluZm8gPSB1c2VyQWRkSW5mby5hZGQoOCk7DQogICAgICAgICAgICBwdHIodXNlckFkZEluZm8pLndyaXRlVTE2KHB0cih1c2VyQWRkSW5mbykucmVhZFUxNigpK2d1aWxkRXhwQm9vayk7DQogICAgICAgICAgICBnb3RvMzIodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICBjYXNlIDU6DQogICAgICAgICAgICB2YXIgdXNlckFkZEluZm8gPSBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjQWRkSW5mb1JlZlcodXNlcik7DQogICAgICAgICAgICB1c2VyQWRkSW5mbyA9IHVzZXJBZGRJbmZvLmFkZCgxMCk7DQogICAgICAgICAgICBwdHIodXNlckFkZEluZm8pLndyaXRlVTE2KHB0cih1c2VyQWRkSW5mbykucmVhZFUxNigpK2d1aWxkRXhwQm9vayk7DQogICAgICAgICAgICBnb3RvMzIodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICBjYXNlIDY6DQogICAgICAgICAgICB2YXIgdXNlckFkZEluZm8gPSBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjQWRkSW5mb1JlZlcodXNlcik7DQogICAgICAgICAgICB1c2VyQWRkSW5mbyA9IHVzZXJBZGRJbmZvLmFkZCgxMik7DQogICAgICAgICAgICBwdHIodXNlckFkZEluZm8pLndyaXRlVTE2KHB0cih1c2VyQWRkSW5mbykucmVhZFUxNigpK2d1aWxkRXhwQm9vayk7DQogICAgICAgICAgICBnb3RvMzIodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICBjYXNlIDc6DQogICAgICAgICAgICB2YXIgdXNlckFkZEluZm8gPSBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjQWRkSW5mb1JlZlcodXNlcik7DQogICAgICAgICAgICB1c2VyQWRkSW5mbyA9IHVzZXJBZGRJbmZvLmFkZCgxNCk7DQogICAgICAgICAgICBwdHIodXNlckFkZEluZm8pLndyaXRlVTE2KHB0cih1c2VyQWRkSW5mbykucmVhZFUxNigpK2d1aWxkRXhwQm9vayk7DQogICAgICAgICAgICBnb3RvMzIodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICBjYXNlIDg6DQogICAgICAgICAgICB2YXIgdXNlckFkZEluZm8gPSBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjQWRkSW5mb1JlZlcodXNlcik7DQogICAgICAgICAgICB1c2VyQWRkSW5mbyA9IHVzZXJBZGRJbmZvLmFkZCg2Nik7DQogICAgICAgICAgICBwdHIodXNlckFkZEluZm8pLndyaXRlVTMyKHB0cih1c2VyQWRkSW5mbykucmVhZFUzMigpK2d1aWxkRXhwQm9vayk7DQogICAgICAgICAgICBnb3RvMzIodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICBjYXNlIDk6DQogICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDM7IGkrKykgew0KICAgICAgICAgICAgICAgIHZhciB1c2VyQWRkSW5mbyA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNBZGRJbmZvUmVmVyh1c2VyKTsNCiAgICAgICAgICAgICAgICB1c2VyQWRkSW5mbyA9IHVzZXJBZGRJbmZvLmFkZCgyKihpKjgpKTsNCiAgICAgICAgICAgICAgICBwdHIodXNlckFkZEluZm8pLndyaXRlVTE2KHB0cih1c2VyQWRkSW5mbykucmVhZFUxNigpK2d1aWxkRXhwQm9vayk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBnb3RvMzIodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICBjYXNlIDEwOg0KICAgICAgICBjYXNlIDI0Og0KICAgICAgICAgICAgaWYoZ3VpbGRFeHBCb29rID09MSl7DQogICAgICAgICAgICAgICAgdmFyIGN1ckNoYXJhY1NraWxsVyA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNTa2lsbFcodXNlcik7DQogICAgICAgICAgICAgICAgU2tpbGxTbG90X2NsZWFyX2FsbF9za2lsbHNfYm90aChjdXJDaGFyYWNTa2lsbFcpOw0KICAgICAgICAgICAgICAgIGN1ckNoYXJhY1NraWxsVyA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNTa2lsbFcodXNlcik7DQogICAgICAgICAgICAgICAgU2tpbGxTbG90X3NldF9wYXJlbnQoY3VyQ2hhcmFjU2tpbGxXLHVzZXIpOw0KICAgICAgICAgICAgICAgIHZhciBjaGFyY0pvYiA9IENVc2VyQ2hhcmFjSW5mb19nZXRfY2hhcmFjX2pvYih1c2VyKTsNCiAgICAgICAgICAgICAgICBjdXJDaGFyYWNTa2lsbFcgPSBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjU2tpbGxXKHVzZXIpOw0KICAgICAgICAgICAgICAgIGFkZFNraWxsT25DcmVhdGVDaGFyYWN0ZXIoY3VyQ2hhcmFjU2tpbGxXKzcwLGNoYXJjSm9iKTsNCiAgICAgICAgICAgICAgICBjaGFyY0pvYiA9IENVc2VyQ2hhcmFjSW5mb19nZXRfY2hhcmFjX2pvYih1c2VyKTsNCiAgICAgICAgICAgICAgICBjdXJDaGFyYWNTa2lsbFcgPSBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjU2tpbGxXKHVzZXIpOw0KICAgICAgICAgICAgICAgIGFkZFNraWxsT25DcmVhdGVDaGFyYWN0ZXIoY3VyQ2hhcmFjU2tpbGxXKzQ3OCxjaGFyY0pvYik7DQogICAgICAgICAgICAgICAgLy8g6L+Z5bqU6K+l5piv5oqA6IO95Y+q6IO9MTLkuKrljp/lm6ANCiAgICAgICAgICAgICAgICB2YXIgc2tpbGxMaXN0ID0gTWVtb3J5LmFsbG9jKDEyKTsNCiAgICAgICAgICAgICAgICBzdGRfdmVjdG9yX3N0ZF9wYWlyX2ludF9pbnRfdmVjdG9yKHNraWxsTGlzdCk7DQoNCiAgICAgICAgICAgICAgICB2YXIgY3VyQ2hhclNlY29uZEdyb3dUeXBlID0gQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJTZWNvbmRHcm93VHlwZSh1c2VyKTsNCiAgICAgICAgICAgICAgICB2YXIgY3VyQ2hhckZpcnN0R3Jvd1R5cGUgPSBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhckZpcnN0R3Jvd1R5cGUodXNlcik7DQogICAgICAgICAgICAgICAgdmFyIGRhdGFNYW5hZ2UgPSBHX0NEYXRhTWFuYWdlcigpLmFkZCgyMCkucmVhZFUzMigpOw0KICAgICAgICAgICAgICAgIHZhciBnaXZlU2tpbGwgPSBDQ2hhcmFjdGVyX2dldF9naXZlX3NraWxsKGRhdGFNYW5hZ2UrMjAxMipDVXNlckNoYXJhY0luZm9fZ2V0X2NoYXJhY19qb2IodXNlciksY3VyQ2hhckZpcnN0R3Jvd1R5cGUsY3VyQ2hhclNlY29uZEdyb3dUeXBlLHNraWxsTGlzdC50b0ludDMyKCksMCk7DQogICAgICAgICAgICAgICAgdmFyIHY4MDsNCiAgICAgICAgICAgICAgICBpZihnaXZlU2tpbGwgIT0xKXsNCiAgICAgICAgICAgICAgICAgICAgdmFyIGNoYXJjTmFtZSA9ICcnOw0KICAgICAgICAgICAgICAgICAgICB2YXIgY2hhcmNOYW1lVmFsID0gQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY05hbWUodXNlckluZm8pOw0KICAgICAgICAgICAgICAgICAgICBpZighY2hhcmNOYW1lVmFsLmlzTnVsbCgpKQ0KICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICBjaGFyY05hbWUgPSAgY2hhcmNOYW1lVmFsLnJlYWRVdGY4U3RyaW5nKC0xKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB2YXIgdjE4NEFkcnIgPSBNZW1vcnkuYWxsb2MoMSk7DQogICAgICAgICAgICAgICAgICAgIHYxODRBZHJyLndyaXRlVTgodjE4NCk7DQogICAgICAgICAgICAgICAgICAgIExvZ01hbmFnZXJfbG9nRm9ybWF0KE1lbW9yeS5hbGxvYygxKSxNZW1vcnkuYWxsb2NVdGY4U3RyaW5nKCJ1c2VyLmNwcCIpLnRvSW50MzIoKQ0KICAgICAgICAgICAgICAgICAgICAgICAgLE1lbW9yeS5hbGxvY1V0ZjhTdHJpbmcoJ3ZvaWQgQ1VzZXI6OmluY3JlYXNlX3N0YXR1cyhzaG9ydCBpbnQpJykscHRyKDB4NGFlZSkNCiAgICAgICAgICAgICAgICAgICAgICAgICxNZW1vcnkuYWxsb2NVdGY4U3RyaW5nKCdVc2VyICVzIC0gQ1VzZXI6OnNldF9ncm93X3R5cGUgJWQnKSxNZW1vcnkuYWxsb2NVdGY4U3RyaW5nKGNoYXJjTmFtZSksdjE4NEFkcnIpOw0KICAgICAgICAgICAgICAgICAgICB2ODAgPSAwOw0KICAgICAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDs7IGkrKykgew0KICAgICAgICAgICAgICAgICAgICAgICAgaWYoc3RkX3ZlY3Rvcl9zdGRfcGFpcl9pbnRfaW50X3NpemUoc2tpbGxMaXN0KSA8PWkpew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNraWxsID0gc3RkX3ZlY3Rvcl9zdGRfcGFpcl9pbnRfaW50X29wZXJhdG9yKHNraWxsTGlzdCxpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIFNraWxsU2xvdF9ncm93dHlwZV9za2lsbChDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjU2tpbGxXKHVzZXIpLENVc2VyQ2hhcmFjSW5mb19nZXRfY2hhcmFjX2pvYih1c2VyKSxza2lsbC5yZWFkVTgoKSxza2lsbC5hZGQoMSkucmVhZFU4KCksMCk7DQogICAgICAgICAgICAgICAgICAgICAgICBTa2lsbFNsb3RfZ3Jvd3R5cGVfc2tpbGwoQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY1NraWxsVyh1c2VyKSxDVXNlckNoYXJhY0luZm9fZ2V0X2NoYXJhY19qb2IodXNlciksc2tpbGwucmVhZFU4KCksc2tpbGwuYWRkKDEpLnJlYWRVOCgpLDEpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIHZhciBjdXJDaGFyYWNFeHBlcnRKb2JUeXBlID1DVXNlckNoYXJhY0luZm9fR2V0Q3VyQ2hhcmFjRXhwZXJ0Sm9iVHlwZSh1c2VyKTsNCiAgICAgICAgICAgICAgICAgICAgdmFyIGV4cGVydEpvYlNjcmlwdCA9IENEYXRhTWFuYWdlcl9HZXRFeHBlcnRKb2JTY3JpcHQoR19DRGF0YU1hbmFnZXIoKSxjdXJDaGFyYWNFeHBlcnRKb2JUeXBlKTsNCiAgICAgICAgICAgICAgICAgICAgaWYoZXhwZXJ0Sm9iU2NyaXB0IT0wKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyA7IGkrKykgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKHN0ZF92ZWN0b3Jfc3RkX3BhaXJfaW50X2ludF9zaXplKGV4cGVydEpvYlNjcmlwdC5hZGQoMTIpKSA8PWkpew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1ckNoYXJhY0V4cGVydEpvYkV4cCA9IENVc2VyQ2hhcmFjSW5mb19HZXRDdXJDaGFyYWNFeHBlcnRKb2JFeHAodXNlcik7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1ckV4cGVydEpvYkxldmVsID0gQ1VzZXJfR2V0Q3VyRXhwZXJ0Sm9iTGV2ZWwodXNlciwgY3VyQ2hhcmFjRXhwZXJ0Sm9iRXhwKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXhwZXJ0Sm9iID0gc3RkX3ZlY3Rvcl9zdGRfcGFpcl9pbnRfaW50X29wZXJhdG9yKGV4cGVydEpvYlNjcmlwdC5hZGQoMTIpLGkpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNraWxsU2xvdF9ncm93dHlwZV9za2lsbChDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjU2tpbGxXKHVzZXIpLENVc2VyQ2hhcmFjSW5mb19nZXRfY2hhcmFjX2pvYih1c2VyKSxleHBlcnRKb2IucmVhZFUxNigpLGN1ckV4cGVydEpvYkxldmVsLDApOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNraWxsU2xvdF9ncm93dHlwZV9za2lsbChDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjU2tpbGxXKHVzZXIpLENVc2VyQ2hhcmFjSW5mb19nZXRfY2hhcmFjX2pvYih1c2VyKSxleHBlcnRKb2IucmVhZFUxNigpLGN1ckV4cGVydEpvYkxldmVsLDEpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIFdvbmdXb3JrX0NTa2lsbENoYW5nZXJfQ1NraWxsQ2hhbmdlcih2MTcyKTsNCiAgICAgICAgICAgICAgICAgICAgV29uZ1dvcmtfQ1NraWxsQ2hhbmdlcl9Ta2lsbEluaXRpYWxpemUodjE3Mix1c2VyLDAsMCk7DQogICAgICAgICAgICAgICAgICAgIENVc2VyX3NlbmRfc2tpbGxfaW5mbyh1c2VyKTsNCiAgICAgICAgICAgICAgICAgICAgdmFyIHByZW1pdW1MZXRoZU1hbmFnZXIgPSBDR2FtZU1hbmFnZXJfR2V0UHJlbWl1bUxldGhlTWFuYWdlcihHX0NHYW1lTWFuYWdlcigpKTsNCiAgICAgICAgICAgICAgICAgICAgaWYoQ1VzZXJfaXNBZmZlY3RlZFByZW1pdW0odXNlci50b0ludDMyKCksMzMpIT0wKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHByZW1pdW1MZXRoZU1hbmFnZXIhPTAgJiYgQ1VzZXJfaXNBZmZlY3RlZFByZW1pdW0odXNlci50b0ludDMyKCksMzMpIT0wKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBDUHJlbWl1bUxldGhlTWFuYWdlcl9Jbml0TGV0aGVTa2lsbChwcmVtaXVtTGV0aGVNYW5hZ2VyLCB1c2VyLCAwKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBDUHJlbWl1bUxldGhlTWFuYWdlcl9Jbml0TGV0aGVTa2lsbChwcmVtaXVtTGV0aGVNYW5hZ2VyLCB1c2VyLCAxKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfWVsc2UgaWYocHJlbWl1bUxldGhlTWFuYWdlciE9MCl7DQogICAgICAgICAgICAgICAgICAgICAgICBDUHJlbWl1bUxldGhlTWFuYWdlcl9VcGRhdGVCYWNrdXBTa2lsbEZsYWcocHJlbWl1bUxldGhlTWFuYWdlcix1c2VyLDApOw0KICAgICAgICAgICAgICAgICAgICAgICAgQ1ByZW1pdW1MZXRoZU1hbmFnZXJfVXBkYXRlQmFja3VwU2tpbGxGbGFnKHByZW1pdW1MZXRoZU1hbmFnZXIsdXNlciwxKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBXb25nV29ya19DU2tpbGxDaGFuZ2VyX2RfQ1NraWxsQ2hhbmdlcih2MTcyKTsNCiAgICAgICAgICAgICAgICAgICAgdjgwID0gMTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgc3RkX3ZlY3Rvcl9zdGRfcGFpcl9pbnRfaW50X2RfdmVjdG9yKHNraWxsTGlzdCk7DQogICAgICAgICAgICAgICAgaWYodjgwPT0xKXsNCiAgICAgICAgICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX2NsZWFyKGJ1ZmYpOw0KICAgICAgICAgICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2hlYWRlcihidWZmLCAxLCAzMik7DQogICAgICAgICAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfYnl0ZShidWZmLCAxKTsNCiAgICAgICAgICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9zaG9ydChidWZmLCBzbG9mKTsNCiAgICAgICAgICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9ieXRlKGJ1ZmYsIHYxODQpOw0KICAgICAgICAgICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2ludChidWZmLCBndWlsZEV4cEJvb2spOw0KICAgICAgICAgICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X3Nob3J0KGJ1ZmYsIDApOw0KICAgICAgICAgICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X3Nob3J0KGJ1ZmYsIDApOw0KICAgICAgICAgICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfZmluYWxpemUoYnVmZiwgMSk7DQogICAgICAgICAgICAgICAgICAgIENVc2VyX1NlbmQodXNlciwgYnVmZik7DQogICAgICAgICAgICAgICAgICAgIGlmKHVzZXIuYWRkKDE0NDM2OSo0KS5yZWFkVTMyKCkgPT0gNSl7DQogICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGFydHkgPSBDVXNlcl9HZXRQYXJ0eSh1c2VyKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHBhcnR5IT0wKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfY2xlYXIoYnVmZik7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9oZWFkZXIoYnVmZiwgMCwgMik7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9ieXRlKGJ1ZmYsIDEpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfc2hvcnQoYnVmZiwgMSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgQ1VzZXJfbWFrZV9iYXNpY19pbmZvKHVzZXIsIGJ1ZmYsIDEpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9maW5hbGl6ZShidWZmLCAxKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBDUGFydHlfc2VuZF90b19wYXJ0eShwYXJ0eSwgYnVmZik7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH1lbHNlIGlmKHVzZXIuYWRkKDE0NDM2OSo0KS5yZWFkVTMyKCkgPT0gOCl7DQogICAgICAgICAgICAgICAgICAgICAgICB2YXIgd2FyUm9vbSA9IENVc2VyX0dldFdhclJvb20odXNlcik7DQogICAgICAgICAgICAgICAgICAgICAgICBpZih3YXJSb29tIT0wKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfY2xlYXIoYnVmZik7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9oZWFkZXIoYnVmZiwgMCwgMik7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9ieXRlKGJ1ZmYsIDEpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfc2hvcnQoYnVmZiwgMSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgQ1VzZXJfbWFrZV9iYXNpY19pbmZvKHVzZXIsIGJ1ZmYsIDEpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9maW5hbGl6ZShidWZmLCAxKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBXYXJSb29tX1NlbmRUb1Jvb20od2FyUm9vbSwgYnVmZik7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9ZWxzZSB7DQogICAgICAgICAgICAgICAgdmFyIGN1ckNoYXJhY1NraWxsVHJlZUluZGV4ID0gQ1VzZXJDaGFyYWNJbmZvX0dldEN1ckNoYXJhY1NraWxsVHJlZUluZGV4KHVzZXIpOw0KICAgICAgICAgICAgICAgIHZhciBjdXJDaGFyYWNTa2lsbFcgPSBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjU2tpbGxXKHVzZXIpOw0KICAgICAgICAgICAgICAgIFNraWxsU2xvdF9jbGVhcl9hbGxfc2tpbGxzKGN1ckNoYXJhY1NraWxsVyx1c2VyKTsNCiAgICAgICAgICAgICAgICBjdXJDaGFyYWNTa2lsbFcgPSBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjU2tpbGxXKHVzZXIpOw0KICAgICAgICAgICAgICAgIFNraWxsU2xvdF9zZXRfcGFyZW50KGN1ckNoYXJhY1NraWxsVyx1c2VyKTsNCiAgICAgICAgICAgICAgICBjdXJDaGFyYWNTa2lsbFRyZWVJbmRleCA9IENVc2VyQ2hhcmFjSW5mb19HZXRDdXJDaGFyYWNTa2lsbFRyZWVJbmRleCh1c2VyKTsNCiAgICAgICAgICAgICAgICBpZihjdXJDaGFyYWNTa2lsbFRyZWVJbmRleD09LTEgfHwgY3VyQ2hhcmFjU2tpbGxUcmVlSW5kZXghPTApew0KICAgICAgICAgICAgICAgICAgICBjdXJDaGFyYWNTa2lsbFcgPSBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjU2tpbGxXKHVzZXIpOw0KICAgICAgICAgICAgICAgICAgICBhZGRTa2lsbE9uQ3JlYXRlQ2hhcmFjdGVyKGN1ckNoYXJhY1NraWxsVy5hZGQoNzApLENVc2VyQ2hhcmFjSW5mb19nZXRfY2hhcmFjX2pvYih1c2VyKSk7DQogICAgICAgICAgICAgICAgfWVsc2Ugew0KICAgICAgICAgICAgICAgICAgICBjdXJDaGFyYWNTa2lsbFcgPSBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjU2tpbGxXKHVzZXIpOw0KICAgICAgICAgICAgICAgICAgICBhZGRTa2lsbE9uQ3JlYXRlQ2hhcmFjdGVyKGN1ckNoYXJhY1NraWxsVy5hZGQoNDc4KSxDVXNlckNoYXJhY0luZm9fZ2V0X2NoYXJhY19qb2IodXNlcikpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAvLyDov5nlupTor6XmmK/mioDog73lj6rog70xMuS4quWOn+WboA0KICAgICAgICAgICAgICAgIHZhciBza2lsbExpc3QgPSBNZW1vcnkuYWxsb2MoMTIpOw0KICAgICAgICAgICAgICAgIHN0ZF92ZWN0b3Jfc3RkX3BhaXJfaW50X2ludF92ZWN0b3Ioc2tpbGxMaXN0KTsNCg0KICAgICAgICAgICAgICAgIHZhciBjdXJDaGFyU2Vjb25kR3Jvd1R5cGUgPSBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhclNlY29uZEdyb3dUeXBlKHVzZXIpOw0KICAgICAgICAgICAgICAgIHZhciBjdXJDaGFyRmlyc3RHcm93VHlwZSA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyRmlyc3RHcm93VHlwZSh1c2VyKTsNCiAgICAgICAgICAgICAgICB2YXIgZGF0YU1hbmFnZSA9IEdfQ0RhdGFNYW5hZ2VyKCkuYWRkKDIwKS5yZWFkVTMyKCk7DQogICAgICAgICAgICAgICAgdmFyIGdpdmVTa2lsbCA9IENDaGFyYWN0ZXJfZ2V0X2dpdmVfc2tpbGwoZGF0YU1hbmFnZSsyMDEyKkNVc2VyQ2hhcmFjSW5mb19nZXRfY2hhcmFjX2pvYih1c2VyKSxjdXJDaGFyRmlyc3RHcm93VHlwZSxjdXJDaGFyU2Vjb25kR3Jvd1R5cGUsc2tpbGxMaXN0LnRvSW50MzIoKSwwKTsNCiAgICAgICAgICAgICAgICB2YXIgdjgwOw0KICAgICAgICAgICAgICAgIGlmKGdpdmVTa2lsbCAhPTEpew0KICAgICAgICAgICAgICAgICAgICB2YXIgY2hhcmNOYW1lID0gJyc7DQogICAgICAgICAgICAgICAgICAgIHZhciBjaGFyY05hbWVWYWwgPSBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjTmFtZSh1c2VySW5mbyk7DQogICAgICAgICAgICAgICAgICAgIGlmKCFjaGFyY05hbWVWYWwuaXNOdWxsKCkpDQogICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNoYXJjTmFtZSA9ICBjaGFyY05hbWVWYWwucmVhZFV0ZjhTdHJpbmcoLTEpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIHZhciB2MTg0QWRyciA9IE1lbW9yeS5hbGxvYygxKTsNCiAgICAgICAgICAgICAgICAgICAgdjE4NEFkcnIud3JpdGVVOCh2MTg0KTsNCiAgICAgICAgICAgICAgICAgICAgTG9nTWFuYWdlcl9sb2dGb3JtYXQoTWVtb3J5LmFsbG9jKDEpLE1lbW9yeS5hbGxvY1V0ZjhTdHJpbmcoInVzZXIuY3BwIikudG9JbnQzMigpDQogICAgICAgICAgICAgICAgICAgICAgICAsTWVtb3J5LmFsbG9jVXRmOFN0cmluZygndm9pZCBDVXNlcjo6aW5jcmVhc2Vfc3RhdHVzKHNob3J0IGludCknKSxwdHIoMHg0QjQ4KQ0KICAgICAgICAgICAgICAgICAgICAgICAgLE1lbW9yeS5hbGxvY1V0ZjhTdHJpbmcoJ1VzZXIgJXMgLSBDVXNlcjo6c2V0X2dyb3dfdHlwZSAlZCcpLE1lbW9yeS5hbGxvY1V0ZjhTdHJpbmcoY2hhcmNOYW1lKSx2MTg0QWRycik7DQogICAgICAgICAgICAgICAgICAgIHY4MCA9IDA7DQogICAgICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOzsgaSsrKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBpZihzdGRfdmVjdG9yX3N0ZF9wYWlyX2ludF9pbnRfc2l6ZShza2lsbExpc3QpIDw9aSl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2tpbGwgPSBzdGRfdmVjdG9yX3N0ZF9wYWlyX2ludF9pbnRfb3BlcmF0b3Ioc2tpbGxMaXN0LGkpOw0KICAgICAgICAgICAgICAgICAgICAgICAgU2tpbGxTbG90X2dyb3d0eXBlX3NraWxsKENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNTa2lsbFcodXNlciksQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfam9iKHVzZXIpLHNraWxsLnJlYWRVOCgpLHNraWxsLmFkZCgxKS5yZWFkVTgoKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICxDVXNlckNoYXJhY0luZm9fR2V0Q3VyQ2hhcmFjU2tpbGxUcmVlSW5kZXgodXNlcikpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIHZhciBjdXJDaGFyYWNFeHBlcnRKb2JUeXBlID1DVXNlckNoYXJhY0luZm9fR2V0Q3VyQ2hhcmFjRXhwZXJ0Sm9iVHlwZSh1c2VyKTsNCiAgICAgICAgICAgICAgICAgICAgdmFyIGV4cGVydEpvYlNjcmlwdCA9IENEYXRhTWFuYWdlcl9HZXRFeHBlcnRKb2JTY3JpcHQoR19DRGF0YU1hbmFnZXIoKSxjdXJDaGFyYWNFeHBlcnRKb2JUeXBlKTsNCiAgICAgICAgICAgICAgICAgICAgaWYoZXhwZXJ0Sm9iU2NyaXB0IT0wKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyA7IGkrKykgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKHN0ZF92ZWN0b3Jfc3RkX3BhaXJfaW50X2ludF9zaXplKGV4cGVydEpvYlNjcmlwdC5hZGQoMTIpKSA8PWkpew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1ckNoYXJhY0V4cGVydEpvYkV4cCA9IENVc2VyQ2hhcmFjSW5mb19HZXRDdXJDaGFyYWNFeHBlcnRKb2JFeHAodXNlcik7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1ckV4cGVydEpvYkxldmVsID0gQ1VzZXJfR2V0Q3VyRXhwZXJ0Sm9iTGV2ZWwodXNlciwgY3VyQ2hhcmFjRXhwZXJ0Sm9iRXhwKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXhwZXJ0Sm9iID0gc3RkX3ZlY3Rvcl9zdGRfcGFpcl9pbnRfaW50X29wZXJhdG9yKGV4cGVydEpvYlNjcmlwdC5hZGQoMTIpLGkpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNraWxsU2xvdF9ncm93dHlwZV9za2lsbChDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjU2tpbGxXKHVzZXIpLENVc2VyQ2hhcmFjSW5mb19nZXRfY2hhcmFjX2pvYih1c2VyKSxleHBlcnRKb2IucmVhZFUxNigpLGN1ckV4cGVydEpvYkxldmVsLDApOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNraWxsU2xvdF9ncm93dHlwZV9za2lsbChDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjU2tpbGxXKHVzZXIpLENVc2VyQ2hhcmFjSW5mb19nZXRfY2hhcmFjX2pvYih1c2VyKSxleHBlcnRKb2IucmVhZFUxNigpLGN1ckV4cGVydEpvYkxldmVsLDEpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIFdvbmdXb3JrX0NTa2lsbENoYW5nZXJfQ1NraWxsQ2hhbmdlcih2MTcyKTsNCiAgICAgICAgICAgICAgICAgICAgdmFyIHYyMTkgPSAwOw0KICAgICAgICAgICAgICAgICAgICBjdXJDaGFyYWNTa2lsbFRyZWVJbmRleCA9IENVc2VyQ2hhcmFjSW5mb19HZXRDdXJDaGFyYWNTa2lsbFRyZWVJbmRleCh1c2VyKTsNCiAgICAgICAgICAgICAgICAgICAgaWYoY3VyQ2hhcmFjU2tpbGxUcmVlSW5kZXg9PS0xIHx8IGN1ckNoYXJhY1NraWxsVHJlZUluZGV4IT0wKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIHYyMTkgPSAxOw0KICAgICAgICAgICAgICAgICAgICB9ZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICB2MjE5ID0gMjsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBXb25nV29ya19DU2tpbGxDaGFuZ2VyX1NraWxsSW5pdGlhbGl6ZSh2MTcyLHVzZXIsdjIxOSwwKTsNCiAgICAgICAgICAgICAgICAgICAgQ1VzZXJfc2VuZF9za2lsbF9pbmZvKHVzZXIpOw0KICAgICAgICAgICAgICAgICAgICB2YXIgcHJlbWl1bUxldGhlTWFuYWdlciA9IENHYW1lTWFuYWdlcl9HZXRQcmVtaXVtTGV0aGVNYW5hZ2VyKEdfQ0dhbWVNYW5hZ2VyKCkpOw0KICAgICAgICAgICAgICAgICAgICBpZihDVXNlcl9pc0FmZmVjdGVkUHJlbWl1bSh1c2VyLnRvSW50MzIoKSwzMykhPTApew0KICAgICAgICAgICAgICAgICAgICAgICAgaWYocHJlbWl1bUxldGhlTWFuYWdlciE9MCAmJiBDVXNlcl9pc0FmZmVjdGVkUHJlbWl1bSh1c2VyLnRvSW50MzIoKSwzMykhPTApew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1ckNoYXJhY1NraWxsVHJlZUluZGV4ID0gQ1VzZXJDaGFyYWNJbmZvX0dldEN1ckNoYXJhY1NraWxsVHJlZUluZGV4KHVzZXIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIENQcmVtaXVtTGV0aGVNYW5hZ2VyX0luaXRMZXRoZVNraWxsKHByZW1pdW1MZXRoZU1hbmFnZXIsIHVzZXIsIGN1ckNoYXJhY1NraWxsVHJlZUluZGV4KTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfWVsc2UgaWYocHJlbWl1bUxldGhlTWFuYWdlciE9MCl7DQogICAgICAgICAgICAgICAgICAgICAgICBjdXJDaGFyYWNTa2lsbFRyZWVJbmRleCA9IENVc2VyQ2hhcmFjSW5mb19HZXRDdXJDaGFyYWNTa2lsbFRyZWVJbmRleCh1c2VyKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIENQcmVtaXVtTGV0aGVNYW5hZ2VyX1VwZGF0ZUJhY2t1cFNraWxsRmxhZyhwcmVtaXVtTGV0aGVNYW5hZ2VyLHVzZXIsY3VyQ2hhcmFjU2tpbGxUcmVlSW5kZXgpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIFdvbmdXb3JrX0NTa2lsbENoYW5nZXJfZF9DU2tpbGxDaGFuZ2VyKHYxNzIpOw0KICAgICAgICAgICAgICAgICAgICB2ODAgPSAxOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBzdGRfdmVjdG9yX3N0ZF9wYWlyX2ludF9pbnRfZF92ZWN0b3Ioc2tpbGxMaXN0KTsNCiAgICAgICAgICAgICAgICBpZih2ODA9PTEpew0KICAgICAgICAgICAgICAgICAgICBnb3RvMzIodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YpOw0KICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgUGFja2V0R3VhcmRfZnJlZV9QYWNrZXRHdWFyZChidWZmKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgY2FzZSAxMToNCiAgICAgICAgICAgIGlmKENVc2VyQ2hhcmFjSW5mb19nZXRfY2hhcmFjX2d1aWxka2V5KHVzZXIpIT0wKXsNCiAgICAgICAgICAgICAgICBDVXNlckNoYXJhY0luZm9fYWRkX2d1aWxkX2V4cCh1c2VyLGd1aWxkRXhwQm9vayk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBnb3RvMzIodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICBjYXNlIDEyOg0KICAgICAgICAgICAgQ1VzZXJDaGFyYWNJbmZvX3NldEN1ckNoYXJhY1N0YW1pbmEodXNlcixndWlsZEV4cEJvb2spOw0KICAgICAgICAgICAgZ290bzMyKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgY2FzZSAxMzoNCiAgICAgICAgICAgIHZhciBpbnZlblIgPSBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjSW52ZW5SKHVzZXIpOw0KICAgICAgICAgICAgdmFyIGNvaW4gPSBDSW52ZW50b3J5X0dldEV2ZW50Q29pbihpbnZlblIpOw0KICAgICAgICAgICAgdmFyIGFsbENvaW4gPSBjb2luK2d1aWxkRXhwQm9vazsNCiAgICAgICAgICAgIHZhciBpbnZlblcgPSBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjSW52ZW5XKHVzZXIpOw0KICAgICAgICAgICAgQ0ludmVudG9yeV9TZXRFdmVudENvaW4oaW52ZW5XLGFsbENvaW4pOw0KICAgICAgICAgICAgaW52ZW5SID0gQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY0ludmVuUih1c2VyKTsNCiAgICAgICAgICAgIGNvaW4gPSBDSW52ZW50b3J5X0dldEV2ZW50Q29pbihpbnZlblIpOw0KICAgICAgICAgICAgY1VzZXJIaXN0b3J5TG9nX0V2ZW50Q29pbkFkZCh1c2VyLmFkZCg0OTc0MDgpLGNvaW4sZ3VpbGRFeHBCb29rLDIpOw0KICAgICAgICAgICAgQ1VzZXJfU2VuZFVwZGF0ZUl0ZW1MaXN0KHVzZXIsMSwwLDEpOw0KICAgICAgICAgICAgZ290bzMyKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgY2FzZSAxNDoNCiAgICAgICAgICAgIENVc2VyX1JlY292ZXJGYXRpZ3VlKHVzZXIsZ3VpbGRFeHBCb29rKTsNCiAgICAgICAgICAgIENVc2VyX1NlbmRGYXRpZ3VlKHVzZXIpOw0KICAgICAgICAgICAgZ290bzMyKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgY2FzZSAxNToNCiAgICAgICAgICAgIHZhciBjdXJDaGFyYWNGYXRpZ3VlID0gQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY0ZhdGlndWUodXNlcik7DQogICAgICAgICAgICB2YXIgdmFsID0gY3VyQ2hhcmFjRmF0aWd1ZSAtIGd1aWxkRXhwQm9vayA8MCA/MDpjdXJDaGFyYWNGYXRpZ3VlIC0gZ3VpbGRFeHBCb29rDQogICAgICAgICAgICBDVXNlckNoYXJhY0luZm9fc2V0Q3VyQ2hhcmFjRmF0aWd1ZSh1c2VyLHZhbCk7DQogICAgICAgICAgICBDVXNlcl9TZW5kRmF0aWd1ZSh1c2VyKTsNCiAgICAgICAgICAgIGdvdG8zMih1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZik7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIGNhc2UgMTY6DQogICAgICAgICAgICBpZihDVXNlckNoYXJhY0luZm9fZ2V0X2NoYXJhY19ndWlsZGtleSh1c2VyKSE9MCl7DQogICAgICAgICAgICAgICAgdmFyIGNoYXJjTm8gPSBDVXNlcl9nZXRfY2hhcmFjX25vKHVzZXIsLTEpOw0KICAgICAgICAgICAgICAgIHZhciBjaGFyY0d1aWxkS2V5ID0gQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfZ3VpbGRrZXkodXNlcik7DQogICAgICAgICAgICAgICAgdmFyIHNlcnZlckdyb3VwID0gQ1VzZXJfR2V0U2VydmVyR3JvdXAodXNlcik7DQogICAgICAgICAgICAgICAgdmFyIHNlcnZlclByb3h5ID0gQ1NlcnZlclByb3h5TWdyX0NHdWlsZFNlcnZlclByb3h5X0dldFNlcnZlclByb3h5KHB0cihwdHIoMHgwOTQwQkUyQykucmVhZFUzMigpKSxzZXJ2ZXJHcm91cCk7DQogICAgICAgICAgICAgICAgQ0d1aWxkU2VydmVyUHJveHlfU2VuZEluY3JlYXNlR3VpbGRFeHAoc2VydmVyUHJveHksY2hhcmNHdWlsZEtleSxjaGFyY05vLGd1aWxkRXhwQm9vaywxKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGdvdG8zMih1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZik7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIGNhc2UgMTc6DQogICAgICAgICAgICBDVXNlcl9nYWluX3NmcCh1c2VyLCBndWlsZEV4cEJvb2spOw0KICAgICAgICAgICAgQ1VzZXJfaGlzdG9yeV9sb2dfc2ZwKHVzZXIsIC0xLCBndWlsZEV4cEJvb2ssIDEpOw0KICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX2NsZWFyKGJ1ZmYpOw0KICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9oZWFkZXIoYnVmZiwgMSwgMzIpOw0KICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9ieXRlKGJ1ZmYsIDEpOw0KICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9zaG9ydChidWZmLCBzbG9mKTsNCiAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfYnl0ZShidWZmLCB2MTg0KTsNCiAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfaW50KGJ1ZmYsIGd1aWxkRXhwQm9vayk7DQogICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X3Nob3J0KGJ1ZmYsIDApOw0KICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9zaG9ydChidWZmLCAwKTsNCiAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9maW5hbGl6ZShidWZmLCAxKTsNCiAgICAgICAgICAgIENVc2VyX1NlbmQodXNlciwgYnVmZik7DQogICAgICAgICAgICBQYWNrZXRHdWFyZF9mcmVlX1BhY2tldEd1YXJkKGJ1ZmYpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICBjYXNlIDE4Og0KICAgICAgICAgICAgU2tpbGxTbG90X2NsZWFyX3NmcF9za2lsbHMoQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY1NraWxsVyh1c2VyKS50b0ludDMyKCksQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfam9iKHVzZXIpLHB0cihDVXNlckNoYXJhY0luZm9fR2V0Q3VyQ2hhcmFjU2tpbGxUcmVlSW5kZXgodXNlcikpKTsNCiAgICAgICAgICAgIFNraWxsU2xvdF9zZXRfcGFyZW50KENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNTa2lsbFcodXNlciksdXNlcik7DQogICAgICAgICAgICB2YXIgdjIwMiA9IDA7DQogICAgICAgICAgICBpZiAoIENVc2VyQ2hhcmFjSW5mb19HZXRDdXJDaGFyYWNTa2lsbFRyZWVJbmRleCh1c2VyKSA9PSAtMSB8fCBDVXNlckNoYXJhY0luZm9fR2V0Q3VyQ2hhcmFjU2tpbGxUcmVlSW5kZXgodXNlcikhPTAgKXsNCiAgICAgICAgICAgICAgICB2MjAyID0gMzsNCiAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgIHYyMDIgPSA0Ow0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgV29uZ1dvcmtfQ1NraWxsQ2hhbmdlcl9DU2tpbGxDaGFuZ2VyKHYxNzIpOw0KICAgICAgICAgICAgV29uZ1dvcmtfQ1NraWxsQ2hhbmdlcl9Ta2lsbEluaXRpYWxpemUodjE3MiwgdXNlciwgdjIwMiwgMCk7DQogICAgICAgICAgICBDVXNlcl9zZW5kX3NraWxsX2luZm8odXNlcik7DQogICAgICAgICAgICBXb25nV29ya19DU2tpbGxDaGFuZ2VyX2RfQ1NraWxsQ2hhbmdlcih2MTcyKTsNCiAgICAgICAgICAgIGdvdG8zMih1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZik7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIGNhc2UgMTk6DQogICAgICAgICAgICBDVXNlckNoYXJhY0luZm9fSW5jcmVhc2VQb3dlcldhclBvaW50KHVzZXIsZ3VpbGRFeHBCb29rKTsNCiAgICAgICAgICAgIGdvdG8zMih1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZik7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIGNhc2UgMjA6DQogICAgICAgICAgICBDVXNlcl9hZGp1c3RfY2hhcmFjX3N0YXQodXNlcik7DQogICAgICAgICAgICBpZih1c2VyLmFkZCgxNDQzNjkpLnJlYWRVMzIoKT09Myl7DQogICAgICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX2NsZWFyKGJ1ZmYpOw0KICAgICAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfaGVhZGVyKGJ1ZmYsIDAsIDIpOw0KICAgICAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfYnl0ZShidWZmLCAxKTsNCiAgICAgICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X3Nob3J0KGJ1ZmYsIDEpOw0KICAgICAgICAgICAgICAgIENVc2VyX21ha2VfYmFzaWNfaW5mbyh1c2VyLCBidWZmLCAxKTsNCiAgICAgICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfZmluYWxpemUoYnVmZiwgMSk7DQogICAgICAgICAgICAgICAgQ1VzZXJfU2VuZCh1c2VyLCBidWZmKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGdvdG8zMih1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZik7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIGNhc2UgMjE6DQogICAgICAgICAgICB2YXIgY29pbiA9IENJbnZlbnRvcnlfR2V0Q29pbihDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjSW52ZW5SKHVzZXIpKTsNCiAgICAgICAgICAgIENJbnZlbnRvcnlfU2V0Q29pbihDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjSW52ZW5XKHVzZXIpLGNvaW4rZ3VpbGRFeHBCb29rKTsNCiAgICAgICAgICAgIGNvaW4gPSBDSW52ZW50b3J5X0dldENvaW4oQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY0ludmVuUih1c2VyKSk7DQogICAgICAgICAgICBjVXNlckhpc3RvcnlMb2dfQ29pbkFkZCh1c2VyLmFkZCg0OTc0MDgpLGNvaW4sZ3VpbGRFeHBCb29rLDMpOw0KICAgICAgICAgICAgQ1VzZXJfU2VuZFVwZGF0ZUl0ZW1MaXN0KHVzZXIsMSwwLDEpOw0KICAgICAgICAgICAgZ290bzMyKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgY2FzZSAyMjoNCiAgICAgICAgICAgIGlmKGd1aWxkRXhwQm9vaz09MSl7DQogICAgICAgICAgICAgICAgdmFyIHNraWxsVyA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNTa2lsbFcodXNlcik7DQogICAgICAgICAgICAgICAgU2tpbGxTbG90X2NsZWFyX2FsbF9za2lsbHNfYm90aChza2lsbFcpOw0KICAgICAgICAgICAgICAgIHNraWxsVyA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNTa2lsbFcodXNlcik7DQogICAgICAgICAgICAgICAgU2tpbGxTbG90X3NldF9wYXJlbnQoc2tpbGxXLHVzZXIpOw0KICAgICAgICAgICAgICAgIENVc2VyX2dpdmVQdlBTa2lsbFRyZWUodXNlciwwLDEsMyk7DQogICAgICAgICAgICAgICAgdmFyIHB2cEdyYWRlID0gQ1VzZXJDaGFyYWNJbmZvX2dldF9wdnBfZ3JhZGUodXNlcik7DQogICAgICAgICAgICAgICAgdmFyIHB2UFNraWxsUG9pbnQgPSBQdlBTa2lsbFRyZWVQYXJhbWV0ZXJTY3JpcHRfZ2V0UHZQU2tpbGxQb2ludCgNCiAgICAgICAgICAgICAgICAgICAgR19DRGF0YU1hbmFnZXIoKS5hZGQoNDMwMDgpLENVc2VyQ2hhcmFjSW5mb19nZXRfY2hhcmFjX2pvYih1c2VyKQ0KICAgICAgICAgICAgICAgICAgICAsQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJGaXJzdEdyb3dUeXBlKHVzZXIpDQogICAgICAgICAgICAgICAgICAgICxDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhclNlY29uZEdyb3dUeXBlKHVzZXIpDQogICAgICAgICAgICAgICAgICAgICxwdnBHcmFkZSwwDQogICAgICAgICAgICAgICAgKTsNCiAgICAgICAgICAgICAgICBza2lsbFcgPSBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjU2tpbGxXKHVzZXIpOw0KICAgICAgICAgICAgICAgIFNraWxsU2xvdF9zZXRfcmVtYWluX3NwX2F0X2luZGV4KHNraWxsVy50b0ludDMyKCkscHZQU2tpbGxQb2ludCwwKTsNCiAgICAgICAgICAgICAgICBza2lsbFcgPSBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjU2tpbGxXKHVzZXIpOw0KICAgICAgICAgICAgICAgIFNraWxsU2xvdF9zZXRfcmVtYWluX3NwX2F0X2luZGV4KHNraWxsVy50b0ludDMyKCkscHZQU2tpbGxQb2ludCwxKTsNCiAgICAgICAgICAgICAgICBDVXNlcl9zZW5kX3NraWxsX2luZm8odXNlcik7DQogICAgICAgICAgICAgICAgdmFyIHByZW1pdW1MZXRoZU1hbmFnZXIgPSBDR2FtZU1hbmFnZXJfR2V0UHJlbWl1bUxldGhlTWFuYWdlcihHX0NHYW1lTWFuYWdlcigpKTsNCiAgICAgICAgICAgICAgICBpZihDVXNlcl9pc0FmZmVjdGVkUHJlbWl1bSh1c2VyLnRvSW50MzIoKSwzMykhPTApew0KICAgICAgICAgICAgICAgICAgICBpZihwcmVtaXVtTGV0aGVNYW5hZ2VyIT0wICYmIENVc2VyX2lzQWZmZWN0ZWRQcmVtaXVtKHVzZXIudG9JbnQzMigpLDMzKSE9MCl7DQogICAgICAgICAgICAgICAgICAgICAgICBDUHJlbWl1bUxldGhlTWFuYWdlcl9Jbml0TGV0aGVTa2lsbChwcmVtaXVtTGV0aGVNYW5hZ2VyLCB1c2VyLCAwKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIENQcmVtaXVtTGV0aGVNYW5hZ2VyX0luaXRMZXRoZVNraWxsKHByZW1pdW1MZXRoZU1hbmFnZXIsIHVzZXIsIDEpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfWVsc2UgaWYocHJlbWl1bUxldGhlTWFuYWdlciE9MCl7DQogICAgICAgICAgICAgICAgICAgIENQcmVtaXVtTGV0aGVNYW5hZ2VyX1VwZGF0ZUJhY2t1cFNraWxsRmxhZyhwcmVtaXVtTGV0aGVNYW5hZ2VyLHVzZXIsMCk7DQogICAgICAgICAgICAgICAgICAgIENQcmVtaXVtTGV0aGVNYW5hZ2VyX1VwZGF0ZUJhY2t1cFNraWxsRmxhZyhwcmVtaXVtTGV0aGVNYW5hZ2VyLHVzZXIsMSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgICAgdmFyIGN1ckNoYXJhY1NraWxsVHJlZUluZGV4ID0gQ1VzZXJDaGFyYWNJbmZvX0dldEN1ckNoYXJhY1NraWxsVHJlZUluZGV4KHVzZXIpOw0KICAgICAgICAgICAgICAgIHZhciBza2lsbFcgPSBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjU2tpbGxXKHVzZXIpOw0KICAgICAgICAgICAgICAgIFNraWxsU2xvdF9jbGVhcl9hbGxfc2tpbGxzKHNraWxsVyxjdXJDaGFyYWNTa2lsbFRyZWVJbmRleCk7DQogICAgICAgICAgICAgICAgc2tpbGxXID0gQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY1NraWxsVyh1c2VyKTsNCiAgICAgICAgICAgICAgICBTa2lsbFNsb3Rfc2V0X3BhcmVudChza2lsbFcsdXNlcik7DQogICAgICAgICAgICAgICAgdmFyIHYyMTkgPSAwOw0KICAgICAgICAgICAgICAgIGN1ckNoYXJhY1NraWxsVHJlZUluZGV4ID0gQ1VzZXJDaGFyYWNJbmZvX0dldEN1ckNoYXJhY1NraWxsVHJlZUluZGV4KHVzZXIpOw0KICAgICAgICAgICAgICAgIGlmKGN1ckNoYXJhY1NraWxsVHJlZUluZGV4PT0tMSB8fCBjdXJDaGFyYWNTa2lsbFRyZWVJbmRleCE9MCl7DQogICAgICAgICAgICAgICAgICAgIHYyMTkgPSAxOw0KICAgICAgICAgICAgICAgIH1lbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgdjIxOSA9IDI7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIENVc2VyX2dpdmVQdlBTa2lsbFRyZWUodXNlciwwLDEsdjIxOSk7DQogICAgICAgICAgICAgICAgdmFyIHB2cEdyYWRlID0gQ1VzZXJDaGFyYWNJbmZvX2dldF9wdnBfZ3JhZGUodXNlcik7DQogICAgICAgICAgICAgICAgdmFyIHB2UFNraWxsUG9pbnQgPSBQdlBTa2lsbFRyZWVQYXJhbWV0ZXJTY3JpcHRfZ2V0UHZQU2tpbGxQb2ludCgNCiAgICAgICAgICAgICAgICAgICAgR19DRGF0YU1hbmFnZXIoKS5hZGQoNDMwMDgpLENVc2VyQ2hhcmFjSW5mb19nZXRfY2hhcmFjX2pvYih1c2VyKQ0KICAgICAgICAgICAgICAgICAgICAsQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJGaXJzdEdyb3dUeXBlKHVzZXIpDQogICAgICAgICAgICAgICAgICAgICxDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhclNlY29uZEdyb3dUeXBlKHVzZXIpDQogICAgICAgICAgICAgICAgICAgICxwdnBHcmFkZSwwDQogICAgICAgICAgICAgICAgKTsNCiAgICAgICAgICAgICAgICBza2lsbFcgPSBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjU2tpbGxXKHVzZXIpOw0KICAgICAgICAgICAgICAgIFNraWxsU2xvdF9zZXRfcmVtYWluX3NwX2F0X2luZGV4KHNraWxsVy50b0ludDMyKCkscHZQU2tpbGxQb2ludCxDVXNlckNoYXJhY0luZm9fR2V0Q3VyQ2hhcmFjU2tpbGxUcmVlSW5kZXgodXNlcikpOw0KICAgICAgICAgICAgICAgIENVc2VyX3NlbmRfc2tpbGxfaW5mbyh1c2VyKTsNCiAgICAgICAgICAgICAgICB2YXIgcHJlbWl1bUxldGhlTWFuYWdlciA9IENHYW1lTWFuYWdlcl9HZXRQcmVtaXVtTGV0aGVNYW5hZ2VyKEdfQ0dhbWVNYW5hZ2VyKCkpOw0KICAgICAgICAgICAgICAgIGlmKENVc2VyX2lzQWZmZWN0ZWRQcmVtaXVtKHVzZXIudG9JbnQzMigpLDMzKSE9MCl7DQogICAgICAgICAgICAgICAgICAgIGlmKHByZW1pdW1MZXRoZU1hbmFnZXIhPTAgJiYgQ1VzZXJfaXNBZmZlY3RlZFByZW1pdW0odXNlci50b0ludDMyKCksMzMpIT0wKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIGN1ckNoYXJhY1NraWxsVHJlZUluZGV4ID0gQ1VzZXJDaGFyYWNJbmZvX0dldEN1ckNoYXJhY1NraWxsVHJlZUluZGV4KHVzZXIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgQ1ByZW1pdW1MZXRoZU1hbmFnZXJfSW5pdExldGhlU2tpbGwocHJlbWl1bUxldGhlTWFuYWdlciwgdXNlciwgY3VyQ2hhcmFjU2tpbGxUcmVlSW5kZXgpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfWVsc2UgaWYocHJlbWl1bUxldGhlTWFuYWdlciE9MCl7DQogICAgICAgICAgICAgICAgICAgIGN1ckNoYXJhY1NraWxsVHJlZUluZGV4ID0gQ1VzZXJDaGFyYWNJbmZvX0dldEN1ckNoYXJhY1NraWxsVHJlZUluZGV4KHVzZXIpOw0KICAgICAgICAgICAgICAgICAgICBDUHJlbWl1bUxldGhlTWFuYWdlcl9VcGRhdGVCYWNrdXBTa2lsbEZsYWcocHJlbWl1bUxldGhlTWFuYWdlcix1c2VyLGN1ckNoYXJhY1NraWxsVHJlZUluZGV4KTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICBnb3RvMzIodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICBjYXNlIDIzOg0KICAgICAgICAgICAgdmFyIHZsb2czID0gTWVtb3J5LmFsbG9jKDE2KTsNCiAgICAgICAgICAgIHZhciBjaGFyY05hbWUgPSAnJzsNCiAgICAgICAgICAgIHZhciBjaGFyY05hbWVWYWwgPSBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjTmFtZShzdE5vdGlmeUluZ2FtZUFESW5mbyk7DQogICAgICAgICAgICBpZighY2hhcmNOYW1lVmFsLmlzTnVsbCgpKQ0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgIGNoYXJjTmFtZSA9ICBjaGFyY05hbWVWYWwucmVhZFV0ZjhTdHJpbmcoLTEpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgY015VHJhY2VfY015VHJhY2UodmxvZzMsTWVtb3J5LmFsbG9jVXRmOFN0cmluZygidm9pZCBDVXNlcjo6aW5jcmVhc2Vfc3RhdHVzKHNob3J0IGludCkiKSwxOTQ2NiwwKTsNCiAgICAgICAgICAgIGNNeVRyYWNlX29wZXJhdG9yKHZsb2czLnRvSW50MzIoKSxNZW1vcnkuYWxsb2NVdGY4U3RyaW5nKCJPTkVfREFZX0xFVEhFIDogQlVZX1NLSUxMX0NPTkZJUk1fVElDS0VULCBjaGFyKCVzKSwgY2hhcl9ubyglZCksIHN0eWxlKCVkKSIpLE1lbW9yeS5hbGxvY1V0ZjhTdHJpbmcoY2hhcmNOYW1lKSk7DQogICAgICAgICAgICB2YXIgcHJlbWl1bUxldGhlTWFuYWdlciA9IENHYW1lTWFuYWdlcl9HZXRQcmVtaXVtTGV0aGVNYW5hZ2VyKEdfQ0dhbWVNYW5hZ2VyKCkpOw0KICAgICAgICAgICAgaWYocHJlbWl1bUxldGhlTWFuYWdlciE9MCl7DQogICAgICAgICAgICAgICAgQ1ByZW1pdW1MZXRoZU1hbmFnZXJfQ29uZmlybVNraWxsUmVxKHByZW1pdW1MZXRoZU1hbmFnZXIsdXNlcik7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBnb3RvMzIodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICBjYXNlIDI1Og0KICAgICAgICAgICAgdmFyIGl2ZW5XID0gQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY0ludmVuVyh1c2VyKTsNCiAgICAgICAgICAgIEF2YXRhckNvaW5fQWRkKGl2ZW5XLmFkZCgxNjI0KSxndWlsZEV4cEJvb2spOw0KICAgICAgICAgICAgQXZhdGFyQ29pbl9TYXZlVG9EQih1c2VyKTsNCiAgICAgICAgICAgIEF2YXRhckNvaW5fU2VuZFN5bmNQYWNrZXQodXNlcik7DQogICAgICAgICAgICBBdmF0YXJDb2luX0hpc3RvcnlMb2dfQWRkTG9nKHVzZXIscHRyKGd1aWxkRXhwQm9vaykpOw0KICAgICAgICAgICAgZ290bzMyKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgZGVmYXVsdDoNCiAgICAgICAgICAgIGdvdG8zMih1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZik7DQogICAgICAgICAgICByZXR1cm47DQogICAgfQ0KfQ0KDQpmdW5jdGlvbiBnb3RvMzIodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2Ypew0KICAgIEludGVyZmFjZVBhY2tldEJ1Zl9jbGVhcihidWZmKTsNCiAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2hlYWRlcihidWZmLCAxLCAzMik7DQogICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9ieXRlKGJ1ZmYsIDEpOw0KICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfc2hvcnQoYnVmZiwgc2xvZik7DQogICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9ieXRlKGJ1ZmYsIHYxODQpOw0KICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfaW50KGJ1ZmYsIGd1aWxkRXhwQm9vayk7DQogICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9zaG9ydChidWZmLCAwKTsNCiAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X3Nob3J0KGJ1ZmYsIDApOw0KICAgIEludGVyZmFjZVBhY2tldEJ1Zl9maW5hbGl6ZShidWZmLCAxKTsNCiAgICBDVXNlcl9TZW5kKHVzZXIsIGJ1ZmYpOw0KICAgIGlmKHVzZXIuYWRkKDE0NDM2OSo0KS5yZWFkVTMyKCkgPT0gNSl7DQogICAgICAgIHZhciBwYXJ0eSA9IENVc2VyX0dldFBhcnR5KHVzZXIpOw0KICAgICAgICBpZihwYXJ0eSE9MCl7DQogICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfY2xlYXIoYnVmZik7DQogICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2hlYWRlcihidWZmLCAwLCAyKTsNCiAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfYnl0ZShidWZmLCAxKTsNCiAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfc2hvcnQoYnVmZiwgMSk7DQogICAgICAgICAgICBDVXNlcl9tYWtlX2Jhc2ljX2luZm8odXNlciwgYnVmZiwgMSk7DQogICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfZmluYWxpemUoYnVmZiwgMSk7DQogICAgICAgICAgICBDUGFydHlfc2VuZF90b19wYXJ0eShwYXJ0eSwgYnVmZik7DQogICAgICAgIH0NCiAgICB9ZWxzZSBpZih1c2VyLmFkZCgxNDQzNjkqNCkucmVhZFUzMigpID09IDgpew0KICAgICAgICB2YXIgd2FyUm9vbSA9IENVc2VyX0dldFdhclJvb20odXNlcik7DQogICAgICAgIGlmKHdhclJvb20hPTApew0KICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX2NsZWFyKGJ1ZmYpOw0KICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9oZWFkZXIoYnVmZiwgMCwgMik7DQogICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2J5dGUoYnVmZiwgMSk7DQogICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X3Nob3J0KGJ1ZmYsIDEpOw0KICAgICAgICAgICAgQ1VzZXJfbWFrZV9iYXNpY19pbmZvKHVzZXIsIGJ1ZmYsIDEpOw0KICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX2ZpbmFsaXplKGJ1ZmYsIDEpOw0KICAgICAgICAgICAgV2FyUm9vbV9TZW5kVG9Sb29tKHdhclJvb20sIGJ1ZmYpOw0KICAgICAgICB9DQogICAgfQ0KICAgIFBhY2tldEd1YXJkX2ZyZWVfUGFja2V0R3VhcmQoYnVmZik7DQp9DQoNCi8v6K6+572u5pyA5aSn562J57qnDQpmdW5jdGlvbiBzZXRNYXhVcEdyYWRlKG1heExldmVsKXsNCiAgICBjb25zb2xlLmxvZygiPT09PT09PT09PT09PT09PT09PT09PT4g6K6+572u5pyA5aSn562J57qnIiArIG1heExldmVsKQ0KICAgIGlmKG1heExldmVsKSB7DQogICAgICAgIGNhbGN1cmF0ZVVzZXJNYXhMZXZlbChtYXhMZXZlbCk7DQogICAgICAgIHNldFVzZXJNYXhMZXZlbChtYXhMZXZlbCk7DQogICAgICAgIGlzVGhlcmVEYWlseVRyYWluaW5nUXVlc3RMaXN0KG1heExldmVsKTsNCiAgICAgICAgY2FsTGV2ZWxVcEl0ZW1DaGVjayhtYXhMZXZlbCk7DQogICAgICAgIGdldExldmVsU2VjdGlvbkV4cCgpOw0KICAgICAgICBnZXRTcEF0TGV2ZWxVcChtYXhMZXZlbCk7DQogICAgICAgIHNldExldmVsRXhwKG1heExldmVsKTsNCiAgICAgICAgc2V0UmV3YXJkU3AobWF4TGV2ZWwpOw0KICAgICAgICBjaGVja0xldmVsVXAobWF4TGV2ZWwpOw0KICAgICAgICBnYWluRXhwU3AobWF4TGV2ZWwpOw0KICAgICAgICBvbkxldmVsVXAobWF4TGV2ZWwpOw0KICAgICAgICBpbmNyZWFzZVN0YXR1cyhtYXhMZXZlbCk7DQogICAgICAgIGdldFJldHVyblVzZXJMZXZlbEtleShtYXhMZXZlbCkNCiAgICB9DQp9IA0KIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS1GVU5DVElPTl9FTkQg6K6+572u5pyA5aSn562J57qnLOivtOaYjjrorr7nva7mnIDlpKfnrYnnuqctLS0tLS0tLS0tLS0tLS0tLS0tLS0tIA0KIA0KLy8tLS0tLS0tLS0tLS0tLS0tLS0tLUZVTkNUSU9OX0JFR0lOIOWFgeiuuOi1m+WIqeS6muaIv+mXtOeahOS6uuS6kuebuOWPr+ingSwg6K+05piOOuWFgeiuuOi1m+WIqeS6muaIv+mXtOeahOS6uuS6kuebuOWPr+ingS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiANCiANCi8v5YWB6K646LWb5Yip5Lqa5oi/6Ze055qE5Lq65LqS55u45Y+v6KeBDQpmdW5jdGlvbiBzaGFyZV9zZXJpYV9yb29tKCkgew0KICAgIGNvbnNvbGUubG9nKCI9PT09PT09PT09PT09PT09PT09PT09PuWFgeiuuOi1m+WIqeS6muaIv+mXtOeahOS6uuS6kuebuOWPr+ingSIpDQogICAgLy9Ib29rIEFyZWE6Omluc2VydF91c2VyDQogICAgSW50ZXJjZXB0b3IuYXR0YWNoKHB0cigweDg2QzI1QTYpLCB7DQoNCiAgICAgICAgb25FbnRlcjogZnVuY3Rpb24gKGFyZ3MpIHsNCiAgICAgICAgICAgIC8v5L+u5pS55qCH5b+X5L2NLCDorqnmnI3liqHlmajlub/mkq3otZvliKnkuprml4Xppobmtojmga8NCiAgICAgICAgICAgIGFyZ3NbMF0uYWRkKDB4NjgpLndyaXRlSW50KDApOw0KICAgICAgICB9LA0KICAgICAgICBvbkxlYXZlOiBmdW5jdGlvbiAocmV0dmFsKSB7DQogICAgICAgIH0NCiAgICB9KTsNCn0gDQogLy8tLS0tLS0tLS0tLS0tLS0tLS0tLUZVTkNUSU9OX0VORCDlhYHorrjotZvliKnkuprmiL/pl7TnmoTkurrkupLnm7jlj6/op4Es6K+05piOOuWFgeiuuOi1m+WIqeS6muaIv+mXtOeahOS6uuS6kuebuOWPr+ingS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gDQogDQovLy0tLS0tLS0tLS0tLS0tLS0tLS0tRlVOQ1RJT05fQkVHSU4gKzEz5Lul5LiK5by65YyW5Yi45peg6ZyA5bCP6YCALCDor7TmmI46KzEz5Lul5LiK5by65YyW5Yi45peg6ZyA5bCP6YCALS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KIA0KIC8vKzEz5Lul5LiK5by65YyW5Yi45peg6ZyA5bCP6YCADQoNCmZ1bmN0aW9uIGVuaGFuY2VtZW50X2xldmVsXzEzX25vX2V4aXQoKSB7DQogICAgSW50ZXJjZXB0b3IuYXR0YWNoKHB0cigweDA4MEZDODUwKSwgew0KICAgICAgICBvbkVudGVyOiBmdW5jdGlvbiAoYXJncykgew0KICAgICAgICAgICAgdGhpcy5lcXVpUG9zID0gYXJnc1syXS5hZGQoMjcpLnJlYWRVMTYoKTsNCiAgICAgICAgICAgIHRoaXMudXNlciA9IGFyZ3NbMV07DQogICAgICAgIH0sDQogICAgICAgIG9uTGVhdmU6IGZ1bmN0aW9uIChyZXR2YWwpIHsNCiAgICAgICAgICAgIENVc2VyX1NlbmRVcGRhdGVJdGVtTGlzdCh0aGlzLnVzZXIsIDEsIDAsIHRoaXMuZXF1aVBvcyk7DQogICAgICAgIH0NCiAgICB9KTsNCn0gDQogLy8tLS0tLS0tLS0tLS0tLS0tLS0tLUZVTkNUSU9OX0VORCArMTPku6XkuIrlvLrljJbliLjml6DpnIDlsI/pgIAs6K+05piOOisxM+S7peS4iuW8uuWMluWIuOaXoOmcgOWwj+mAgC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gDQogDQovLy0tLS0tLS0tLS0tLS0tLS0tLS0tRlVOQ1RJT05fQkVHSU4ganNvbuexu+Wei+a2iOaBr+WkhOeQhiwg6K+05piOOmpzb27mtojmga/lpITnkIblh73mlbAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogDQogDQovLyBqc29u57G75Z6L55qE5raI5oGv5aSE55CGDQpmdW5jdGlvbiBleGVjSnNvbk1lc3NhZ2UocGFyYW1Kc29uKSB7DQogICAgY29uc29sZS5sb2coIuaOpeaUtuWIsGpzb27mtojmga86IitKU09OLnN0cmluZ2lmeShwYXJhbUpzb24pKTsNCiAgICAvL+WIt+aWsOmFjee9rg0KICAgIGlmKHBhcmFtSnNvbi50eXBlID09PSAnZmx1c2hfY29uZicpew0KICAgICAgICBjb25zb2xlLmxvZygiPT09PT09PT09PT09PT09PiBmbHVzaF9jb25mIik7DQogICAgICAgIGxvYWRfY29uZmlnKGdsb2JhbF9jaGFubmVsKTsNCiAgICAgICAgaW5pdEZvckNvbmZpZygpOw0KICAgIH0NCiAgICAvL+WPkemAgemCruS7tg0KICAgIGlmKHBhcmFtSnNvbi50eXBlID09PSAnc2VuZF9tYWlsJyl7DQogICAgICAgIHZhciBzZW5kTWFpbER0byA9IHBhcmFtSnNvbi5kYXRhOw0KICAgICAgICB2YXIgaXRlbUxpc3QgPSBzZW5kTWFpbER0by5pdGVtTGlzdDsNCiAgICAgICAgdmFyIG5ld0l0ZW1MaXN0ID0gW107DQogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaXRlbUxpc3QubGVuZ3RoOyArK2kpIHsNCiAgICAgICAgICAgIHZhciB0ZW0gPSBbXTsNCiAgICAgICAgICAgIHRlbS5wdXNoKGl0ZW1MaXN0W2ldLml0ZW1JZCk7DQogICAgICAgICAgICB0ZW0ucHVzaChpdGVtTGlzdFtpXS5jb3VudCk7DQogICAgICAgICAgICBuZXdJdGVtTGlzdC5wdXNoKHRlbSk7DQogICAgICAgIH0NCiAgICAgICAgYXBpX1dvbmdXb3JrX0NNYWlsQm94SGVscGVyX1JlcURCU2VuZE5ld1N5c3RlbU11bHRpTWFpbChzZW5kTWFpbER0by5jaGFyYWNObyxzZW5kTWFpbER0by50aXRsZSxzZW5kTWFpbER0by5jb250ZW50LHNlbmRNYWlsRHRvLmdvbGQsbmV3SXRlbUxpc3QpOw0KICAgIH0NCiAgICAvL+WPkemAgeWFrOWRig0KICAgIGlmKHBhcmFtSnNvbi50eXBlID09PSAnc2VuZF9ub3RpY2UnKXsNCiAgICAgICAgdmFyIG1lc3NhZ2UgPSBwYXJhbUpzb24uZGF0YTsNCiAgICAgICAgcHVzaFNlbmROb3RpUGFja2V0TWVzc2FnZShtZXNzYWdlLDE2KTsNCiAgICB9DQp9IA0KIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS1GVU5DVElPTl9FTkQganNvbuexu+Wei+a2iOaBr+WkhOeQhizor7TmmI46anNvbua2iOaBr+WkhOeQhuWHveaVsC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gDQogDQovLy0tLS0tLS0tLS0tLS0tLS0tLS0tRlVOQ1RJT05fQkVHSU4g5Y+R6YCB6YKu5Lu2LCDor7TmmI465Y+R6YCB6YKu5Lu2LS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KIA0KIA0KDQoNCi8v5Y+R57O757uf6YKu5Lu2KOWkmumBk+WFtyko6KeS6ImyY2hhcmFjX25vLCDpgq7ku7bmoIfpopgsIOmCruS7tuato+aWhywg6YeR5biB5pWw6YePLCDpgZPlhbfliJfooagpDQpmdW5jdGlvbiBhcGlfV29uZ1dvcmtfQ01haWxCb3hIZWxwZXJfUmVxREJTZW5kTmV3U3lzdGVtTXVsdGlNYWlsKHRhcmdldF9jaGFyYWNfbm8sIHRpdGxlLCB0ZXh0LCBnb2xkLCBpdGVtX2xpc3QpIHsNCiAgICBjb25zb2xlLmxvZygiPT09PT09PT09PT09PT09PT09PT09PT4g5Y+R57O757uf6YKu5Lu2KOWkmumBk+WFtykiKQ0KICAgIC8v5re75Yqg6YGT5YW36ZmE5Lu2DQogICAgdmFyIHZlY3RvciA9IE1lbW9yeS5hbGxvYygxMDApOw0KICAgIHN0ZF92ZWN0b3Jfc3RkX3BhaXJfaW50X2ludF92ZWN0b3IodmVjdG9yKTsNCiAgICBzdGRfdmVjdG9yX3N0ZF9wYWlyX2ludF9pbnRfY2xlYXIodmVjdG9yKTsNCg0KICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaXRlbV9saXN0Lmxlbmd0aDsgKytpKSB7DQogICAgICAgIHZhciBpdGVtX2lkID0gTWVtb3J5LmFsbG9jKDQpOyAgICAgICAgICAvL+mBk+WFt2lkDQogICAgICAgIHZhciBpdGVtX2NudCA9IE1lbW9yeS5hbGxvYyg0KTsgICAgICAgICAvL+mBk+WFt+aVsOmHjw0KDQogICAgICAgIGl0ZW1faWQud3JpdGVJbnQoaXRlbV9saXN0W2ldWzBdKTsNCiAgICAgICAgaXRlbV9jbnQud3JpdGVJbnQoaXRlbV9saXN0W2ldWzFdKTsNCg0KICAgICAgICB2YXIgcGFpciA9IE1lbW9yeS5hbGxvYygxMDApOw0KICAgICAgICBzdGRfbWFrZV9wYWlyX2ludF9pbnQocGFpciwgaXRlbV9pZCwgaXRlbV9jbnQpOw0KDQogICAgICAgIHN0ZF92ZWN0b3Jfc3RkX3BhaXJfaW50X2ludF9wdXNoX2JhY2sodmVjdG9yLCBwYWlyKTsNCiAgICB9DQoNCiAgICAvL+mCruS7tuaUr+aMgTEw5Liq6YGT5YW36ZmE5Lu25qC85a2QDQogICAgdmFyIGFkZGl0aW9uX3Nsb3RzID0gTWVtb3J5LmFsbG9jKDEwMDApOw0KICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMTA7ICsraSkgew0KICAgICAgICBJbnZlbl9JdGVtX0ludmVuX0l0ZW0oYWRkaXRpb25fc2xvdHMuYWRkKGkgKiA2MSkpOw0KICAgIH0NCiAgICBXb25nV29ya19DTWFpbEJveEhlbHBlcl9NYWtlU3lzdGVtTXVsdGlNYWlsUG9zdGFsKHZlY3RvciwgYWRkaXRpb25fc2xvdHMsIDEwKTsNCg0KDQogICAgdmFyIHRpdGxlX3B0ciA9IE1lbW9yeS5hbGxvY1V0ZjhTdHJpbmcodGl0bGUpOyAgICAgIC8v6YKu5Lu25qCH6aKYDQogICAgdmFyIHRleHRfcHRyID0gTWVtb3J5LmFsbG9jVXRmOFN0cmluZyh0ZXh0KTsgICAgICAgIC8v6YKu5Lu25q2j5paHDQogICAgdmFyIHRleHRfbGVuID0gc3RybGVuKHRleHRfcHRyKTsgICAgICAgICAgICAgICAgICAgIC8v6YKu5Lu25q2j5paH6ZW/5bqmDQoNCiAgICAvL+WPkemCruS7tue7meinkuiJsg0KICAgIFdvbmdXb3JrX0NNYWlsQm94SGVscGVyX1JlcURCU2VuZE5ld1N5c3RlbU11bHRpTWFpbCh0aXRsZV9wdHIsIGFkZGl0aW9uX3Nsb3RzLCBpdGVtX2xpc3QubGVuZ3RoLCBnb2xkLCB0YXJnZXRfY2hhcmFjX25vLCB0ZXh0X3B0ciwgdGV4dF9sZW4sIDAsIDk5LCAxKTsNCn0gDQogLy8tLS0tLS0tLS0tLS0tLS0tLS0tLUZVTkNUSU9OX0VORCDlj5HpgIHpgq7ku7Ys6K+05piOOuWPkemAgemCruS7ti0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gDQogDQovLy0tLS0tLS0tLS0tLS0tLS0tLS0tRlVOQ1RJT05fQkVHSU4g6Z2eanNvbuexu+Wei+a2iOaBr+WkhOeQhiwg6K+05piOOumdnmpzb27mtojmga/lpITnkIblh73mlbAJLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KIA0KIA0KLy8g6Z2eanNvbuagvOW8j+eahOa2iOaBr+WkhOeQhumAu+i+kQ0KZnVuY3Rpb24gZXhlY05vSnNvbk1lc3NhZ2UobWVzc2FnZVN0cikgew0KICBjb25zb2xlLmxvZygi5o6l5pS25Yiw6Z2eanNvbua2iOaBrzoiKyBtZXNzYWdlU3RyKTsNCn0gDQogLy8tLS0tLS0tLS0tLS0tLS0tLS0tLUZVTkNUSU9OX0VORCDpnZ5qc29u57G75Z6L5raI5oGv5aSE55CGLOivtOaYjjrpnZ5qc29u5raI5oGv5aSE55CG5Ye95pWwCS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gDQogDQovLy0tLS0tLS0tLS0tLS0tLS0tLS0tRlVOQ1RJT05fQkVHSU4g5a6i5oi356uv5Li05pe25o+Q5Y2H5oqA6IO9562J57qnLCDor7TmmI465a6i5oi356uv5Li05pe25o+Q5Y2H5oqA6IO9562J57qnLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KIA0KIC8v5a6i5oi356uv5Li05pe25o+Q5Y2H5oqA6IO9562J57qnDQoNCkludGVyY2VwdG9yLmF0dGFjaChwdHIoMHg4NjZDNDZBKSwgew0KICAgIG9uRW50ZXI6IGZ1bmN0aW9uIChhcmdzKSB7DQogICAgICAgIC8v6KeS6Imy5oqA6IO95L+h5oGvDQogICAgICAgIHRoaXMuc2tpbGxfcHRyID0gQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY1NraWxsUihhcmdzWzBdKTsNCiAgICAgICAgLy/kv53lrZjljp/lp4vmioDog73kv6Hmga8NCiAgICAgICAgdGhpcy5vbGRfc2tpbGxfaW5mbyA9IHRoaXMuc2tpbGxfcHRyLnJlYWRCeXRlQXJyYXkoMjAzICogMzIpOw0KICAgICAgICBpZiAoZ2xvYmFsX2NvbmZpZ1snZ2FtZV9jb25maWcnXVsnc2tpbGxVcGdyYWRpbmcnXSA+IDApIHsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCI9PT09PT09PT09PT09PT09PT09PT09PuWuouaIt+err+S4tOaXtuaPkOWNh+aKgOiDveetiee6pyIgKyAnPT0+JyArIGdhbWVfY29uZmlnWydza2lsbFVwZ3JhZGluZyddKQ0KICAgICAgICAgICAgLy/kuLTml7bkv67mlLnmioDog73nrYnnuqcNCiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDw9IDIwMzsgKytpKSB7DQogICAgICAgICAgICAgICAgaWYgKHRoaXMuc2tpbGxfcHRyLmFkZCgyICogKGkgKyAzMikgKyA2KS5yZWFkVTgoKSkgew0KICAgICAgICAgICAgICAgICAgICB2YXIgb2xkX3NraWxsX2xldmVsID0gdGhpcy5za2lsbF9wdHIuYWRkKDIgKiAoaSArIDMyKSArIDcpLnJlYWRVOCgpOw0KICAgICAgICAgICAgICAgICAgICAvL+aJgOacieaKgOiDveetiee6pys1DQogICAgICAgICAgICAgICAgICAgIHRoaXMuc2tpbGxfcHRyLmFkZCgyICogKGkgKyAzMikgKyA3KS53cml0ZVU4KG9sZF9za2lsbF9sZXZlbCArIDUpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0sDQogICAgb25MZWF2ZTogZnVuY3Rpb24gKHJldHZhbCkgew0KICAgICAgICAvL+i/mOWOn+aKgOiDveetiee6pw0KICAgICAgICB0aGlzLnNraWxsX3B0ci53cml0ZUJ5dGVBcnJheSh0aGlzLm9sZF9za2lsbF9pbmZvKTsNCiAgICB9DQp9KTsNCiANCiAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tRlVOQ1RJT05fRU5EIOWuouaIt+err+S4tOaXtuaPkOWNh+aKgOiDveetiee6pyzor7TmmI465a6i5oi356uv5Li05pe25o+Q5Y2H5oqA6IO9562J57qnLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSANCiANCi8vLS0tLS0tLS0tLS0tLS0tLS0tLS1GVU5DVElPTl9CRUdJTiDlvLrliLblvIDlkK/mt7HmuIrmqKHlvI8sIOivtOaYjjrlvLrliLblvIDlkK/mt7HmuIrmqKHlvI8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogDQogIC8v5byA5ZCv5rex5riK5qih5byPDQpJbnRlcmNlcHRvci5hdHRhY2gocHRyKDB4MDg1YTA5NTQpLCB7DQogICAgb25FbnRlcjogZnVuY3Rpb24gKGFyZ3MpIHsNCiAgICAgICAgaWYgKGdsb2JhbF9jb25maWdbJ2dhbWVfY29uZmlnJ11bJ3N0YXJ0SGVsbFBhcnR5J10gPT09ICd0cnVlJykgew0KICAgICAgICAgICAgYXJnc1szXSA9IHB0cigxKTsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCI9PT09PT09PT09PT09PT09PT09PT09PiDlvLrliLblvIDlkK/mt7HmuIrmqKHlvI8iKQ0KICAgICAgICB9DQogICAgfQ0KfSk7DQogDQogLy8tLS0tLS0tLS0tLS0tLS0tLS0tLUZVTkNUSU9OX0VORCDlvLrliLblvIDlkK/mt7HmuIrmqKHlvI8s6K+05piOOuW8uuWItuW8gOWQr+a3sea4iuaooeW8jy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gDQogDQovLy0tLS0tLS0tLS0tLS0tLS0tLS0tRlVOQ1RJT05fQkVHSU4g5rex5riK5by65Yi26Z2e5bi45Zuw6Zq+LCDor7TmmI465rex5riK5by65Yi26Z2e5bi45Zuw6Zq+LS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KIA0KIA0KDQpJbnRlcmNlcHRvci5hdHRhY2gocHRyKDB4MDgyRkZBMkUpLCB7DQogICAgb25MZWF2ZTogZnVuY3Rpb24gKHJldHZhbCkgew0KICAgICAgICBpZiAoZ2xvYmFsX2NvbmZpZ1snZ2FtZV9jb25maWcnXVsnc3RhcnRIZWxsUGFydHlWZXJ5bWlzZXJhYmxlJ10gPT09ICd0cnVlJykgew0KICAgICAgICAgICAgcmV0dmFsLnJlcGxhY2UoMSk7DQogICAgICAgICAgICBjb25zb2xlLmxvZygiPT09PT09PT09PT09PT09PT09PT09PT4g5rex5riK5by65Yi26Z2e5bi45Zuw6Zq+IikNCiAgICAgICAgfQ0KICAgIH0NCn0pDQoNCiANCiAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tRlVOQ1RJT05fRU5EIOa3sea4iuW8uuWItumdnuW4uOWbsOmavizor7TmmI465rex5riK5by65Yi26Z2e5bi45Zuw6Zq+LS0tLS0tLS0tLS0tLS0tLS0tLS0tLSANCiANCi8vLS0tLS0tLS0tLS0tLS0tLS0tLS1GVU5DVElPTl9CRUdJTiDmjZXojrfnjqnlrrbmuLjmiI/kuovku7YsIOivtOaYjjrmjZXojrfnjqnlrrbmuLjmiI/kuovku7YtLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogDQogLy/mjZXojrfnjqnlrrbmuLjmiI/kuovku7YNCmZ1bmN0aW9uIGhvb2tfaGlzdG9yeV9sb2coKSB7DQogICAgLy9jSGlzdG9yeVRyYWNlOjpvcGVyYXRvcigpDQogICAgSW50ZXJjZXB0b3IuYXR0YWNoKHB0cigweDg1NEY5OTApLCB7DQoNCiAgICAgICAgb25FbnRlcjogZnVuY3Rpb24gKGFyZ3MpIHsNCg0KICAgICAgICAgICAgLy/op6PmnpDml6Xlv5flhoXlrrk6ICIxODAwMDAwOCIsMTgwMDAwMDgsRCwxNDU2MzYsIm5pY2tuYW1lIiwxLDcyLDgsMCwxOTIuMTY4LjIwMC4xLDE5Mi4xNjguMjAwLjEsNTA5NjMsMTEsIER1bmdlb25MZWF2ZSwi6b6N5Lq65LmL5aGUIiwwLDAsImFhYmIiLCJhYWJiIiwiTi9BIiwiTi9BIiwiTi9BIg0KICAgICAgICAgICAgdmFyIGhpc3RvcnlfbG9nID0gYXJnc1sxXS5yZWFkVXRmOFN0cmluZygtMSk7DQogICAgICAgICAgICB2YXIgZ3JvdXAgPSBoaXN0b3J5X2xvZy5zcGxpdCgnLCcpOw0KDQogICAgICAgICAgICAvL+inkuiJsuS/oeaBrw0KICAgICAgICAgICAgdmFyIGFjY291bnRfaWQgPSBwYXJzZUludChncm91cFsxXSk7DQogICAgICAgICAgICB2YXIgdGltZV9oaF9tbV9zcyA9IGdyb3VwWzNdOw0KICAgICAgICAgICAgdmFyIGNoYXJhY19uYW1lID0gZ3JvdXBbNF07DQogICAgICAgICAgICB2YXIgY2hhcmFjX25vID0gZ3JvdXBbNV07DQogICAgICAgICAgICB2YXIgY2hhcmFjX2xldmVsID0gZ3JvdXBbNl07DQogICAgICAgICAgICB2YXIgY2hhcmFjX2pvYiA9IGdyb3VwWzddOw0KICAgICAgICAgICAgdmFyIGNoYXJhY19ncm93dHlwZSA9IGdyb3VwWzhdOw0KICAgICAgICAgICAgdmFyIHVzZXJfd2ViX2FkZHJlc3MgPSBncm91cFs5XTsNCiAgICAgICAgICAgIHZhciB1c2VyX3BlZXJfaXAyID0gZ3JvdXBbMTBdOw0KICAgICAgICAgICAgdmFyIHVzZXJfcG9ydCA9IGdyb3VwWzExXTsNCiAgICAgICAgICAgIHZhciBjaGFubmVsX2luZGV4ID0gZ3JvdXBbMTJdOyAgICAgICAgICAgICAgLy/lvZPliY3popHpgZNpZA0KDQogICAgICAgICAgICAvL+eOqeWutua4uOaIj+S6i+S7tg0KICAgICAgICAgICAgdmFyIGdhbWVfZXZlbnQgPSBncm91cFsxM10uc2xpY2UoMSk7ICAgICAgICAvL+WIoOmZpOWkmuS9meepuuagvA0KDQogICAgICAgICAgICAvL+inpuWPkea4uOaIj+S6i+S7tueahOinkuiJsg0KICAgICAgICAgICAgdmFyIHVzZXIgPSBHYW1lV29ybGRfZmluZF91c2VyX2Zyb21fd29ybGRfYnlhY2NpZChHX0dhbWVXb3JsZCgpLCBhY2NvdW50X2lkKTsNCg0KICAgICAgICAgICAgaWYgKHVzZXIuaXNOdWxsKCkpDQogICAgICAgICAgICAgICAgcmV0dXJuOw0KDQogICAgICAgICAgICAvL+mBk+WFt+WHj+WwkTogIEl0ZW0tLDEsMTAwMDAxMTMsNjMsMSwzLDYzLDAsMCwwLDAsMCwwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwLDAsMCwwMDAwMDAwMDAwMDAwMDAwMDAwMA0KICAgICAgICAgICAgaWYgKGdhbWVfZXZlbnQgPT0gJ0l0ZW0tJykgew0KICAgICAgICAgICAgICAgIHZhciBpdGVtX2lkID0gcGFyc2VJbnQoZ3JvdXBbMTVdKTsgICAgICAgICAgICAgICAgLy/mnKzmrKHmk43kvZzpgZPlhbdpZA0KICAgICAgICAgICAgICAgIHZhciBpdGVtX2NudCA9IHBhcnNlSW50KGdyb3VwWzE3XSk7ICAgICAgICAgICAgICAgLy/mnKzmrKHmk43kvZzpgZPlhbfmlbDph48NCiAgICAgICAgICAgICAgICB2YXIgcmVhc29uID0gcGFyc2VJbnQoZ3JvdXBbMThdKTsgICAgICAgICAgICAgICAgIC8v5pys5qyh5pON5L2c5Y6f5ZugDQoNCg0KICAgICAgICAgICAgICAgIC8vbG9nKCfnjqnlrrZbJyArIGNoYXJhY19uYW1lICsgJ13pgZPlhbflh4/lsJEsIOWOn+WboDonICsgcmVhc29uICsgJyjpgZPlhbdpZD0nICsgaXRlbV9pZCArICcsIOS9v+eUqOaVsOmHjz0nICsgaXRlbV9jbnQpOw0KDQogICAgICAgICAgICAgICAgaWYgKDUgPT0gcmVhc29uKSB7DQogICAgICAgICAgICAgICAgICAgIC8v5Lii5byD6YGT5YW3DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGVsc2UgaWYgKDMgPT0gcmVhc29uKSB7DQogICAgICAgICAgICAgICAgICAgIC8v5L2/55So6YGT5YW3DQogICAgICAgICAgICAgICAgICAgIC8v6L+Z6YeM5bm25pyq5pS55Y+Y6YGT5YW35Y6f5aeL5pWI5p6cIOWOn+Wni+aViOaenOaIkOWKn+aJp+ihjOWQjuinpuWPkeS4i+mdoueahOS7o+eggQ0KICAgICAgICAgICAgICAgICAgICB1c2VfaXRlbV9oYW5kbGVyKHVzZXIsaXRlbV9pZCkNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgZWxzZSBpZiAoOSA9PSByZWFzb24pIHsNCiAgICAgICAgICAgICAgICAgICAgLy/liIbop6PpgZPlhbcNCiAgICAgICAgICAgICAgICAgICAgLy9kaXNpbnRlZ3JhdGVfaXRlbV9oYW5kbGVyKGl0ZW1faWQpDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGVsc2UgaWYgKDEwID09IHJlYXNvbikgew0KICAgICAgICAgICAgICAgICAgICAvL+S9v+eUqOWxnuaAp+efs+WktA0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGVsc2UgaWYgKGdhbWVfZXZlbnQgPT0gJ0tpbGxNb2InKSB7DQogICAgICAgICAgICAgICAgLy/mnYDmrbvmgKrniakNCiAgICAgICAgICAgICAgICAvL+mtlOazleWwgeWNsOijheWkh+ivjeadoeWNh+e6pw0KICAgICAgICAgICAgICAgIC8vYm9vc3RfcmFuZG9tX29wdGlvbl9lcXUodXNlcik7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBlbHNlIGlmIChnYW1lX2V2ZW50ID09ICdNb25leSsnKSB7DQogICAgICAgICAgICAgICAgdmFyIGN1cl9tb25leSA9IHBhcnNlSW50KGdyb3VwWzE0XSk7ICAgICAgICAgICAgICAgIC8v5b2T5YmN5oyB5pyJ55qE6YeR5biB5pWw6YePDQogICAgICAgICAgICAgICAgdmFyIGFkZF9tb25leSA9IHBhcnNlSW50KGdyb3VwWzE1XSk7ICAgICAgICAgICAgICAgIC8v5pys5qyh6I635b6X6YeR5biB5pWw6YePDQogICAgICAgICAgICAgICAgdmFyIHJlYXNvbiA9IHBhcnNlSW50KGdyb3VwWzE2XSk7ICAgICAgICAgICAgICAgICAgIC8v5pys5qyh6I635b6X6YeR5biB5Y6f5ZugDQoNCiAgICAgICAgICAgICAgICAvL2xvZygn546p5a62WycgKyBjaGFyYWNfbmFtZSArICdd6I635Y+W6YeR5biBLCDljp/lm6A6JyArIHJlYXNvbiArICco5b2T5YmN5oyB5pyJ6YeR5biBPScgKyBjdXJfbW9uZXkgKyAnLCDmnKzmrKHojrflvpfph5HluIHmlbDph489JyArIGFkZF9tb25leSk7DQoNCiAgICAgICAgICAgICAgICBpZiAoNCA9PSByZWFzb24pIHsNCiAgICAgICAgICAgICAgICAgICAgLy/lia/mnKzmi77lj5YNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgZWxzZSBpZiAoNSA9PSByZWFzb24pIHsNCiAgICAgICAgICAgICAgICAgICAgLy/lia/mnKzpgJrlhbPnv7vniYzojrflj5bph5HluIENCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICBlbHNlIGlmIChnYW1lX2V2ZW50ID09ICdEdW5nZW9uTGVhdmUnKSB7DQogICAgICAgICAgICAgICAgLy/nprvlvIDlia/mnKwNCiAgICAgICAgICAgICAgICAvL+WIt+WujOWJr+acrOWQjiwg6YeN572u5byC55WMK+aegemZkOelreWdm+asoeaVsA0KICAgICAgICAgICAgICAgIC8vQ1VzZXJfRGltZW5zaW9uSW5vdXRVcGRhdGUodXNlciwgMSwgMSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBlbHNlIGlmIChnYW1lX2V2ZW50ID09ICdJdGVtKycpIHsNCiAgICAgICAgICAgICAgICB2YXIgaXRlbV9pZCA9IHBhcnNlSW50KGdyb3VwWzE1XSk7DQogICAgICAgICAgICAgICAgdmFyIGdyb3VwXzE4ID0gcGFyc2VJbnQoZ3JvdXBbMThdKTsNCiAgICAgICAgICAgICAgICBpZiAoZ3JvdXBfMTggPT0gNCkgew0KICAgICAgICAgICAgICAgICAgICAvL+WJr+acrOaNoeS4nOilv+WWiuWWh+WPree7meeCueWIuA0KICAgICAgICAgICAgICAgICAgICBwcm9jZXNzaW5nX2RhdGEoaXRlbV9pZCwgdXNlcik7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KDQogICAgICAgIH0sDQogICAgICAgIG9uTGVhdmU6IGZ1bmN0aW9uIChyZXR2YWwpIHsNCg0KICAgICAgICB9DQogICAgfSk7DQp9DQogDQogLy8tLS0tLS0tLS0tLS0tLS0tLS0tLUZVTkNUSU9OX0VORCDmjZXojrfnjqnlrrbmuLjmiI/kuovku7Ys6K+05piOOuaNleiOt+eOqeWutua4uOaIj+S6i+S7ti0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gDQogDQovLy0tLS0tLS0tLS0tLS0tLS0tLS0tRlVOQ1RJT05fQkVHSU4g546p5a625L2/55So6YGT5YW35Zue6LCDLCDor7TmmI46546p5a625L2/55So6YGT5YW35Zue6LCDLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KIA0KIGZ1bmN0aW9uIHVzZV9pdGVtX2hhbmRsZXIodXNlciwgaXRlbV9pZCl7DQogICAgLy8g5Lu75Yqh5riF6Zmk5Yi477yMICDku7vliqHlrozmiJDliLgg5oiQ5bCx5Lu75Yqh5a6M5oiQ5Yi4IOS4u+e6v+etiQ0KDQogICAgLy8gaWYoJzgwNzAnID09IGl0ZW1faWQpDQogICAgLy8gew0KICAgIC8vICAgICAvL+aJgOacieeahOS7u+WKoeWujOaIkOWIuA0KICAgIC8vICAgICBjbGVhcl9hbGxfcXVlc3RfYnlfY2hhcmFjdGVyX2xldmVsKHVzZXIpOw0KICAgIC8vIH0NCiAgICAvLyBpZignNjkwMDAwMTE5JyA9PT0gaXRlbV9pZCkNCiAgICAvLyB7DQogICAgLy8gICAgIC8v5Lul5o6l5Lu75Yqh5a6M5oiQ5Yi4DQogICAgLy8gICAgIGVxdUluaGVyaXQodXNlcik7DQogICAgLy8gfQ0KICAgIC8vIGlmKCc4MDcxJyA9PSBpdGVtX2lkKXsNCiAgICAvLyAgICAgLy8g6KOF5aSH57un5om/ICDlroznvo7nu6fmib/lvLrljJbvvIzlop7luYUg77yM5a6d54+gIO+8jOmUu+mAoO+8iOi/mOWPr+S7peWunueOsCArbueahOmUu+mAoOWIuO+8iQ0KICAgIC8vICAgICBlcXVJbmhlcml0KHVzZXIpOw0KICAgIC8vIH0NCg0KICAgIC8vIGlmKCc4MDczJyA9PSBpdGVtX2lkKXsNCiAgICAvLyAgICAgLy8g6KOF5aSH6Leo55WMDQogICAgLy8gICAgIGNyb3Nzb3Zlcih1c2VyKTsNCiAgICAvLyB9DQogICAgLy8gaWYoJzIwMjIwOTEyJyA9PSBpdGVtX2lkKXsNCiAgICAvLyAgICAgLy8g5YiG6KejDQogICAgLy8gICAgIGRlY29tcG9zZSh1c2VyKQ0KICAgIC8vIH0NCiAgICAvLyBpZignMTIzMCcgPT0gaXRlbV9pZCl7DQogICAgLy8gICAgIC8vIOmtlOazleWwgeWNsOmHjee9rg0KICAgIC8vICAgICBxYyh1c2VyKQ0KICAgIC8vIH0NCiAgICAvLyBpZignMjc0OTEwMScgPT0gaXRlbV9pZCl7DQogICAgLy8gICAgIC8vIOensOWPt+WQiOaIkA0KICAgIC8vICAgICBjaGhjKHVzZXIpDQogICAgLy8gfQ0KICAgIC8vIGlmKCc2MTAwMDAwMScgPT0gaXRlbV9pZCl7DQogICAgLy8gICAgIC8vIOavj+aXpeS7u+WKoeWujOaIkA0KICAgIC8vICAgICBhcGlfZm9yY2VfY2xlYXJfcXVlc3RfbGlzdCh1c2VyLCBxdWVzdF9saXN0KQ0KICAgIC8vIH0NCiAgICAvLyBpZignODA2OCcgPT0gaXRlbV9pZCl7DQogICAgLy8gICAgIC8vIOWInemYtuW8gueVjOWFpeWcuumHjee9rg0KICAgIC8vICAgICByZXNldFJlc2V0RGltZW5zaW9uSW5vdXQodXNlciwwKQ0KICAgIC8vICAgICByZXNldFJlc2V0RGltZW5zaW9uSW5vdXQodXNlciwxKQ0KICAgIC8vICAgICByZXNldFJlc2V0RGltZW5zaW9uSW5vdXQodXNlciwyKQ0KICAgIC8vIH0NCiAgICAvLyBpZignODA2OScgPT0gaXRlbV9pZCl7DQogICAgLy8gICAgIC8vIOmrmOmYtuW8gueVjOWFpeWcuumHjee9rg0KICAgIC8vICAgICByZXNldFJlc2V0RGltZW5zaW9uSW5vdXQodXNlciwzKQ0KICAgIC8vICAgICByZXNldFJlc2V0RGltZW5zaW9uSW5vdXQodXNlciw0KQ0KICAgIC8vICAgICByZXNldFJlc2V0RGltZW5zaW9uSW5vdXQodXNlciw1KQ0KICAgIC8vIH0NCn0gDQogLy8tLS0tLS0tLS0tLS0tLS0tLS0tLUZVTkNUSU9OX0VORCDnjqnlrrbkvb/nlKjpgZPlhbflm57osIMs6K+05piOOueOqeWutuS9v+eUqOmBk+WFt+Wbnuiwgy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gDQogDQovLy0tLS0tLS0tLS0tLS0tLS0tLS0tRlVOQ1RJT05fQkVHSU4g5Ymv5pys5o2h5Lic6KW/5ZaK5ZaH5Y+t57uZ54K55Yi4LCDor7TmmI465Ymv5pys5o2h5Lic6KW/5ZaK5ZaH5Y+t57uZ54K55Yi4LS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KIA0KIC8v5Ymv5pys5o2h5Lic6KW/5ZaK5ZaH5Y+t57uZ54K55Yi4DQogDQovL+WJr+acrOaNoeS4nOilv+WWiuWWh+WPree7meeCueWIuA0KZnVuY3Rpb24gcHJvY2Vzc2luZ19kYXRhKGl0ZW1faWQsIHVzZXIpIHsNCiAgICBpZiAoZ2xvYmFsX2NvbmZpZ1snZ2FtZV9jb25maWcnXVsnZHVuZ2VvbnNfYWRkX2l0ZW1fbm90aWNlJ10gPT09ICd0cnVlJykgew0KICAgICAgICB2YXIgaXRlbURhdGEgPSBDRGF0YU1hbmFnZXJfZmluZF9pdGVtKEdfQ0RhdGFNYW5hZ2VyKCksIGl0ZW1faWQpOw0KICAgICAgICB2YXIgZXF1UmFyaXR5ID0gQ0l0ZW1fR2V0UmFyaXR5KGl0ZW1EYXRhKTsgLy8g56iA5pyJ5bqmICA+PTMg57KJ6Imy5Lul5LiKDQogICAgICAgIC8v5aSa5bCR56iA5pyJ5bqm5omN5Lya6Kem5Y+RDQogICAgICAgIGlmIChlcXVSYXJpdHkgPj0gZ2xvYmFsX2NvbmZpZ1snZ2FtZV9jb25maWcnXVsnZHVuZ2VvbnNfYWRkX2l0ZW1fbm90aWNlX2VxdVJhcml0eSddKSB7DQogICAgICAgICAgICB2YXIgY2hhcmFjTmFtZSA9IGFwaV9DVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjTmFtZSh1c2VyKTsNCiAgICAgICAgICAgIGNvbnN0IGl0ZW1OYW1lID0gYXBpX0NJdGVtX0dldEl0ZW1OYW1lKGl0ZW1faWQpOw0KICAgICAgICAgICAgLy/mkq3miqXlhoXlrrkNCiAgICAgICAgICAgIHZhciB0ZXh0ID0gZ2xvYmFsX2NvbmZpZ1snZ2FtZV9jb25maWcnXVsnZHVuZ2VvbnNfYWRkX2l0ZW1fbm90aWNlX3RleHQnXTsNCiAgICAgICAgICAgIC8v5aWW5Yqx54K55Yi45pa55byPDQogICAgICAgICAgICB2YXIgdHlwZSA9IGdsb2JhbF9jb25maWdbJ2dhbWVfY29uZmlnJ11bJ2R1bmdlb25zX2FkZF9pdGVtX25vdGljZV9jYXNoX2NlcmEnXTsNCiAgICAgICAgICAgIGlmICh0eXBlID09IDApIHsNCiAgICAgICAgICAgICAgICAvL+WPquaSreaKpeS4jeWlluWKseeCueWIuA0KICAgICAgICAgICAgICAgIHRleHQgPSB0ZXh0LnJlcGxhY2UoIj8xIiwgY2hhcmFjTmFtZSkucmVwbGFjZSgiPzIiLCBpdGVtTmFtZSkucmVwbGFjZSgiPzMiLCB0eXBlKTsNCiAgICAgICAgICAgICAgICBhcGlfR2FtZVdvcmxkX1NlbmROb3RpUGFja2V0TWVzc2FnZSh0ZXh0LCAxNCk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZiAodHlwZSA9PSAxKSB7DQogICAgICAgICAgICAgICAgLy/lpZblirHpmo/mnLrngrnliLgNCiAgICAgICAgICAgICAgICBhcGlfR2FtZVdvcmxkX1NlbmROb3RpUGFja2V0TWVzc2FnZSh0ZXh0LCAxNCk7DQogICAgICAgICAgICAgICAgLy/mnIDlsI/ngrnliLjmlbDph48NCiAgICAgICAgICAgICAgICB2YXIgbWluID0gMTsNCiAgICAgICAgICAgICAgICAvL+acgOWkp+eCueWIuOaVsOmHjw0KICAgICAgICAgICAgICAgIHZhciBtYXggPSA4ODg7DQogICAgICAgICAgICAgICAgdHlwZSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4pKSArIG1pbjsNCiAgICAgICAgICAgICAgICB0ZXh0ID0gdGV4dC5yZXBsYWNlKCI/MSIsIGNoYXJhY05hbWUpLnJlcGxhY2UoIj8yIiwgaXRlbU5hbWUpLnJlcGxhY2UoIj8zIiwgdHlwZSk7DQogICAgICAgICAgICAgICAgYXBpX3JlY2hhcmdlX2Nhc2hfY2VyYSh1c2VyLCB0eXBlKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmICh0eXBlID4gMSkgew0KICAgICAgICAgICAgICAgIHRleHQgPSB0ZXh0LnJlcGxhY2UoIj8xIiwgY2hhcmFjTmFtZSkucmVwbGFjZSgiPzIiLCBpdGVtTmFtZSkucmVwbGFjZSgiPzMiLCB0eXBlKTsNCiAgICAgICAgICAgICAgICAvL+WlluWKseiuvue9rueahOeCueWIuOaVsOmHjw0KICAgICAgICAgICAgICAgIGFwaV9HYW1lV29ybGRfU2VuZE5vdGlQYWNrZXRNZXNzYWdlKHRleHQsIDE0KTsNCiAgICAgICAgICAgICAgICBhcGlfcmVjaGFyZ2VfY2FzaF9jZXJhKHVzZXIsIHR5cGUpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCg0KICAgIH0NCiAgICBDVXNlcl9zZW5kX2l0ZW1zcGFjZSh1c2VyLCBJTlZFTlRPUllfVFlQRV9JVEVNKTsNCn0gICANCiAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tRlVOQ1RJT05fRU5EIOWJr+acrOaNoeS4nOilv+WWiuWWh+WPree7meeCueWIuCzor7TmmI465Ymv5pys5o2h5Lic6KW/5ZaK5ZaH5Y+t57uZ54K55Yi4LS0tLS0tLS0tLS0tLS0tLS0tLS0tLSANCiANCi8vLS0tLS0tLS0tLS0tLS0tLS0tLS1GVU5DVElPTl9CRUdJTiDngrnliLjmiJbku6PluIHliLjlhYXlgLwsIOivtOaYjjrngrnliLjmiJbku6PluIHliLjlhYXlgLwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogDQogLy/ngrnliLjlhYXlgLwgKOemgeatouebtOaOpeS/ruaUuWJpbGxpbmflupPmiYDmnInooajlrZfmrrUsIOeCueWIuOebuOWFs+aTjeS9nOWKoeW/heiwg+eUqOaVsOaNruW6k+WtmOWCqOi/h+eoiyEpDQpmdW5jdGlvbiBhcGlfcmVjaGFyZ2VfY2FzaF9jZXJhKHVzZXIsIGFtb3VudCkNCnsNCiAgICAvL+WFheWAvA0KICAgIFdvbmdXb3JrX0lQR19DSVBHSGVscGVyX0lQR0lucHV0KHB0cigweDk0MUY3MzQpLnJlYWRQb2ludGVyKCksIHVzZXIsIDUsIGFtb3VudCwgcHRyKDB4OEM3RkEyMCksIHB0cigweDhDN0ZBMjApLA0KICAgICAgICBNZW1vcnkuYWxsb2NVdGY4U3RyaW5nKCdHTScpLCBwdHIoMCksIHB0cigwKSwgcHRyKDApKTsNCg0KICAgIC8v6YCa55+l5a6i5oi356uv5YWF5YC857uT5p6cDQogICAgV29uZ1dvcmtfSVBHX0NJUEdIZWxwZXJfSVBHUXVlcnkocHRyKDB4OTQxRjczNCkucmVhZFBvaW50ZXIoKSwgdXNlcik7DQp9DQoNCi8v5Luj5biB5YWF5YC8ICjnpoHmraLnm7TmjqXkv67mlLliaWxsaW5n5bqT5omA5pyJ6KGo5a2X5q61LCDngrnliLjnm7jlhbPmk43kvZzliqHlv4XosIPnlKjmlbDmja7lupPlrZjlgqjov4fnqIshKQ0KZnVuY3Rpb24gYXBpX3JlY2hhcmdlX2Nhc2hfY2VyYV9wb2ludCh1c2VyLCBhbW91bnQpDQp7DQogICAgLy/lhYXlgLwNCiAgICBXb25nV29ya19JUEdfQ0lQR0hlbHBlcl9JUEdJbnB1dFBvaW50KHB0cigweDk0MUY3MzQpLnJlYWRQb2ludGVyKCksIHVzZXIsIGFtb3VudCwgNCwgcHRyKDApLCBwdHIoMCkpOw0KDQogICAgLy/pgJrnn6XlrqLmiLfnq6/lhYXlgLznu5PmnpwNCiAgICBXb25nV29ya19JUEdfQ0lQR0hlbHBlcl9JUEdRdWVyeShwdHIoMHg5NDFGNzM0KS5yZWFkUG9pbnRlcigpLCB1c2VyKTsNCn0gDQogLy8tLS0tLS0tLS0tLS0tLS0tLS0tLUZVTkNUSU9OX0VORCDngrnliLjmiJbku6PluIHliLjlhYXlgLws6K+05piOOueCueWIuOaIluS7o+W4geWIuOWFheWAvC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gDQogIA0KIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS1JTlRST0RVQ0VfRlVOQ1RJT05TX0VORC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gDQog', 'da_frida_main', '最新脚本20231217');
    </sql>
    </changeSet>
</databaseChangeLog>
