<?xml version="1.1" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
                   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                   xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.1.xsd">
    <changeSet author="yuzhanfeng" id="20231219" dbms="mysql" failOnError="true">
        <sql dbms="mysql">
            INSERT INTO da_game_config (conf_name, conf_type, conf_data, conf_key, remark, is_system_conf) VALUES('完成所有任务道具', 1, '1234567', 'clear_all_quest', '立即生效，完成所有任务道具的id', 0);
            INSERT INTO da_game_config (conf_name, conf_type, conf_data, conf_key, remark, is_system_conf) VALUES('完成指定任务道具', 1, '1234567', 'api_force_clear_quest_list', '立即生效，完成指定任务的道具id', 0);
            INSERT INTO da_game_config (conf_name, conf_type, conf_data, conf_key, remark, is_system_conf) VALUES('指定任务id', 2, '123456,45678,78901', 'clear_quest_list', '立即生效，需要完成的指定任务id集合，英文逗号分隔', 0);
            INSERT INTO da_game_config (conf_name, conf_type, conf_data, conf_key, remark, is_system_conf) VALUES('已接任务完成道具', 1, '1234567', 'clear_doing_quest', '立即生效，已接任务完成道具的id', 0);
            INSERT INTO da_game_config (conf_name, conf_type, conf_data, conf_key, remark, is_system_conf) VALUES('装备继承道具', 1, '1234567', 'equInherit', '立即生效，装备继承道具id', 0);
            INSERT INTO da_game_config (conf_name, conf_type, conf_data, conf_key, remark, is_system_conf) VALUES('装备跨界道具', 1, '1234567', 'crossover', '立即生效，装备跨界道具id', 0);
            INSERT INTO da_game_config (conf_name, conf_type, conf_data, conf_key, remark, is_system_conf) VALUES('装备分解道具', 1, '1234567', 'decompose', '立即生效，装备分解道具id', 0);
            INSERT INTO da_game_config (conf_name, conf_type, conf_data, conf_key, remark, is_system_conf) VALUES('魔法封印重置道具', 1, '1234567', 'ssfmfybh', '立即生效，魔法封印重置道具的id', 0);
            INSERT INTO da_game_config (conf_name, conf_type, conf_data, conf_key, remark, is_system_conf) VALUES('称号合成道具', 1, '1234567', 'chhcfun', '立即生效，称号合成道具id', 0);
            INSERT INTO da_game_config (conf_name, conf_type, conf_data, conf_key, remark, is_system_conf) VALUES('初阶异界重置道具', 1, '1234567', 'resetResetDimensionInout_1', '立即生效，初阶异界重置道具id', 0);
            INSERT INTO da_game_config (conf_name, conf_type, conf_data, conf_key, remark, is_system_conf) VALUES('高级异界重置道具', 1, '1234567', 'resetResetDimensionInout_2', '立即生效，高级异界重置道具id', 0);
        </sql>
    </changeSet>
    <changeSet author="yuzhanfeng" id="20231219-1" dbms="mysql" failOnError="true">
        <sql dbms="mysql">
            INSERT INTO da_frida_script (script_name, script_context, children_function, remark) VALUES('最新脚本20231219', 'DQovLy0tLS0tLS0tLS0tLS0tLS0tLS0tSU5UUk9EVUNFX0ZVTkNUSU9OU19CRUdJTi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiANCiANCi8vLS0tLS0tLS0tLS0tLS0tLS0tLS1GVU5DVElPTl9CRUdJTiBkbmYtYWRtaW7nmoRmaXJkYeS4u+WHveaVsCwg6K+05piOOuS9v+eUqOmFjeWll+acjeWKoeerr+WSjGZpcmRh5b+F6YCJLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KIA0KIA0KDQoNCi8v5Yid5aeL5YyW5Yqg6L295Ye95pWwDQpmdW5jdGlvbiBzdGFydChjaGFubmVsKSB7DQogICAgY29uc29sZS5sb2coIj09PT09PT09PT09PT09PT09PT09PT09PT5zdGFydCBpbml0IGZyaWRhIik7DQogICAgLy/mjILmjqXmtojmga/liIblj5Hnur/nqIsg5omn6KGM6ZyA6KaB5Zyo5Li757q/56iL6L+Q6KGM55qE5Luj56CBDQogICAgaG9va19UaW1lckRpc3BhdGNoZXJfZGlzcGF0Y2goKTsNCiAgICBsb2FkX2NvbmZpZyhjaGFubmVsKTsNCiAgICBpbml0Rm9yQ29uZmlnKCk7DQogICAgLy/kv67lpI3nu53mnJvkuYvloZQNCiAgICBmaXhfVE9EKCk7DQogICAgLy/op5LoibLnmbvlhaXnmbvlh7rlpITnkIYNCiAgICBob29rX3VzZXJfaW5vdXRfZ2FtZV93b3JsZCgpDQogICAgLy/mjZXojrfnjqnlrrbmuLjmiI/kuovku7YNCiAgICBob29rX2hpc3RvcnlfbG9nKCk7DQogICAgLy/ph5HlupPmianlrrkxMjDmoLwNCiAgICBzZXRNYXhDQWNjb3VudENhcmdvU29sdCgxMjApOw0KICAgIGNvbnNvbGUubG9nKCI9PT09PT09PT09PT09PT09PT09PT09PT0+ZnJpZGEgc3RhcnQgc3VjY2VzcyIpOw0KfQ0KDQoNCi8v5Ye95pWw5a+85Ye644CB5Y+C5pWw6LCD6K+VDQpycGMuZXhwb3J0cyA9IHsNCiAgICBzdGFydDogZnVuY3Rpb24gKGNoYW5uZWwpIHsNCiAgICAgICAgc3RhcnQoY2hhbm5lbCk7DQogICAgfSwNCiAgICBoYW5kbGVyRmNNZXNzYWdlOiBmdW5jdGlvbiAocGFyYW0pIHsNCiAgICAgICAgdmFyIHBhcmFtSnNvbiA9IHVuZGVmaW5lZDsNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIHBhcmFtSnNvbiA9IEpTT04ucGFyc2UocGFyYW0pOw0KICAgICAgICB9IGNhdGNoIChlcnJvcikgew0KICAgICAgICAgICAgLy/pnZ5qc29u5qC85byP55qE5raI5oGvDQogICAgICAgICAgICBleGVjTm9Kc29uTWVzc2FnZShwYXJhbSk7DQogICAgICAgIH0NCiAgICAgICAgaWYgKHBhcmFtSnNvbiAhPT0gdW5kZWZpbmVkKSB7DQogICAgICAgICAgICBpZiAocGFyYW1Kc29uLnR5cGUgPT09ICdkZWJ1ZycpIHsNCiAgICAgICAgICAgICAgICBkZWJ1Z2ZyaWRhKHBhcmFtSnNvbi5kYXRhKQ0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICBleGVjSnNvbk1lc3NhZ2UocGFyYW1Kc29uKQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICB9LA0KfTsgDQogLy8tLS0tLS0tLS0tLS0tLS0tLS0tLUZVTkNUSU9OX0VORCBkbmYtYWRtaW7nmoRmaXJkYeS4u+WHveaVsCzor7TmmI465L2/55So6YWN5aWX5pyN5Yqh56uv5ZKMZmlyZGHlv4XpgIktLS0tLS0tLS0tLS0tLS0tLS0tLS0tIA0KIA0KLy8tLS0tLS0tLS0tLS0tLS0tLS0tLUZVTkNUSU9OX0JFR0lOIGRlYnVn5raI5oGv5aSE55CGLCDor7TmmI466LCD6K+VZnJpZGEtLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogDQogDQovL+aJp+ihjGRlYnVn5raI5oGvDQpmdW5jdGlvbiBkZWJ1Z2ZyaWRhKGRlYnVnRGF0YSkgew0KICAgY29uc29sZS5sb2coIuaOpeaUtuWIsGRlYnVn5raI5oGvOiIrZGVidWdEYXRhKTsNCn0gDQogLy8tLS0tLS0tLS0tLS0tLS0tLS0tLUZVTkNUSU9OX0VORCBkZWJ1Z+a2iOaBr+WkhOeQhizor7TmmI466LCD6K+VZnJpZGEtLS0tLS0tLS0tLS0tLS0tLS0tLS0tIA0KIA0KLy8tLS0tLS0tLS0tLS0tLS0tLS0tLUZVTkNUSU9OX0JFR0lOIOS/ruWkjee7neacm+S5i+WhlCwg6K+05piOOuS/ruWkjee7neacm+S5i+WhlC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiANCiANCi8v5L+u5aSN57ud5pyb5LmL5aGUDQovL3NraXBfdXNlcl9hcGM6IOS4unRydWXml7YsIOi3s+i/h+avjzEw5bGC55qEVXNlckFQQw0KZnVuY3Rpb24gZml4X1RPRChza2lwX3VzZXJfYXBjKSB7DQogICAgY29uc29sZS5sb2coIj09PT09PT09PT09PT09PT09PT09PT0+5L+u5aSN57ud5pyb5LmL5aGUIikNCiAgICAvL+avj+aXpei/m+WFpeasoeaVsOmZkOWItg0KICAgIC8vVE9EX1VzZXJTdGF0ZTo6Z2V0RW50ZXJDb3VudA0KICAgIEludGVyY2VwdG9yLmF0dGFjaChwdHIoMHgwODY0Mzg3MiksIHsNCg0KICAgICAgICBvbkVudGVyOiBmdW5jdGlvbiAoYXJncykgew0KICAgICAgICAgICAgLy/ku4rml6Xlt7Lov5vlhaXmrKHmlbDlvLrliLbmuIXpm7YNCiAgICAgICAgICAgIGFyZ3NbMF0uYWRkKDB4MTApLndyaXRlSW50KDApOw0KICAgICAgICB9LA0KICAgICAgICBvbkxlYXZlOiBmdW5jdGlvbiAocmV0dmFsKSB7DQogICAgICAgIH0NCiAgICB9KTsNCg0KICAgIC8v5q+PMTDlsYLmjJHmiJjnjqnlrrZBUEMg5pyN5Yqh5Zmo5YaF6KeS6Imy5LiN6LazMTDkuKrml6Dms5Xov5vlhaUNCiAgICBpZiAoc2tpcF91c2VyX2FwYykgew0KICAgICAgICAvL+i3s+i/hzEwLzIwLy4uLi85MOWxgg0KICAgICAgICAvL1RPRF9Vc2VyU3RhdGU6OmdldFRvZGF5RW50ZXJMYXllcg0KICAgICAgICBJbnRlcmNlcHRvci5hdHRhY2gocHRyKDB4MDg2NDM4M0UpLCB7DQoNCiAgICAgICAgICAgIG9uRW50ZXI6IGZ1bmN0aW9uIChhcmdzKSB7DQogICAgICAgICAgICAgICAgLy/nu53mnJvkuYvloZTlvZPliY3lsYLmlbANCiAgICAgICAgICAgICAgICB2YXIgdG9kYXlfZW50ZXJfbGF5ZXIgPSBhcmdzWzFdLmFkZCgweDE0KS5yZWFkU2hvcnQoKTsNCg0KICAgICAgICAgICAgICAgIGlmICgoKHRvZGF5X2VudGVyX2xheWVyICUgMTApID09IDkpICYmICh0b2RheV9lbnRlcl9sYXllciA+IDApICYmICh0b2RheV9lbnRlcl9sYXllciA8IDEwMCkpIHsNCiAgICAgICAgICAgICAgICAgICAgLy/lvZPliY3lsYLmlbDkuLoxMOeahOWAjeaVsOaXtiAg55u05o6l6L+b5YWl5LiL5LiA5bGCDQogICAgICAgICAgICAgICAgICAgIGFyZ3NbMV0uYWRkKDB4MTQpLndyaXRlU2hvcnQodG9kYXlfZW50ZXJfbGF5ZXIgKyAxKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgb25MZWF2ZTogZnVuY3Rpb24gKHJldHZhbCkgew0KICAgICAgICAgICAgfQ0KICAgICAgICB9KTsNCiAgICB9DQoNCg0KDQogICAgLy/kv67lpI3ph5HluIHlvILluLgNCiAgICAvL0NQYXJ0eTo6VXNlQW5jaWVudER1bmdlb25JdGVtcw0KICAgIHZhciBDUGFydHlfVXNlQW5jaWVudER1bmdlb25JdGVtc19wdHIgPSBwdHIoMHg4NTlFQUMyKTsNCiAgICB2YXIgQ1BhcnR5X1VzZUFuY2llbnREdW5nZW9uSXRlbXMgPSBuZXcgTmF0aXZlRnVuY3Rpb24oQ1BhcnR5X1VzZUFuY2llbnREdW5nZW9uSXRlbXNfcHRyLCAnaW50JywgWydwb2ludGVyJywgJ3BvaW50ZXInLCAncG9pbnRlcicsICdwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCiAgICBJbnRlcmNlcHRvci5yZXBsYWNlKENQYXJ0eV9Vc2VBbmNpZW50RHVuZ2Vvbkl0ZW1zX3B0ciwgbmV3IE5hdGl2ZUNhbGxiYWNrKGZ1bmN0aW9uIChwYXJ0eSwgZHVuZ2VvbiwgaW52ZW5faXRlbSwgYTQpIHsNCg0KICAgICAgICAvL+W9k+WJjei/m+WFpeeahOWcsOS4i+WfjmlkDQogICAgICAgIHZhciBkdW5nZW9uX2luZGV4ID0gQ0R1bmdlb25fZ2V0X2luZGV4KGR1bmdlb24pOw0KDQogICAgICAgIC8v5qC55o2u5Zyw5LiL5Z+OaWTliKTmlq3mmK/lkKbkuLrnu53mnJvkuYvloZQNCiAgICAgICAgaWYgKChkdW5nZW9uX2luZGV4ID49IDExMDA4KSAmJiAoZHVuZ2Vvbl9pbmRleCA8PSAxMTEwNykpIHsNCiAgICAgICAgICAgIC8v57ud5pyb5LmL5aGUIOS4jeWGjeaJo+mZpOmHkeW4gQ0KICAgICAgICAgICAgcmV0dXJuIDE7DQogICAgICAgIH0NCg0KICAgICAgICAvL+WFtuS7luWJr+acrOaJp+ihjOWOn+Wni+aJo+mZpOmBk+WFt+mAu+i+kQ0KICAgICAgICByZXR1cm4gQ1BhcnR5X1VzZUFuY2llbnREdW5nZW9uSXRlbXMocGFydHksIGR1bmdlb24sIGludmVuX2l0ZW0sIGE0KTsNCiAgICB9LCAnaW50JywgWydwb2ludGVyJywgJ3BvaW50ZXInLCAncG9pbnRlcicsICdwb2ludGVyJ10pKTsNCn0gDQogLy8tLS0tLS0tLS0tLS0tLS0tLS0tLUZVTkNUSU9OX0VORCDkv67lpI3nu53mnJvkuYvloZQs6K+05piOOuS/ruWkjee7neacm+S5i+WhlC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gDQogDQovLy0tLS0tLS0tLS0tLS0tLS0tLS0tRlVOQ1RJT05fQkVHSU4g5pyN5Yqh56uv5Z+656GAYXBp5Ye95pWwLCDor7TmmI465pyN5Yqh56uv5Z+656GAYXBp5Ye95pWwLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KIA0KIC8v6I635Y+W57O757uf5pe26Ze0DQp2YXIgQ1N5c3RlbVRpbWVfZ2V0Q3VyU2VjID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgwQ0JDOUUpLCAnaW50JywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBHbG9iYWxEYXRhX3Nfc3lzdGVtVGltZV8gPSBwdHIoMHg5NDFGNzE0KTsNCi8v6I635Y+WVVRD5pe26Ze0KOenkikNCnZhciBnZXRDdXJTZWMgPSBuZXcgTmF0aXZlRnVuY3Rpb24oTW9kdWxlLmdldEV4cG9ydEJ5TmFtZShudWxsLCAndGltZScpLCAnaW50JywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCg0KLy/ku47lrqLmiLfnq6/lsIHljIXkuK3or7vlj5bmlbDmja4NCnZhciBQYWNrZXRCdWZfZ2V0X2J5dGUgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODU4Q0YyMiksICdpbnQnLCBbJ3BvaW50ZXInLCAncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgUGFja2V0QnVmX2dldF9zaG9ydCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4NThDRkMwKSwgJ2ludCcsIFsncG9pbnRlcicsICdwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBQYWNrZXRCdWZfZ2V0X2ludCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4NThEMjdFKSwgJ2ludCcsIFsncG9pbnRlcicsICdwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBQYWNrZXRCdWZfZ2V0X2JpbmFyeSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4NThEM0IyKSwgJ2ludCcsIFsncG9pbnRlcicsICdwb2ludGVyJywgJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQoNCi8v5pyN5Yqh5Zmo57uE5YyFDQp2YXIgUGFja2V0R3VhcmRfUGFja2V0R3VhcmQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODU4REQ0QyksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfaGVhZGVyID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgwQ0I4RkMpLCAnaW50JywgWydwb2ludGVyJywgJ2ludCcsICdpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfYnl0ZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MENCOTIwKSwgJ2ludCcsIFsncG9pbnRlcicsICd1aW50OCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9zaG9ydCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MEQ5RUE0KSwgJ2ludCcsIFsncG9pbnRlcicsICd1aW50MTYnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfaW50ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgwQ0I5M0MpLCAnaW50JywgWydwb2ludGVyJywgJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9iaW5hcnkgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODExREYwOCksICdpbnQnLCBbJ3BvaW50ZXInLCAncG9pbnRlcicsICdpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIEludGVyZmFjZVBhY2tldEJ1Zl9maW5hbGl6ZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MENCOTU4KSwgJ2ludCcsIFsncG9pbnRlcicsICdpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIERlc3Ryb3lfUGFja2V0R3VhcmRfUGFja2V0R3VhcmQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODU4REU4MCksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIEludGVyZmFjZVBhY2tldEJ1Zl9jbGVhciA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODBjYjhlNiksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfcGFja2V0ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MTUwOThlKSwgJ2ludCcsIFsncG9pbnRlcicsICdwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBQYWNrZXRHdWFyZF9mcmVlX1BhY2tldEd1YXJkID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NThkZTgwKSwgJ3ZvaWQnLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIFBhY2tldF9Nb25pdG9yX01heF9MZXZlbF9Ccm9hZENhc3RfUGFja2V0X01vbml0b3JfTWF4X0xldmVsX0Jyb2FkQ2FzdCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY5NDU2MCksICd2b2lkJywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCg0KLy/mnI3liqHlmajnu4TljIUNCmZ1bmN0aW9uIGFwaV9QYWNrZXRHdWFyZF9QYWNrZXRHdWFyZCgpIHsNCiAgICB2YXIgcGFja2V0X2d1YXJkID0gTWVtb3J5LmFsbG9jKDB4MjAwMDApOw0KICAgIFBhY2tldEd1YXJkX1BhY2tldEd1YXJkKHBhY2tldF9ndWFyZCk7DQoNCiAgICByZXR1cm4gcGFja2V0X2d1YXJkOw0KfQ0KDQovL+acjeWKoeWZqOeOr+Wigw0KdmFyIEdfQ0Vudmlyb25tZW50ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MENDMTgxKSwgJ3BvaW50ZXInLCBbXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KLy/ojrflj5blvZPliY3mnI3liqHlmajphY3nva7mlofku7blkI0NCnZhciBDRW52aXJvbm1lbnRfZ2V0X2ZpbGVfbmFtZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MERBMzlBKSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KLy/ojrflj5ZHYW1lV29ybGTlrp7kvosNCnZhciBHX0dhbWVXb3JsZCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MERBM0E3KSwgJ3BvaW50ZXInLCBbXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KLy/moLnmja5zZXJ2ZXJfaWTmn6Xmib51c2VyDQp2YXIgR2FtZVdvcmxkX2ZpbmRfZnJvbV93b3JsZCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4NkM0QjlDKSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCi8v5Z+O6ZWH556s56e7DQp2YXIgR2FtZVdvcmxkX21vdmVfYXJlYSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4NkM1QTg0KSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInLCAncG9pbnRlcicsICdpbnQnLCAnaW50JywgJ2ludCcsICdpbnQnLCAnaW50JywgJ2ludCcsICdpbnQnLCAnaW50JywgJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQovL+agueaNrui0puWPt+afpeaJvuW3sueZu+W9leinkuiJsg0KdmFyIEdhbWVXb3JsZF9maW5kX3VzZXJfZnJvbV93b3JsZF9ieWFjY2lkID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDg2QzRENDApLCAncG9pbnRlcicsIFsncG9pbnRlcicsICdpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KLy/lsIbljY/orq7lj5Hnu5nmiYDmnInlnKjnur/njqnlrrYo5oWO55SoISDlub/mkq3nsbvmjqXlj6Plv4XpobvpmZDliLbosIPnlKjpopHnjocsIOmYsuatokND5pS75Ye7KQ0KLy/pmaTpnZ7lv4Xpobvkvb/nlKgsIOWQpuWImeaUueeUqOWvueixoeabtOWKoOaYjuehrueahENQYXJ0eTo6c2VuZF90b19wYXJ0eS9HYW1lV29ybGQ6OnNlbmRfdG9fYXJlYQ0KdmFyIEdhbWVXb3JsZF9zZW5kX2FsbCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4NkM4QzE0KSwgJ2ludCcsIFsncG9pbnRlcicsICdwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBHYW1lV29ybGRfc2VuZF9hbGxfd2l0aF9zdGF0ZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4NkM5MTg0KSwgJ2ludCcsIFsncG9pbnRlcicsICdwb2ludGVyJywgJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQovL+iOt+WPluWcqOe6v+eOqeWutuaVsOmHjw0KdmFyIEdhbWVXb3JsZF9nZXRfVXNlckNvdW50X0luV29ybGQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODZDNDU1MCksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KLy/lnKjnur/njqnlrrbliJfooago55So5LqOc3RkOjptYXDpgY3ljoYpDQp2YXIgR2FtZXdvcmxkX3VzZXJfbWFwX2JlZ2luID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgwRjc4QTYpLCAnaW50JywgWydwb2ludGVyJywgJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIEdhbWV3b3JsZF91c2VyX21hcF9lbmQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODBGNzhDQyksICdpbnQnLCBbJ3BvaW50ZXInLCAncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgR2FtZXdvcmxkX3VzZXJfbWFwX25vdF9lcXVhbCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MEY3OEYyKSwgJ2Jvb2wnLCBbJ3BvaW50ZXInLCAncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgR2FtZXdvcmxkX3VzZXJfbWFwX2dldCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MEY3OTQ0KSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIEdhbWV3b3JsZF91c2VyX21hcF9uZXh0ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgwRjc5MDYpLCAncG9pbnRlcicsIFsncG9pbnRlcicsICdwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBHYW1lV29ybGRfSXNFbmNoYW50UmV2aXNpb25DaGFubmVsID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MjM0M2ZjKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgR2FtZVdvcmxkX2dldER1bmdlb25NaW5pbXVtUmVxdWlyZWRMZXZlbCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODZjOTA3NiksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBHYW1lV29ybGRfc2VuZF91c2VyX2R1bmdlb25faW5vdXRfbWVzc2FnZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODZjOGZjOCksICd2b2lkJywgWydwb2ludGVyJywgJ3BvaW50ZXInLCAnaW50JywgJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgR2FtZVdvcmxkX0lzUHZQU2tpbFRyZWVDaGFubmVsID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MjM0NDFlKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQoNCnZhciBHX0NHYW1lTWFuYWdlciA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODBjYzE4ZSksICdwb2ludGVyJywgW10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDR2FtZU1hbmFnZXJfR2V0UHJlbWl1bUxldGhlTWFuYWdlciA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODI5OGU4OCksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENFdmVudE1hbmFnZXJfR2V0UmVwZWF0RXZlbnQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgxMTU5OTgpLCAncG9pbnRlcicsIFsncG9pbnRlcicsICdpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIEV2ZW50Q2xhc3NpZnlfQ0V2ZW50U2NyaXB0TW5nX3Byb2Nlc3NfbGV2ZWxfdXBfcmV3YXJkID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MTBiZjU2KSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInLCAncG9pbnRlcicsICdpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIEd1aWxkUGFyYW1ldGVyU2NyaXB0X2dldEd1aWxkTGV2ZWxVcFBhcmFtID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4OTc5NjQ4KSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBHdWlsZFBhcmFtZXRlclNjcmlwdF9nZXRHdWlsZEV4cEJvb2sgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg5Nzk2NzIpLCAnaW50JywgWydwb2ludGVyJywgJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQoNCi8v6I635Y+WRGF0YU1hbmFnZXLlrp7kvovvvIznlKjkuo7lpITnkIZwdmbnmoQNCnZhciBHX0NEYXRhTWFuYWdlciA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MENDMTlCKSwgJ3BvaW50ZXInLCBbXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KLy/ku45wdmbkuK3ojrflj5bku7vliqHmlbDmja4NCnZhciBDRGF0YU1hbmFnZXJfZmluZF9xdWVzdCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MzVGREM2KSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCi8v6I635Y+W6KOF5aSHcHZm5pWw5o2uDQp2YXIgQ0RhdGFNYW5hZ2VyX2ZpbmRfaXRlbSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MzVGQTMyKSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDRGF0YU1hbmFnZXJfZ2V0X2xldmVsX2V4cCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODM2MDQ0MiksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDRGF0YU1hbmFnZXJfZ2V0RGFpbHlUcmFpbmluZ1F1ZXN0ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MzY0MGZlKSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDRGF0YU1hbmFnZXJfR2V0U3BBdExldmVsVXAgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgzNjBjYjgpLCAnaW50JywgWydwb2ludGVyJywgJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQ0RhdGFNYW5hZ2VyX2dldF9ldmVudF9zY3JpcHRfbW5nID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MTEwYjYyKSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENEYXRhTWFuYWdlcl9HZXRFeHBlcnRKb2JTY3JpcHQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgyMmI1ZjIpLCAncG9pbnRlcicsIFsncG9pbnRlcicsICdpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENEYXRhTWFuYWdlcl9nZXRfZGltZW5zaW9uSW5vdXQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgyMmI2MTIpLCAnaW50JywgWydwb2ludGVyJywgJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQoNCi8v6YCa55+l5a6i5oi356uvUXVlc3RQaWVjZeabtOaWsA0KdmFyIEdFVF9VU0VSID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NGJiOWNmKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQovL+e7meinkuiJsuWPkea2iOaBrw0KdmFyIENVc2VyX1NlbmROb3RpUGFja2V0TWVzc2FnZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4Njg4NkNFKSwgJ2ludCcsIFsncG9pbnRlcicsICdwb2ludGVyJywgJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQovL+inkuiJsuWinuWKoOe7j+mqjA0KdmFyIENVc2VyX2dhaW5fZXhwX3NwID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDg2NkEzRkUpLCAnaW50JywgWydwb2ludGVyJywgJ2ludCcsICdwb2ludGVyJywgJ3BvaW50ZXInLCAnaW50JywgJ2ludCcsICdpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KLy/lj5HpgIHpgZPlhbcNCnZhciBDVXNlcl9BZGRJdGVtID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDg2N0I2RDQpLCAnaW50JywgWydwb2ludGVyJywgJ2ludCcsICdpbnQnLCAnaW50JywgJ3BvaW50ZXInLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCi8v6YCa55+l5a6i5oi356uv6YGT5YW35pu05pawKOWuouaIt+err+aMh+mSiCwg6YCa55+l5pa55byPW+S7heWuouaIt+errz0xLCDkuJbnlYzlub/mkq09MCwg5bCP6ZifPTIsIHdhciByb29tPTNdLCBpdGVtU3BhY2Vb6KOF5aSHPTAsIOaXtuijhT0xXSwg6YGT5YW35omA5Zyo55qE6IOM5YyF5qe9KQ0KdmFyIENVc2VyX1NlbmRVcGRhdGVJdGVtTGlzdCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4NjdDNjVBKSwgJ2ludCcsIFsncG9pbnRlcicsICdpbnQnLCAnaW50JywgJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQovLyDpgJrnn6XlrqLmiLfnq6/mm7TmlrDog4zljIXmoI8NCnZhciBDVXNlcl9zZW5kX2l0ZW1zcGFjZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4NjVEQjZDKSwgJ2ludCcsIFsncG9pbnRlcicsICdpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KLy/ojrflj5bnjqnlrrbku7vliqHkv6Hmga8NCnZhciBDVXNlcl9nZXRDdXJDaGFyYWNRdWVzdFcgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODE0QUE1RSksICdwb2ludGVyJywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCi8v5Lu75Yqh55u45YWz5pON5L2cKOesrOS6jOS4quWPguaVsOS4uuWNj+iurue8luWPtzogMzM95o6l5Y+X5Lu75YqhLCAzND3mlL7lvIPku7vliqEsIDM1PeS7u+WKoeWujOaIkOadoeS7tuW3sua7oei2sywgMzY95o+Q5Lqk5Lu75Yqh6aKG5Y+W5aWW5YqxKQ0KdmFyIENVc2VyX3F1ZXN0X2FjdGlvbiA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY2REE4QSksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50JywgJ2ludCcsICdpbnQnLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCi8v5Y+R5YyF57uZ5a6i5oi356uvDQp2YXIgQ1VzZXJfU2VuZCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4NjQ4NUJBKSwgJ2ludCcsIFsncG9pbnRlcicsICdwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCi8v6K6+572uR03lrozmiJDku7vliqHmqKHlvI8o5peg5p2h5Lu25a6M5oiQ5Lu75YqhKQ0KdmFyIENVc2VyX3NldEdtUXVlc3RGbGFnID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgyMkZDOEUpLCAnaW50JywgWydwb2ludGVyJywgJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQovL+aYr+WQpkdN5Lu75Yqh5qih5byPDQp2YXIgQ1VzZXJfZ2V0R21RdWVzdEZsYWcgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODIyRkM4RSksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KLy/pgJrnn6XlrqLmiLfnq6/mm7TmlrDlt7LlrozmiJDku7vliqHliJfooagNCnZhciBDVXNlcl9zZW5kX2NsZWFyX3F1ZXN0X2xpc3QgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODY4QjA0NCksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KLy/orqHnrpfku7vliqHln7rnoYDlpZblirEo5LiN5YyF5ZCr6YGT5YW35aWW5YqxKQ0KdmFyIENVc2VyX3F1ZXN0X2Jhc2ljX3Jld2FyZCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4NjZFN0E4KSwgJ2ludCcsIFsncG9pbnRlcicsICdwb2ludGVyJywgJ3BvaW50ZXInLCAncG9pbnRlcicsICdwb2ludGVyJywgJ3BvaW50ZXInLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCi8v6YCa55+l5a6i5oi356uvUVDmm7TmlrANCnZhciBDVXNlcl9zZW5kQ2hhcmFjUXAgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODY4QUMyNCksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KLy/pgJrnn6XlrqLmiLfnq69RdWVzdFBpZWNl5pu05pawDQp2YXIgQ1VzZXJfc2VuZENoYXJhY1F1ZXN0UGllY2UgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODY4QUYyQyksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KLy/ojrflj5bop5LoibLnirbmgIENCnZhciBDVXNlcl9nZXRfc3RhdGUgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODBEQTM4QyksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KLy/pgJrnn6XlrqLmiLfnq6/op5LoibLlsZ7mgKfmm7TmlrANCnZhciBDVXNlcl9TZW5kTm90aVBhY2tldCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4NjdCQTVDKSwgJ2ludCcsIFsncG9pbnRlcicsICdpbnQnLCAnaW50JywgJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQovLyDojrflj5botKblj7fph5HlupMNCnZhciBDVXNlcl9HZXRBY2NvdW50Q2FyZ28gPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgyMmZjMjIpLCAncG9pbnRlcicsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQovL+mHjee9ruW8gueVjC/mnoHpmZDnpa3lnZvmrKHmlbANCnZhciBDVXNlcl9EaW1lbnNpb25Jbm91dFVwZGF0ZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4NjU2QzEyKSwgJ2ludCcsIFsncG9pbnRlcicsICdpbnQnLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCi8v6YGT5YW35piv5ZCm6KKr6ZSBDQp2YXIgQ1VzZXJfQ2hlY2tJdGVtTG9jayA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4NjQ2OTQyKSwgJ2ludCcsIFsncG9pbnRlcicsICdpbnQnLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCi8vIOiuvue9rueUqOaIt+acgOWkp+etiee6pyBpbnTkuLrnrYnnuqcNCnZhciBDVXNlcl9TZXRVc2VyTWF4TGV2ZWwgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2OGZlYzgpLCAncG9pbnRlcicsIFsncG9pbnRlcicsICdpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENVc2VyX0NhbGN1cmF0ZVVzZXJNYXhMZXZlbCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY4ZmYwNCksICdwb2ludGVyJywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCi8v6I635Y+W6KeS6Imy5omA5Zyo6Zif5LyNDQp2YXIgQ1VzZXJfR2V0UGFydHkgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2NTUxNEMpLCAncG9pbnRlcicsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQovL+iOt+WPluinkuiJsuaJqeWxleaVsOaNrg0KdmFyIENVc2VyX0dldENoYXJhY0V4cGFuZERhdGEgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgwREQ1ODQpLCAncG9pbnRlcicsIFsncG9pbnRlcicsICdpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KLy/ojrflj5bop5LoibLngrnliLjkvZnpop0NCnZhciBDVXNlcl9HZXRDZXJhID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MEZERjdBKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQovL+iOt+WPluinkuiJsui0puWPt2lkDQp2YXIgQ1VzZXJfZ2V0X2FjY19pZCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MERBMzZFKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQovL+i/lOWbnumAieaLqeinkuiJsueVjOmdog0KdmFyIENVc2VyX1JldHVyblRvU2VsZWN0Q2hhcmFjTGlzdCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4Njg2RkVFKSwgJ2ludCcsIFsncG9pbnRlcicsICdpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENVc2VyX1NlbmRDbWRFcnJvclBhY2tldCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY3YmY0MiksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50JywgJ3VpbnQ4J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDVXNlcl9DaGVja01vbmV5ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NjZhZjFjKSwgJ2ludCcsIFsncG9pbnRlcicsICdpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENVc2VyX0dldENoYXJhY0V4cGFuZERhdGFSID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MjhiNWRlKSwgJ2ludCcsIFsnaW50JywgJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQ1VzZXJfaXNHTVVzZXIgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgxNDU4OWMpLCAnaW50JywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDVXNlcl9vbkxldmVsVXAgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2NjMxMWEpLCAndm9pZCcsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQ1VzZXJfZ2V0SGFkZXMgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgyMzA4MDApLCAncG9pbnRlcicsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQ1VzZXJfY2hlY2tfbGV2ZWxfdXAgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2NjJhZWEpLCAnaW50JywgWydwb2ludGVyJywgJ2ludCcsICdpbnQnLCAnaW50JywgJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQ1VzZXJfZ2Fpbl9zcCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY2YTlhMCksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDVXNlcl9nYWluX3NmcCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY2YWFkMiksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDVXNlcl9oaXN0b3J5X2xvZ19zcCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY2YWMwZSksICdwb2ludGVyJywgWydwb2ludGVyJywgJ2ludCcsICdpbnQnLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDVXNlcl9oaXN0b3J5X2xvZ19zZnAgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2NmFjZDApLCAncG9pbnRlcicsIFsncG9pbnRlcicsICdpbnQnLCAnaW50JywgJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQ1VzZXJfR2V0VHV0b3JpYWxTa2lwYWJsZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODRlY2FkNCksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENVc2VyX1VwZGF0ZVR1dG9yaWFsU2tpcGFibGUgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2OTczMTgpLCAnaW50JywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDVXNlcl91cGRhdGVfY2hhcmFjX3N0YXQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2NjQ2YzgpLCAnaW50JywgWydwb2ludGVyJywgJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQ1VzZXJfR2V0U2VydmVyR3JvdXAgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgwY2JjOTApLCAnaW50JywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDVXNlcl9tYWtlR3VpbGRMZXZlbFVwTWVzc2FnZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY3OTc1NCksICd2b2lkJywgWydwb2ludGVyJywgJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQ1VzZXJfZ2V0Q3VyQ2hhcmFjUXVlc3RSID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MTlhOGE2KSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENVc2VyX1VwZGF0ZVVzZXJJbmZvNEd1aWxkID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NjdjZDIwKSwgJ3ZvaWQnLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENVc2VyX2dldF9jaGFyYWNfbm8gPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgxNTc0MWMpLCAnaW50JywgWydwb2ludGVyJywgJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQ1VzZXJfVmVyaWZ5UHJlc2VudEF2ZW5nZXJUaXRsZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY4YjU1MiksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENVc2VyX0FkZEN1ckNoYXJhY01lcmNlbmFyeUluZm8gPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2OGU1OTYpLCAncG9pbnRlcicsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQ1VzZXJfZGVjaWRlX2dyb3d0aF9wb3dlcl9yZXdhcmRfc3lzdGVtID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NjhkNzgwKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQ1VzZXJfUmVDYWxjQ2hhdHRpbmdFbW90aWNvbiA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY4OWEyMiksICd2b2lkJywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDVXNlcl9TZW5kQ2hhdHRpbmdFbW90aWNvbiA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY4OWI5MCksICd2b2lkJywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDVXNlcl9pc0FmZmVjdGVkUHJlbWl1bSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODBlNjAwZSksICdpbnQnLCBbJ2ludCcsICdpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENVc2VyX3Byb2Nlc3NOUENHaWZ0T25MZXZlbFVwID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NjY0MDdhKSwgJ3ZvaWQnLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENVc2VyX3Byb2Nlc3NMZXZlbFVwRXZlbnRSZXdhcmQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2NjNjYzApLCAnaW50JywgWydwb2ludGVyJywgJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQ1VzZXJfcHJvY2Vzc0xldmVsVXBFdmVudCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY5MTE1YSksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENVc2VyX2luY1BsYXlFeHBBZGQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2OTcyOWEpLCAncG9pbnRlcicsIFsncG9pbnRlcicsICdpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENVc2VyX0NoZWNrSW5UcmFkZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODBkYTJmZSksICd1aW50MTYnLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENVc2VyX2dldEN1ckNoYXJhY1RvdGFsRmF0aWd1ZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY1Nzc2NiksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENVc2VyX0lzR3VpbGRNYXN0ZXIgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgyMzAxNzIpLCAnaW50JywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDVXNlcl9HZXRHdWlsZERCSW5mbyA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODIzMDE2NCksICdwb2ludGVyJywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDVXNlcl9DYWxMZXZlbFVwSXRlbUNoZWNrID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4Njg5ZDA2KSwgJ2ludCcsIFsncG9pbnRlcicsICdpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENVc2VyX0NhbExldmVsVXBJdGVtU3RhdGUgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2ODlkNzQpLCAnaW50JywgWydwb2ludGVyJywgJ3BvaW50ZXInLCAncG9pbnRlcicsICdpbnQnLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDVXNlcl9HZXRDdXJFeHBlcnRKb2JMZXZlbCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY4YmM3YyksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDVXNlcl9zZW5kX3NraWxsX2luZm8gPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2NmM0NmEpLCAndm9pZCcsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQ1VzZXJfbWFrZV9iYXNpY19pbmZvID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NjVhNDRlKSwgJ2ludCcsIFsncG9pbnRlcicsICdwb2ludGVyJywgJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQ1VzZXJfR2V0V2FyUm9vbSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY1NTFkZSksICdwb2ludGVyJywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDVXNlcl9hZGp1c3RfY2hhcmFjX3N0YXQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2NjQ3NjYpLCAnaW50JywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDVXNlcl9pbmNyZWFzZV9zdGF0dXMgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2NjU3ZmMpLCAndm9pZCcsIFsncG9pbnRlcicsICdpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENVc2VyX1NlbmRUYWdDaGFyYWNJbmZvID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NjkwM2Y4KSwgJ3ZvaWQnLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENVc2VyX2dpdmVDaGFyYWNMaW5rQm9udXNFeHAgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2NTI1NjQpLCAndm9pZCcsIFsncG9pbnRlcicsICdpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENVc2VyX2dldF9jaGFyYWNfbm8gPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2NGRmYTApLCAnaW50JywgWydwb2ludGVyJywgJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQ1VzZXJfUmVjb3ZlckZhdGlndWUgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2NTdhZGEpLCAnaW50JywgWydwb2ludGVyJywgJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQ1VzZXJfU2VuZEZhdGlndWUgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2NTY1NDApLCAndm9pZCcsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQ1VzZXJfcHJvY2Vzc0xldmVsUmV3YXJkID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4Njg3NDVlKSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInLCAnaW50JywgJ2ludCcsICdpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENVc2VyX2dpdmVQdlBTa2lsbFRyZWUgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2NjU0MDApLCAnaW50JywgWydwb2ludGVyJywgJ2ludCcsICdpbnQnLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDVXNlcl9yZXdhcmRFeHAgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2OGIyMGMpLCAndm9pZCcsIFsncG9pbnRlcicsICdpbnQnLCAnaW50JywgJ2ludCcsICdwb2ludGVyJywgJ3BvaW50ZXInLCAnaW50JywgJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQoNCnZhciBDVXNlckNoYXJhY0luZm9fc2V0RGVtZW5zaW9uSW5vdXRWYWx1ZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODIyZjE4NCksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50JywgJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQovL+iOt+WPluinkuiJsuWQjeWtlw0KdmFyIENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNOYW1lID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgxMDEwMjgpLCAncG9pbnRlcicsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQovL+iOt+WPluinkuiJsuS4iuasoemAgOWHuua4uOaIj+aXtumXtA0KdmFyIENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNMYXN0UGxheVRpY2sgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODJBNjZBQSksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KLy/ojrflj5bop5LoibLnrYnnuqcNCnZhciBDVXNlckNoYXJhY0luZm9fZ2V0X2NoYXJhY19sZXZlbCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MERBMkI4KSwgJ2ludCcsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQovL+iOt+WPluinkuiJsuW9k+WJjeetiee6p+WNh+e6p+aJgOmcgOe7j+mqjA0KdmFyIENVc2VyQ2hhcmFjSW5mb19nZXRfbGV2ZWxfdXBfZXhwID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NjRFM0JBKSwgJ2ludCcsIFsncG9pbnRlcicsICdpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KLy/ojrflj5bop5LoibLog4zljIUNCnZhciBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjSW52ZW5XID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgwREEyOEUpLCAncG9pbnRlcicsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQovL+iOt+WPluinkuiJsuWJr+iBjOS4mg0KdmFyIENVc2VyQ2hhcmFjSW5mb19HZXRDdXJDaGFyYWNFeHBlcnRKb2IgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODIyZjhkNCksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KLy/orr7nva7lubjov5DngrnmlbANCnZhciBDVXNlckNoYXJhY0luZm9fU2V0Q3VyQ2hhcmFjTHVja1BvaW50ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NjQ2NzBBKSwgJ2ludCcsIFsncG9pbnRlcicsICdpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KLy/ojrflj5bop5LoibLlvZPliY3lubjov5DngrkNCnZhciBDVXNlckNoYXJhY0luZm9fR2V0Q3VyQ2hhcmFjTHVja1BvaW50ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgyMkY4MjgpLCAnaW50JywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCi8v6K6+572u6KeS6Imy5bGe5oCn5pS55Y+Y6ISP5qCH6K6wKOinkuiJsuS4iue6v+aXtuaKiuaJgOacieWxnuaAp+S7juaVsOaNruW6k+e8k+WtmOWIsOWGheWtmOS4rSwg5Y+q5pyJ6K6+572u5LqG6ISP5qCH6K6wLCDop5LoibLkuIvnur/ml7bmiY3og73mraPnoa7lrZjmoaPliLDmlbDmja7lupMsIOWQpuWImeWPmOWKqOeahOWxnuaAp+S4i+e6v+WQjuWPr+iDveS8muWbnuahoykNCnZhciBDVXNlckNoYXJhY0luZm9fZW5hYmxlU2F2ZUNoYXJhY1N0YXQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODE5QTg3MCksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KLy/mnKzmrKHnmbvlvZXml7bpl7QNCnZhciBDVXNlckNoYXJhY0luZm9fR2V0TG9naW5UaWNrID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgyMkY2OTIpLCAnaW50JywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCi8v6I635Y+W5b2T5YmN6KeS6ImyaWQNCnZhciBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjTm8gPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODBDQkM0RSksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNNb25leSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODE3YTE4OCksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENVc2VyQ2hhcmFjSW5mb19HZXRDdXJDaGFyYWNNYXhFcXVpcExldmVsID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NjQ2N2EwKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQ1VzZXJDaGFyYWNJbmZvX1NldEN1ckNoYXJhY01heEVxdWlwTGV2ZWwgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2NDY3YzIpLCAnaW50JywgWydwb2ludGVyJywgJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY1NraWxsUiA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODIyZjEzMCksICdwb2ludGVyJywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjU2tpbGxXID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MjJmMTQwKSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNSID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NTRmNzE4KSwgJ2ludCcsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfZXhwID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NGVjMDVjKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQ1VzZXJDaGFyYWNJbmZvX3NldEN1ckNoYXJhY0V4cCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODE5YTg3YyksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDVXNlckNoYXJhY0luZm9fYWRkQ3VyQ2hhcmFjRXhwID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4Njk2N2JlKSwgJ2ludCcsIFsncG9pbnRlcicsICdpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENVc2VyQ2hhcmFjSW5mb19pbmNDdXJDaGFyYWNMZXZlbCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY5Njc2MiksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENVc2VyQ2hhcmFjSW5mb19zZXRDdXJDaGFyYWNFeHAgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgxOWE4N2MpLCAnaW50JywgWydwb2ludGVyJywgJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQ1VzZXJDaGFyYWNJbmZvX3Jlc2V0Q2hhcmFjRmF0aWd1ZUdyb3duVXBCdWZmID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4Njk2Mzg2KSwgJ2ludCcsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY0dyb3dUeXBlID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MTU3NDFjKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQ1VzZXJDaGFyYWNJbmZvX3NldF9jaGFyYWNfZmF0aWd1ZV9idWZfYm9udXNfZXhwID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NDY5YTAyKSwgJ2ludCcsIFsncG9pbnRlcicsICdpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNDcmVhdGVUaW1lID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MjJmMjAyKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQ1VzZXJDaGFyYWNJbmZvX1Jlc2V0Q3VyQ2hhcmFjRHVuZ2VvblBsYXlDb3VudCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY5NjlmZSksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENVc2VyQ2hhcmFjSW5mb19HZXRDdXJDaGFyYWNFeHBlcnRKb2JFeHAgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgzNzUwMjYpLCAnaW50JywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDVXNlckNoYXJhY0luZm9fR2V0Q3VyQ2hhcmFjRHVuZ2VvblBsYXlDb3VudCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODViZmM3OCksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENVc2VyQ2hhcmFjSW5mb19nZXRfY2hhcmFjX2pvYiA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODBmZGYyMCksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENVc2VyQ2hhcmFjSW5mb19nZXRfcHZwX2dyYWRlID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MTllZTRhKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfam9iID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MGZkZjIwKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJTZWNvbmRHcm93VHlwZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODIyZjIzYyksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyRmlyc3RHcm93VHlwZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODExMGM5NCksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENVc2VyQ2hhcmFjSW5mb19HZXRDdXJDaGFyYWNFeHBlcnRKb2JUeXBlID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MjJmODk0KSwgJ2ludCcsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQ1VzZXJDaGFyYWNJbmZvX0dldEN1ckNoYXJhY1NraWxsVHJlZUluZGV4ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MjJmMzNjKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQ1VzZXJDaGFyYWNJbmZvX3NldEN1ckNoYXJhY0ZhdGlndWUgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgyMmYyY2UpLCAnaW50JywgWydwb2ludGVyJywgJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQ1VzZXJDaGFyYWNJbmZvX2FkZF9ndWlsZF9leHAgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2NDVjNzYpLCAnaW50JywgWydwb2ludGVyJywgJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQ1VzZXJDaGFyYWNJbmZvX3NldEN1ckNoYXJhY1N0YW1pbmEgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgyZjA5MTQpLCAnaW50JywgWydwb2ludGVyJywgJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQ1VzZXJDaGFyYWNJbmZvX0luY3JlYXNlUG93ZXJXYXJQb2ludCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY4N2VmYyksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjUiA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODEyMDQzMiksICdwb2ludGVyJywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjSW52ZW5SID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MGRhMjdlKSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENVc2VyQ2hhcmFjSW5mb19nZXRfY2hhcmFjX2d1aWxka2V5ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MjJmNDZjKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY0ZhdGlndWUgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgyMmYyYWUpLCAnaW50JywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjQWRkSW5mb1JlZlcgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2OTYwZDgpLCAnaW50JywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCg0KdmFyIENJbnZlbnRvcnlfR2V0SW52ZW5SZWYgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODRGQzFERSksICdwb2ludGVyJywgWydwb2ludGVyJywgJ2ludCcsICdpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KLy/lh4/lsJHph5HluIENCnZhciBDSW52ZW50b3J5X3VzZV9tb25leSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4NEZGNTRDKSwgJ2ludCcsIFsncG9pbnRlcicsICdpbnQnLCAnaW50JywgJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQovL+WinuWKoOmHkeW4gQ0KdmFyIENJbnZlbnRvcnlfZ2Fpbl9tb25leSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4NEZGMjlDKSwgJ2ludCcsIFsncG9pbnRlcicsICdpbnQnLCAnaW50JywgJ2ludCcsICdpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KLy/ojrflj5bop5LoibLlvZPliY3mjIHmnInph5HluIHmlbDph48NCnZhciBDSW52ZW50b3J5X2dldF9tb25leSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MTM0N0Q2KSwgJ2ludCcsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQovL+iOt+WPluaXtuijheeuoeeQhuWZqA0KdmFyIENJbnZlbnRvcnlfR2V0QXZhdGFySXRlbU1nclIgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODBERDU3NiksICdwb2ludGVyJywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCi8v6IOM5YyF5Lit5Yig6Zmk6YGT5YW3KOiDjOWMheaMh+mSiCwg6IOM5YyF57G75Z6LLCDmp70sIOaVsOmHjywg5Yig6Zmk5Y6f5ZugLCDorrDlvZXliKDpmaTml6Xlv5cpDQp2YXIgQ0ludmVudG9yeV9kZWxldGVfaXRlbSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4NTA0MDBDKSwgJ2ludCcsIFsncG9pbnRlcicsICdpbnQnLCAnaW50JywgJ2ludCcsICdpbnQnLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDSW52ZW50b3J5X0dldEludmVuRGF0YSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODRmYmYyYyksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50JywgJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENJbnZlbnRvcnlfR2V0SW52ZW5TbG90ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NGZiOTE4KSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInLCAnaW50JywgJ2ludCcsICdpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENJbnZlbnRvcnlfdXBkYXRlX2l0ZW0gPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg1MDAwYWUpLCAnaW50JywgWydwb2ludGVyJywgJ2ludCcsICdpbnQnLCAnaW50JywgJ2ludCcsICdpbnQnLCAnaW50JywgJ2ludCcsICdpbnQnLCAnaW50JywgJ2ludCcsICdpbnQnLCAnaW50JywgJ2ludCcsICdpbnQnLCAnaW50JywgJ2ludCcsICdpbnQnLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDSW52ZW50b3J5X2luc2VydEl0ZW1JbnRvSW52ZW50b3J5ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NTAyZDg2KSwgJ2ludCcsIFsncG9pbnRlcicsICdpbnQnLCAnaW50JywgJ2ludCcsICdpbnQnLCAnaW50JywgJ2ludCcsICdpbnQnLCAnaW50JywgJ2ludCcsICdpbnQnLCAnaW50JywgJ2ludCcsICdpbnQnLCAnaW50JywgJ2ludCcsICdpbnQnLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDSW52ZW50b3J5X0dldEV2ZW50Q29pbiA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODExMGM3YSksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENJbnZlbnRvcnlfU2V0RXZlbnRDb2luID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MTEwYzg2KSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDSW52ZW50b3J5X0dldENvaW4gPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgyMmQ2OGEpLCAnaW50JywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDSW52ZW50b3J5X1NldENvaW4gPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgyMmQ2N2MpLCAncG9pbnRlcicsIFsncG9pbnRlcicsICdpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENJbnZlbnRvcnlfZ2V0X2ludmVuX3Nsb3Rfbm8gPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg1MGNkNjIpLCAnaW50JywgWydwb2ludGVyJywgJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQoNCi8vIOWIhuino+acuiDlj4LmlbAg6KeS6ImyIOS9jee9riDog4zljIXnsbvlnosgIDIzOSAg6KeS6Imy77yI6LCB55qE77yJIDB4RkZGRg0KdmFyIERpc1BhdGNoZXJfRGlzSm9pbnRJdGVtX2Rpc2pvaW50ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgxZjkyY2EpLCAnaW50JywgWydwb2ludGVyJywgJ2ludCcsICdpbnQnLCAnaW50JywgJ3BvaW50ZXInLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCg0KdmFyIEFjY291bnRDYXJnb1NjcmlwdF9HZXRDdXJyVXBncmFkZUluZm8gPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg4YzgwYmEpLCAnaW50JywgWydwb2ludGVyJywgJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQ0FjY291bnRDYXJnb19DaGVja1ZhbGlkU2xvdCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODI4QTU1NCksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDQWNjb3VudENhcmdvX1Jlc2V0U2xvdCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODI4OThjMCksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDQWNjb3VudENhcmdvX0NoZWNrTW9uZXlMaW1pdCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODI4YTRjYSksICdpbnQnLCBbJ3BvaW50ZXInLCAndWludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQ0FjY291bnRDYXJnb19BZGRNb25leSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODI4YTc0MiksICdwb2ludGVyJywgWydwb2ludGVyJywgJ3VpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENBY2NvdW50Q2FyZ29fU2VuZE5vdGlmeU1vbmV5ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MjhhN2RjKSwgJ3BvaW50ZXInLCBbJ2ludCcsICdpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENBY2NvdW50Q2FyZ29fU3ViTW9uZXkgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgyOGE3NjQpLCAncG9pbnRlcicsIFsncG9pbnRlcicsICd1aW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDQWNjb3VudENhcmdvX0dldEl0ZW1Db3VudCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODI4YTc5NCksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENBY2NvdW50Q2FyZ29fR2V0TW9uZXkgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgyMmYwMjApLCAnaW50JywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDQWNjb3VudENhcmdvX1NldFN0YWJsZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODQ0ZGMxNiksICdwb2ludGVyJywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCi8vIOiOt+WPlui0puWPt+mHkeW6k+S4gOS4quepuueahOagvOWtkA0KdmFyIENBY2NvdW50Q2FyZ29fR2V0RW1wdHlTbG90ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MjhhNTgwKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQovLyDlsIblt7Lnu4/nianlk4Hnp7vliqjliLDmn5DkuKrmoLzlrZAg56ys5LiA5Liq6LSm5Y+36YeR5bqT77yM56ys5LqM5Liq56e75YWl55qE54mp5ZOB77yM56ys5LiJ5Liq5qC85a2Q5L2N572uDQp2YXIgQ0FjY291bnRDYXJnb19JbnNlcnRJdGVtID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4Mjg5YzgyKSwgJ2ludCcsIFsncG9pbnRlcicsICdwb2ludGVyJywgJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQovLyDlkJHlrqLmiLfnq6/lj5HpgIHotKblj7fph5HlupPliJfooagNCnZhciBDQWNjb3VudENhcmdvX1NlbmRJdGVtTGlzdCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODI4YTg4YSksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KDQovL+WIoOmZpOiDjOWMheanveS4reeahOmBk+WFtw0KdmFyIEludmVuX0l0ZW1fcmVzZXQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgwQ0I3RDgpLCAnaW50JywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCi8v5qOA5p+l6IOM5YyF5Lit6YGT5YW35piv5ZCm5Li656m6DQp2YXIgSW52ZW5fSXRlbV9pc0VtcHR5ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgxMUVENjYpLCAnaW50JywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCi8v6I635Y+W6IOM5YyF5Lit6YGT5YW3aXRlbV9pZA0KdmFyIEludmVuX0l0ZW1fZ2V0S2V5ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDg1MEQxNEUpLCAnaW50JywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCi8v6YGT5YW35piv5ZCm5piv6KOF5aSHDQp2YXIgSW52ZW5fSXRlbV9pc0VxdWlwYWJsZUl0ZW1UeXBlID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MTUwODEyKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQovL+iDjOWMhemBk+WFtw0KdmFyIEludmVuX0l0ZW1fSW52ZW5fSXRlbSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MENCODU0KSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KLy/ojrflj5bpgZPlhbfpmYTliqDkv6Hmga8NCnZhciBJbnZlbl9JdGVtX2dldF9hZGRfaW5mbyA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MEY3ODNBKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQoNCnZhciBDSXRlbV9HZXRJbmRleCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MTEwYzQ4KSwgJ2ludCcsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQ0l0ZW1fR2V0R3JhZGUgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODExMGM1NCksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENJdGVtX0dldEl0ZW1OYW1lID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgxMWVkODIpLCAnaW50JywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDSXRlbV9HZXRQcmljZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MjJjODRhKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQ0l0ZW1fR2V0R2VuUmF0ZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MjJjODRhKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQ0l0ZW1fR2V0TmVlZExldmVsID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDg1NDVmZGEpLCAnaW50JywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDSXRlbV9HZXRVc2FibGVMZXZlbCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MGYxMmVlKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQ0l0ZW1fR2V0UmFyaXR5ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgwZjEyZDYpLCAnaW50JywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDSXRlbV9HZXRBdHRhY2hUeXBlID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgwZjEyZTIpLCAnaW50JywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDSXRlbV9HZXRJdGVtR3JvdXBOYW1lID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgwZjEzMTIpLCAnaW50JywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDSXRlbV9HZXRVcFNraWxsVHlwZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4NTQ1ZmNjKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQ0l0ZW1fR2V0R2V0RXhwZXJ0Sm9iQ29tcG91bmRNYXRlcmlhbFZhcmlhdGlvbiA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4NTBkMjkyKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQ0l0ZW1fR2V0RXhwZXJ0Sm9iQ29tcG91bmRSYXRlVmFyaWF0aW9uID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDg1MGQyYWEpLCAnaW50JywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDSXRlbV9HZXRFeHBlcnRKb2JDb21wb3VuZFJlc3VsdFZhcmlhdGlvbiA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4NTBkMmMyKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQ0l0ZW1fR2V0RXhwZXJ0Sm9iU2VsZkRpc2pvaW50QmlnV2luUmF0ZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4NTBkMmRlKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQ0l0ZW1fR2V0RXhwZXJ0Sm9iU2VsZkRpc2pvaW50UmVzdWx0VmFyaWF0aW9uID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDg1MGQyZjYpLCAnaW50JywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDSXRlbV9HZXRFeHBlcnRKb2JBZGRpdGlvbmFsRXhwID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDg1MGQzMGUpLCAnaW50JywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCi8v6YGT5YW35piv5ZCm5Li65raI6ICX5ZOBDQp2YXIgQ0l0ZW1faXNfc3RhY2thYmxlID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgwRjEyRkEpLCAnaW50JywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDSXRlbV9pc1BhY2thZ2FibGUgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgyOGI1YjQpLCAnaW50JywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDSXRlbV9nZXRVc2FibGVQZXJpb2QgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgxMTBjNjApLCAnaW50JywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDSXRlbV9nZXRFeHBpcmF0aW9uRGF0ZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODBmMTMwNiksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENJdGVtX0dldEluY3JlYXNlU3RhdHVzSW50RGF0YSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY5NDY1OCksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50JywgJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENJdGVtX0dldEluY3JlYXNlU3RhdHVzVHlwZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY5NDZiNiksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENJdGVtX0dldFVzYWJsZVB2UFJhbmsgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2OTQ2YzQpLCAnaW50JywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCg0KdmFyIENFcXVpcEl0ZW1fR2V0VXNhYmxlRXF1aXBtZW50VHlwZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODMyZTAzNiksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENFcXVpcEl0ZW1fR2V0U3ViVHlwZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MzNlZWNjKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQovL+aYr+WQpumtlOazleWwgeWNsOijheWkhw0KdmFyIENFcXVpcEl0ZW1fSXNSYW5kb21PcHRpb24gPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODUxNEU1RSksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KLy/ojrflj5boo4XlpIfprZTms5XlsIHljbDnrYnnuqcNCnZhciBDRXF1aXBJdGVtX0dldFJhbmRvbU9wdGlvbkdyYWRlID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDg1MTRFNkUpLCAnaW50JywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCg0KdmFyIFVzZXJRdWVzdF9maW5pc2hfcXVlc3QgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODZBQzg1NCksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCi8v6YCa55+l5a6i5oi356uv5pu05paw6KeS6Imy5Lu75Yqh5YiX6KGoDQp2YXIgVXNlclF1ZXN0X2dldF9xdWVzdF9pbmZvID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDg2QUJCQTgpLCAnaW50JywgWydwb2ludGVyJywgJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KLy/ph43nva7miYDmnInku7vliqHkuLrmnKrlrozmiJDnirbmgIENCnZhciBVc2VyUXVlc3RfcmVzZXQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODZBQjg5NCksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIFVzZXJRdWVzdF9nZXRfbWFpbF9xdWVzdF9pbmZvID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NmFiZDdhKSwgJ2ludCcsIFsnaW50JywgJ2ludCcsICdwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBVc2VyUXVlc3RfUmVzZXRVcmdlbnRRdWVzdFdhaXRpbmdMaXN0ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NmFkMTc4KSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KDQovL+iuvue9ruS7u+WKoeS4uuW3suWujOaIkOeKtuaAgQ0KdmFyIFdvbmdXb3JrX0NRdWVzdENsZWFyX3NldENsZWFyZWRRdWVzdCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MDhCQTc4KSwgJ2ludCcsIFsncG9pbnRlcicsICdpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KLy/ph43nva7ku7vliqHkuLrmnKrlrozmiJDnirbmgIENCnZhciBXb25nV29ya19DUXVlc3RDbGVhcl9yZXNldENsZWFyZWRRdWVzdHMgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODA4QkFBQyksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCi8v5Lu75Yqh5piv5ZCm5bey5a6M5oiQDQp2YXIgV29uZ1dvcmtfQ1F1ZXN0Q2xlYXJfaXNDbGVhcmVkUXVlc3QgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODA4QkFFMCksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCi8v54K55Yi45YWF5YC8DQp2YXIgV29uZ1dvcmtfSVBHX0NJUEdIZWxwZXJfSVBHSW5wdXQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODBGRkNBNCksICdpbnQnLCBbJ3BvaW50ZXInLCAncG9pbnRlcicsICdpbnQnLCAnaW50JywgJ3BvaW50ZXInLCAncG9pbnRlcicsICdwb2ludGVyJywgJ3BvaW50ZXInLCAncG9pbnRlcicsICdwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCi8v5Luj5biB5YWF5YC8DQp2YXIgV29uZ1dvcmtfSVBHX0NJUEdIZWxwZXJfSVBHSW5wdXRQb2ludCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MEZGRkMwKSwgJ2ludCcsIFsncG9pbnRlcicsICdwb2ludGVyJywgJ2ludCcsICdpbnQnLCAncG9pbnRlcicsICdwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCi8v5ZCM5q2l54K55Yi45pWw5o2u5bqTDQp2YXIgV29uZ1dvcmtfSVBHX0NJUEdIZWxwZXJfSVBHUXVlcnkgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODEwMDc5MCksICdpbnQnLCBbJ3BvaW50ZXInLCAncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQovL+iOt+WPluaXtuijheaPkuanveaVsOaNrg0KdmFyIFdvbmdXb3JrX0NBdmF0YXJJdGVtTWdyX2dldEpld2VsU29ja2V0RGF0YSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MkY5OEY4KSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCi8v5Y+R57O757uf6YKu5Lu2KOWkmumBk+WFtykNCnZhciBXb25nV29ya19DTWFpbEJveEhlbHBlcl9SZXFEQlNlbmROZXdTeXN0ZW1NdWx0aU1haWwgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODU1NkI2OCksICdpbnQnLCBbJ3BvaW50ZXInLCAncG9pbnRlcicsICdpbnQnLCAnaW50JywgJ2ludCcsICdwb2ludGVyJywgJ2ludCcsICdpbnQnLCAnaW50JywgJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgV29uZ1dvcmtfQ01haWxCb3hIZWxwZXJfTWFrZVN5c3RlbU11bHRpTWFpbFBvc3RhbCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4NTU2QTE0KSwgJ2ludCcsIFsncG9pbnRlcicsICdwb2ludGVyJywgJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQovL+WPkeezu+e7n+mCruS7tijml7boo4UpKOS7heaUr+aMgeWcqOe6v+inkuiJsuWPkeS/oSkNCnZhciBXb25nV29ya19DTWFpbEJveEhlbHBlcl9SZXFEQlNlbmROZXdBdmF0YXJNYWlsID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDg1NTYxQjApLCAncG9pbnRlcicsIFsncG9pbnRlcicsICdpbnQnLCAnaW50JywgJ2ludCcsICdpbnQnLCAnaW50JywgJ2ludCcsICdwb2ludGVyJywgJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgV29uZ1dvcmtfQ1VzZXJQcmVtaXVtX0dldEdvbGRCb251cyA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY5NGE2NCksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBXb25nV29ya19DVXNlclByZW1pdW1fUmVjYWxjQWRkaXRpb25hbEluZm8gPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2YWU4YzYpLCAncG9pbnRlcicsIFsncG9pbnRlcicsICdwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBXb25nV29ya19DR01BY2NvdW50c19pc0dNID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MTA5MzQ2KSwgJ2ludCcsIFsncG9pbnRlcicsICdpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIFdvbmdXb3JrX0NTa2lsbENoYW5nZXJfQ2hlY2tDb25kaXRpb24gPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2MDlkMTApLCAnaW50JywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBXb25nV29ya19DU2tpbGxDaGFuZ2VyX2RfQ1NraWxsQ2hhbmdlciA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODIzNGZjNCksICd2b2lkJywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBXb25nV29ya19DU2tpbGxDaGFuZ2VyX0NTa2lsbENoYW5nZXIgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgyMzRmYmUpLCAndm9pZCcsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgV29uZ1dvcmtfQ1NraWxsQ2hhbmdlcl9Ta2lsbEluaXRpYWxpemUgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2MDllOTApLCAncG9pbnRlcicsIFsncG9pbnRlcicsICdwb2ludGVyJywgJ2ludCcsICdpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIFdvbmdXb3JrX0NNYWlsQm94SGVscGVyX1JlcURCU2VuZE5ld1N5c3RlbU1haWwgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg1NTU1ZTgpLCAnaW50JywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCg0KLy/mo4DmtYvlvZPliY3op5LoibLmmK/lkKblj6/mjqXor6Xku7vliqENCnZhciBzdFNlbGVjdFF1ZXN0UGFyYW1fc3RTZWxlY3RRdWVzdFBhcmFtID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgzNDgwQjQpLCAncG9pbnRlcicsIFsncG9pbnRlcicsICdwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBRdWVzdF9jaGVja19wb3NzaWJsZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MzUyRDg2KSwgJ2ludCcsIFsncG9pbnRlcicsICdwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCg0KLy/ojrflj5blia/mnKxpZA0KdmFyIENEdW5nZW9uX2dldF9pbmRleCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODBGRENGMCksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KDQovL+ino+WwgemtlOazleWwgeWNsA0KdmFyIHJhbmRvbV9vcHRpb25fQ1JhbmRvbU9wdGlvbkl0ZW1IYW5kbGVfZ2l2ZV9vcHRpb24gPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODVGMkNDNiksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50JywgJ2ludCcsICdpbnQnLCAnaW50JywgJ2ludCcsICdwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCg0KdmFyIEF2YXRhckNvaW5fQWRkID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MTdmZWZhKSwgJ2ludCcsIFsncG9pbnRlcicsICdpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIEF2YXRhckNvaW5fU2F2ZVRvREIgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgxODAwZDYpLCAnaW50JywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBBdmF0YXJDb2luX1NlbmRTeW5jUGFja2V0ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MTdmZmU0KSwgJ2ludCcsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQXZhdGFyQ29pbl9IaXN0b3J5TG9nX0FkZExvZyA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODE3ZmY5YyksICd2b2lkJywgWydwb2ludGVyJywgJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KDQp2YXIgQ1ByZW1pdW1MZXRoZU1hbmFnZXJfSW5pdExldGhlU2tpbGwgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg1YzQwMDgpLCAnaW50JywgWydpbnQnLCAncG9pbnRlcicsICdpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENQcmVtaXVtTGV0aGVNYW5hZ2VyX1VwZGF0ZUJhY2t1cFNraWxsRmxhZyA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODVjM2YzMCksICdpbnQnLCBbJ2ludCcsICdwb2ludGVyJywgJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQ1ByZW1pdW1MZXRoZU1hbmFnZXJfQ29uZmlybVNraWxsUmVxID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NWMzZDcwKSwgJ2ludCcsIFsncG9pbnRlcicsICdwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCg0KdmFyIFNraWxsU2xvdF9nZXRfcmVtYWluX3NwX2F0X2luZGV4ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NjAzNTI4KSwgJ2ludCcsIFsncG9pbnRlcicsICdwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBTa2lsbFNsb3RfZ2V0X3JlbWFpbl9zZnBfYXRfaW5kZXggPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2MDM1ZjIpLCAnaW50JywgWydwb2ludGVyJywgJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIFNraWxsU2xvdF9ncm93dHlwZV9za2lsbCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODYwNDBiYyksICdpbnQnLCBbJ3BvaW50ZXInLCAncG9pbnRlcicsICdpbnQnLCAnaW50JywgJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgU2tpbGxTbG90X3NldF9yZW1haW5fc3BfYXRfaW5kZXggPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2MDM0ZjgpLCAnaW50JywgWydpbnQnLCAnaW50JywgJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgU2tpbGxTbG90X2NsZWFyX3NmcF9za2lsbHMgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2MDRlNzgpLCAnaW50JywgWydpbnQnLCAnaW50JywgJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIFNraWxsU2xvdF9jbGVhcl9hbGxfc2tpbGxzID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NjA0ZDkwKSwgJ2ludCcsIFsncG9pbnRlcicsICdpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIFNraWxsU2xvdF9jbGVhcl9hbGxfc2tpbGxzX2JvdGggPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2MDRlMDgpLCAnaW50JywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBTa2lsbFNsb3Rfc2V0X3BhcmVudCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODIyZWUyZSksICdwb2ludGVyJywgWydwb2ludGVyJywgJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIGFkZFNraWxsT25DcmVhdGVDaGFyYWN0ZXIgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2MDRmZTIpLCAndm9pZCcsIFsnaW50JywgJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQ0NoYXJhY3Rlcl9nZXRfZ2l2ZV9za2lsbCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODM0ODc5OCksICdpbnQnLCBbJ2ludCcsICdpbnQnLCAnaW50JywgJ2ludCcsICdpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KDQp2YXIgQ1F1ZXN0U2hvcF9jbGVhclFQID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NWVmNTRjKSwgJ2ludCcsIFsncG9pbnRlcicsICdwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDUXVlc3RTaG9wX3NlbmRDaGFyYWNRcCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODVlZjZmYyksICd2b2lkJywgWydwb2ludGVyJywgJ3BvaW50ZXInLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCg0KLy/ojrflj5bmtojogJflk4HnsbvlnosNCnZhciBDU3RhY2thYmxlSXRlbV9HZXRJdGVtVHlwZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4NTE0QTg0KSwgJ2ludCcsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQovL+iOt+WPluW+veeroOaUr+aMgeeahOmVtuW1jOanveexu+Weiw0KdmFyIENTdGFja2FibGVJdGVtX2dldEpld2VsVGFyZ2V0U29ja2V0ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MjJDQTI4KSwgJ2ludCcsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQoNCnZhciBDTW9uaXRvclNlcnZlclByb3h5X1NlbmRDaGFyTGV2ZWxHcm93VHlwZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODQ3MGMwNCksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50JywgJ2ludCcsICdpbnQnLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDTW9uaXRvclNlcnZlclByb3h5X1NlbmRQYWNrZXQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg0NzBkZjQpLCAnaW50JywgWydwb2ludGVyJywgJ3BvaW50ZXInLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDU2VydmVyUHJveHlNZ3JfQ01vbml0b3JTZXJ2ZXJQcm94eV9HZXRTZXJ2ZXJQcm94eSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODExMjA4YSksICdwb2ludGVyJywgWydwb2ludGVyJywgJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQ1NlcnZlclByb3h5TWdyX0NHdWlsZFNlcnZlclByb3h5X0dldFNlcnZlclByb3h5ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MTFkM2I4KSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDR3VpbGRTZXJ2ZXJQcm94eV9TZW5kQ2hhckxldmVsR3Jvd1R5cGUgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg0NmRhOWEpLCAnaW50JywgWydwb2ludGVyJywgJ2ludCcsICdpbnQnLCAnaW50JywgJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQoNCi8v5pe26KOF6ZW25bWM5pWw5o2u5a2Y55uYDQp2YXIgREJfVXBkYXRlQXZhdGFySmV3ZWxTbG90X21ha2VSZXF1ZXN0ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDg0MzA4MUMpLCAncG9pbnRlcicsIFsnaW50JywgJ2ludCcsICdwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCg0KLy/ojrflj5blrZfnrKbkuLLplb/luqYNCnZhciBzdHJsZW4gPSBuZXcgTmF0aXZlRnVuY3Rpb24oTW9kdWxlLmdldEV4cG9ydEJ5TmFtZShudWxsLCAnc3RybGVuJyksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KDQovL+e6v+eoi+WuieWFqOmUgQ0KdmFyIEd1YXJkX011dGV4X0d1YXJkID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgxMDU0NEMpLCAnaW50JywgWydwb2ludGVyJywgJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIERlc3Ryb3lfR3VhcmRfTXV0ZXhfR3VhcmQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODEwNTQ2OCksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KDQovL+acjeWKoeWZqOWGhee9ruWumuaXtuWZqOmYn+WIlw0KdmFyIEdfVGltZXJRdWV1ZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MEY2NDdDKSwgJ3BvaW50ZXInLCBbXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KDQovL+aJp+ihjGRlYnVn5ZG95LukDQp2YXIgRG9Vc2VyRGVmaW5lQ29tbWFuZCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODIwQkE5MCksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50JywgJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KDQovL+iuvue9ruinkuiJsuetiee6pyjmnIDpq5g3MOe6pykNCnZhciBEaXNQYXRjaGVyX0RlYnVnQ29tbWFuZF9fZGVidWdDb21tYW5kU2V0TGV2ZWwgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg1OEVGREUpLCAnaW50JywgWydwb2ludGVyJywgJ3BvaW50ZXInLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsvL+mcgOimgeS4tOaXtuW8gEdN5p2D6ZmQDQoNCi8vdmVjdG9y55u45YWz5pON5L2cDQp2YXIgc3RkX3ZlY3Rvcl9zdGRfcGFpcl9pbnRfaW50X3ZlY3RvciA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MTM0OUQ2KSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIHN0ZF92ZWN0b3Jfc3RkX3BhaXJfaW50X2ludF9jbGVhciA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MTdBMzQyKSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIHN0ZF9tYWtlX3BhaXJfaW50X2ludCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MUI4RDQxKSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInLCAncG9pbnRlcicsICdwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBzdGRfdmVjdG9yX3N0ZF9wYWlyX2ludF9pbnRfcHVzaF9iYWNrID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgwREQ2MDYpLCAncG9pbnRlcicsIFsncG9pbnRlcicsICdwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciB2ZWN0b3JfdW5zaWduZWRfaW50X29wZXJhdG9yID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MDhlMWRjKSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBzdGRfdmVjdG9yX3N0ZF9wYWlyX2ludF9pbnRfc2l6ZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODBkZDgxNCksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIHN0ZF92ZWN0b3Jfc3RkX3BhaXJfaW50X2ludF9vcGVyYXRvciA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODBlYThhNCksICdwb2ludGVyJywgWydwb2ludGVyJywgJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgc3RkX3ZlY3Rvcl9zdGRfcGFpcl9pbnRfaW50X2RfdmVjdG9yID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MTM0OWVhKSwgJ3ZvaWQnLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIHN0ZF92ZWN0b3JfY2hhcmFjX2luZm9fc2l6ZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODFhMGI5YSksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIHN0ZF92ZWN0b3JfQ2hhcmFjX2luZm9fb3BlcmF0b3JBcnIgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgxYTBiYjgpLCAnaW50JywgWydwb2ludGVyJywgJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQoNCnZhciBMb2dNYW5hZ2VyX2xvZ0Zvcm1hdCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwOGFkM2MwYSksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50JywgJ3BvaW50ZXInLCAncG9pbnRlcicsICdwb2ludGVyJywgJ3BvaW50ZXInLCAnLi4uJywgJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIGNVc2VySGlzdG9yeUxvZ19FdmVudENvaW5BZGQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2ODNjNTgpLCAncG9pbnRlcicsIFsncG9pbnRlcicsICdpbnQnLCAnaW50JywgJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgY1VzZXJIaXN0b3J5TG9nX0NvaW5BZGQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2ODNiOTApLCAnaW50JywgWydwb2ludGVyJywgJ2ludCcsICdpbnQnLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBIaXN0b3J5TG9nX1dyaXRlTGV2ZWxVcCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODRiOWU1ZSksICdpbnQnLCBbJ3BvaW50ZXInLCAncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgY1VzZXJIaXN0b3J5TG9nX0xldmVsVXAgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2ODQ1YjIpLCAnaW50JywgWydwb2ludGVyJywgJ2ludCcsICdpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIGNVc2VySGlzdG9yeUxvZ19JdGVtQWRkID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NjgyZTg0KSwgJ2ludCcsIFsnaW50JywgJ2ludCcsICdpbnQnLCAnaW50JywgJ3BvaW50ZXInLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCg0KLy/lvIDlkK/mgKrnianmlLvln44NCnZhciBJbnRlcl9WaWxsYWdlQXR0YWNrZWRTdGFydF9kaXNwYXRjaF9zaWcgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODRERjQ3QSksICdwb2ludGVyJywgWydwb2ludGVyJywgJ3BvaW50ZXInLCAncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQovL+e7k+adn+aAqueJqeaUu+Wfjg0KdmFyIHZpbGxhZ2VfYXR0YWNrZWRfQ1ZpbGxhZ2VNb25zdGVyTWdyX09uRGVzdHJveVZpbGxhZ2VNb25zdGVyID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NkI0M0Q0KSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBHbG9iYWxEYXRhX3NfdmlsbGFnZU1vbnN0ZXJNZ3IgPSBwdHIoMHg5NDFGNzdDKTsNCg0KLy/ojrflj5bpmJ/kvI3kuK3njqnlrrYNCnZhciBDUGFydHlfZ2V0X3VzZXIgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgxNDU3NjQpLCAncG9pbnRlcicsIFsncG9pbnRlcicsICdpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENQYXJ0eV9zZW5kX3RvX3BhcnR5ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NTlkMTRlKSwgJ2ludCcsIFsncG9pbnRlcicsICdwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCg0KLy/nu53mnJvkuYvloZTlsYLmlbANCnZhciBUT0RfTGF5ZXJfVE9EX0xheWVyID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NUZFN0I0KSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCi8v6K6+572u57ud5pyb5LmL5aGU5bGC5pWwDQp2YXIgVE9EX1VzZXJTdGF0ZV9zZXRFbnRlckxheWVyID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NjQzOEZDKSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInLCAncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQoNCnZhciBjTXlUcmFjZV9jTXlUcmFjZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODU0ZjcxOCksICd2b2lkJywgWydwb2ludGVyJywgJ3BvaW50ZXInLCAnaW50JywgJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgY015VHJhY2Vfb3BlcmF0b3IgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg1NGY3ODgpLCAndm9pZCcsIFsnaW50JywgJ3BvaW50ZXInLCAncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQoNCnZhciBNc2dRdWV1ZU1ncl9wdXQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg1NzBmZGUpLCAnaW50JywgWydpbnQnLCAnaW50JywgJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIE51bWJlclRvU3RyaW5nID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MTA5MDRiKSwgJ3VpbnQnLCBbJ3VpbnQnLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCg0KdmFyIEdldEludGVncmF0ZWRQdlBJdGVtQXR0ciA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODRmYzVmZiksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIEFSQURfU2luZ2xldG9uX1NlcnZpY2VSZXN0cmljdE1hbmFnZXJfR2V0ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MTYyNWU2KSwgJ3BvaW50ZXInLCBbXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIFNlcnZpY2VSZXN0cmljdE1hbmFnZXJfaXNSZXN0cmljdGVkID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MTZlNmI4KSwgJ3VpbnQ4JywgWydpbnQnLCAncG9pbnRlcicsICdpbnQnLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDU2VjdV9Qcm90ZWN0aW9uRmllbGRfQ2hlY2sgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgyODhhMDIpLCAnaW50JywgWydwb2ludGVyJywgJ3BvaW50ZXInLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCg0KdmFyIHN0QW1wbGlmeU9wdGlvbl90X2dldEFiaWxpdHlUeXBlID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MTUwNzMyKSwgJ3VpbnQ4JywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBzdEFtcGxpZnlPcHRpb25fdF9nZXRBYmlsaXR5VmFsdWUgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgxNTA3NzIpLCAndWludDE2JywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBzdEFtcGxpZnlPcHRpb25fdF9HZXRMb2NrID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MjhiNWE4KSwgJ2ludCcsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQoNCnZhciBTdHJlYW1Qb29sX0FjcXVpcmUgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgyOGZhODYpLCAncG9pbnRlcicsIFsncG9pbnRlcicsICdwb2ludGVyJywgJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQ1N0cmVhbUd1YXJkX0NTdHJlYW1HdWFyZCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODBjOGMyNiksICd2b2lkJywgWydwb2ludGVyJywgJ3BvaW50ZXInLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDU3RyZWFtR3VhcmRfb3BlcmF0b3IgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgwYzhjNDYpLCAnaW50JywgWydpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENTdHJlYW1HdWFyZF9vcGVyYXRvcl9pbnQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgwYzhjNTYpLCAnaW50JywgWydwb2ludGVyJywgJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQ1N0cmVhbUd1YXJkX29wZXJhdG9yX3AgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgwYzhjNGUpLCAnaW50JywgWydpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENTdHJlYW1HdWFyZF9HZXRJbkJ1ZmZlcl9TSUdfQUNDT1VOVF9DQVJHT19EQVRBID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NDUzYTEwKSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIERlc3Ryb3lfQ1N0cmVhbUd1YXJkX0NTdHJlYW1HdWFyZCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODYxYzhkMiksICd2b2lkJywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCg0KdmFyIENTdGFja2FibGVJdGVtX2dldFN0YWNrYWJsZUxpbWl0ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MjJjOWZjKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgaXRlbV9sb2NrX0NJdGVtTG9ja19DaGVja0l0ZW1Mb2NrID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NTQxYTk2KSwgJ2ludCcsIFsnaW50JywgJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgVXBncmFkZVNlcGFyYXRlSW5mb19Jc1RyYWRlUmVzdHJpY3Rpb24gPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgxMTBiMGEpLCAnaW50JywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBTdHJlYW1fb3BlcmF0b3JfcCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODYxYzc5NiksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBTdHJlYW1fR2V0T3V0QnVmZmVyX1NJR19BQ0NPVU5UX0NBUkdPX0RBVEEgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg0NTNhMjYpLCAnaW50JywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCg0KdmFyIENHdWlsZFNlcnZlclByb3h5X1NlbmRJbmNyZWFzZUd1aWxkRXhwID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NDZlY2UyKSwgJ2ludCcsIFsncG9pbnRlcicsICdpbnQnLCAnaW50JywgJ2ludCcsICdpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIFB2UFNraWxsVHJlZVBhcmFtZXRlclNjcmlwdF9nZXRQdlBTa2lsbFBvaW50ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4YTVkZDYyKSwgJ2ludCcsIFsncG9pbnRlcicsICdpbnQnLCAnaW50JywgJ2ludCcsICdpbnQnLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBTZXJ2ZXJQYXJhbWV0ZXJTY3JpcHRfaXNEdW5nZW9uT3BlbiA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODI2ODdmYyksICdpbnQnLCBbXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIFhOdWNsZWFyX0NIYWRlc19FeHBVcCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODRiOTUzZSksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBXYXJSb29tX1NlbmRUb1Jvb20gPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2YmUwY2MpLCAnaW50JywgWydwb2ludGVyJywgJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KDQp2YXIgQ0NoYXJhY3RlclZpZXdfZW5hYmxlU2F2ZUNoYXJhY1ZpZXcgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgyMmZiZGEpLCAncG9pbnRlcicsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQ0xldmVsRHVuZ2VvblBsYXlTdGF0aXN0aWNfSW5jcmVhc2VMZXZlbER1bmdlb25QbGF5ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NjBlY2M2KSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInLCAnaW50JywgJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgZXhwZXJ0X2pvYl9DRXhwZXJ0Sm9iX0luY3JlYXNlRXhwZXJ0Sm9iRXhwID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4Mzc1MDI2KSwgJ3ZvaWQnLCBbJ3BvaW50ZXInLCAncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQVBTeXN0ZW1fQ1VzZXJQcm9jX0NsZWFyQWN0aW9uQW5kU2VuZHRvVXNlciA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODEyMjM5MCksICd2b2lkJywgWydwb2ludGVyJywgJ2ludCcsICdpbnQnLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBEQl9JbnNlcnRVbmxpbWl0U3VwcG9ydExvZ19tYWtlUmVxdWVzdCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODBjYmM5ZSksICd2b2lkJywgWydwb2ludGVyJywgJ2ludCcsICdwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBEQl9JbnNlcnRBcmNoaWV2ZUV2ZW50TG9nX21ha2VSZXF1ZXN0ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MTE1OTk4KSwgJ3ZvaWQnLCBbJ2ludCcsICdpbnQnLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBSREFSU2NyaXB0U3RyaW5nTWFuYWdlcl9maW5kU3RyaW5nID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4YWE1N2ZlKSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInLCAnaW50JywgJ3BvaW50ZXInLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBJbXBvcnRTcFBlckxldmVsUmVmZXJlbmNlVGFibGUgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg5MTA1MDUpLCAnaW50JywgWydwb2ludGVyJywgJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIHN0U3BQZXJMZXZlbFRhYmxlID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MzdmNTQ0KSwgJ3ZvaWQnLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KDQovL+iOt+WPluiDjOWMheanveS4reeahOmBk+WFtw0KdmFyIElOVkVOVE9SWV9UWVBFX0JPRFkgPSAwOyAgICAgICAgICAgIC8v6Lqr5LiK56m/55qE6KOF5aSHKDAtMjYpDQp2YXIgSU5WRU5UT1JZX1RZUEVfSVRFTSA9IDE7ICAgICAgICAgICAgLy/nianlk4HmoI8oMC0zMTEpDQp2YXIgSU5WRU5UT1JZX1RZUEVfQVZBUlRBUiA9IDI7ICAgICAgICAgLy/ml7boo4XmoI8oMC0xMDQpDQp2YXIgSU5WRU5UT1JZX1RZUEVfQ1JFQVRVUkUgPSAzOyAgICAgICAgLy/lrqDnianoo4XlpIcoMC0yNDEpDQoNCi8v6YCa55+l5a6i5oi356uv5pu05paw6IOM5YyF5qCPDQp2YXIgRU5VTV9JVEVNU1BBQ0VfSU5WRU5UT1JZID0gMDsgICAgICAgLy/nianlk4HmoI8NCnZhciBFTlVNX0lURU1TUEFDRV9BVkFUQVIgPSAxOyAgICAgICAgICAvL+aXtuijheagjw0KdmFyIEVOVU1fSVRFTVNQQUNFX0NBUkdPID0gMjsgICAgICAgICAgIC8v5LuT5bqTDQp2YXIgRU5VTV9JVEVNU1BBQ0VfQ1JFQVRVUkUgPSA3OyAgICAgICAgLy/lrqDnianmoI8NCnZhciBFTlVNX0lURU1TUEFDRV9BQ0NPVU5UX0NBUkdPID0gMTI7ICAvL+i0puWPt+S7k+W6kw0KDQovL01ZU1FM5pON5L2cDQovL+a4uOaIj+S4reW3suaJk+W8gOeahOaVsOaNruW6k+e0ouW8lSjmuLjmiI/mlbDmja7lupPpnZ7nur/nqIvlronlhagg6LCo5oWO5pON5L2cKQ0KdmFyIFRBSVdBTl9DQUlOID0gMjsNCnZhciBEQk1ncl9HZXREQkhhbmRsZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4M0Y1MjNFKSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInLCAnaW50JywgJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgTXlTUUxfTXlTUUwgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODNGM0FDOCksICdwb2ludGVyJywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBNeVNRTF9pbml0ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgzRjNDRTQpLCAnaW50JywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBNeVNRTF9vcGVuID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgzRjQwMjQpLCAnaW50JywgWydwb2ludGVyJywgJ3BvaW50ZXInLCAnaW50JywgJ3BvaW50ZXInLCAncG9pbnRlcicsICdwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBNeVNRTF9jbG9zZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4M0YzRTc0KSwgJ2ludCcsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgTXlTUUxfc2V0X3F1ZXJ5XzIgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODNGNDFDMCksICdpbnQnLCBbJ3BvaW50ZXInLCAncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgTXlTUUxfc2V0X3F1ZXJ5XzMgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODNGNDFDMCksICdpbnQnLCBbJ3BvaW50ZXInLCAncG9pbnRlcicsICdpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIE15U1FMX3NldF9xdWVyeV80ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgzRjQxQzApLCAnaW50JywgWydwb2ludGVyJywgJ3BvaW50ZXInLCAnaW50JywgJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgTXlTUUxfc2V0X3F1ZXJ5XzUgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODNGNDFDMCksICdpbnQnLCBbJ3BvaW50ZXInLCAncG9pbnRlcicsICdpbnQnLCAnaW50JywgJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgTXlTUUxfc2V0X3F1ZXJ5XzYgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODNGNDFDMCksICdpbnQnLCBbJ3BvaW50ZXInLCAncG9pbnRlcicsICdpbnQnLCAnaW50JywgJ2ludCcsICdpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIE15U1FMX2V4ZWMgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODNGNDMyNiksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBNeVNRTF9leGVjX3F1ZXJ5ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4M0Y1MzQ4KSwgJ2ludCcsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgTXlTUUxfZ2V0X25fcm93cyA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MEUyMzZDKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgTXlTUUxfZmV0Y2ggPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODNGNDRCQyksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIE15U1FMX2dldF9pbnQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODExNjkyQyksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50JywgJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIE15U1FMX2dldF91aW50ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgwRTIyRjIpLCAnaW50JywgWydwb2ludGVyJywgJ2ludCcsICdwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBNeVNRTF9nZXRfdWxvbmdsb25nID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgxNzU0QzgpLCAnaW50JywgWydwb2ludGVyJywgJ2ludCcsICdwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBNeVNRTF9nZXRfdXNob3J0ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgxMTY5OTApLCAnaW50JywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBNeVNRTF9nZXRfZmxvYXQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODQ0RDZEMCksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50JywgJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIE15U1FMX2dldF9iaW5hcnkgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODEyNTMxQSksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50JywgJ3BvaW50ZXInLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBNeVNRTF9nZXRfYmluYXJ5X2xlbmd0aCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MTI1M0RFKSwgJ2ludCcsIFsncG9pbnRlcicsICdpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIE15U1FMX2dldF9zdHIgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODBFQ0RFQSksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50JywgJ3BvaW50ZXInLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBNeVNRTF9ibG9iX3RvX3N0ciA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4M0Y0NTJBKSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInLCAnaW50JywgJ3BvaW50ZXInLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBjb21wcmVzc196aXAgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODZCMjAxRiksICdpbnQnLCBbJ3BvaW50ZXInLCAncG9pbnRlcicsICdwb2ludGVyJywgJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgdW5jb21wcmVzc196aXAgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODZCMjEwMiksICdpbnQnLCBbJ3BvaW50ZXInLCAncG9pbnRlcicsICdwb2ludGVyJywgJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQoNCnZhciBNeVNRTF9zZXRfcXVlcnlfM19wdHIgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODNGNDFDMCksICdpbnQnLCBbJ3BvaW50ZXInLCAncG9pbnRlcicsICdwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCg0KLy/lt7LmiZPlvIDnmoTmlbDmja7lupPlj6Xmn4QNCnZhciBteXNxbF90YWl3YW5fY2FpbiA9IG51bGw7DQp2YXIgbXlzcWxfdGFpd2FuX2NhaW5fMm5kID0gbnVsbDsNCnZhciBteXNxbF90YWl3YW5fYmlsbGluZyA9IG51bGw7DQp2YXIgbXlzcWxfZnJpZGEgPSBudWxsOw0KDQoNCg0KLyoqDQogKiAg5pyN5Yqh56uv5Ye95pWwSG9va+OAgeWwgeijheWPiuiHquWumuS5ieWKn+iDvQ0KICovDQovL+iOt+WPluezu+e7n1VUQ+aXtumXtCjnp5IpDQpmdW5jdGlvbiBhcGlfQ1N5c3RlbVRpbWVfZ2V0Q3VyU2VjKCkgew0KICAgIHJldHVybiBnZXRDdXJTZWMocHRyKDApKTsNCn0NCg0KLy/nu5nop5LoibLlj5Hnu4/pqowNCmZ1bmN0aW9uIGFwaV9DVXNlcl9nYWluX2V4cF9zcCh1c2VyLCBleHApIHsNCiAgICB2YXIgYTIgPSBNZW1vcnkuYWxsb2MoNCk7DQogICAgdmFyIGEzID0gTWVtb3J5LmFsbG9jKDQpOw0KICAgIENVc2VyX2dhaW5fZXhwX3NwKHVzZXIsIGV4cCwgYTIsIGEzLCAwLCAwLCAwKTsNCn0NCg0KLy/nu5nop5LoibLlj5HpgZPlhbcNCmZ1bmN0aW9uIGFwaV9DVXNlcl9BZGRJdGVtKHVzZXIsIGl0ZW1faWQsIGl0ZW1fY250KSB7DQogICAgdmFyIGl0ZW1fc3BhY2UgPSBNZW1vcnkuYWxsb2MoNCk7DQogICAgdmFyIHNsb3QgPSBDVXNlcl9BZGRJdGVtKHVzZXIsIGl0ZW1faWQsIGl0ZW1fY250LCA2LCBpdGVtX3NwYWNlLCAwKTsNCg0KICAgIGlmIChzbG90ID49IDApIHsNCiAgICAgICAgLy/pgJrnn6XlrqLmiLfnq6/mnInmuLjmiI/pgZPlhbfmm7TmlrANCiAgICAgICAgQ1VzZXJfU2VuZFVwZGF0ZUl0ZW1MaXN0KHVzZXIsIDEsIGl0ZW1fc3BhY2UucmVhZEludCgpLCBzbG90KTsNCiAgICB9DQoNCiAgICByZXR1cm47DQp9DQoNCi8v6I635Y+W6KeS6Imy5ZCN5a2XDQpmdW5jdGlvbiBhcGlfQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY05hbWUodXNlcikgew0KICAgIHZhciBwID0gQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY05hbWUodXNlcik7DQogICAgaWYgKHAuaXNOdWxsKCkpIHsNCiAgICAgICAgcmV0dXJuICcnOw0KICAgIH0NCg0KICAgIHJldHVybiBwLnJlYWRVdGY4U3RyaW5nKC0xKTsNCn0NCg0KLy/nu5nop5LoibLlj5Hmtojmga8NCmZ1bmN0aW9uIGFwaV9DVXNlcl9TZW5kTm90aVBhY2tldE1lc3NhZ2UodXNlciwgbXNnLCBtc2dfdHlwZSkgew0KICAgIHZhciBwID0gTWVtb3J5LmFsbG9jVXRmOFN0cmluZyhtc2cpOw0KICAgIENVc2VyX1NlbmROb3RpUGFja2V0TWVzc2FnZSh1c2VyLCBwLCBtc2dfdHlwZSk7DQoNCiAgICByZXR1cm47DQp9DQoNCg0KLy/ngrnliLjlhYXlgLwgKOemgeatouebtOaOpeS/ruaUuWJpbGxpbmflupPmiYDmnInooajlrZfmrrUsIOeCueWIuOebuOWFs+aTjeS9nOWKoeW/heiwg+eUqOaVsOaNruW6k+WtmOWCqOi/h+eoiyEpDQpmdW5jdGlvbiBhcGlfcmVjaGFyZ2VfY2FzaF9jZXJhKHVzZXIsIGFtb3VudCkgew0KICAgIC8v5YWF5YC8DQogICAgV29uZ1dvcmtfSVBHX0NJUEdIZWxwZXJfSVBHSW5wdXQocHRyKDB4OTQxRjczNCkucmVhZFBvaW50ZXIoKSwgdXNlciwgNSwgYW1vdW50LCBwdHIoMHg4QzdGQTIwKSwgcHRyKDB4OEM3RkEyMCksDQogICAgICAgIE1lbW9yeS5hbGxvY1V0ZjhTdHJpbmcoJ0dNJyksIHB0cigwKSwgcHRyKDApLCBwdHIoMCkpOw0KDQogICAgLy/pgJrnn6XlrqLmiLfnq6/lhYXlgLznu5PmnpwNCiAgICBXb25nV29ya19JUEdfQ0lQR0hlbHBlcl9JUEdRdWVyeShwdHIoMHg5NDFGNzM0KS5yZWFkUG9pbnRlcigpLCB1c2VyKTsNCn0NCg0KLy/ku6PluIHlhYXlgLwgKOemgeatouebtOaOpeS/ruaUuWJpbGxpbmflupPmiYDmnInooajlrZfmrrUsIOeCueWIuOebuOWFs+aTjeS9nOWKoeW/heiwg+eUqOaVsOaNruW6k+WtmOWCqOi/h+eoiyEpDQpmdW5jdGlvbiBhcGlfcmVjaGFyZ2VfY2FzaF9jZXJhX3BvaW50KHVzZXIsIGFtb3VudCkgew0KICAgIC8v5YWF5YC8DQogICAgV29uZ1dvcmtfSVBHX0NJUEdIZWxwZXJfSVBHSW5wdXRQb2ludChwdHIoMHg5NDFGNzM0KS5yZWFkUG9pbnRlcigpLCB1c2VyLCBhbW91bnQsIDQsIHB0cigwKSwgcHRyKDApKTsNCg0KICAgIC8v6YCa55+l5a6i5oi356uv5YWF5YC857uT5p6cDQogICAgV29uZ1dvcmtfSVBHX0NJUEdIZWxwZXJfSVBHUXVlcnkocHRyKDB4OTQxRjczNCkucmVhZFBvaW50ZXIoKSwgdXNlcik7DQp9DQoNCi8v6I635Y+W6YGT5YW35ZCN5a2XDQpmdW5jdGlvbiBhcGlfQ0l0ZW1fR2V0SXRlbU5hbWUoaXRlbV9pZCkgew0KICAgIHZhciBjaXRlbSA9IENEYXRhTWFuYWdlcl9maW5kX2l0ZW0oR19DRGF0YU1hbmFnZXIoKSwgaXRlbV9pZCk7DQogICAgaWYgKCFjaXRlbS5pc051bGwoKSkgew0KICAgICAgICByZXR1cm4gcHRyKENJdGVtX0dldEl0ZW1OYW1lKGNpdGVtKSkucmVhZFV0ZjhTdHJpbmcoLTEpOw0KICAgIH0NCg0KICAgIHJldHVybiBpdGVtX2lkLnRvU3RyaW5nKCk7DQp9DQoNCi8qKg0KICog6YeN572u5byC55WM5qyh5pWwDQogKiBAcGFyYW0gdXNlcg0KICogQHBhcmFtIGluZGV4DQogKi8NCmZ1bmN0aW9uIHJlc2V0UmVzZXREaW1lbnNpb25Jbm91dCh1c2VyLCBpbmRleCkgew0KICAgIHZhciBkaW1lbnNpb25Jbm91dCA9IENEYXRhTWFuYWdlcl9nZXRfZGltZW5zaW9uSW5vdXQoR19DRGF0YU1hbmFnZXIoKSwgaW5kZXgpOw0KICAgIENVc2VyQ2hhcmFjSW5mb19zZXREZW1lbnNpb25Jbm91dFZhbHVlKHVzZXIsIGluZGV4LCBkaW1lbnNpb25Jbm91dCk7DQp9DQogDQogLy8tLS0tLS0tLS0tLS0tLS0tLS0tLUZVTkNUSU9OX0VORCDmnI3liqHnq6/ln7rnoYBhcGnlh73mlbAs6K+05piOOuacjeWKoeerr+WfuuehgGFwaeWHveaVsC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gDQogDQovLy0tLS0tLS0tLS0tLS0tLS0tLS0tRlVOQ1RJT05fQkVHSU4g5oyC5o6l5raI5oGv5YiG5Y+R57q/56iLLCDor7TmmI465oyC5o6l5raI5oGv5YiG5Y+R57q/56iLIOaJp+ihjOmcgOimgeWcqOS4u+e6v+eoi+i/kOihjOeahOS7o+eggS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiANCiANCg0KDQovL+mcgOimgeWcqGRpc3BhdGNoZXLnur/nqIvmiafooYznmoTku7vliqHpmJ/liJco54Ot5Yqg6L295ZCO5Lya6KKr5riF56m6KQ0KdmFyIHRpbWVyX2Rpc3BhdGNoZXJfbGlzdCA9IFtdOw0KDQovL+WcqGRpc3BhdGNoZXLnur/nqIvmiafooYwoYXJnc+S4uuWHveaVsGbnmoTlj4LmlbDnu4TmiJDnmoTmlbDnu4QsIOiLpWbml6Dlj4LmlbBhcmdz5Y+v5Li6bnVsbCkNCmZ1bmN0aW9uIGFwaV9zY2hlZHVsZU9uTWFpblRocmVhZChmLCBhcmdzKQ0Kew0KICAgIC8v57q/56iL5a6J5YWoDQogICAgdmFyIGd1YXJkID0gYXBpX0d1YXJkX011dGV4X0d1YXJkKCk7DQoNCiAgICB0aW1lcl9kaXNwYXRjaGVyX2xpc3QucHVzaChbZiwgYXJnc10pOw0KDQogICAgRGVzdHJveV9HdWFyZF9NdXRleF9HdWFyZChndWFyZCk7DQoNCiAgICByZXR1cm47DQp9DQoNCi8v6K6+572u5a6a5pe25ZmoIOWIsOacn+WQjuWcqGRpc3BhdGNoZXLnur/nqIvmiafooYwNCmZ1bmN0aW9uIGFwaV9zY2hlZHVsZU9uTWFpblRocmVhZF9kZWxheShmLCBhcmdzLCBkZWxheSkNCnsNCiAgICBzZXRUaW1lb3V0KGFwaV9zY2hlZHVsZU9uTWFpblRocmVhZCwgZGVsYXksIGYsIGFyZ3MpOw0KfQ0KDQoNCi8v55Sz6K+36ZSBKOeUs+ivt+WQjuWKoeW/heaJi+WKqOmHiuaUviEhISkNCmZ1bmN0aW9uIGFwaV9HdWFyZF9NdXRleF9HdWFyZCgpDQp7DQogICAgdmFyIGExID0gTWVtb3J5LmFsbG9jKDEwMCk7DQogICAgR3VhcmRfTXV0ZXhfR3VhcmQoYTEsIEdfVGltZXJRdWV1ZSgpLmFkZCgxNikpOw0KDQogICAgcmV0dXJuIGExOw0KfQ0KDQovL+WkhOeQhuWIsOacn+eahOiHquWumuS5ieWumuaXtuWZqA0KZnVuY3Rpb24gZG9fdGltZXJfZGlzcGF0Y2goKQ0Kew0KICAgIC8v5b2T5YmN5b6F5aSE55CG55qE5a6a5pe25Zmo5Lu75Yqh5YiX6KGoDQogICAgdmFyIHRhc2tfbGlzdCA9IFtdOw0KDQogICAgLy/nur/nqIvlronlhagNCiAgICB2YXIgZ3VhcmQgPSBhcGlfR3VhcmRfTXV0ZXhfR3VhcmQoKTsNCg0KICAgIC8v5L6d5qyh5Y+W5Ye66Zif5YiX5Lit55qE5Lu75YqhDQogICAgd2hpbGUodGltZXJfZGlzcGF0Y2hlcl9saXN0Lmxlbmd0aCA+IDApDQogICAgew0KICAgICAgICAvL+WFiOWFpeWFiOWHug0KICAgICAgICB2YXIgdGFzayA9IHRpbWVyX2Rpc3BhdGNoZXJfbGlzdC5zaGlmdCgpOw0KICAgICAgICB0YXNrX2xpc3QucHVzaCh0YXNrKTsNCiAgICB9DQoNCiAgICBEZXN0cm95X0d1YXJkX011dGV4X0d1YXJkKGd1YXJkKTsNCg0KICAgIC8v5omn6KGM5Lu75YqhDQogICAgZm9yKHZhciBpPTA7IGk8dGFza19saXN0Lmxlbmd0aDsgKytpKQ0KICAgIHsNCiAgICAgICAgdmFyIHRhc2sgPSB0YXNrX2xpc3RbaV07DQoNCiAgICAgICAgdmFyIGYgPSB0YXNrWzBdOw0KICAgICAgICB2YXIgYXJncyA9IHRhc2tbMV07DQoNCiAgICAgICAgZi5hcHBseShudWxsLCBhcmdzKTsNCiAgICB9DQp9DQoNCg0KLy/mjILmjqXmtojmga/liIblj5Hnur/nqIsg56Gu5L+d5Luj56CB57q/56iL5a6J5YWoDQpmdW5jdGlvbiBob29rX1RpbWVyRGlzcGF0Y2hlcl9kaXNwYXRjaCgpDQp7DQogICAgLy9ob29rIFRpbWVyRGlzcGF0Y2hlcjo6ZGlzcGF0Y2gNCiAgICAvL+acjeWKoeWZqOWGhee9ruWumuaXtuWZqCDmr4/np5Loh7PlsJHmiafooYzkuIDmrKENCiAgICBJbnRlcmNlcHRvci5hdHRhY2gocHRyKDB4ODYzMkExOCksIHsNCg0KICAgICAgICBvbkVudGVyOiBmdW5jdGlvbiAoYXJncykgew0KICAgICAgICB9LA0KICAgICAgICBvbkxlYXZlOiBmdW5jdGlvbiAocmV0dmFsKSB7DQoNCiAgICAgICAgICAgIC8v5riF56m6562J5b6F5omn6KGM55qE5Lu75Yqh6Zif5YiXDQogICAgICAgICAgICBkb190aW1lcl9kaXNwYXRjaCgpOw0KICAgICAgICB9DQogICAgfSk7DQp9IA0KIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS1GVU5DVElPTl9FTkQg5oyC5o6l5raI5oGv5YiG5Y+R57q/56iLLOivtOaYjjrmjILmjqXmtojmga/liIblj5Hnur/nqIsg5omn6KGM6ZyA6KaB5Zyo5Li757q/56iL6L+Q6KGM55qE5Luj56CBLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSANCiANCi8vLS0tLS0tLS0tLS0tLS0tLS0tLS1GVU5DVElPTl9CRUdJTiDop5LoibLnmbvlhaXnmbvlh7rlpITnkIYsIOivtOaYjjrop5LoibLnmbvlhaXnmbvlh7rlpITnkIYtLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogDQogLy/op5LoibLnmbvlhaXnmbvlh7rlpITnkIYNCiANCi8v6KeS6Imy55m75YWl55m75Ye65aSE55CGDQpmdW5jdGlvbiBob29rX3VzZXJfaW5vdXRfZ2FtZV93b3JsZCgpIHsNCiAgICBjb25zb2xlLmxvZygiPT09PT09PT09PT09PT09PT09PT09PT4g5byA5ZCv6KeS6Imy55m75YWl55m75Ye65aSE55CGIik7DQogICAgLy/pgInmi6nop5LoibLlpITnkIblh73mlbAgSG9vayBHYW1lV29ybGQ6OnJlYWNoX2dhbWVfd29ybGQNCiAgICBJbnRlcmNlcHRvci5hdHRhY2gocHRyKDB4ODZDNEU1MCksIHsNCiAgICAgICAgLy/lh73mlbDlhaXlj6MsIOaLv+WIsOWHveaVsOWPguaVsGFyZ3MNCiAgICAgICAgb25FbnRlcjogZnVuY3Rpb24gKGFyZ3MpIHsNCiAgICAgICAgICAgIC8v5L+d5a2Y5Ye95pWw5Y+C5pWwDQogICAgICAgICAgICB0aGlzLnVzZXIgPSBhcmdzWzFdOyAgICAgICAgICANCiAgICAgICAgICAgIHZhciBjaGFyYWNfbm8gPSBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjTm8odGhpcy51c2VyKTsNCiAgICAgICAgICAgIHZhciBjaGFyYWNfTmFtZSA9IGFwaV9DVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjTmFtZSh0aGlzLnVzZXIpOw0KICAgICAgICAgICAgY29uc29sZS5sb2coJ+inkuiJsjwnK2NoYXJhY19OYW1lKyc6JytjaGFyYWNfbm8rJz7nmbvlvZXmuLjmiI8nKTsNCiAgICAgICAgICAgIHZhciBnYW1lX2NvbmZpZyA9IGdsb2JhbF9jb25maWdbJ2dhbWVfY29uZmlnJ107DQogICAgICAgICAgICBpZihnYW1lX2NvbmZpZ1snZW5hYmxlX3VzZXJfbG9naW5fd2VsY29tZSddID09PSAndHJ1ZScpew0KICAgICAgICAgICAgIC8v57uZ6KeS6Imy5Y+R5raI5oGv6Zeu5YCZDQogICAgICAgICAgICAgYXBpX0NVc2VyX1NlbmROb3RpUGFja2V0TWVzc2FnZSh0aGlzLnVzZXIsIGdhbWVfY29uZmlnWydlbmFibGVfdXNlcl9sb2dpbl93ZWxjb21lX3RleHQnXS5yZXBsYWNlKCclcycsIGNoYXJhY19OYW1lKSwgMSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICAvL+mikemBk+WFrOWRig0KICAgICAgICAgICAgaWYoZ2FtZV9jb25maWdbJ2VuYWJsZV91c2VyX2xvZ2luX25vdGljZSddID09PSAndHJ1ZScpew0KICAgICAgICAgICAgIHB1c2hTZW5kTm90aVBhY2tldE1lc3NhZ2UoZ2FtZV9jb25maWdbJ2VuYWJsZV91c2VyX2xvZ2luX25vdGljZV90ZXh0J10ucmVwbGFjZSgnJXMnLCBjaGFyYWNfTmFtZSksMTYpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdmFyIHVzZXJEdG89ew0KICAgICAgICAgICAgICAgICd0eXBlJzonZ2FtZV91c2VyX2xvZ2luJywNCiAgICAgICAgICAgICAgICAnZGF0YSc6IGNoYXJhY19ubw0KICAgICAgICAgICAgfTsNCiAgICAgICAgICAgIHNlbmQoSlNPTi5zdHJpbmdpZnkodXNlckR0bykpOw0KICAgICAgICB9LA0KICAgICAgICAvL+WOn+WHveaVsOaJp+ihjOWujOavlSwg6L+Z6YeM5Y+v5Lul5b6X5Yiw5bm25L+u5pS56L+U5Zue5YC8cmV0dmFsDQogICAgICAgIG9uTGVhdmU6IGZ1bmN0aW9uIChyZXR2YWwpIHsNCiAgICAgICAgfQ0KICAgIH0pOw0KDQogICAgLy/op5LoibLpgIDlh7rml7blpITnkIblh73mlbAgSG9vayBHYW1lV29ybGQ6OmxlYXZlX2dhbWVfd29ybGQNCiAgICBJbnRlcmNlcHRvci5hdHRhY2gocHRyKDB4ODZDNTI4OCksIHsNCiAgICAgICAgb25FbnRlcjogZnVuY3Rpb24gKGFyZ3MpIHsNCiAgICAgICAgICAgIHZhciB1c2VyID0gYXJnc1sxXTsNCiAgICAgICAgICAgIHRoaXMudXNlciA9IHVzZXI7DQogICAgICAgIH0NCiAgICB9KTsNCiAgICAvL+inkuiJsumAgOWHuuaXtuWkhOeQhuWHveaVsCBIb29rIENHYW1lTWFuYWdlcjo6dXNlcl9leGl0DQogICAgSW50ZXJjZXB0b3IuYXR0YWNoKHB0cigweDA4Mjk4NWE4KSwgew0KDQogICAgICAgIG9uRW50ZXI6IGZ1bmN0aW9uIChhcmdzKSB7DQogICAgICAgICAgICB2YXIgdXNlciA9IGFyZ3NbMV07DQogICAgICAgICAgICB0aGlzLnVzZXIgPSB1c2VyOw0KICAgICAgICAgICAgdmFyIGNoYXJhY19ubyA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNObyh0aGlzLnVzZXIpOw0KICAgICAgICAgICAgdmFyIGNoYXJhY19OYW1lID0gYXBpX0NVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNOYW1lKHRoaXMudXNlcik7DQogICAgICAgICAgICBjb25zb2xlLmxvZygn6KeS6ImyPCcrY2hhcmFjX05hbWUrJzonK2NoYXJhY19ubysnPumAgOWHuua4uOaIjycpOw0KICAgICAgICAgICAgLy/popHpgZPlhazlkYoNCiAgICAgICAgICAgIGlmKGdhbWVfY29uZmlnWydlbmFibGVfdXNlcl9leGl0X25vdGljZSddID09PSAndHJ1ZScpew0KICAgICAgICAgICAgIHB1c2hTZW5kTm90aVBhY2tldE1lc3NhZ2UoZ2FtZV9jb25maWdbJ2VuYWJsZV91c2VyX2V4aXRfbm90aWNlX3RleHQnXS5yZXBsYWNlKCclcycsIGNoYXJhY19OYW1lKSwxNik7DQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIG9uTGVhdmU6IGZ1bmN0aW9uIChyZXR2YWwpIHsNCiAgICAgICAgICAgIC8vIHZhciBhY2NJZCA9IENVc2VyX2dldF9hY2NfaWQodGhpcy51c2VyKTsNCiAgICAgICAgfQ0KICAgIH0pOw0KfSANCiAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tRlVOQ1RJT05fRU5EIOinkuiJsueZu+WFpeeZu+WHuuWkhOeQhizor7TmmI466KeS6Imy55m75YWl55m75Ye65aSE55CGLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSANCiANCi8vLS0tLS0tLS0tLS0tLS0tLS0tLS1GVU5DVElPTl9CRUdJTiDkuJbnlYzlub/mkq0o6aKR6YGT5YaF5YWs5ZGKKSwg6K+05piOOuS4lueVjOW5v+aSrSjpopHpgZPlhoXlhazlkYopLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KIA0KIA0KDQovL+WPkemAgeWtl+espuS4sue7meWuouaIt+errw0KZnVuY3Rpb24gYXBpX0ludGVyZmFjZVBhY2tldEJ1Zl9wdXRfc3RyaW5nKHBhY2tldF9ndWFyZCwgcykNCnsNCiAgICB2YXIgcCA9IE1lbW9yeS5hbGxvY1V0ZjhTdHJpbmcocyk7DQogICAgdmFyIGxlbiA9IHN0cmxlbihwKTsNCiAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2ludChwYWNrZXRfZ3VhcmQsIGxlbik7DQogICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9iaW5hcnkocGFja2V0X2d1YXJkLCBwLCBsZW4pOw0KDQogICAgcmV0dXJuOw0KfQ0KDQogLy/kuJbnlYzlub/mkq0o6aKR6YGT5YaF5YWs5ZGKKQ0KZnVuY3Rpb24gYXBpX0dhbWVXb3JsZF9TZW5kTm90aVBhY2tldE1lc3NhZ2UobXNnLCBtc2dfdHlwZSkNCnsNCiAgICB2YXIgcGFja2V0X2d1YXJkID0gYXBpX1BhY2tldEd1YXJkX1BhY2tldEd1YXJkKCk7DQogICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9oZWFkZXIocGFja2V0X2d1YXJkLCAwLCAxMik7DQogICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9ieXRlKHBhY2tldF9ndWFyZCwgbXNnX3R5cGUpOw0KICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfc2hvcnQocGFja2V0X2d1YXJkLCAwKTsNCiAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2J5dGUocGFja2V0X2d1YXJkLCAwKTsNCiAgICBhcGlfSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9zdHJpbmcocGFja2V0X2d1YXJkLCBtc2cpOw0KICAgIEludGVyZmFjZVBhY2tldEJ1Zl9maW5hbGl6ZShwYWNrZXRfZ3VhcmQsIDEpOw0KICAgIEdhbWVXb3JsZF9zZW5kX2FsbF93aXRoX3N0YXRlKEdfR2FtZVdvcmxkKCksIHBhY2tldF9ndWFyZCwgMyk7ICAvL+WPque7mXN0YXRlID49IDMg55qE546p5a625Y+R5YWs5ZGKDQogICAgRGVzdHJveV9QYWNrZXRHdWFyZF9QYWNrZXRHdWFyZChwYWNrZXRfZ3VhcmQpOw0KfQ0KDQovL+WQkeWumuaXtuS7u+WKoeWIl+ihqOa3u+WKoOS4gOS4quWPkemAgeWFrOWRiueahOWumuaXtuS7u+WKoQ0KZnVuY3Rpb24gcHVzaFNlbmROb3RpUGFja2V0TWVzc2FnZShtc2csIG1zZ190eXBlKXsNCiAgdmFyIGFyZ3MgPSBbXTsNCiAgYXJncy5wdXNoKG1zZyk7DQogIGFyZ3MucHVzaChtc2dfdHlwZSk7DQogIGFwaV9zY2hlZHVsZU9uTWFpblRocmVhZChhcGlfR2FtZVdvcmxkX1NlbmROb3RpUGFja2V0TWVzc2FnZSwgYXJncyk7DQp9DQogDQogLy8tLS0tLS0tLS0tLS0tLS0tLS0tLUZVTkNUSU9OX0VORCDkuJbnlYzlub/mkq0o6aKR6YGT5YaF5YWs5ZGKKSzor7TmmI465LiW55WM5bm/5pKtKOmikemBk+WGheWFrOWRiiktLS0tLS0tLS0tLS0tLS0tLS0tLS0tIA0KIA0KLy8tLS0tLS0tLS0tLS0tLS0tLS0tLUZVTkNUSU9OX0JFR0lOIOWKoOi9veacrOWcsGpzb27phY3nva7mlofku7YsIOivtOaYjjpmcmlkYeS4u+WHveaVsOS+nei1lu+8jOivu+WPlmRuZi1hZG1pbumFjeWll+eahGpzb27phY3nva7mlofku7YtLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogDQogIA0KDQoNCi8v5Yqg6L295pys5Zyw6YWN572u5paH5Lu2KGpzb27moLzlvI8pDQp2YXIgZ2xvYmFsX2NoYW5uZWwgPSAnJzsNCnZhciBnbG9iYWxfY29uZmlnID0ge307DQpmdW5jdGlvbiBsb2FkX2NvbmZpZyhjaGFubmVsKSB7DQogICAgY29uc29sZS5sb2coIj09PT09PT09PT09PT09PT09PT09PT0+5Yqg6L29anNvbumFjee9ruaWh+S7tiIpDQogICAgZ2xvYmFsX2NoYW5uZWw9Y2hhbm5lbDsNCiAgICB2YXIgZGF0YSA9IGFwaV9yZWFkX2ZpbGUoJy9kYXRhL2ZyaWRhLycgKyBjaGFubmVsICsgJy9mcmlkYV9jb25mLmpzb24nLCAncicsIDEwICogMTAyNCAqIDEwMjQpOw0KICAgIGdsb2JhbF9jb25maWcgPSBKU09OLnBhcnNlKGRhdGEpOw0KfSANCiAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tRlVOQ1RJT05fRU5EIOWKoOi9veacrOWcsGpzb27phY3nva7mlofku7Ys6K+05piOOmZyaWRh5Li75Ye95pWw5L6d6LWW77yM6K+75Y+WZG5mLWFkbWlu6YWN5aWX55qEanNvbumFjee9ruaWh+S7ti0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gDQogDQovLy0tLS0tLS0tLS0tLS0tLS0tLS0tRlVOQ1RJT05fQkVHSU4g6K+75Y+W5pys5Zyw5paH5Lu2LCDor7TmmI466K+75Y+W5pys5Zyw5paH5Lu2LOWKoOi9veacrOWcsGpzb27phY3nva7mlofku7bkvp3otZYtLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogDQogLy9saW51eOivu+acrOWcsOaWh+S7tg0KdmFyIGZvcGVuID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKE1vZHVsZS5nZXRFeHBvcnRCeU5hbWUobnVsbCwgJ2ZvcGVuJyksICdpbnQnLCBbJ3BvaW50ZXInLCAncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgZnJlYWQgPSBuZXcgTmF0aXZlRnVuY3Rpb24oTW9kdWxlLmdldEV4cG9ydEJ5TmFtZShudWxsLCAnZnJlYWQnKSwgJ2ludCcsIFsncG9pbnRlcicsICdpbnQnLCAnaW50JywgJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgZmNsb3NlID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKE1vZHVsZS5nZXRFeHBvcnRCeU5hbWUobnVsbCwgJ2ZjbG9zZScpLCAnaW50JywgWydpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KZnVuY3Rpb24gYXBpX3JlYWRfZmlsZShwYXRoLCBtb2RlLCBsZW4pIHsNCiAgICB2YXIgcGF0aF9wdHIgPSBNZW1vcnkuYWxsb2NVdGY4U3RyaW5nKHBhdGgpOw0KICAgIHZhciBtb2RlX3B0ciA9IE1lbW9yeS5hbGxvY1V0ZjhTdHJpbmcobW9kZSk7DQogICAgdmFyIGYgPSBmb3BlbihwYXRoX3B0ciwgbW9kZV9wdHIpOw0KICAgIGlmIChmID09IDApDQogICAgICAgIHJldHVybiBudWxsOw0KICAgIHZhciBkYXRhID0gTWVtb3J5LmFsbG9jKGxlbik7DQogICAgdmFyIGZyZWFkX3JldCA9IGZyZWFkKGRhdGEsIDEsIGxlbiwgZik7DQogICAgZmNsb3NlKGYpOw0KICAgIC8v6L+U5Zue5a2X56ym5LiyDQogICAgaWYgKG1vZGUgPT0gJ3InKQ0KICAgICAgICByZXR1cm4gZGF0YS5yZWFkVXRmOFN0cmluZyhmcmVhZF9yZXQpOw0KICAgIC8v6L+U5Zue5LqM6L+b5Yi2YnVmZuaMh+mSiA0KICAgIHJldHVybiBkYXRhOw0KfSANCiAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tRlVOQ1RJT05fRU5EIOivu+WPluacrOWcsOaWh+S7tizor7TmmI466K+75Y+W5pys5Zyw5paH5Lu2LOWKoOi9veacrOWcsGpzb27phY3nva7mlofku7bkvp3otZYtLS0tLS0tLS0tLS0tLS0tLS0tLS0tIA0KIA0KLy8tLS0tLS0tLS0tLS0tLS0tLS0tLUZVTkNUSU9OX0JFR0lOIOagueaNrumFjee9ruWIneWni+WMluebuOWFs+WKn+iDvSwg6K+05piOOuagueaNrumFjee9ruWIneWni+WMluebuOWFs+WKn+iDvS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiANCiAvL+agueaNrua4uOaIj+mFjee9ruaOp+WItuebuOWFs+WKn+iDvQ0KDQovL+agueaNrumFjee9ruWIneWni+WMluebuOWFs+WKn+iDvQkNCmZ1bmN0aW9uIGluaXRGb3JDb25maWcoKXsNCiAgICB2YXIgZ2FtZV9jb25maWcgPSBnbG9iYWxfY29uZmlnWydnYW1lX2NvbmZpZyddOw0KICAgIGlmKGdhbWVfY29uZmlnWydlbmFibGVfZ2FtZV9tYXN0ZXInXSA9PT0gJ3RydWUnKXsNCiAgICAgICAgLy/miYDmnInotKblj7fop5LoibLlvIDlkK9HTeadg+mZkA0KICAgICAgICBob29rX2NoZWNrX2dtKCk7DQogICAgfQ0KICAgIGlmKGdhbWVfY29uZmlnWydkaXNhYmxlX2NoZWNrX2NyZWF0ZV9jaGFyYWN0ZXJfbGltaXQnXSA9PT0gJ3RydWUnKXsNCiAgICAgICAgLy/op6PpmaTmr4/ml6XliJvlu7rop5LoibLmlbDph4/pmZDliLYNCiAgICAgICAgZGlzYWJsZV9jaGVja19jcmVhdGVfY2hhcmFjdGVyX2xpbWl0KCk7DQogICAgfQ0KICAgIGlmKGdhbWVfY29uZmlnWydzaGFyZV9zZXJpYV9yb29tJ10gPT09ICd0cnVlJyl7DQogICAgICAgIC8v5YWB6K646LWb5Yip5Lqa5oi/6Ze055qE5Lq65LqS55u45Y+v6KeBDQogICAgICAgIHNoYXJlX3NlcmlhX3Jvb20oKTsNCiAgICB9DQogICAgaWYoZ2FtZV9jb25maWdbJ1ByaXZhdGVzdG9yZV9JZ25vcmVOZWFyRHVuZ2VvbiddID09PSAndHJ1ZScpew0KICAgICAgICAvL+W/veeVpeWJr+acrOmXqOWPo+emgeatouaRhuaRig0KICAgICAgICBQcml2YXRlc3RvcmVfSWdub3JlTmVhckR1bmdlb24oKTsNCiAgICB9DQogICAgaWYoZ2FtZV9jb25maWdbJ2VuYWJsZV9jcmVhdG9yJ10gPT09ICd0cnVlJyl7DQogICAgICAgIC8v5byA5ZCv5Yib5bu657yU6YCgDQogICAgICAgIGVuYWJsZV9jcmVhdGVDcmVhdG9yKCk7DQogICAgfQ0KICAgIGlmKGdhbWVfY29uZmlnWydjYW5jZWxfZXBpY19vayddID09PSAndHJ1ZScpew0KICAgICAgICAvL+WPsuivl+WFjeehruiupA0KICAgICAgICBjYW5jZWxfZXBpY19vaygpOw0KICAgIH0NCiAgICBpZihnYW1lX2NvbmZpZ1snYXV0b191bnNlYWxfcmFuZG9tX29wdGlvbl9lcXVpcG1lbnQnXSA9PT0gJ3RydWUnKXsNCiAgICAgICAgLy/prZTms5XlsIHljbDoh6rliqjop6PlsIENCiAgICAgICAgYXV0b191bnNlYWxfcmFuZG9tX29wdGlvbl9lcXVpcG1lbnQoKTsNCiAgICB9DQogICAgaWYoZ2FtZV9jb25maWdbJ2Rpc2FibGVfbW9iaWxlX3Jld2FyZHMnXSA9PT0gJ3RydWUnKXsNCiAgICAgICAgLy/lj5bmtojmlrDotKblj7fpgIHmiJDplb/lpZHnuqYNCiAgICAgICAgSW50ZXJjZXB0b3JfSW50ZXJTZWxlY3RNb2JpbGVBdXRoUmV3YXJkKCk7DQogICAgfQ0KICAgIGlmKGdhbWVfY29uZmlnWydtYXhfbGV2ZWwnXSA+IDApew0KICAgICAgICAvL+iuvue9ruacgOWkp+etiee6pw0KICAgICAgICBzZXRNYXhVcEdyYWRlKGdhbWVfY29uZmlnWydtYXhfbGV2ZWwnXSk7DQogICAgfQ0KICAgIGlmKGdhbWVfY29uZmlnWydlbmhhbmNlbWVudF9sZXZlbF8xM19ub19leGl0J10gPT09ICd0cnVlJyl7DQogICAgICAgIC8vKzEz5Lul5LiK5by65YyW5Yi45peg6ZyA5bCP6YCADQogICAgICAgIGVuaGFuY2VtZW50X2xldmVsXzEzX25vX2V4aXQoKTsNCiAgICB9DQogICAgDQp9IA0KIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS1GVU5DVElPTl9FTkQg5qC55o2u6YWN572u5Yid5aeL5YyW55u45YWz5Yqf6IO9LOivtOaYjjrmoLnmja7phY3nva7liJ3lp4vljJbnm7jlhbPlip/og70tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIA0KIA0KLy8tLS0tLS0tLS0tLS0tLS0tLS0tLUZVTkNUSU9OX0JFR0lOIOmtlOazleWwgeWNsOiHquWKqOino+WwgSwg6K+05piOOumtlOazleWwgeWNsOiHquWKqOino+WwgS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiANCiAvL+mtlOazleWwgeWNsOiHquWKqOino+WwgQ0KZnVuY3Rpb24gYXV0b191bnNlYWxfcmFuZG9tX29wdGlvbl9lcXVpcG1lbnQoKSB7DQogICAgLy9DSW52ZW50b3J5OjppbnNlcnRJdGVtSW50b0ludmVudG9yeQ0KICAgIGNvbnNvbGUubG9nKCI9PT09PT09PT09PT09PT09PT09PT09PiDprZTms5XlsIHljbDoh6rliqjop6PlsIEiKTsNCiAgICBJbnRlcmNlcHRvci5hdHRhY2gocHRyKDB4ODUwMkQ4NiksIHsNCiAgICAgICAgb25FbnRlcjogZnVuY3Rpb24gKGFyZ3MpIHsNCiAgICAgICAgICAgIHRoaXMudXNlciA9IGFyZ3NbMF0ucmVhZFBvaW50ZXIoKTsNCiAgICAgICAgfSwNCiAgICAgICAgb25MZWF2ZTogZnVuY3Rpb24gKHJldHZhbCkgew0KDQogICAgICAgICAgICAvL+eJqeWTgeagj+aWsOWinueJqeWTgeeahOS9jee9rg0KICAgICAgICAgICAgdmFyIHNsb3QgPSByZXR2YWwudG9JbnQzMigpOw0KICAgICAgICAgICAgaWYgKHNsb3QgPiAwKSB7DQogICAgICAgICAgICAgICAgLy/ojrflj5bpgZPlhbfnmoTop5LoibINCiAgICAgICAgICAgICAgICB2YXIgdXNlciA9IHRoaXMudXNlcjsNCg0KICAgICAgICAgICAgICAgIC8v6KeS6Imy6IOM5YyFDQogICAgICAgICAgICAgICAgdmFyIGludmVuID0gQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY0ludmVuVyh1c2VyKTsNCg0KICAgICAgICAgICAgICAgIC8v6IOM5YyF5Lit5paw5aKe55qE6YGT5YW3DQogICAgICAgICAgICAgICAgdmFyIGludmVuX2l0ZW0gPSBDSW52ZW50b3J5X0dldEludmVuUmVmKGludmVuLCBJTlZFTlRPUllfVFlQRV9JVEVNLCBzbG90KTsNCg0KICAgICAgICAgICAgICAgIC8v6L+H5ruk6YGT5YW357G75Z6LDQogICAgICAgICAgICAgICAgaWYgKCFJbnZlbl9JdGVtX2lzRXF1aXBhYmxlSXRlbVR5cGUoaW52ZW5faXRlbSkpDQogICAgICAgICAgICAgICAgICAgIHJldHVybjsNCg0KICAgICAgICAgICAgICAgIC8v6KOF5aSHaWQNCiAgICAgICAgICAgICAgICB2YXIgaXRlbV9pZCA9IEludmVuX0l0ZW1fZ2V0S2V5KGludmVuX2l0ZW0pOw0KDQogICAgICAgICAgICAgICAgLy9wdmbkuK3ojrflj5boo4XlpIfmlbDmja4NCiAgICAgICAgICAgICAgICB2YXIgY2l0ZW0gPSBDRGF0YU1hbmFnZXJfZmluZF9pdGVtKEdfQ0RhdGFNYW5hZ2VyKCksIGl0ZW1faWQpOw0KDQogICAgICAgICAgICAgICAgLy/mo4Dmn6Xoo4XlpIfmmK/lkKbkuLrprZTms5XlsIHljbDnsbvlnosNCiAgICAgICAgICAgICAgICBpZiAoIUNFcXVpcEl0ZW1fSXNSYW5kb21PcHRpb24oY2l0ZW0pKQ0KICAgICAgICAgICAgICAgICAgICByZXR1cm47DQoNCiAgICAgICAgICAgICAgICAvL+aYr+WQpuW3suiiq+ino+mZpOmtlOazleWwgeWNsO+8iOmtlOazleWwgeWNsOWJjTEw5Liq5a2X6IqC5piv5ZCm5Li6MO+8iQ0KICAgICAgICAgICAgICAgIHZhciByYW5kb21fb3B0aW9uID0gaW52ZW5faXRlbS5hZGQoMzcpOw0KICAgICAgICAgICAgICAgIGlmIChyYW5kb21fb3B0aW9uLnJlYWRVMzIoKSB8fCByYW5kb21fb3B0aW9uLmFkZCg0KS5yZWFkVTMyKCkgfHwgcmFuZG9tX29wdGlvbi5hZGQoOCkucmVhZFNob3J0KCkpIHsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIC8v5bCd6K+V6Kej6Zmk6a2U5rOV5bCB5Y2wDQogICAgICAgICAgICAgICAgdmFyIHJldCA9IHJhbmRvbV9vcHRpb25fQ1JhbmRvbU9wdGlvbkl0ZW1IYW5kbGVfZ2l2ZV9vcHRpb24ocHRyKDB4OTQxRjgyMCkucmVhZFBvaW50ZXIoKSwgaXRlbV9pZCwgQ0l0ZW1fR2V0UmFyaXR5KGNpdGVtKSwgQ0l0ZW1fR2V0VXNhYmxlTGV2ZWwoY2l0ZW0pDQogICAgICAgICAgICAgICAgICAgICwgQ0l0ZW1fR2V0SXRlbUdyb3VwTmFtZShjaXRlbSksIENFcXVpcEl0ZW1fR2V0UmFuZG9tT3B0aW9uR3JhZGUoY2l0ZW0pLCBpbnZlbl9pdGVtLmFkZCgzNykpOw0KICAgICAgICAgICAgICAgIGlmIChyZXQpIHsNCiAgICAgICAgICAgICAgICAgICAgLy/pgJrnn6XlrqLmiLfnq6/mnInoo4XlpIfmm7TmlrANCiAgICAgICAgICAgICAgICAgICAgQ1VzZXJfU2VuZFVwZGF0ZUl0ZW1MaXN0KHVzZXIsIDEsIDAsIHNsb3QpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0pOw0KfSANCiAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tRlVOQ1RJT05fRU5EIOmtlOazleWwgeWNsOiHquWKqOino+WwgSzor7TmmI466a2U5rOV5bCB5Y2w6Ieq5Yqo6Kej5bCBLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSANCiANCi8vLS0tLS0tLS0tLS0tLS0tLS0tLS1GVU5DVElPTl9CRUdJTiDlj7Lor5flhY3noa7orqQsIOivtOaYjjrlj7Lor5flhY3noa7orqQtLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogDQogLy/lj7Lor5flhY3noa7orqQNCmZ1bmN0aW9uIGNhbmNlbF9lcGljX29rKCkgew0KICAgIGNvbnNvbGUubG9nKCI9PT09PT09PT09PT09PT09PT09PT09PiDlj7Lor5flhY3noa7orqQiKQ0KICAgIE1lbW9yeS5wYXRjaENvZGUocHRyKDB4MDg1QTU2Q0UpLmFkZCgyKSwgMSwgZnVuY3Rpb24gKGNvZGUpIHsNCiAgICAgICAgdmFyIGN3ID0gbmV3IFg4NldyaXRlcihjb2RlLCB7IHBjOiBwdHIoMHgwODVBNTZDRSkuYWRkKDIpIH0pOw0KICAgICAgICBjdy5wdXRVOCg5KTsNCiAgICAgICAgY3cuZmx1c2goKTsNCiAgICB9KTsNCiAgICBJbnRlcmNlcHRvci5hdHRhY2gocHRyKDB4MDgxNTBmMTgpLCB7DQogICAgICAgIG9uTGVhdmU6IGZ1bmN0aW9uIChyZXR2YWwpIHsNCiAgICAgICAgICAgIHJldHZhbC5yZXBsYWNlKDApOw0KICAgICAgICB9DQogICAgfSk7DQp9IA0KIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS1GVU5DVElPTl9FTkQg5Y+y6K+X5YWN56Gu6K6kLOivtOaYjjrlj7Lor5flhY3noa7orqQtLS0tLS0tLS0tLS0tLS0tLS0tLS0tIA0KIA0KLy8tLS0tLS0tLS0tLS0tLS0tLS0tLUZVTkNUSU9OX0JFR0lOIOino+mZpOavj+aXpeWIm+W7uuinkuiJsuaVsOmHj+mZkOWItiwg6K+05piOOuino+mZpOavj+aXpeWIm+W7uuinkuiJsuaVsOmHj+mZkOWIti0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiANCiANCi8v6Kej6Zmk5q+P5pel5Yib5bu66KeS6Imy5pWw6YeP6ZmQ5Yi2DQpmdW5jdGlvbiBkaXNhYmxlX2NoZWNrX2NyZWF0ZV9jaGFyYWN0ZXJfbGltaXQoKSB7DQogICAgY29uc29sZS5sb2coIj09PT09PT09PT09PT09PT09PT09PT0+6Kej6Zmk5q+P5pel5Yib5bu66KeS6Imy5pWw6YeP6ZmQ5Yi2IikNCiAgICAvL0RCX0NyZWF0ZUNoYXJhYzo6Q2hlY2tMaW1pdENyZWF0ZU5ld0NoYXJhYw0KICAgIEludGVyY2VwdG9yLmF0dGFjaChwdHIoMHg4NDAxOTIyKSwgew0KICAgICAgICBvbkVudGVyOiBmdW5jdGlvbiAoYXJncykgew0KICAgICAgICB9LA0KICAgICAgICBvbkxlYXZlOiBmdW5jdGlvbiAocmV0dmFsKSB7DQogICAgICAgICAgICAvL+W8uuWItui/lOWbnuWFgeiuuOWIm+W7ug0KICAgICAgICAgICAgcmV0dmFsLnJlcGxhY2UoMSk7DQogICAgICAgIH0NCiAgICB9KTsNCn0gDQogLy8tLS0tLS0tLS0tLS0tLS0tLS0tLUZVTkNUSU9OX0VORCDop6PpmaTmr4/ml6XliJvlu7rop5LoibLmlbDph4/pmZDliLYs6K+05piOOuino+mZpOavj+aXpeWIm+W7uuinkuiJsuaVsOmHj+mZkOWIti0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gDQogDQovLy0tLS0tLS0tLS0tLS0tLS0tLS0tRlVOQ1RJT05fQkVHSU4g5byA5ZCv5Yib5bu657yU6YCgLCDor7TmmI465byA5ZCv5Yib5bu657yU6YCgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KIA0KIC8v5byA5ZCv5Yib5bu657yU6YCgDQpmdW5jdGlvbiBlbmFibGVfY3JlYXRlQ3JlYXRvcigpew0KICAgIGNvbnNvbGUubG9nKCI9PT09PT09PT09PT09PT09PT09PT09PiDlvIDlkK/liJvlu7rnvJTpgKAiKQ0KICAgIE1lbW9yeS5wYXRjaENvZGUocHRyKDB4MDgxQzAyOUUpLmFkZCgxKSwgMSwgZnVuY3Rpb24gKGNvZGUpIHsNCiAgICAgICAgdmFyIGN3ID0gbmV3IFg4NldyaXRlcihjb2RlLCB7IHBjOiBwdHIoMHgwODFDMDI5RSkuYWRkKDEpIH0pOw0KICAgICAgICBjdy5wdXRVOCgxMSk7DQogICAgICAgIGN3LmZsdXNoKCk7DQogICAgfSk7DQp9IA0KIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS1GVU5DVElPTl9FTkQg5byA5ZCv5Yib5bu657yU6YCgLOivtOaYjjrlvIDlkK/liJvlu7rnvJTpgKAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tIA0KIA0KLy8tLS0tLS0tLS0tLS0tLS0tLS0tLUZVTkNUSU9OX0JFR0lOIOaJgOaciei0puWPt+inkuiJsuW8gOWQr0dN5p2D6ZmQLCDor7TmmI465omA5pyJ6LSm5Y+36KeS6Imy5byA5ZCvR03mnYPpmZAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogDQogLy/miYDmnInotKblj7fop5LoibLlvIDlkK9HTeadg+mZkA0KZnVuY3Rpb24gaG9va19jaGVja19nbSgpIHsNCiAgICBjb25zb2xlLmxvZygiPT09PT09PT09PT09PT09PT09PT09PT7lvIDlkK9HTeadg+mZkCIpDQogICAgLy9HTei0puaItw0KICAgIC8vV29uZ1dvcms6OkNHTUFjY291bnRzOjppc0dNDQogICAgSW50ZXJjZXB0b3IuYXR0YWNoKHB0cigweDgxMDkzNDYpLCB7DQoNCiAgICAgICAgb25FbnRlcjogZnVuY3Rpb24gKGFyZ3MpIHsNCiAgICAgICAgfSwNCiAgICAgICAgb25MZWF2ZTogZnVuY3Rpb24gKHJldHZhbCkgew0KICAgICAgICAgICAgLy/lvLrliLbov5Tlm550cnVlDQogICAgICAgICAgICByZXR2YWwucmVwbGFjZSgxKTsNCiAgICAgICAgfQ0KICAgIH0pOw0KDQogICAgLy9HTeinkuiJsg0KICAgIC8vQ1VzZXI6OmlzR01Vc2VyDQogICAgSW50ZXJjZXB0b3IuYXR0YWNoKHB0cigweDgxNDU4OUMpLCB7DQoNCiAgICAgICAgb25FbnRlcjogZnVuY3Rpb24gKGFyZ3MpIHsNCiAgICAgICAgfSwNCiAgICAgICAgb25MZWF2ZTogZnVuY3Rpb24gKHJldHZhbCkgew0KICAgICAgICAgICAgLy/lvLrliLbov5Tlm550cnVlDQogICAgICAgICAgICByZXR2YWwucmVwbGFjZSgxKTsNCiAgICAgICAgfQ0KICAgIH0pOw0KfSANCiAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tRlVOQ1RJT05fRU5EIOaJgOaciei0puWPt+inkuiJsuW8gOWQr0dN5p2D6ZmQLOivtOaYjjrmiYDmnInotKblj7fop5LoibLlvIDlkK9HTeadg+mZkC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gDQogDQovLy0tLS0tLS0tLS0tLS0tLS0tLS0tRlVOQ1RJT05fQkVHSU4g5Y+W5raI5paw6LSm5Y+36YCB5oiQ6ZW/5aWR57qmLCDor7TmmI465Y+W5raI5paw6LSm5Y+36YCB5oiQ6ZW/5aWR57qmLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KIA0KIC8v5Y+W5raI5paw6LSm5Y+36YCB5oiQ6ZW/5aWR57qmDQpmdW5jdGlvbiBJbnRlcmNlcHRvcl9JbnRlclNlbGVjdE1vYmlsZUF1dGhSZXdhcmQoKSB7DQogICAgY29uc29sZS5sb2coIj09PT09PT09PT09PT09PT09PT09PT0+5Y+W5raI5paw6LSm5Y+36YCB5oiQ6ZW/5aWR57qmIikNCiAgICAvL+i/mOWOnyBJbnRlclNlbGVjdE1vYmlsZUF1dGhSZXdhcmQ6OmRpc3BhdGNoX3NpZyDlh73mlbANCiAgICB2YXIgRGVmcHRyID0gcHRyKDB4MDgxNjEzODQpOw0KICAgIHZhciB2YWx1ZSA9IERlZnB0ci5yZWFkVTgoKQ0KICAgIGlmICh2YWx1ZSAhPSAweDBGKSB7DQoNCiAgICAgICAgTWVtb3J5LnByb3RlY3QoRGVmcHRyLCAxMCwgJ3J3eCcpOw0KICAgICAgICBEZWZwdHIud3JpdGVTaG9ydCgweDg0MEYpOw0KICAgIH0NCiAgICAvL+mHjeWGmUludGVyU2VsZWN0TW9iaWxlQXV0aFJld2FyZDo6ZGlzcGF0Y2hfc2lnIOWHveaVsA0KICAgIHZhciBJbnRlcl9EaXNwYXRjaFByID0gcHRyKDB4MDgxNjEzMkEpOw0KICAgIHZhciBJbnRlcl9EaXNwYXRjaCA9IG5ldyBOYXRpdmVGdW5jdGlvbihJbnRlcl9EaXNwYXRjaFByLCAnaW50JywgWydwb2ludGVyJywgJ3BvaW50ZXInLCAncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQogICAgSW50ZXJjZXB0b3IucmVwbGFjZShJbnRlcl9EaXNwYXRjaFByLCBuZXcgTmF0aXZlQ2FsbGJhY2soZnVuY3Rpb24gKEludGVyU2VsZWN0TW9iaWxlQXV0aFJld2FyZCwgQ1VzZXIsIGEzKSB7DQoNCiAgICAgICAgLy92YXIgSW50ZXJfRGlzcGF0Y2hPcGVuID0gdHJ1ZTsNCiAgICAgICAgdmFyIEludGVyX0Rpc3BhdGNoT3BlbiA9IGZhbHNlOw0KICAgICAgICBpZiAoSW50ZXJfRGlzcGF0Y2hPcGVuKSB7DQoNCiAgICAgICAgICAgIGEzLmFkZCg0KS53cml0ZUludCgwKTsNCiAgICAgICAgICAgIHJldHVybiBJbnRlcl9EaXNwYXRjaChJbnRlclNlbGVjdE1vYmlsZUF1dGhSZXdhcmQsIENVc2VyLCBhMyk7IC8v5omn6KGM5Y6f5Ye95pWw5Y+R6YCB5oiQ6ZW/5aWR57qmDQoNCiAgICAgICAgfQ0KDQogICAgICAgIHJldHVybiAwOyAvL+WPlua2iOaWsOi0puWPt+mAgeaIkOmVv+Wlkee6piAgICDov5Tlm54w6KGo56S65q2j5bi46L+U5ZueIA0KDQogICAgfSwgJ2ludCcsIFsncG9pbnRlcicsICdwb2ludGVyJywgJ3BvaW50ZXInXSkpOw0KfSANCiAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tRlVOQ1RJT05fRU5EIOWPlua2iOaWsOi0puWPt+mAgeaIkOmVv+Wlkee6pizor7TmmI465Y+W5raI5paw6LSm5Y+36YCB5oiQ6ZW/5aWR57qmLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSANCiANCi8vLS0tLS0tLS0tLS0tLS0tLS0tLS1GVU5DVElPTl9CRUdJTiDlv73nlaXlia/mnKzpl6jlj6PnpoHmraLmkYbmkYosIOivtOaYjjrlv73nlaXlia/mnKzpl6jlj6PnpoHmraLmkYbmkYotLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogDQogLy/lv73nlaXlia/mnKzpl6jlj6PnpoHmraLmkYbmkYoNCmZ1bmN0aW9uIFByaXZhdGVzdG9yZV9JZ25vcmVOZWFyRHVuZ2VvbigpIHsNCiAgICBjb25zb2xlLmxvZygiPT09PT09PT09PT09PT09PT09PT09PT7lv73nlaXlia/mnKzpl6jlj6PnpoHmraLmkYbmkYoiKQ0KICAgIEludGVyY2VwdG9yLmF0dGFjaChwdHIoMHgwODVDNTA4MiksIHsNCiAgICAgICAgb25FbnRlcjogZnVuY3Rpb24gKGFyZ3MpIHsNCiAgICAgICAgfSwNCiAgICAgICAgb25MZWF2ZTogZnVuY3Rpb24gKHJldHZhbCkgew0KICAgICAgICAgICAgLy/ojrflj5bov5Tlm57lgLwNCiAgICAgICAgICAgIHZhciByZXR1cm5WYWx1ZSA9IHJldHZhbC50b0ludDMyKCk7DQogICAgICAgICAgICBjb25zb2xlLmxvZygnUmV0dXJuIFZhbHVlOicgKyByZXR1cm5WYWx1ZSk7DQogICAgICAgICAgICAvL+W8uuWItui/lOWbnjENCiAgICAgICAgICAgIHJldHZhbC5yZXBsYWNlKDEpOw0KICAgICAgICB9DQogICAgfSk7DQp9IA0KIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS1GVU5DVElPTl9FTkQg5b+955Wl5Ymv5pys6Zeo5Y+j56aB5q2i5pGG5pGKLOivtOaYjjrlv73nlaXlia/mnKzpl6jlj6PnpoHmraLmkYbmkYotLS0tLS0tLS0tLS0tLS0tLS0tLS0tIA0KIA0KLy8tLS0tLS0tLS0tLS0tLS0tLS0tLUZVTkNUSU9OX0JFR0lOIOiuvue9ruacgOWkp+etiee6pywg6K+05piOOuiuvue9ruacgOWkp+etiee6py0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiANCiAvKioNCiAqIOiuvue9ruacgOWkp+etiee6pw0KICogQHBhcmFtIG1heExldmVsDQogKi8NCmZ1bmN0aW9uIHNldFVzZXJNYXhMZXZlbChtYXhMZXZlbCl7DQogICAgSW50ZXJjZXB0b3IucmVwbGFjZShwdHIoMHgwODY4ZmVjOCksIG5ldyBOYXRpdmVDYWxsYmFjayhmdW5jdGlvbiAoaW5mbywgbGV2ZWwpIHsNCiAgICAgICAgdmFyIHdyaXRlTGV2ZWwgPSBtYXhMZXZlbDsNCiAgICAgICAgaWYgKGxldmVsIDw9IG1heExldmVsKSB7DQogICAgICAgICAgICBpZiAobGV2ZWwgPiAwKSB7DQogICAgICAgICAgICAgICAgd3JpdGVMZXZlbCA9IGxldmVsOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICB3cml0ZUxldmVsID0gMTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICAvLyA1ODQ2NjQNCiAgICAgICAgaW5mby5hZGQoMHg4RUJEOCkud3JpdGVJbnQod3JpdGVMZXZlbCk7DQogICAgICAgIHJldHVybiBpbmZvOw0KICAgIH0sICdwb2ludGVyJywgWydwb2ludGVyJywgJ2ludCddKSk7DQp9DQoNCi8qKg0KICog6YeN5paw6K6h566X562J57qnDQogKiBAcGFyYW0gbWF4TGV2ZWwNCiAqLw0KZnVuY3Rpb24gY2FsY3VyYXRlVXNlck1heExldmVsKG1heExldmVsKXsNCiAgICBJbnRlcmNlcHRvci5yZXBsYWNlKHB0cigweDA4NjhmZjA0KSwgbmV3IE5hdGl2ZUNhbGxiYWNrKGZ1bmN0aW9uIChhMSkgew0KICAgICAgICB2YXIgaW5mbyA9IGExOw0KICAgICAgICB2YXIgY2FsTWF4TGV2ZWwgPSAwOw0KICAgICAgICAvLyDojrflj5bop5LoibLmlbDph48NCiAgICAgICAgdmFyIGluZm9TaXplID0gc3RkX3ZlY3Rvcl9jaGFyYWNfaW5mb19zaXplKGluZm8uYWRkKDB4Nzk2RTgpKTsNCiAgICAgICAgZm9yKHZhciBpPTA7aTxpbmZvU2l6ZTtpKyspew0KICAgICAgICAgICAgLy8g6K+75Y+W5q+P5Liq6KeS6Imy55qE562J57qnDQogICAgICAgICAgICB2YXIgcmVhZExldmVsID0gcHRyKHN0ZF92ZWN0b3JfQ2hhcmFjX2luZm9fb3BlcmF0b3JBcnIoaW5mby5hZGQoNDk3Mzg0KSxpKSkuYWRkKDM5KS5yZWFkVTE2KCk7DQogICAgICAgICAgICBpZihyZWFkTGV2ZWwgPiBjYWxNYXhMZXZlbCl7DQogICAgICAgICAgICAgICAgY2FsTWF4TGV2ZWwgPSByZWFkTGV2ZWw7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgaWYoY2FsTWF4TGV2ZWwgPiBtYXhMZXZlbCl7DQogICAgICAgICAgICBjYWxNYXhMZXZlbAk9IG1heExldmVsOw0KICAgICAgICB9DQogICAgICAgIHJldHVybiBDVXNlcl9TZXRVc2VyTWF4TGV2ZWwoaW5mbyxjYWxNYXhMZXZlbCk7DQogICAgfSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInXSkpOw0KfQ0KDQovKioNCiAqIHRvZG8g5q+P5pel55qE5pel5bi45Lu75YqhDQogKiBAcGFyYW0gbWF4TGV2ZWwNCiAqLw0KZnVuY3Rpb24gaXNUaGVyZURhaWx5VHJhaW5pbmdRdWVzdExpc3QobWF4TGV2ZWwpew0KICAgIEludGVyY2VwdG9yLnJlcGxhY2UocHRyKDB4MDgzNjQxMWUpLCBuZXcgTmF0aXZlQ2FsbGJhY2soZnVuY3Rpb24gKGluZm8sIGExLCBhMikgew0KICAgICAgICB2YXIgbGV2ZWwgPSBhMTsNCiAgICAgICAgaWYobGV2ZWw8PTAgfHwgbGV2ZWwgPiBtYXhMZXZlbCl7DQogICAgICAgICAgICByZXR1cm4gMDsNCiAgICAgICAgfQ0KICAgICAgICB2YXIgcXVlcnN0ID0gYTI7DQogICAgICAgIC8vIGNvbnNvbGUubG9nKCJ1c2VyIGFuZCBsZXZlbCA6IitpbmZvKyIgLCIrbGV2ZWwrJyAsJytxdWVyc3QpOw0KICAgICAgICB2YXIgcXVlc3RMaXN0ID0gQ0RhdGFNYW5hZ2VyX2dldERhaWx5VHJhaW5pbmdRdWVzdChpbmZvLGxldmVsKTsNCg0KICAgICAgICB2YXIgaSA9IDA7DQogICAgICAgIGZvciAoaSA9IDA7IGkgPCA2OyBpKyspIHsNCiAgICAgICAgICAgIHZhciB2YWwgPSBxdWVzdExpc3QuYWRkKGkqMikucmVhZFUxNigpOw0KICAgICAgICAgICAgaWYocXVlcnN0ID09IHZhbCl7DQogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2lzVGhlcmVEYWlseVRyYWluaW5nUXVlc3RMaXN0ICB2YWw6Jyt2YWwrJyAgJytpKTsNCiAgICAgICAgICAgICAgICByZXR1cm4gMTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gMDsNCiAgICB9LCAnaW50JywgWydwb2ludGVyJywgJ2ludCcsICdpbnQnXSkpOw0KfQ0KDQoNCmZ1bmN0aW9uIGdldFJldHVyblVzZXJMZXZlbEtleShtYXhMZXZlbCl7DQogICAgSW50ZXJjZXB0b3IucmVwbGFjZShwdHIoMHgwODY5MjMwYSksIG5ldyBOYXRpdmVDYWxsYmFjayhmdW5jdGlvbiAoc3ROb3RpZnlJbmdhbWVBREluZm8sIGEyLCBhMykgew0KICAgICAgICBjb25zb2xlLmxvZygnZ2V0UmV0dXJuVXNlckxldmVsS2V5ICcrc3ROb3RpZnlJbmdhbWVBREluZm8rJyAnK2EyKycgJythMyk7DQogICAgICAgIGlmKGEzIT0wKXsNCiAgICAgICAgICAgIGlmKGEyIDw9MTkpew0KICAgICAgICAgICAgICAgIHJldHVybiAxNTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfWVsc2V7DQogICAgICAgICAgICBpZihhMiA8PTkpew0KICAgICAgICAgICAgICAgIHJldHVybiA1Ow0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYoYTIgPD0xNCl7DQogICAgICAgICAgICAgICAgcmV0dXJuIDEwOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYoYTIgPD0xOSl7DQogICAgICAgICAgICAgICAgcmV0dXJuIDE1Ow0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIGlmKGEyIDw9Mjkpew0KICAgICAgICAgICAgcmV0dXJuIDIwOw0KICAgICAgICB9DQogICAgICAgIGlmKGEyIDw9Mzkpew0KICAgICAgICAgICAgcmV0dXJuIDMwOw0KICAgICAgICB9DQogICAgICAgIGlmKGEyIDw9NDkpew0KICAgICAgICAgICAgcmV0dXJuIDQwOw0KICAgICAgICB9DQogICAgICAgIGlmKGEyIDw9NTkpew0KICAgICAgICAgICAgcmV0dXJuIDUwOw0KICAgICAgICB9DQogICAgICAgIGlmKGEyIDw9Njkpew0KICAgICAgICAgICAgcmV0dXJuIDYwOw0KICAgICAgICB9DQogICAgICAgIGlmKGEyIDw9Nzkpew0KICAgICAgICAgICAgcmV0dXJuIDcwOw0KICAgICAgICB9DQogICAgICAgIGlmKGEyIDw9ODYpew0KICAgICAgICAgICAgcmV0dXJuIDgwOw0KICAgICAgICB9DQogICAgICAgIHJldHVybiA2MDsNCiAgICB9LCAnaW50JywgWydwb2ludGVyJywgJ2ludCcsICdpbnQnXSkpOw0KfQ0KDQovKioNCiAqIOiOt+WPluetiee6p+autee7j+mqjCDvvIzliqDovb3liLDkuoYyMDANCiAqLw0KZnVuY3Rpb24gZ2V0TGV2ZWxTZWN0aW9uRXhwKCl7DQogICAgLy8gMDgzNjA0QjYNCiAgICBJbnRlcmNlcHRvci5yZXBsYWNlKHB0cigweDA4MzYwNEI2KSwgbmV3IE5hdGl2ZUNhbGxiYWNrKGZ1bmN0aW9uIChjaGFyYWNBZHZhbmNlQWx0YXJNYW5hZ2VyLCBleHApIHsNCiAgICAgICAgaWYoZXhwID4xICYmIGV4cCA8PSAyMDApew0KICAgICAgICAgICAgLy8g6L+U5Zue5LuA5LmI6LWe5piv5LiN55yLDQogICAgICAgICAgICB2YXIgZXhwU2VjdGlvbiA9IGNoYXJhY0FkdmFuY2VBbHRhck1hbmFnZXIuYWRkKChleHArMTA5MTIpKjQpLnJlYWRVMzIoKS1jaGFyYWNBZHZhbmNlQWx0YXJNYW5hZ2VyLmFkZCgoZXhwKzEwOTExKSo0KS5yZWFkVTMyKCkNCiAgICAgICAgICAgIHJldHVybiBleHBTZWN0aW9uOw0KICAgICAgICB9DQogICAgICAgIHJldHVybiAwOw0KICAgIH0sICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50J10pKTsNCn0NCg0KLyoqDQogKiDmo4Dmn6XmmK/lkKbmmK/ljYfnuqfpobkg5L6L5aaC5Y2H57qn5Yi4LOeUqOWkhOS4jeWkpw0KICogQHBhcmFtIG1heExldmVsDQogKi8NCmZ1bmN0aW9uIGNhbExldmVsVXBJdGVtQ2hlY2sobWF4TGV2ZWwpew0KICAgIEludGVyY2VwdG9yLnJlcGxhY2UocHRyKDB4MDg2ODlkMDYpLCBuZXcgTmF0aXZlQ2FsbGJhY2soZnVuY3Rpb24gKHVzZXIsIGl0ZW1faWQpIHsNCiAgICAgICAgY29uc29sZS5sb2coImNhbExldmVsVXBJdGVtQ2hlY2sgZXhlYyIpDQogICAgICAgIHZhciBjaGFyYWNfbGV2ZWwgPSBDVXNlckNoYXJhY0luZm9fZ2V0X2NoYXJhY19sZXZlbCh1c2VyKTsNCiAgICAgICAgaWYoYTI9PTI2NzUzODgpew0KICAgICAgICAgICAgcmV0dXJuIGNoYXJhY19sZXZlbCA+IDAgJiYgY2hhcmFjX2xldmVsIDw9IDY5Ow0KICAgICAgICB9DQogICAgICAgIGlmKGl0ZW1faWQgPiAweDI4RDJCQyl7DQogICAgICAgICAgICBpZiAoIGl0ZW1faWQgIT0gMTAwMDA5MTUgJiYgaXRlbV9pZCAhPSA2OTAwMDAwOTcgKQ0KICAgICAgICAgICAgICAgIHJldHVybiAwOw0KICAgICAgICAgICAgcmV0dXJuIGNoYXJhY19sZXZlbCA+IDAgJiYgY2hhcmFjX2xldmVsIDw9IG1heExldmVsOw0KICAgICAgICB9DQogICAgICAgIHJldHVybiBpdGVtX2lkID09IDgwNDkgJiYgY2hhcmFjX2xldmVsID4gMTggJiYgY2hhcmFjX2xldmVsIDw9IDU5Ow0KICAgIH0sICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50J10pKTsNCn0NCg0KDQoNCi8qKg0KICogc3Dngrkg5ZKMcHZm5pyJ5YWz57O7DQogKiBAcGFyYW0gbWF4TGV2ZWwNCiAqLw0KZnVuY3Rpb24gZ2V0U3BBdExldmVsVXAobWF4TGV2ZWwpew0KICAgIEludGVyY2VwdG9yLnJlcGxhY2UocHRyKDB4MDgzNjBjYjgpLCBuZXcgTmF0aXZlQ2FsbGJhY2soZnVuY3Rpb24gKGNoYXJhY0FkdmFuY2VBbHRhck1hbmFnZXIsIGxldmVsKSB7DQogICAgICAgIGlmKGxldmVsID4wICYmIGxldmVsIDw9IG1heExldmVsKXsNCiAgICAgICAgICAgIHZhciByZXMgPSBjaGFyYWNBZHZhbmNlQWx0YXJNYW5hZ2VyLmFkZCgobGV2ZWwrMTM5ODgpKjQpLnJlYWRVMTYoKTsNCiAgICAgICAgICAgIHJldHVybiByZXM7DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIDA7DQogICAgfSwgJ2ludCcsIFsncG9pbnRlcicsICdpbnQnXSkpOw0KfQ0KDQovKioNCiAqIOacquefpQ0KICogQHBhcmFtIG1heExldmVsDQogKi8NCmZ1bmN0aW9uIHNldExldmVsRXhwKG1heExldmVsKXsNCiAgICAvLyBJbnRlcmNlcHRvci5yZXBsYWNlKHB0cigweDA4MzYwNDAwKSwgbmV3IE5hdGl2ZUNhbGxiYWNrKGZ1bmN0aW9uIChjaGFyYWNBZHZhbmNlQWx0YXJNYW5hZ2VyKSB7DQogICAgLy8gICAgIGNvbnNvbGUubG9nKCJzZXRMZXZlbEV4cCBleGVjIikNCiAgICAvLyAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAyMDA7IGkrKykgew0KICAgIC8vICAgICAgICAgY2hhcmFjQWR2YW5jZUFsdGFyTWFuYWdlci5hZGQoKGkrMTA5MTMpKjQpLndyaXRlVUludCgxMDAwMDAraSk7DQogICAgLy8gICAgIH0NCiAgICAvLyAgICAgcmV0dXJuIDE7DQogICAgLy8gfSwgJ2ludCcsIFsncG9pbnRlciddKSk7DQp9DQoNCi8qKg0KICog6K6+572u5q+P5Liq562J57qn6YCB55qEc3AgLOS7juaWh+S7tuS4reivu+WPluWHuuadpe+8jOWkp+amguacgOWkmuWIsDIwMA0KICogQHBhcmFtIG1heExldmVsDQogKi8NCmZ1bmN0aW9uIHNldFJld2FyZFNwKG1heExldmVsKXsNCiAgICBJbnRlcmNlcHRvci5yZXBsYWNlKHB0cigweDA4MzYwYmRlKSwgbmV3IE5hdGl2ZUNhbGxiYWNrKGZ1bmN0aW9uIChjaGFyYWNBZHZhbmNlQWx0YXJNYW5hZ2VyKSB7DQogICAgICAgIHZhciByZXM7DQogICAgICAgIHZhciByZWZMaXN0ID0gTWVtb3J5LmFsbG9jKDEyKTsNCiAgICAgICAgc3RTcFBlckxldmVsVGFibGUocmVmTGlzdCk7DQogICAgICAgIHZhciBtc2cgPSBNZW1vcnkuYWxsb2NVdGY4U3RyaW5nKCJFdGMvc3BUYWJsZS5ldGMiKTsNCiAgICAgICAgaWYoSW1wb3J0U3BQZXJMZXZlbFJlZmVyZW5jZVRhYmxlKG1zZyxyZWZMaXN0KSE9MCl7DQogICAgICAgICAgICByZXMgPSAwOw0KICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDw9bWF4TGV2ZWw7IGkrKykgew0KICAgICAgICAgICAgICAgIGNoYXJhY0FkdmFuY2VBbHRhck1hbmFnZXIuYWRkKChpKzEzOTg4KSo0KS53cml0ZVVJbnQoMCk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBmb3IgKHZhciBpPTA7aTw9bWF4TGV2ZWw7aSsrKXsNCiAgICAgICAgICAgICAgICB2YXIgcmVhZFZhbCA9IHZlY3Rvcl91bnNpZ25lZF9pbnRfb3BlcmF0b3IocmVmTGlzdCxpKS5yZWFkVUludCgpOw0KICAgICAgICAgICAgICAgIGNoYXJhY0FkdmFuY2VBbHRhck1hbmFnZXIuYWRkKChpKzEzOTg4KSo0KS53cml0ZVVJbnQocmVhZFZhbCkNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHJlcyA9IDE7DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIHJlczsNCiAgICB9LCAnaW50JywgWydwb2ludGVyJ10pKTsNCn0NCg0KLyoqDQogKiDmo4Dmn6XnrYnnuqfljYfnuqcNCiAqIGZsYWcgMCDnu4/pqozkuabljYfnuqcgIDEg5p2A5oCq5Y2H57qnIDIg6YCa5YWzICAxMyDku7vliqENCiAqIHJldHVybiAg5Y2H57qnMSDkuI3ljYfnuqcwDQogKi8NCmZ1bmN0aW9uIGNoZWNrTGV2ZWxVcChtYXhMZXZlbCl7DQogICAgSW50ZXJjZXB0b3IucmVwbGFjZShwdHIoMHgwODY2MmFlYSksIG5ldyBOYXRpdmVDYWxsYmFjayhmdW5jdGlvbiAoc3ROb3RpZnlJbmdhbWVBREluZm8sYWRkRXhwLGFyZ3NBLGFyZ3NCLGZsYWcpIHsNCiAgICAgICAgdmFyIGFyZ3MyID0gcHRyKGFyZ3NBKTsNCiAgICAgICAgdmFyIGFyZ3MzID0gcHRyKGFyZ3NCKTsNCiAgICAgICAgdmFyIHZsb2cgPSBNZW1vcnkuYWxsb2MoMTYpOw0KICAgICAgICB2YXIgdmxvZzIgPSBNZW1vcnkuYWxsb2MoMTYpOw0KICAgICAgICB2YXIgdmxvZzMgPSBNZW1vcnkuYWxsb2MoMTYpOw0KICAgICAgICB2YXIgdmxvZzQgPSBNZW1vcnkuYWxsb2MoMTYpOw0KICAgICAgICB2YXIgdjQxID0gTWVtb3J5LmFsbG9jKDEwKTsNCiAgICAgICAgLy8gY29uc29sZS5sb2coJ2NoZWNrTGV2ZWxVcCBhcmdzOicrICBzdE5vdGlmeUluZ2FtZUFESW5mbysnLCcrYWRkRXhwKycsJythcmdzQSsnLCcrYXJnc0IrJywnK2ZsYWcpDQogICAgICAgIHZhciBuZXh0TGV2ZWwgPSBDVXNlckNoYXJhY0luZm9fZ2V0X2NoYXJhY19sZXZlbChzdE5vdGlmeUluZ2FtZUFESW5mbykrMTsNCiAgICAgICAgdmFyIHJlc1ZhbCA9IDA7DQogICAgICAgIGlmKENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNSKHN0Tm90aWZ5SW5nYW1lQURJbmZvKSE9MCl7DQogICAgICAgICAgICBpZihDVXNlckNoYXJhY0luZm9fZ2V0X2NoYXJhY19sZXZlbChzdE5vdGlmeUluZ2FtZUFESW5mbykgPiAwKXsNCiAgICAgICAgICAgICAgICB3aGlsZSAoIGFkZEV4cCA+MCAmJiBuZXh0TGV2ZWwgPD0gbWF4TGV2ZWwgKXsNCiAgICAgICAgICAgICAgICAgICAgdmFyIG5vd0xldmVsRXhwID0gQ0RhdGFNYW5hZ2VyX2dldF9sZXZlbF9leHAoR19DRGF0YU1hbmFnZXIoKSxDVXNlckNoYXJhY0luZm9fZ2V0X2NoYXJhY19sZXZlbChzdE5vdGlmeUluZ2FtZUFESW5mbykpOw0KICAgICAgICAgICAgICAgICAgICB2YXIgbmV4dExldmVsRXhwID0gQ0RhdGFNYW5hZ2VyX2dldF9sZXZlbF9leHAoR19DRGF0YU1hbmFnZXIoKSxuZXh0TGV2ZWwpOw0KICAgICAgICAgICAgICAgICAgICB2YXIgY2hhcmFjRXhwID0gQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfZXhwKHN0Tm90aWZ5SW5nYW1lQURJbmZvKTsNCiAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coInVzZXIgbm93TGV2ZWwgbmV4dExldmVsIG5vd0V4cCBub3dMZXZlbEV4cCBuZXh0TGV2ZWxFeHAgOiIgKyBDVXNlckNoYXJhY0luZm9fZ2V0X2NoYXJhY19sZXZlbChzdE5vdGlmeUluZ2FtZUFESW5mbykNCiAgICAgICAgICAgICAgICAgICAgLy8gICAgICsnLCcrbmV4dExldmVsKycsJytjaGFyYWNFeHArJywnK25vd0xldmVsRXhwKycsJytuZXh0TGV2ZWxFeHApOw0KICAgICAgICAgICAgICAgICAgICAvLyDpmY3nuqfmiJbljYfnuqcNCiAgICAgICAgICAgICAgICAgICAgaWYoY2hhcmFjRXhwPG5vd0xldmVsRXhwIHx8IGNoYXJhY0V4cD5uZXh0TGV2ZWxFeHApew0KICAgICAgICAgICAgICAgICAgICAgICAgLy8g5ZKM5b2T5YmN57uP6aqM5LiN5Yy56YWNIOS7juaWsOiuvue9rue7j+mqjA0KICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNoYXJjTmFtZSA9ICcnOw0KICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNoYXJjTmFtZVZhbCA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNOYW1lKHN0Tm90aWZ5SW5nYW1lQURJbmZvKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCFjaGFyY05hbWVWYWwuaXNOdWxsKCkpDQogICAgICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhcmNOYW1lID0gIGNoYXJjTmFtZVZhbC5yZWFkVXRmOFN0cmluZygtMSk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICBjTXlUcmFjZV9jTXlUcmFjZSh2bG9nMyxNZW1vcnkuYWxsb2NVdGY4U3RyaW5nKCJib29sIENVc2VyOjpfY2hlY2tfbGV2ZWxfdXAoaW50LCBpbnQmLCBpbnQmLCBlRXhwQWRkUmVhc29uLCBpbnQpIiksMTY0NDMsNSk7DQogICAgICAgICAgICAgICAgICAgICAgICBjTXlUcmFjZV9vcGVyYXRvcih2bG9nMy50b0ludDMyKCksTWVtb3J5LmFsbG9jVXRmOFN0cmluZygiJXMgaXMgTGV2ZWwoJWQpIGFuZCBFeHAoJWQpIEluY29uc2lzdGVuY3koYm90dG9tKCVkKSwgdG9wKCVkKSkiKSxNZW1vcnkuYWxsb2NVdGY4U3RyaW5nKGNoYXJjTmFtZSkpOw0KICAgICAgICAgICAgICAgICAgICAgICAgLy8g6L+Z5bqU6K+l5bCx5piv5Li65LuA5LmI5Ye6546w5Y2H57qn5ZCO57uP6aqM55m+5YiG5q+U5Li6MA0KICAgICAgICAgICAgICAgICAgICAgICAgQ1VzZXJDaGFyYWNJbmZvX3NldEN1ckNoYXJhY0V4cChzdE5vdGlmeUluZ2FtZUFESW5mbyxub3dMZXZlbEV4cCk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgaWYoIG5leHRMZXZlbEV4cC0gbm93TGV2ZWxFeHAgPD0wKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIOa7oee6p+S6hiDkuIvkuKrnrYnnuqfmnInpl67popgNCiAgICAgICAgICAgICAgICAgICAgICAgIGNNeVRyYWNlX2NNeVRyYWNlKHZsb2c0LE1lbW9yeS5hbGxvY1V0ZjhTdHJpbmcoImJvb2wgQ1VzZXI6Ol9jaGVja19sZXZlbF91cChpbnQsIGludCYsIGludCYsIGVFeHBBZGRSZWFzb24sIGludCkiKSwxNjQ1NCw1KTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNNeVRyYWNlX29wZXJhdG9yKHZsb2c0LnRvSW50MzIoKSxNZW1vcnkuYWxsb2NVdGY4U3RyaW5nKCJDVXNlcjo6X2NoZWNrX2xldmVsX3VwLCBMRVZFTDolZCBUT1A6JWQgQk9UVE9NOiVkIiksTWVtb3J5LmFsbG9jVXRmOFN0cmluZyhuZXh0TGV2ZWwrJycpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAwOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGNoYXJhY0V4cCA9IENVc2VyQ2hhcmFjSW5mb19nZXRfY2hhcmFjX2V4cChzdE5vdGlmeUluZ2FtZUFESW5mbyk7DQogICAgICAgICAgICAgICAgICAgIC8vIOe7j+mqjOWAvOWIpOaWrQ0KICAgICAgICAgICAgICAgICAgICBpZiggTnVtYmVyKGFkZEV4cCtjaGFyYWNFeHApIDwgbmV4dExldmVsRXhwICl7DQogICAgICAgICAgICAgICAgICAgICAgICBDVXNlckNoYXJhY0luZm9fYWRkQ3VyQ2hhcmFjRXhwKHN0Tm90aWZ5SW5nYW1lQURJbmZvLCBhZGRFeHApOw0KICAgICAgICAgICAgICAgICAgICAgICAgaWYoZmxhZyAhPSAwKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaGFkZXMgPSBDVXNlcl9nZXRIYWRlcyhzdE5vdGlmeUluZ2FtZUFESW5mbyk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgWE51Y2xlYXJfQ0hhZGVzX0V4cFVwKGhhZGVzLGFkZEV4cCk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICBhZGRFeHAgPSAwOw0KICAgICAgICAgICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIOWNh+e6p+S6hg0KICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHYxNCA9IGFyZ3MyLnJlYWRVMTYoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIOiOt+WPluetiee6p+aPkOWNh+eahCBzcOeCuQ0KICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNwQXRMZXZlbFVwID0gQ0RhdGFNYW5hZ2VyX0dldFNwQXRMZXZlbFVwKEdfQ0RhdGFNYW5hZ2VyKCksbmV4dExldmVsKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIOiuvue9ruW9k+WJjeetiee6p+eahHNw54K5DQogICAgICAgICAgICAgICAgICAgICAgICBhcmdzMi53cml0ZVUxNih2MTQrc3BBdExldmVsVXApOw0KICAgICAgICAgICAgICAgICAgICAgICAgLy8g5aaC5p6c562J57qn5ZyoNDnnuqfku6XkuIoNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKG5leHRMZXZlbD40OSl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJnczMgPSBhcmdzMy5hZGQoNCk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGlmZkV4cCAgPSBuZXh0TGV2ZWxFeHAgLSBDVXNlckNoYXJhY0luZm9fZ2V0X2NoYXJhY19leHAoc3ROb3RpZnlJbmdhbWVBREluZm8pOw0KICAgICAgICAgICAgICAgICAgICAgICAgKytuZXh0TGV2ZWw7DQogICAgICAgICAgICAgICAgICAgICAgICBDVXNlckNoYXJhY0luZm9faW5jQ3VyQ2hhcmFjTGV2ZWwoc3ROb3RpZnlJbmdhbWVBREluZm8pOw0KICAgICAgICAgICAgICAgICAgICAgICAgYWRkRXhwID0gYWRkRXhwICsgKENVc2VyQ2hhcmFjSW5mb19nZXRfY2hhcmFjX2V4cChzdE5vdGlmeUluZ2FtZUFESW5mbyktbmV4dExldmVsRXhwKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKENVc2VyQ2hhcmFjSW5mb19nZXRfY2hhcmFjX2xldmVsKHN0Tm90aWZ5SW5nYW1lQURJbmZvKSA+OSAmJiBDVXNlcl9HZXRUdXRvcmlhbFNraXBhYmxlKHN0Tm90aWZ5SW5nYW1lQURJbmZvKSE9MCl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgQ1VzZXJfVXBkYXRlVHV0b3JpYWxTa2lwYWJsZShzdE5vdGlmeUluZ2FtZUFESW5mbyk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICBDVXNlckNoYXJhY0luZm9fc2V0Q3VyQ2hhcmFjRXhwKHN0Tm90aWZ5SW5nYW1lQURJbmZvLG5leHRMZXZlbEV4cCk7DQogICAgICAgICAgICAgICAgICAgICAgICBDVXNlcl91cGRhdGVfY2hhcmFjX3N0YXQoc3ROb3RpZnlJbmdhbWVBREluZm8sMSk7DQogICAgICAgICAgICAgICAgICAgICAgICByZXNWYWwgPSAxOw0KICAgICAgICAgICAgICAgICAgICAgICAgLy8gdG9kbyDorrDlvZXml6Xlv5cgIOaWh+S7tuaMh+mSiCDlhbPms6jmmK/lkKblj6/ku6XmraPluLgNCiAgICAgICAgICAgICAgICAgICAgICAgIEhpc3RvcnlMb2dfV3JpdGVMZXZlbFVwKHN0Tm90aWZ5SW5nYW1lQURJbmZvLmFkZCg0KjEyNDM1MCkscHRyKENVc2VyQ2hhcmFjSW5mb19nZXRfY2hhcmFjX2V4cChzdE5vdGlmeUluZ2FtZUFESW5mbykpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBnb2xkQm9udXMgPSAgV29uZ1dvcmtfQ1VzZXJQcmVtaXVtX0dldEdvbGRCb251cyhzdE5vdGlmeUluZ2FtZUFESW5mby5hZGQoNDYzMzg4KSxDVXNlckNoYXJhY0luZm9fZ2V0X2NoYXJhY19sZXZlbChzdE5vdGlmeUluZ2FtZUFESW5mbykpOw0KICAgICAgICAgICAgICAgICAgICAgICAgaWYoZ29sZEJvbnVzIT0wKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgQ3VyQ2hhcmFjSW52ZW5XID0gQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY0ludmVuVyhzdE5vdGlmeUluZ2FtZUFESW5mbyk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgQ0ludmVudG9yeV9nYWluX21vbmV5KEN1ckNoYXJhY0ludmVuVyxnb2xkQm9udXMsMTMsMSwwKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBDVXNlcl9TZW5kVXBkYXRlSXRlbUxpc3Qoc3ROb3RpZnlJbmdhbWVBREluZm8sMSwwLDApOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJDSW52ZW50b3J5X2dhaW5fbW9uZXkgaXMgc3VjY2VzcyEhISIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgV29uZ1dvcmtfQ1VzZXJQcmVtaXVtX1JlY2FsY0FkZGl0aW9uYWxJbmZvKHN0Tm90aWZ5SW5nYW1lQURJbmZvLmFkZCg0NjMzODgpLHN0Tm90aWZ5SW5nYW1lQURJbmZvKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGZsYWcgIT0gMCl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGhhZGVzID0gQ1VzZXJfZ2V0SGFkZXMoc3ROb3RpZnlJbmdhbWVBREluZm8pOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIFhOdWNsZWFyX0NIYWRlc19FeHBVcChoYWRlcyxkaWZmRXhwKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIGNVc2VySGlzdG9yeUxvZ19MZXZlbFVwKHN0Tm90aWZ5SW5nYW1lQURJbmZvLmFkZCg0OTc0MDgpLENVc2VyQ2hhcmFjSW5mb19nZXRfY2hhcmFjX2xldmVsKHN0Tm90aWZ5SW5nYW1lQURJbmZvKSxDVXNlckNoYXJhY0luZm9fZ2V0X2NoYXJhY19sZXZlbChzdE5vdGlmeUluZ2FtZUFESW5mbykpOw0KICAgICAgICAgICAgICAgICAgICAgICAgaWYoQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfbGV2ZWwoc3ROb3RpZnlJbmdhbWVBREluZm8pID4gNTkpew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRvZG8gNjDnuqcgIOW8gueVjCAgICDov5jmnInlpKnnlYw/DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgQ1VzZXJfRGltZW5zaW9uSW5vdXRVcGRhdGUoc3ROb3RpZnlJbmdhbWVBREluZm8sMSwxKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKENVc2VyQ2hhcmFjSW5mb19nZXRfY2hhcmFjX2xldmVsKHN0Tm90aWZ5SW5nYW1lQURJbmZvKSA9PSBtYXhMZXZlbCl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoV29uZ1dvcmtfQ0dNQWNjb3VudHNfaXNHTShwdHIocHRyKDB4MDk0MUY3MTApLnJlYWRVMzIoKSksQ1VzZXJfZ2V0X2FjY19pZChzdE5vdGlmeUluZ2FtZUFESW5mbykpIT0wKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUGFja2V0X01vbml0b3JfTWF4X0xldmVsX0Jyb2FkQ2FzdF9QYWNrZXRfTW9uaXRvcl9NYXhfTGV2ZWxfQnJvYWRDYXN0KHY0MSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzZXJ2ZXJQcm94eSA9IENTZXJ2ZXJQcm94eU1ncl9DTW9uaXRvclNlcnZlclByb3h5X0dldFNlcnZlclByb3h5KHB0cihwdHIoMHgwOTQwQkUyOCkucmVhZFUzMigpKSxDVXNlcl9HZXRTZXJ2ZXJHcm91cChzdE5vdGlmeUluZ2FtZUFESW5mbykpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDTW9uaXRvclNlcnZlclByb3h5X1NlbmRQYWNrZXQoc2VydmVyUHJveHksdjQxLDQwKTsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKENVc2VyQ2hhcmFjSW5mb19nZXRfY2hhcmFjX2xldmVsKHN0Tm90aWZ5SW5nYW1lQURJbmZvKSA9PSBHYW1lV29ybGRfZ2V0RHVuZ2Vvbk1pbmltdW1SZXF1aXJlZExldmVsKEdfR2FtZVdvcmxkKCksMjU1KSl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoU2VydmVyUGFyYW1ldGVyU2NyaXB0X2lzRHVuZ2Vvbk9wZW4oKSE9MCl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEdhbWVXb3JsZF9zZW5kX3VzZXJfZHVuZ2Vvbl9pbm91dF9tZXNzYWdlKEdfR2FtZVdvcmxkKCksc3ROb3RpZnlJbmdhbWVBREluZm8sMTEwMDcsMSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEdhbWVXb3JsZF9zZW5kX3VzZXJfZHVuZ2Vvbl9pbm91dF9tZXNzYWdlKEdfR2FtZVdvcmxkKCksc3ROb3RpZnlJbmdhbWVBREluZm8sMTEwMDcsMCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgQ1VzZXJfbWFrZUd1aWxkTGV2ZWxVcE1lc3NhZ2Uoc3ROb3RpZnlJbmdhbWVBREluZm8sQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfbGV2ZWwoc3ROb3RpZnlJbmdhbWVBREluZm8pKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCd1c2VyIGxldmVsIHN1Y2Nlc3MnKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIOWIsOi/memHjOW3sue7j+WNh+e6p+WujOaIkOS6hiAg5omn6KGM5Y2H57qn5LqL5Lu2DQogICAgICAgICAgICAgICAgICAgICAgICBDVXNlcl9vbkxldmVsVXAoc3ROb3RpZnlJbmdhbWVBREluZm8pOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIC8vQ1VzZXJfU2VuZE5vdGlQYWNrZXQoc3ROb3RpZnlJbmdhbWVBREluZm8sMSwzNywwKTsNCiAgICAgICAgICAgICAgICByZXR1cm4gcmVzVmFsOw0KICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgICAgY015VHJhY2VfY015VHJhY2UodmxvZzIsTWVtb3J5LmFsbG9jVXRmOFN0cmluZygiYm9vbCBDVXNlcjo6X2NoZWNrX2xldmVsX3VwKGludCwgaW50JiwgaW50JiwgZUV4cEFkZFJlYXNvbiwgaW50KSIpLDE2NDE4LDUpOw0KICAgICAgICAgICAgICAgIGNNeVRyYWNlX29wZXJhdG9yKHZsb2cyLnRvSW50MzIoKSxNZW1vcnkuYWxsb2NVdGY4U3RyaW5nKCJDVXNlcjo6X2NoZWNrX2xldmVsX3VwIG1fc2VsZWN0ZWQtPm1fbGV2ZWwgaXMgMCIpLCdVMDAwMCcpOw0KICAgICAgICAgICAgICAgIHJldHVybiAwOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgIGNNeVRyYWNlX2NNeVRyYWNlKHZsb2csTWVtb3J5LmFsbG9jVXRmOFN0cmluZygiYm9vbCBDVXNlcjo6X2NoZWNrX2xldmVsX3VwKGludCwgaW50JiwgaW50JiwgZUV4cEFkZFJlYXNvbiwgaW50KSIpLDE2NDExLDUpOw0KICAgICAgICAgICAgY015VHJhY2Vfb3BlcmF0b3IodmxvZyxNZW1vcnkuYWxsb2NVdGY4U3RyaW5nKCJDVXNlcjo6X2NoZWNrX2xldmVsX3VwIG1fc2VsZWN0ZWQgaXMgTlVMTCIpLCdVMDAwMCcpOw0KICAgICAgICAgICAgcmV0dXJuIDA7DQogICAgICAgIH0NCiAgICB9LCAnaW50JywgWydwb2ludGVyJywnaW50JywnaW50JywnaW50JywnaW50J10pKTsNCn0NCg0KLyoqDQogKiDojrflvpfnu4/pqozlkoxzcOeCuQ0KICogYTYg5oCq54mpaWQgIGEzIHNw54K5DQogKiBAcGFyYW0gbWF4TGV2ZWwNCiAqLw0KZnVuY3Rpb24gZ2FpbkV4cFNwKG1heExldmVsKXsNCiAgICBJbnRlcmNlcHRvci5yZXBsYWNlKHB0cigweDA4NjZhM2ZlKSwgbmV3IE5hdGl2ZUNhbGxiYWNrKGZ1bmN0aW9uICh1c2VySW5mbyxhZGRFeHAsYTMsYTQsc291cmNlVHlwZSxhNixhNykgew0KICAgICAgICAvLyBjb25zb2xlLmxvZygnZ2FpbkV4cFNwIGFyZ3M6Jyt1c2VySW5mbysnLCcrYWRkRXhwKycsJythMysnLCcrYTQrJywnK3NvdXJjZVR5cGUrJywnK2E2KycsJythNykNCiAgICAgICAgdmFyIG9ubWVudCA9IEdfQ0Vudmlyb25tZW50KCkuYWRkKDQyNCo0KS5yZWFkVTE2KCk7DQogICAgICAgIGlmKG9ubWVudCA9PSAyICYmIENVc2VyQ2hhcmFjSW5mb19nZXRfY2hhcmFjX2xldmVsKHVzZXJJbmZvKSA+IDQ5KXsNCiAgICAgICAgICAgIGFkZEV4cCA9IDA7DQogICAgICAgIH0NCiAgICAgICAgaWYoIChhZGRFeHAgJiAweDgwMDAwMDAwKSAhPTAgKXsNCiAgICAgICAgICAgIGFkZEV4cCA9IDA7DQogICAgICAgIH0NCiAgICAgICAgdmFyIGFkZFZhbFRlbXAgPSB1c2VySW5mby5hZGQoMTQ1NDM0KjQpOw0KICAgICAgICBpZihzb3VyY2VUeXBlPT0xIHx8IHNvdXJjZVR5cGU9PTIpew0KICAgICAgICAgICAgdmFyIGFkZFZhbCA9IGFkZFZhbFRlbXAucmVhZFUxNigpOw0KICAgICAgICAgICAgdXNlckluZm8uYWRkKDE0NTQzNCo0KS53cml0ZVUxNihhZGRWYWwrYWRkRXhwKTsNCiAgICAgICAgfQ0KICAgICAgICB2YXIgYWRkVmFsID0gYWRkVmFsVGVtcC5yZWFkVTE2KCk7DQogICAgICAgIHVzZXJJbmZvLmFkZCgxNDU0MzEqNCkud3JpdGVVMTYoYWRkVmFsK2FkZEV4cCk7DQogICAgICAgIENVc2VyX2luY1BsYXlFeHBBZGQodXNlckluZm8sYWRkRXhwKTsNCiAgICAgICAgdmFyIHVwTGV2ZWxUYWcgPSAwOw0KICAgICAgICBpZihDVXNlckNoYXJhY0luZm9fZ2V0X2NoYXJhY19sZXZlbCh1c2VySW5mbykgPD0gbWF4TGV2ZWwtMSl7DQogICAgICAgICAgICB1cExldmVsVGFnID0gQ1VzZXJfY2hlY2tfbGV2ZWxfdXAodXNlckluZm8sIGFkZEV4cCwgYTMsYTQsc291cmNlVHlwZSk7DQogICAgICAgICAgICB2YXIgY3VyQ2hhcmFjU2tpbGxSID0gQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY1NraWxsUih1c2VySW5mbyk7DQogICAgICAgICAgICB2YXIgcmVhbWluU3BBdEluZGV4ID0gU2tpbGxTbG90X2dldF9yZW1haW5fc3BfYXRfaW5kZXgoY3VyQ2hhcmFjU2tpbGxSLE1lbW9yeS5hbGxvY1V0ZjhTdHJpbmcoJzAnKSk7DQogICAgICAgICAgICB2YXIgYTNWYWwgPSBwdHIoYTMpLnJlYWRVSW50KCk7DQogICAgICAgICAgICBDVXNlcl9nYWluX3NwKHVzZXJJbmZvLGEzVmFsKTsNCiAgICAgICAgICAgIENVc2VyX2hpc3RvcnlfbG9nX3NwKHVzZXJJbmZvLHJlYW1pblNwQXRJbmRleCxhMywwKTsNCiAgICAgICAgICAgIGN1ckNoYXJhY1NraWxsUiA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNTa2lsbFIodXNlckluZm8pOw0KICAgICAgICAgICAgdmFyIHJlYW1pblN0cEF0SW5kZXggPSBTa2lsbFNsb3RfZ2V0X3JlbWFpbl9zZnBfYXRfaW5kZXgoY3VyQ2hhcmFjU2tpbGxSLE1lbW9yeS5hbGxvY1V0ZjhTdHJpbmcoJzInKSk7DQogICAgICAgICAgICB2YXIgYTRWYWwgPSBwdHIoYTQpLnJlYWRVSW50KCk7DQogICAgICAgICAgICBDVXNlcl9nYWluX3NmcCh1c2VySW5mbyxhNFZhbCk7DQogICAgICAgICAgICBDVXNlcl9oaXN0b3J5X2xvZ19zZnAodXNlckluZm8scmVhbWluU3RwQXRJbmRleCxhNCwwKTsNCiAgICAgICAgfQ0KICAgICAgICB2YXIgdjMzID0gTWVtb3J5LmFsbG9jKDEyKTsNCiAgICAgICAgUGFja2V0R3VhcmRfUGFja2V0R3VhcmQodjMzKTsNCiAgICAgICAgLy8g6K6+572u6KeS6Imy5Y+v6Zev5Yiw562J57qnDQogICAgICAgIGlmKHVwTGV2ZWxUYWc9PTEpew0KICAgICAgICAgICAgQ1VzZXJfQ2FsY3VyYXRlVXNlck1heExldmVsKHVzZXJJbmZvKTsNCiAgICAgICAgICAgIGlmKENVc2VyQ2hhcmFjSW5mb19HZXRDdXJDaGFyYWNNYXhFcXVpcExldmVsKHVzZXJJbmZvKSAhPTApew0KICAgICAgICAgICAgICAgIHZhciB1c2VyQ3VyTGV2ZWwgPSBDVXNlckNoYXJhY0luZm9fZ2V0X2NoYXJhY19sZXZlbCh1c2VySW5mbyk7DQogICAgICAgICAgICAgICAgaWYodXNlckN1ckxldmVsID09IENVc2VyQ2hhcmFjSW5mb19HZXRDdXJDaGFyYWNNYXhFcXVpcExldmVsKHVzZXJJbmZvKSl7DQogICAgICAgICAgICAgICAgICAgIENVc2VyQ2hhcmFjSW5mb19TZXRDdXJDaGFyYWNNYXhFcXVpcExldmVsKHVzZXJJbmZvLDApOw0KICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnQ1VzZXJDaGFyYWNJbmZvX1NldEN1ckNoYXJhY01heEVxdWlwTGV2ZWwgaXMgMCcpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHZhciBjdXJDaGFyYWNRdWVzdFcgPSBDVXNlcl9nZXRDdXJDaGFyYWNRdWVzdFcodXNlckluZm8pOw0KICAgICAgICAgICAgVXNlclF1ZXN0X1Jlc2V0VXJnZW50UXVlc3RXYWl0aW5nTGlzdChjdXJDaGFyYWNRdWVzdFcpOw0KICAgICAgICAgICAgdmFyIGN1ckNoYXJhY1F1ZXN0UiA9Q1VzZXJfZ2V0Q3VyQ2hhcmFjUXVlc3RSKHVzZXJJbmZvKTsNCiAgICAgICAgICAgIFVzZXJRdWVzdF9nZXRfcXVlc3RfaW5mbyhjdXJDaGFyYWNRdWVzdFIsdjMzKTsNCiAgICAgICAgICAgIENDaGFyYWN0ZXJWaWV3X2VuYWJsZVNhdmVDaGFyYWNWaWV3KHVzZXJJbmZvLmFkZCg0OTczOTYpKTsNCiAgICAgICAgICAgIENVc2VyX1NlbmQodXNlckluZm8sdjMzKTsNCiAgICAgICAgICAgIGlmKENVc2VyQ2hhcmFjSW5mb19nZXRfY2hhcmFjX2xldmVsKHVzZXJJbmZvKSA9PSBtYXhMZXZlbCl7DQogICAgICAgICAgICAgICAgQ1VzZXJDaGFyYWNJbmZvX3Jlc2V0Q2hhcmFjRmF0aWd1ZUdyb3duVXBCdWZmKHVzZXJJbmZvKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIENVc2VyX1VwZGF0ZVVzZXJJbmZvNEd1aWxkKHVzZXJJbmZvKTsNCiAgICAgICAgICAgIHZhciBjdXJDaGFyYUdyb3dUeXBlID0gQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY0dyb3dUeXBlKHVzZXJJbmZvKTsNCiAgICAgICAgICAgIHZhciBjdXJDaGFyYUxldmVsID0gQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfbGV2ZWwodXNlckluZm8pOw0KICAgICAgICAgICAgdmFyIGNoYXJhY05vID0gQ1VzZXJfZ2V0X2NoYXJhY19ubyh1c2VySW5mbywtMSk7DQogICAgICAgICAgICB2YXIgYWNjSWQgPSBDVXNlcl9nZXRfYWNjX2lkKHVzZXJJbmZvKTsNCiAgICAgICAgICAgIHZhciBzZXJ2ZXJHcm91cCA9IENVc2VyX0dldFNlcnZlckdyb3VwKHVzZXJJbmZvKTsNCiAgICAgICAgICAgIHZhciBzZXJ2ZXJQcm94eSA9IENTZXJ2ZXJQcm94eU1ncl9DR3VpbGRTZXJ2ZXJQcm94eV9HZXRTZXJ2ZXJQcm94eShwdHIocHRyKDB4MDk0MEJFMkMpLnJlYWRVMzIoKSksc2VydmVyR3JvdXApOw0KICAgICAgICAgICAgQ0d1aWxkU2VydmVyUHJveHlfU2VuZENoYXJMZXZlbEdyb3dUeXBlKHNlcnZlclByb3h5LGFjY0lkLGNoYXJhY05vLGN1ckNoYXJhTGV2ZWwsY3VyQ2hhcmFHcm93VHlwZSk7DQogICAgICAgICAgICBzZXJ2ZXJQcm94eSA9IENTZXJ2ZXJQcm94eU1ncl9DTW9uaXRvclNlcnZlclByb3h5X0dldFNlcnZlclByb3h5KHB0cihwdHIoMHgwOTQwQkUyOCkucmVhZFUzMigpKSxzZXJ2ZXJHcm91cCk7DQogICAgICAgICAgICBDTW9uaXRvclNlcnZlclByb3h5X1NlbmRDaGFyTGV2ZWxHcm93VHlwZShzZXJ2ZXJQcm94eSxhY2NJZCxjaGFyYWNObyxjdXJDaGFyYUxldmVsLGN1ckNoYXJhR3Jvd1R5cGUpOw0KICAgICAgICAgICAgdmFyIHZlcmlmeSA9IENVc2VyX1ZlcmlmeVByZXNlbnRBdmVuZ2VyVGl0bGUodXNlckluZm8pOw0KICAgICAgICAgICAgaWYodmVyaWZ5ICE9IDEpew0KICAgICAgICAgICAgICAgIHZhciB2MzQgPSBNZW1vcnkuYWxsb2MoMTYpOw0KICAgICAgICAgICAgICAgIHZhciBhY2NJZCA9IENVc2VyX2dldF9hY2NfaWQodXNlckluZm8pOw0KICAgICAgICAgICAgICAgIGNNeVRyYWNlX2NNeVRyYWNlKHYzNCxNZW1vcnkuYWxsb2NVdGY4U3RyaW5nKCJib29sIENVc2VyOjpnYWluX2V4cF9zcChpbnQsIGludCYsIGludCYsIGVFeHBBZGRSZWFzb24sIGludCwgYm9vbCkiKSwyMDU1MCwwKTsNCiAgICAgICAgICAgICAgICBjTXlUcmFjZV9vcGVyYXRvcih2MzQudG9JbnQzMigpLE1lbW9yeS5hbGxvY1V0ZjhTdHJpbmcoIkNVc2VyOjpWZXJpZnlQcmVzZW50QXZlbmdlclRpdGxlKCkgbV9pZCglcyksIGNoYXJhY19ubygldSkiKSxNZW1vcnkuYWxsb2NVdGY4U3RyaW5nKGFjY0lkKycnKSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBDVXNlcl9BZGRDdXJDaGFyYWNNZXJjZW5hcnlJbmZvKHVzZXJJbmZvKTsNCiAgICAgICAgfQ0KICAgICAgICB2YXIgcmVhZFRlbXBWYWwgPSB1c2VySW5mby5hZGQoMTQ0MzY5KjQpLnJlYWRVMTYoKTsNCiAgICAgICAgaWYocmVhZFRlbXBWYWw9PTUgfHwgcmVhZFRlbXBWYWw9PTggfHwgcmVhZFRlbXBWYWw9PTcgfHwgcmVhZFRlbXBWYWw9PTEwIHx8IHJlYWRUZW1wVmFsPT0xMiApew0KICAgICAgICAgICAgaWYoYTcgIT0gMSl7DQogICAgICAgICAgICAgICAgQ1VzZXJfU2VuZE5vdGlQYWNrZXQodXNlckluZm8sMSwzNywwKTsNCiAgICAgICAgICAgICAgICBDVXNlckNoYXJhY0luZm9fc2V0X2NoYXJhY19mYXRpZ3VlX2J1Zl9ib251c19leHAodXNlckluZm8sMCk7DQogICAgICAgICAgICB9ZWxzZSBpZih1cExldmVsVGFnID09MSl7DQogICAgICAgICAgICAgICAgQ1VzZXJfU2VuZE5vdGlQYWNrZXQodXNlckluZm8sMSwzNywwKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmKHVwTGV2ZWxUYWc9PTEpew0KICAgICAgICAgICAgICAgIENVc2VyX2RlY2lkZV9ncm93dGhfcG93ZXJfcmV3YXJkX3N5c3RlbSh1c2VySW5mbyk7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgaWYodXBMZXZlbFRhZyA9PSAxKXsNCiAgICAgICAgICAgIHZhciBwbGF5Q291bnQgPSBDVXNlckNoYXJhY0luZm9fR2V0Q3VyQ2hhcmFjRHVuZ2VvblBsYXlDb3VudCh1c2VySW5mbyk7DQogICAgICAgICAgICB2YXIgY3VyQ2hhcmFMZXZlbCA9IENVc2VyQ2hhcmFjSW5mb19nZXRfY2hhcmFjX2xldmVsKHVzZXJJbmZvKTsNCiAgICAgICAgICAgIENMZXZlbER1bmdlb25QbGF5U3RhdGlzdGljX0luY3JlYXNlTGV2ZWxEdW5nZW9uUGxheShwdHIocHRyKDB4MDk0MUY3NjQpLnJlYWRVMzIoKSksY3VyQ2hhcmFMZXZlbCxwbGF5Q291bnQpOw0KICAgICAgICAgICAgQ1VzZXJDaGFyYWNJbmZvX1Jlc2V0Q3VyQ2hhcmFjRHVuZ2VvblBsYXlDb3VudCh1c2VySW5mbyk7DQogICAgICAgICAgICAvLyDlia/ogYzkuJoNCiAgICAgICAgICAgIHZhciBleHBlcnRKb2JFeHAgPSBDVXNlckNoYXJhY0luZm9fR2V0Q3VyQ2hhcmFjRXhwZXJ0Sm9iRXhwKHVzZXJJbmZvKTsNCiAgICAgICAgICAgIGV4cGVydF9qb2JfQ0V4cGVydEpvYl9JbmNyZWFzZUV4cGVydEpvYkV4cCh1c2VySW5mbyxwdHIoZXhwZXJ0Sm9iRXhwKSk7DQogICAgICAgICAgICBDVXNlcl9SZUNhbGNDaGF0dGluZ0Vtb3RpY29uKHVzZXJJbmZvKTsNCiAgICAgICAgICAgIENVc2VyX1NlbmRDaGF0dGluZ0Vtb3RpY29uKHVzZXJJbmZvKTsNCiAgICAgICAgfQ0KICAgICAgICBpZih1cExldmVsVGFnID09IDEpew0KICAgICAgICAgICAgaWYoQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfbGV2ZWwodXNlckluZm8pID09IG1heExldmVsKXsNCiAgICAgICAgICAgICAgICBBUFN5c3RlbV9DVXNlclByb2NfQ2xlYXJBY3Rpb25BbmRTZW5kdG9Vc2VyKHVzZXJJbmZvLDMzLDAsMCk7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgQ1VzZXJfU2VuZE5vdGlQYWNrZXQodXNlckluZm8sMSwzNywwKTsNCiAgICAgICAgLy8g6YeK5pS+IHYzMzsNCiAgICAgICAgcmV0dXJuIHVwTGV2ZWxUYWc7DQogICAgfSwgJ2ludCcsIFsncG9pbnRlcicsJ2ludCcsJ2ludCcsJ2ludCcsJ2ludCcsJ2ludCcsJ2ludCddKSk7DQp9DQoNCi8qKg0KICog6KeS6Imy5Y2H57qn5aSE55CGDQogKiDljp/mnInnmoTmlrnlvI/mmoLml7bmsqHmnInlrp7njrAg44CC44CC44CCIOWPquiDveabsue6v+aVkeWbvQ0KICogQHBhcmFtIG1heExldmVsDQogKi8NCmZ1bmN0aW9uIG9uTGV2ZWxVcChtYXhMZXZlbCl7DQogICAgSW50ZXJjZXB0b3IucmVwbGFjZShwdHIoMHgwODY2MzExYSksIG5ldyBOYXRpdmVDYWxsYmFjayhmdW5jdGlvbiAodXNlckluZm8pIHsNCiAgICAgICAgdmFyIGN1ckxldmVsID0gQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfbGV2ZWwodXNlckluZm8pOw0KICAgICAgICB2YXIgY3JlYXRlVGltZSA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNDcmVhdGVUaW1lKHVzZXJJbmZvKTsNCiAgICAgICAgdmFyIGN1clNlYyA9IENTeXN0ZW1UaW1lX2dldEN1clNlYyhwdHIoMHgwOTQxRjcxNCkpOw0KICAgICAgICBjb25zb2xlLmxvZygib25MZXZlbFVwIGFyZ3M6IitjdXJMZXZlbCsnLCcrY3JlYXRlVGltZSsnLCcrY3VyU2VjKTsNCiAgICAgICAgLy8gMjAyNC0xMi0xMSAxMTowNjo0OQ0KICAgICAgICBpZihjdXJMZXZlbD09MTUgJiYgY3JlYXRlVGltZT4xMjAzNTQxMTk5ICYmIGN1clNlYzw9IDE3MzM4ODY0MDkpew0KICAgICAgICAgICAgdmFyIGNoYXJjTmFtZSA9ICcnOw0KICAgICAgICAgICAgdmFyIGNoYXJjTmFtZVZhbCA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNOYW1lKHVzZXJJbmZvKTsNCiAgICAgICAgICAgIGlmKCFjaGFyY05hbWVWYWwuaXNOdWxsKCkpDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgY2hhcmNOYW1lID0gIGNoYXJjTmFtZVZhbC5yZWFkVXRmOFN0cmluZygtMSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICB2YXIgY2hhcmNObyA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNObyh1c2VySW5mbyk7DQogICAgICAgICAgICB2YXIgYWNjSWQgPSBDVXNlcl9nZXRfYWNjX2lkKHVzZXJJbmZvKTsNCiAgICAgICAgICAgIERCX0luc2VydFVubGltaXRTdXBwb3J0TG9nX21ha2VSZXF1ZXN0KE1lbW9yeS5hbGxvY1V0ZjhTdHJpbmcoYWNjSWQrJycpLGNoYXJjTm8sTWVtb3J5LmFsbG9jVXRmOFN0cmluZyhjaGFyY05hbWUpKQ0KICAgICAgICB9DQogICAgICAgIHZhciBjaGFyY0pvYiA9IENVc2VyQ2hhcmFjSW5mb19nZXRfY2hhcmFjX2pvYih1c2VySW5mbyk7DQogICAgICAgIHZhciBjaGFyY05vID0gQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY05vKHVzZXJJbmZvKTsNCiAgICAgICAgQ1VzZXJfcHJvY2Vzc0xldmVsUmV3YXJkKHVzZXJJbmZvLGN1ckxldmVsLGNoYXJjTm8sY2hhcmNKb2IpOw0KICAgICAgICB2YXIgZmluZFN0cmluZ0xlbmd0aCA9IDA7DQogICAgICAgIHZhciBpc0FmZmVjdGVkUHJlbWl1bSA9IENVc2VyX2lzQWZmZWN0ZWRQcmVtaXVtKHVzZXJJbmZvLnRvSW50MzIoKSwxNik7DQogICAgICAgIGlmKGlzQWZmZWN0ZWRQcmVtaXVtIT0wICYmIENTeXN0ZW1UaW1lX2dldEN1clNlYyhwdHIoMHgwOTQxRjcxNCkpIDw9IHVpbnQ2NCgweDQ3OEU3MDUwKSl7DQoNCiAgICAgICAgfQ0KICAgICAgICBDVXNlcl9wcm9jZXNzTlBDR2lmdE9uTGV2ZWxVcCh1c2VySW5mbyk7DQogICAgICAgIENVc2VyX3Byb2Nlc3NMZXZlbFVwRXZlbnRSZXdhcmQodXNlckluZm8sMCk7DQogICAgICAgIENVc2VyX3Byb2Nlc3NMZXZlbFVwRXZlbnQodXNlckluZm8pOw0KICAgICAgICBpZihDVXNlckNoYXJhY0luZm9fZ2V0X2NoYXJhY19sZXZlbCh1c2VySW5mbykgPT0gbWF4TGV2ZWwpew0KDQogICAgICAgIH0NCiAgICAgICAgaWYoQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfbGV2ZWwodXNlckluZm8pIDw9IG1heExldmVsKXsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCJxdWVyeS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tNzYxNiIpDQogICAgICAgICAgICB2YXIgaXRlbUlkID0gNzYxNjsNCiAgICAgICAgICAgIHZhciBpdGVtTnVtID0gMTA7DQogICAgICAgICAgICB2YXIgaXRlbV9zcGFjZSA9IE1lbW9yeS5hbGxvYyg0KTsNCiAgICAgICAgICAgIHZhciBpdGVtID0gQ0RhdGFNYW5hZ2VyX2ZpbmRfaXRlbShHX0NEYXRhTWFuYWdlcigpLDc2MTYpOw0KICAgICAgICAgICAgaWYoIWl0ZW0uaXNOdWxsKCkpew0KICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJmaW5kIGl0ZW0gNzYxNiIpOw0KICAgICAgICAgICAgICAgIHZhciBpdGVtQWRkciA9IE1lbW9yeS5hbGxvYygxMTYpOw0KICAgICAgICAgICAgICAgIC8vIOmAgemCgOivt+WHvQ0KICAgICAgICAgICAgICAgIEludmVuX0l0ZW1fSW52ZW5fSXRlbShpdGVtQWRkcik7DQogICAgICAgICAgICAgICAgdmFyIGludmVuUmVmID0gQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY0ludmVuUih1c2VySW5mbyk7DQogICAgICAgICAgICAgICAgLy8gLy8gaW52ZW5EYVRBIOaYr+agvOWtkOeahOS9jee9rg0KICAgICAgICAgICAgICAgIHZhciBpbnZlbkRhdGEgPSBDSW52ZW50b3J5X0dldEludmVuRGF0YShpbnZlblJlZiw3NjE2LGl0ZW1BZGRyKTsNCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiaW52ZW5EYXRhIDoiK2ludmVuRGF0YSk7DQogICAgICAgICAgICAgICAgaWYoaW52ZW5EYXRhID49MCl7DQogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJpbnZlbiB1c2VyIGhhdmUgaXRlbSAgNzYxNiIpOw0KICAgICAgICAgICAgICAgICAgICAvLyDog4zljIXmnInlgLwg6aKE6K6h5piv5pWw6YePDQogICAgICAgICAgICAgICAgICAgIHZhciByZWFkdmFsID0gaXRlbUFkZHIuYWRkKDcpLnJlYWRVMTYoKTsNCiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coInJlYWRWYWwgOiIrcmVhZHZhbCk7DQogICAgICAgICAgICAgICAgICAgIGlmKHJlYWR2YWwgPCBpdGVtTnVtKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIGludmVuRGF0YSA9IENVc2VyX0FkZEl0ZW0odXNlckluZm8sIGl0ZW1JZCwgaXRlbU51bS1yZWFkdmFsLCA2LCBpdGVtX3NwYWNlLCAwKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgICAgICBpbnZlbkRhdGEgPSBDVXNlcl9BZGRJdGVtKHVzZXJJbmZvLCBpdGVtSWQsIGl0ZW1OdW0sIDYsIGl0ZW1fc3BhY2UsIDApOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBpZihpbnZlbkRhdGEgPj0wICl7DQogICAgICAgICAgICAgICAgICAgIC8v6YCa55+l5a6i5oi356uv5pyJ5ri45oiP6YGT5YW35pu05pawDQogICAgICAgICAgICAgICAgICAgIENVc2VyX1NlbmRVcGRhdGVJdGVtTGlzdCh1c2VySW5mbywgMSwgaXRlbV9zcGFjZS5yZWFkSW50KCksIGludmVuRGF0YSk7DQogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJzZW5kIHN1Y2Nlc3MiKQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICB2YXIgZXZlbnRfc2NyaXB0X21uZyA9IENEYXRhTWFuYWdlcl9nZXRfZXZlbnRfc2NyaXB0X21uZyhHX0NEYXRhTWFuYWdlcigpKTsNCiAgICAgICAgRXZlbnRDbGFzc2lmeV9DRXZlbnRTY3JpcHRNbmdfcHJvY2Vzc19sZXZlbF91cF9yZXdhcmQoZXZlbnRfc2NyaXB0X21uZyx1c2VySW5mbywwKTsNCiAgICB9LCAndm9pZCcsIFsncG9pbnRlciddKSk7DQp9DQoNCi8qKg0KICog54mp5ZOB5L2/55So54q25oCBICAxMjA1CeiDjOWIuuicmOibmw0KICovDQpmdW5jdGlvbiBpbmNyZWFzZVN0YXR1cyhtYXhMZXZlbCl7DQoNCiAgICBJbnRlcmNlcHRvci5yZXBsYWNlKHB0cigweDA4NjY1N2ZjKSwgbmV3IE5hdGl2ZUNhbGxiYWNrKGZ1bmN0aW9uICh1c2VyLCBzbG9mKSB7DQogICAgICAgIGNvbnNvbGUubG9nKCJpbmNyZWFzZVN0YXR1czoiK3VzZXIrJywnK3Nsb2YpOw0KICAgICAgICB2YXIgYnVmZiA9ICBNZW1vcnkuYWxsb2MoMTIpOw0KICAgICAgICBQYWNrZXRHdWFyZF9QYWNrZXRHdWFyZChidWZmKTsNCiAgICAgICAgY29uc29sZS5sb2coJ0NVc2VyX0NoZWNrSW5UcmFkZSh1c2VyKTonK0NVc2VyX0NoZWNrSW5UcmFkZSh1c2VyKSkNCiAgICAgICAgaWYoQ1VzZXJfQ2hlY2tJblRyYWRlKHVzZXIpIT0wKXsNCiAgICAgICAgICAgIENVc2VyX1NlbmRDbWRFcnJvclBhY2tldCh1c2VyLCAzMiwgMTksIGJ1ZmYpOw0KICAgICAgICAgICAgUGFja2V0R3VhcmRfZnJlZV9QYWNrZXRHdWFyZChidWZmKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfQ0KICAgICAgICB2YXIgdXNlckl0ZW0gPSAgTWVtb3J5LmFsbG9jKDEyOCk7DQogICAgICAgIHZhciBjdXJDaGFyYWNJbnZlblJlZiA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNJbnZlblIodXNlcik7DQogICAgICAgIENJbnZlbnRvcnlfR2V0SW52ZW5TbG90KHVzZXJJdGVtLGN1ckNoYXJhY0ludmVuUmVmLnRvSW50MzIoKSwxLHBhcnNlSW50KHNsb2YpKTsNCiAgICAgICAgdmFyIGl0ZW1JZCA9IHVzZXJJdGVtLmFkZCgyKS5yZWFkVTMyKCk7DQogICAgICAgIC8vIOagh+W/l+exu+Weiw0KICAgICAgICB2YXIgdjE4NCA9IC0xOw0KICAgICAgICAvLyDopoHliqDnmoTlgLwNCiAgICAgICAgdmFyIGd1aWxkRXhwQm9vayA9IDA7DQoNCiAgICAgICAgaWYoaXRlbUlkID09IDEyMDUpew0KICAgICAgICAgICAgdjE4NCA9IDE3Ow0KICAgICAgICAgICAgZ3VpbGRFeHBCb29rID0gNTsNCiAgICAgICAgICAgIGdvdG8xOTEodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfQ0KICAgICAgICBpZihpdGVtSWQgPD0gMTIwNSl7DQogICAgICAgICAgICBpZihpdGVtSWQgPT0gMTAzNil7DQogICAgICAgICAgICAgICAgdjE4NCA9IDE7DQogICAgICAgICAgICAgICAgZ3VpbGRFeHBCb29rID0gMTAwMDA7DQogICAgICAgICAgICAgICAgZ290bzE5MSh1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpOw0KICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmKGl0ZW1JZCA8PSAxMDM2KXsNCiAgICAgICAgICAgICAgICBpZihpdGVtSWQhPSAyMDEpew0KICAgICAgICAgICAgICAgICAgICBpZihpdGVtSWQgPiAyMDEpew0KICAgICAgICAgICAgICAgICAgICAgICAgaWYoaXRlbUlkID09IDk2Myl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZ290bzEyNSh1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGl0ZW1JZCA+IDk2Myl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoaXRlbUlkID09IDEwMzQpew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MTg0ID0gMTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3VpbGRFeHBCb29rID0gMTAwOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnb3RvMTkxKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoaXRlbUlkPjEwMzQpew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MTg0ID0gMTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3VpbGRFeHBCb29rID0gMTAwMDsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ290bzE5MSh1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGl0ZW1JZCA9PSAxMDMxKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdjE4NCA9IDA7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGd1aWxkRXhwQm9vayA9IDU7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdvdG8xOTEodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnb3RvMTc4KHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgaWYoaXRlbUlkPT05MTYgfHwgaXRlbUlkPT05NjApew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdvdG8xMjUodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICBnb3RvMTc4KHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgaWYoaXRlbUlkIT00Mil7DQogICAgICAgICAgICAgICAgICAgICAgICBpZihpdGVtSWQ8PTQyKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihpdGVtSWQhPTMgJiYgaXRlbUlkIT0yOCl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdvdG8xNzgodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnb3RvMTI1KHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgaWYoaXRlbUlkPT0xMDkgfHwgaXRlbUlkPj0xMDkgJiYgaXRlbUlkLTE2MTw9MSl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZ290bzEyNSh1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIGdvdG8xNzgodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB2MTg0ID0gMjE7DQogICAgICAgICAgICAgICAgICAgIGd1aWxkRXhwQm9vayA9IDE7DQogICAgICAgICAgICAgICAgICAgIGdvdG8xOTEodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKTsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB2YXIgcmVwZWF0RXZlbnQgPSBDRXZlbnRNYW5hZ2VyX0dldFJlcGVhdEV2ZW50KHB0cihwdHIoMHgwOTQxRjczMCkucmVhZFUzMigpKSwxNSk7DQogICAgICAgICAgICAgICAgdmFyIHRlbXBNZXRob2QgPSAgbmV3IE5hdGl2ZUZ1bmN0aW9uKHJlcGVhdEV2ZW50LmFkZCg1Mio0KSwgJ2ludCcsIFsncG9pbnRlcicsJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQogICAgICAgICAgICAgICAgaWYocmVwZWF0RXZlbnQhPTAgJiYgdGVtcE1ldGhvZChyZXBlYXRFdmVudCwwKSE9MCl7DQogICAgICAgICAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9jbGVhcihidWZmKTsNCiAgICAgICAgICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9oZWFkZXIoYnVmZiwxLDMyKTsNCiAgICAgICAgICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9ieXRlKGJ1ZmYsMCk7DQogICAgICAgICAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfYnl0ZShidWZmLDE5KTsNCiAgICAgICAgICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX2ZpbmFsaXplKGJ1ZmYsMSk7DQogICAgICAgICAgICAgICAgICAgIENVc2VyX1NlbmQodXNlcixidWZmKTsNCiAgICAgICAgICAgICAgICAgICAgUGFja2V0R3VhcmRfZnJlZV9QYWNrZXRHdWFyZChidWZmKTsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBpZihDVXNlcl9nZXRDdXJDaGFyYWNUb3RhbEZhdGlndWUodXNlcikhPTApew0KICAgICAgICAgICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfY2xlYXIoYnVmZik7DQogICAgICAgICAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfaGVhZGVyKGJ1ZmYsMSwzMik7DQogICAgICAgICAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfYnl0ZShidWZmLDApOw0KICAgICAgICAgICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2J5dGUoYnVmZiw2Nyk7DQogICAgICAgICAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9maW5hbGl6ZShidWZmLDEpOw0KICAgICAgICAgICAgICAgICAgICBDVXNlcl9TZW5kKHVzZXIsYnVmZik7DQogICAgICAgICAgICAgICAgICAgIFBhY2tldEd1YXJkX2ZyZWVfUGFja2V0R3VhcmQoYnVmZik7DQogICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgdjE4NCA9IDE0Ow0KICAgICAgICAgICAgICAgIGd1aWxkRXhwQm9vayA9IDA7DQogICAgICAgICAgICAgICAgZ290bzE5MSh1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpOw0KICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmKGl0ZW1JZCA9PSAxMDQzKXsNCiAgICAgICAgICAgICAgICB2MTg0ID0gMjsNCiAgICAgICAgICAgICAgICBndWlsZEV4cEJvb2sgPSAyNTA7DQogICAgICAgICAgICAgICAgZ290bzE5MSh1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpOw0KICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmKGl0ZW1JZCA8PSAxMDQzKXsNCiAgICAgICAgICAgICAgICBpZihpdGVtSWQgPT0gMTAzOSl7DQogICAgICAgICAgICAgICAgICAgIHYxODQgPSA0Ow0KICAgICAgICAgICAgICAgICAgICBndWlsZEV4cEJvb2sgPSA1MDsNCiAgICAgICAgICAgICAgICB9ZWxzZSBpZihpdGVtSWQgPiAxMDM5KXsNCiAgICAgICAgICAgICAgICAgICAgaWYoaXRlbUlkID09IDEwNDEpew0KICAgICAgICAgICAgICAgICAgICAgICAgdjE4NCA9IDU7DQogICAgICAgICAgICAgICAgICAgICAgICBndWlsZEV4cEJvb2sgPSA1MDsNCiAgICAgICAgICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgICAgICAgICAgICBpZihpdGVtSWQgPiAxMDQxKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MTg0ID0gNzsNCiAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYxODQgPSA2Ow0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgZ3VpbGRFeHBCb29rID0gNTA7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9ZWxzZSBpZihpdGVtSWQgPT0gMTAzNyl7DQogICAgICAgICAgICAgICAgICAgIHYxODQgPSAxOw0KICAgICAgICAgICAgICAgICAgICBndWlsZEV4cEJvb2sgPSAxMDAwMDA7DQogICAgICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgICAgICAgIHYxODQgPSAwOw0KICAgICAgICAgICAgICAgICAgICBndWlsZEV4cEJvb2sgPTIwOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBnb3RvMTkxKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYoaXRlbUlkID09IDEwNDYpew0KICAgICAgICAgICAgICAgIC8vIOaKl+aAp+S5i+efsw0KICAgICAgICAgICAgICAgIHYxODQgPSA5Ow0KICAgICAgICAgICAgICAgIGd1aWxkRXhwQm9vayA9IDEwOw0KICAgICAgICAgICAgICAgIGdvdG8xOTEodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKTsNCiAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZihpdGVtSWQgPD0gMTA0Nil7DQogICAgICAgICAgICAgICAgLy8gdG9kbyDprZTlipvkuYvnn7MNCiAgICAgICAgICAgICAgICBpZihpdGVtSWQgPT0gMTA0NCl7DQogICAgICAgICAgICAgICAgICAgIHYxODQgPSAzOw0KICAgICAgICAgICAgICAgICAgICBndWlsZEV4cEJvb2sgPSAyNTA7DQogICAgICAgICAgICAgICAgfWVsc2Ugew0KICAgICAgICAgICAgICAgICAgICB2MTg0ID0gODsNCiAgICAgICAgICAgICAgICAgICAgZ3VpbGRFeHBCb29rID0gMTA7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGdvdG8xOTEodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKTsNCiAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZihpdGVtSWQgPCAxMjAwKXsNCiAgICAgICAgICAgICAgICBnb3RvMTc4KHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYoaXRlbUlkID4gMTIwMil7DQogICAgICAgICAgICAgICAgaWYoaXRlbUlkID09IDEyMDQpew0KICAgICAgICAgICAgICAgICAgICB2MTg0ID0gMTc7DQogICAgICAgICAgICAgICAgICAgIGd1aWxkRXhwQm9vayA9IDE7DQogICAgICAgICAgICAgICAgICAgIGdvdG8xOTEodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKTsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBnb3RvMTc4KHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZ290bzE3MSh1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQogICAgICAgIGlmKGl0ZW1JZCA8PSA4MjY4KXsNCiAgICAgICAgICAgIGlmKGl0ZW1JZCA8IDgyNjcpew0KICAgICAgICAgICAgICAgIGlmKGl0ZW1JZCA9PSA3MTAxKXsNCiAgICAgICAgICAgICAgICAgICAgaWYoQ1VzZXJfZ2V0X3N0YXRlKHVzZXIpIT0zKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIENVc2VyX1NlbmRDbWRFcnJvclBhY2tldCh1c2VyLDMyLDE5LGJ1ZmYpOw0KICAgICAgICAgICAgICAgICAgICAgICAgUGFja2V0R3VhcmRfZnJlZV9QYWNrZXRHdWFyZChidWZmKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB2MTg0ID0gMTM7DQogICAgICAgICAgICAgICAgICAgIGd1aWxkRXhwQm9vayA9IDg7DQogICAgICAgICAgICAgICAgICAgIGdvdG8xOTEodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKTsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBpZihpdGVtSWQgPD0gNzEwMSl7DQogICAgICAgICAgICAgICAgICAgIGlmKGl0ZW1JZD09MTIzMil7DQogICAgICAgICAgICAgICAgICAgICAgICB2MTg0ID0gMTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGd1aWxkRXhwQm9vayA9IDEwMDAwMDAwOw0KICAgICAgICAgICAgICAgICAgICAgICAgZ290bzE5MSh1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpOw0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGlmKGl0ZW1JZCA8PSAxMjMyKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGl0ZW1JZCE9MTIwNil7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoaXRlbUlkPT0xMjMxKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdjE4NCA9IDE7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGd1aWxkRXhwQm9vayA9IDEwMDAwMDA7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdvdG8xOTEodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnb3RvMTc4KHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgZ290bzEyNSh1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpOw0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGlmKGl0ZW1JZCA9PSAxMjUzKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIGdvdG8xMjUodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBpZihpdGVtSWQgIT0zMjA0KXsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGl0ZW1JZD09MTI0Nyl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjE4NCA9IDE5Ow0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGd1aWxkRXhwQm9vayA9IDEwOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdvdG8xOTEodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICBnb3RvMTc4KHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgaWYoQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfZ3VpbGRrZXkodXNlcikhPTApew0KICAgICAgICAgICAgICAgICAgICAgICAgdjE4NCA9IDExOw0KICAgICAgICAgICAgICAgICAgICAgICAgZ3VpbGRFeHBCb29rID0gMTA7DQogICAgICAgICAgICAgICAgICAgICAgICBnb3RvMTkxKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgQ1VzZXJfU2VuZENtZEVycm9yUGFja2V0KHVzZXIsMzIsNjQsYnVmZik7DQogICAgICAgICAgICAgICAgICAgIFBhY2tldEd1YXJkX2ZyZWVfUGFja2V0R3VhcmQoYnVmZik7DQogICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgaWYoaXRlbUlkPT03MTgxKXsNCiAgICAgICAgICAgICAgICAgICAgdjE4NCA9IDEzOw0KICAgICAgICAgICAgICAgICAgICBndWlsZEV4cEJvb2sgPSA1Ow0KICAgICAgICAgICAgICAgICAgICBnb3RvMTkxKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgaWYoaXRlbUlkIDw9IDcxODEpew0KICAgICAgICAgICAgICAgICAgICBpZihpdGVtSWQgIT0gNzEwNSl7DQogICAgICAgICAgICAgICAgICAgICAgICBpZihpdGVtSWQgPT0gNzE4MCl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjE4NCA9IDEzOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGd1aWxkRXhwQm9vayA9IDE7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZ290bzE5MSh1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIGdvdG8xNzgodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBpZihDVXNlckNoYXJhY0luZm9fZ2V0X2NoYXJhY19ndWlsZGtleSh1c2VyKSl7DQogICAgICAgICAgICAgICAgICAgICAgICB2MTg0ID0gMTE7DQogICAgICAgICAgICAgICAgICAgICAgICBndWlsZEV4cEJvb2sgPSA1MDsNCiAgICAgICAgICAgICAgICAgICAgICAgIGdvdG8xOTEodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBDVXNlcl9TZW5kQ21kRXJyb3JQYWNrZXQodXNlciwzMiw2NCxidWZmKTsNCiAgICAgICAgICAgICAgICAgICAgUGFja2V0R3VhcmRfZnJlZV9QYWNrZXRHdWFyZChidWZmKTsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBpZihpdGVtSWQgPT0gNzk1OCl7DQogICAgICAgICAgICAgICAgICAgIHYxODQgPSAyMDsNCiAgICAgICAgICAgICAgICAgICAgZ3VpbGRFeHBCb29rID0gMDsNCiAgICAgICAgICAgICAgICAgICAgZ290bzE5MSh1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpOw0KICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGlmKGl0ZW1JZCE9ODA0OSl7DQogICAgICAgICAgICAgICAgICAgIGlmKGl0ZW1JZCAhPSA3Mjk4KXsNCiAgICAgICAgICAgICAgICAgICAgICAgIGdvdG8xNzgodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBpZihDVXNlcl9nZXRfc3RhdGUodXNlcikhPTMpew0KICAgICAgICAgICAgICAgICAgICAgICAgQ1VzZXJfU2VuZENtZEVycm9yUGFja2V0KHVzZXIsMzIsMTksYnVmZik7DQogICAgICAgICAgICAgICAgICAgICAgICBQYWNrZXRHdWFyZF9mcmVlX1BhY2tldEd1YXJkKGJ1ZmYpOw0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIHYxODQgPSAxMzsNCiAgICAgICAgICAgICAgICAgICAgZ3VpbGRFeHBCb29rID0gMjsNCiAgICAgICAgICAgICAgICAgICAgZ290bzE5MSh1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpOw0KICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZ290bzk2KHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCiAgICAgICAgaWYoaXRlbUlkPT0yNjcwMDA4KXsNCiAgICAgICAgICAgIHZhciByZXBlYXRFdmVudCA9IENFdmVudE1hbmFnZXJfR2V0UmVwZWF0RXZlbnQocHRyKHB0cigweDA5NDFGNzMwKS5yZWFkVTMyKCkpLDE1KTsNCiAgICAgICAgICAgIHZhciB0ZW1wTWV0aG9kID0gIG5ldyBOYXRpdmVGdW5jdGlvbihyZXBlYXRFdmVudC5hZGQoNTIqNCksICdpbnQnLCBbJ3BvaW50ZXInLCdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KICAgICAgICAgICAgaWYocmVwZWF0RXZlbnQhPTAgJiYgdGVtcE1ldGhvZChyZXBlYXRFdmVudCwwKSE9MCl7DQogICAgICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX2NsZWFyKGJ1ZmYpOw0KICAgICAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfaGVhZGVyKGJ1ZmYsMSwzMik7DQogICAgICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9ieXRlKGJ1ZmYsMCk7DQogICAgICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9ieXRlKGJ1ZmYsMTkpOw0KICAgICAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9maW5hbGl6ZShidWZmLDEpOw0KICAgICAgICAgICAgICAgIENVc2VyX1NlbmQodXNlcixidWZmKTsNCiAgICAgICAgICAgICAgICBQYWNrZXRHdWFyZF9mcmVlX1BhY2tldEd1YXJkKGJ1ZmYpOw0KICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmKENVc2VyX2dldEN1ckNoYXJhY1RvdGFsRmF0aWd1ZSh1c2VyKSE9MCl7DQogICAgICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX2NsZWFyKGJ1ZmYpOw0KICAgICAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfaGVhZGVyKGJ1ZmYsMSwzMik7DQogICAgICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9ieXRlKGJ1ZmYsMCk7DQogICAgICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9ieXRlKGJ1ZmYsNjcpOw0KICAgICAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9maW5hbGl6ZShidWZmLDEpOw0KICAgICAgICAgICAgICAgIENVc2VyX1NlbmQodXNlcixidWZmKTsNCiAgICAgICAgICAgICAgICBQYWNrZXRHdWFyZF9mcmVlX1BhY2tldEd1YXJkKGJ1ZmYpOw0KICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHYxODQgPSAxNDsNCiAgICAgICAgICAgIGd1aWxkRXhwQm9vayA9IDA7DQogICAgICAgICAgICBnb3RvMTkxKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCiAgICAgICAgaWYoaXRlbUlkPjI2NzAwMDgpew0KICAgICAgICAgICAgaWYoaXRlbUlkIT0xMDAwMDkxNSl7DQogICAgICAgICAgICAgICAgaWYoaXRlbUlkPD0xMDAwMDkxNSl7DQogICAgICAgICAgICAgICAgICAgIGlmKGl0ZW1JZD09MjY3NTAyMSl7DQogICAgICAgICAgICAgICAgICAgICAgICB2MTg0ID0gMjE7DQogICAgICAgICAgICAgICAgICAgICAgICBndWlsZEV4cEJvb2sgPSAxOw0KICAgICAgICAgICAgICAgICAgICAgICAgZ290bzE5MSh1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpOw0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGlmKGl0ZW1JZCE9MjY3NTM4OCl7DQogICAgICAgICAgICAgICAgICAgICAgICBnb3RvMTc4KHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgZ290bzk2KHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgaWYgKCBpdGVtSWQgPT0gNjkwMDAwMjIwICl7DQogICAgICAgICAgICAgICAgICAgIGdvdG8xNzEodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKTsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBpZiAoIGl0ZW1JZCA9PSA2OTAwMDAzMDEgKQ0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgdjE4NCA9IDI1Ow0KICAgICAgICAgICAgICAgICAgICBndWlsZEV4cEJvb2sgPSAxOw0KICAgICAgICAgICAgICAgICAgICBnb3RvMTkxKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgaWYgKCBpdGVtSWQgIT0gNjkwMDAwMDk3ICl7DQogICAgICAgICAgICAgICAgICAgIGdvdG8xNzgodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKTsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHZhciB0ZW1wVjE4NFRhZyA9IE1lbW9yeS5hbGxvYygxKTsNCiAgICAgICAgICAgIHRlbXBWMTg0VGFnLndyaXRlVTgodjE4NCk7DQogICAgICAgICAgICB2YXIgdGVtcEd1aWxkRXhwQm9va1RhZyA9IE1lbW9yeS5hbGxvYyg0KTsNCiAgICAgICAgICAgIHRlbXBHdWlsZEV4cEJvb2tUYWcud3JpdGVVMzIoZ3VpbGRFeHBCb29rKTsNCiAgICAgICAgICAgIGlmKENVc2VyX0NhbExldmVsVXBJdGVtU3RhdGUodXNlcix0ZW1wVjE4NFRhZyx0ZW1wR3VpbGRFeHBCb29rVGFnLDEsNjkpIT0xKXsNCiAgICAgICAgICAgICAgICB2MTg0ID0gdGVtcFYxODRUYWcucmVhZFU4KCk7DQogICAgICAgICAgICAgICAgZ3VpbGRFeHBCb29rID0gdGVtcEd1aWxkRXhwQm9va1RhZy5yZWFkVTMyKCk7DQogICAgICAgICAgICAgICAgQ1VzZXJfU2VuZENtZEVycm9yUGFja2V0KHVzZXIsMzIsMTksYnVmZik7DQogICAgICAgICAgICAgICAgUGFja2V0R3VhcmRfZnJlZV9QYWNrZXRHdWFyZChidWZmKTsNCiAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICB9DQogICAgICAgICAgICB2MTg0ID0gdGVtcFYxODRUYWcucmVhZFU4KCk7DQogICAgICAgICAgICBndWlsZEV4cEJvb2sgPSB0ZW1wR3VpbGRFeHBCb29rVGFnLnJlYWRVMzIoKTsNCiAgICAgICAgICAgIGdvdG8xOTEodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfQ0KICAgICAgICBpZihpdGVtSWQgIT0gMjY2MDE3MSl7DQogICAgICAgICAgICBpZihpdGVtSWQ8PTI2NjAxNzEpew0KICAgICAgICAgICAgICAgIGlmKGl0ZW1JZC04MjcwPjEpew0KICAgICAgICAgICAgICAgICAgICBnb3RvMTc4KHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgZ290bzk2KHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYoaXRlbUlkIT0yNjYwMjMyKXsNCiAgICAgICAgICAgICAgICBpZihpdGVtSWQhPTI2NjAzOTYpew0KICAgICAgICAgICAgICAgICAgICBpZihpdGVtSWQhPTI2NjAxNzIpew0KICAgICAgICAgICAgICAgICAgICAgICAgZ290bzE3OCh1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpOw0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGlmKEdhbWVXb3JsZF9Jc1B2UFNraWxUcmVlQ2hhbm5lbChHX0dhbWVXb3JsZCkhPTEpew0KICAgICAgICAgICAgICAgICAgICAgICAgQ1VzZXJfU2VuZENtZEVycm9yUGFja2V0KHVzZXIsMzIsMjMsYnVmZik7DQogICAgICAgICAgICAgICAgICAgICAgICBQYWNrZXRHdWFyZF9mcmVlX1BhY2tldEd1YXJkKGJ1ZmYpOw0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIHZhciBjaGVjayA9IENTZWN1X1Byb3RlY3Rpb25GaWVsZF9DaGVjayhwdHIocHRyKDB4MDk0MUY3Q0MpLnJlYWRVMzIoKSksdXNlciw0NCk7DQogICAgICAgICAgICAgICAgICAgIGlmKGNoZWNrIT0wKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIENVc2VyX1NlbmRDbWRFcnJvclBhY2tldCh1c2VyLDMyLGNoZWNrLGJ1ZmYpOw0KICAgICAgICAgICAgICAgICAgICAgICAgUGFja2V0R3VhcmRfZnJlZV9QYWNrZXRHdWFyZChidWZmKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBpZihDVXNlcl9pc0FmZmVjdGVkUHJlbWl1bSh1c2VyLnRvSW50MzIoKSwzMyk9PTEpew0KICAgICAgICAgICAgICAgICAgICAgICAgZ3VpbGRFeHBCb29rID0gMDsNCiAgICAgICAgICAgICAgICAgICAgICAgIHYxODQgPSAyMzsNCiAgICAgICAgICAgICAgICAgICAgICAgIGdvdG8xOTEodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBDVXNlcl9TZW5kQ21kRXJyb3JQYWNrZXQodXNlciwzMiwyMTYsYnVmZik7DQogICAgICAgICAgICAgICAgICAgIFBhY2tldEd1YXJkX2ZyZWVfUGFja2V0R3VhcmQoYnVmZik7DQogICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgZ290bzEyNSh1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpOw0KICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICBpZihHYW1lV29ybGRfSXNQdlBTa2lsVHJlZUNoYW5uZWwoR19HYW1lV29ybGQoKSkhPTEpew0KICAgICAgICAgICAgQ1VzZXJfU2VuZENtZEVycm9yUGFja2V0KHVzZXIsMzIsMjMsYnVmZik7DQogICAgICAgICAgICBQYWNrZXRHdWFyZF9mcmVlX1BhY2tldEd1YXJkKGJ1ZmYpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQogICAgICAgIHZhciBjaGVjayA9IENTZWN1X1Byb3RlY3Rpb25GaWVsZF9DaGVjayhwdHIocHRyKDB4MDk0MUY3Q0MpLnJlYWRVMzIoKSksdXNlciw0NCk7DQogICAgICAgIGlmKGNoZWNrIT0wKXsNCiAgICAgICAgICAgIENVc2VyX1NlbmRDbWRFcnJvclBhY2tldCh1c2VyLDMyLGNoZWNrLGJ1ZmYpOw0KICAgICAgICAgICAgUGFja2V0R3VhcmRfZnJlZV9QYWNrZXRHdWFyZChidWZmKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfQ0KICAgICAgICBpZihXb25nV29ya19DU2tpbGxDaGFuZ2VyX0NoZWNrQ29uZGl0aW9uKHVzZXIpIT0xKXsNCiAgICAgICAgICAgIENVc2VyX1NlbmRDbWRFcnJvclBhY2tldCh1c2VyLDMyLDEsYnVmZik7DQogICAgICAgICAgICBQYWNrZXRHdWFyZF9mcmVlX1BhY2tldEd1YXJkKGJ1ZmYpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQogICAgICAgIGd1aWxkRXhwQm9vayA9IDA7DQogICAgICAgIHYxODQgPSAyMjsNCiAgICAgICAgaWYoaXRlbUlkID09IDI2NjAyMzIpew0KICAgICAgICAgICAgZ3VpbGRFeHBCb29rID0gMTsNCiAgICAgICAgfQ0KICAgICAgICAvLyDmoLnmja7nsbvlnovlpITnkIbmlbDmja4gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KICAgICAgICBnb3RvMTkxKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgIHJldHVybjsNCiAgICB9LCAndm9pZCcsIFsncG9pbnRlcicsICdpbnQnXSkpOw0KfQ0KDQpmdW5jdGlvbiBnb3RvMTcxKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCl7DQogICAgaWYoaXRlbUlkID09IDY5MDAwMDIyMCAmJiBDVXNlcl9Jc0d1aWxkTWFzdGVyKHVzZXIpIT0xKXsNCiAgICAgICAgQ1VzZXJfU2VuZENtZEVycm9yUGFja2V0KHVzZXIsMzIsMjE5LGJ1ZmYpOw0KICAgICAgICBQYWNrZXRHdWFyZF9mcmVlX1BhY2tldEd1YXJkKGJ1ZmYpOw0KICAgICAgICByZXR1cm47DQogICAgfQ0KICAgIHZhciBndWlsZFZhbCA9IHVzZXIuYWRkKDU3NzU5NSkucmVhZFUzMigpICsxOw0KICAgIHZhciBndWlsZExldmVsVXBQYXJhbSA9IEd1aWxkUGFyYW1ldGVyU2NyaXB0X2dldEd1aWxkTGV2ZWxVcFBhcmFtKEdfQ0RhdGFNYW5hZ2VyKCkuYWRkKDQyMjUyKSxndWlsZFZhbCk7DQogICAgdmFyIGd1aWxkREJJbmZvID0gQ1VzZXJfR2V0R3VpbGREQkluZm8odXNlcik7DQogICAgaWYoZ3VpbGRMZXZlbFVwUGFyYW0hPTAgfHwgZ3VpbGREQkluZm8uYWRkKDQxKS5yZWFkVTMyKCkgPj1ndWlsZExldmVsVXBQYXJhbS5hZGQoNCkucmVhZFUzMigpKXsNCiAgICAgICAgQ1VzZXJfU2VuZENtZEVycm9yUGFja2V0KHVzZXIsMzIsMjEwLGJ1ZmYpOw0KICAgICAgICBQYWNrZXRHdWFyZF9mcmVlX1BhY2tldEd1YXJkKGJ1ZmYpOw0KICAgICAgICByZXR1cm47DQogICAgfQ0KICAgIHYxODQgPSAxNjsNCiAgICBndWlsZEV4cEJvb2sgPSBHdWlsZFBhcmFtZXRlclNjcmlwdF9nZXRHdWlsZEV4cEJvb2soR19DRGF0YU1hbmFnZXIoKS5hZGQoNDIyNTIpLGl0ZW1JZCk7DQogICAgZ290bzE5MSh1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpOw0KfQ0KDQpmdW5jdGlvbiBnb3RvOTYodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKXsNCiAgICB2YXIgdGVtcFYxODRUYWcgPSBNZW1vcnkuYWxsb2MoMSk7DQogICAgdGVtcFYxODRUYWcud3JpdGVVOCh2MTg0KTsNCiAgICB2YXIgdGVtcEd1aWxkRXhwQm9va1RhZyA9IE1lbW9yeS5hbGxvYyg0KTsNCiAgICB0ZW1wR3VpbGRFeHBCb29rVGFnLndyaXRlVTMyKGd1aWxkRXhwQm9vayk7DQogICAgaWYoQ1VzZXJfQ2FsTGV2ZWxVcEl0ZW1DaGVjayh1c2VyLGl0ZW1faWQpIT0wICYmIENVc2VyX0NhbExldmVsVXBJdGVtU3RhdGUodXNlcix0ZW1wVjE4NFRhZyx0ZW1wR3VpbGRFeHBCb29rVGFnLDE5LDU5KSE9MSl7DQogICAgICAgIHYxODQgPSB0ZW1wVjE4NFRhZy5yZWFkVTgoKTsNCiAgICAgICAgZ3VpbGRFeHBCb29rID0gdGVtcEd1aWxkRXhwQm9va1RhZy5yZWFkVTMyKCk7DQogICAgICAgIENVc2VyX1NlbmRDbWRFcnJvclBhY2tldCh1c2VyLDMyLDE5LGJ1ZmYpOw0KICAgICAgICBQYWNrZXRHdWFyZF9mcmVlX1BhY2tldEd1YXJkKGJ1ZmYpOw0KICAgICAgICByZXR1cm47DQogICAgfQ0KICAgIHYxODQgPSB0ZW1wVjE4NFRhZy5yZWFkVTgoKTsNCiAgICBndWlsZEV4cEJvb2sgPSB0ZW1wR3VpbGRFeHBCb29rVGFnLnJlYWRVMzIoKTsNCiAgICBnb3RvMTkxKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQp9DQoNCmZ1bmN0aW9uIGdvdG8xMjUodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKXsNCiAgICB2YXIgY2hlY2sgPSBDU2VjdV9Qcm90ZWN0aW9uRmllbGRfQ2hlY2socHRyKHB0cigweDA5NDFGN0NDKS5yZWFkVTMyKCkpLHVzZXIsNDQpOw0KICAgIGlmKGNoZWNrIT0wKXsNCiAgICAgICAgQ1VzZXJfU2VuZENtZEVycm9yUGFja2V0KHVzZXIsMzIsY2hlY2ssYnVmZik7DQogICAgICAgIFBhY2tldEd1YXJkX2ZyZWVfUGFja2V0R3VhcmQoYnVmZik7DQogICAgICAgIHJldHVybjsNCiAgICB9DQogICAgaWYoR2FtZVdvcmxkX0lzUHZQU2tpbFRyZWVDaGFubmVsKEdfR2FtZVdvcmxkKCkpIT0wKXsNCiAgICAgICAgQ1VzZXJfU2VuZENtZEVycm9yUGFja2V0KHVzZXIsMzIsMjMsYnVmZik7DQogICAgICAgIFBhY2tldEd1YXJkX2ZyZWVfUGFja2V0R3VhcmQoYnVmZik7DQogICAgICAgIHJldHVybjsNCiAgICB9DQogICAgaWYoQ1VzZXJfQ2hlY2tJdGVtTG9jayh1c2VyLDEsc2xvZikhPTApew0KICAgICAgICBDVXNlcl9TZW5kQ21kRXJyb3JQYWNrZXQodXNlciwzMiwyMTMsYnVmZik7DQogICAgICAgIFBhY2tldEd1YXJkX2ZyZWVfUGFja2V0R3VhcmQoYnVmZik7DQogICAgICAgIHJldHVybjsNCiAgICB9DQogICAgaWYoV29uZ1dvcmtfQ1NraWxsQ2hhbmdlcl9DaGVja0NvbmRpdGlvbih1c2VyKSE9MSl7DQogICAgICAgIHZhciBsZXZlbEV4cCA9IENEYXRhTWFuYWdlcl9nZXRfbGV2ZWxfZXhwKEdfQ0RhdGFNYW5hZ2VyKCksQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfbGV2ZWwodXNlcikpOw0KICAgICAgICBDVXNlckNoYXJhY0luZm9fc2V0Q3VyQ2hhcmFjRXhwKHVzZXIsbGV2ZWxFeHApOw0KICAgIH0NCiAgICBpZihpdGVtSWQhPTEyMDYgJiYgaXRlbUlkIT0xMjUzKXsNCiAgICAgICAgaWYoaXRlbUlkPT05MTYpew0KICAgICAgICAgICAgZ3VpbGRFeHBCb29rID0gMTsNCiAgICAgICAgICAgIHYxODQgPSAxMDsNCiAgICAgICAgfWVsc2UgaWYoaXRlbUlkID09IDk2MCl7DQogICAgICAgICAgICBndWlsZEV4cEJvb2sgPSAgMTsNCiAgICAgICAgICAgIHYxODQgPSAyNDsNCiAgICAgICAgICAgIHZhciBleHBhbmREYXRhID0gQ1VzZXJfR2V0Q2hhcmFjRXhwYW5kRGF0YSh1c2VyLDExKTsNCiAgICAgICAgICAgIGlmKGV4cGFuZERhdGEpew0KICAgICAgICAgICAgICAgIENRdWVzdFNob3BfY2xlYXJRUChleHBhbmREYXRhLHVzZXIpOw0KICAgICAgICAgICAgICAgIENRdWVzdFNob3Bfc2VuZENoYXJhY1FwKGV4cGFuZERhdGEsdXNlciwwKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfWVsc2V7DQogICAgICAgICAgICBndWlsZEV4cEJvb2sgID0gaXRlbUlkPT05NjMgfHwgaXRlbUlkPT0yNjYwMzk2Ow0KICAgICAgICAgICAgdjE4NCA9IDEwOw0KICAgICAgICB9DQogICAgICAgIGdvdG8xOTEodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKTsNCiAgICAgICAgcmV0dXJuOw0KICAgIH0NCiAgICBpZihDVXNlckNoYXJhY0luZm9fZ2V0X2NoYXJhY19sZXZlbCh1c2VyKSA8PTQ5KXsNCiAgICAgICAgUGFja2V0R3VhcmRfZnJlZV9QYWNrZXRHdWFyZChidWZmKTsNCiAgICAgICAgcmV0dXJuOw0KICAgIH0NCiAgICBpZihDVXNlcl9pc0FmZmVjdGVkUHJlbWl1bSh1c2VyLnRvSW50MzIoKSwzMyk9PTApew0KICAgICAgICBndWlsZEV4cEJvb2sgPSAxOw0KICAgICAgICB2MTg0ID0gMTg7DQogICAgICAgIGdvdG8xOTEodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKTsNCiAgICAgICAgcmV0dXJuOw0KICAgIH0NCiAgICBDVXNlcl9TZW5kQ21kRXJyb3JQYWNrZXQodXNlciwzMiwyMTYsYnVmZik7DQogICAgUGFja2V0R3VhcmRfZnJlZV9QYWNrZXRHdWFyZChidWZmKTsNCiAgICByZXR1cm47DQp9DQoNCmZ1bmN0aW9uIGdvdG8xNzgodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKXsNCiAgICB2YXIgaXRlbUlkVmFsID0gR19DRGF0YU1hbmFnZXIoKS5hZGQoMjA2ODQpLnJlYWRVMzIoKTsNCiAgICBjb25zb2xlLmxvZygnaXRlbUlkVmFsIDogJytpdGVtSWRWYWwpOw0KICAgIGlmKGl0ZW1JZCA9PSBpdGVtSWRWYWwpew0KICAgICAgICB2YXIgaXRlbSA9IENEYXRhTWFuYWdlcl9maW5kX2l0ZW0oR19DRGF0YU1hbmFnZXIoKSxpdGVtSWRWYWwpOw0KICAgICAgICBpZihpdGVtSWRWYWw9PTApew0KICAgICAgICAgICAgQ1VzZXJfU2VuZENtZEVycm9yUGFja2V0KHVzZXIsMzIsMTcsYnVmZik7DQogICAgICAgICAgICBQYWNrZXRHdWFyZF9mcmVlX1BhY2tldEd1YXJkKGJ1ZmYpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQogICAgICAgIGlmKENJdGVtX2lzX3N0YWNrYWJsZShpdGVtKSE9MSl7DQogICAgICAgICAgICBDVXNlcl9TZW5kQ21kRXJyb3JQYWNrZXQodXNlciwzMiwxNyxidWZmKTsNCiAgICAgICAgICAgIFBhY2tldEd1YXJkX2ZyZWVfUGFja2V0R3VhcmQoYnVmZik7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCiAgICAgICAgdmFyIGNoYXJhY0xldmVsID0gQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfbGV2ZWwodXNlcik7DQogICAgICAgIHZhciB1c2FibGVMZXZlbCA9Q0l0ZW1fR2V0VXNhYmxlTGV2ZWwoaXRlbSk7DQogICAgICAgIGlmKGNoYXJhY0xldmVsIDwgdXNhYmxlTGV2ZWwpew0KICAgICAgICAgICAgQ1VzZXJfU2VuZENtZEVycm9yUGFja2V0KHVzZXIsMzIsMTcsYnVmZik7DQogICAgICAgICAgICBQYWNrZXRHdWFyZF9mcmVlX1BhY2tldEd1YXJkKGJ1ZmYpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQogICAgICAgIGlmKGNoYXJhY0xldmVsID4gbWF4TGV2ZWwrMSl7DQogICAgICAgICAgICBDVXNlcl9TZW5kQ21kRXJyb3JQYWNrZXQodXNlciwzMiwxNyxidWZmKTsNCiAgICAgICAgICAgIFBhY2tldEd1YXJkX2ZyZWVfUGFja2V0R3VhcmQoYnVmZik7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCiAgICAgICAgdjE4NCA9MTsNCiAgICAgICAgdmFyIGFsbG9jID0gTWVtb3J5LmFsbG9jKDQpOw0KICAgICAgICBpZihDSXRlbV9HZXRJbmNyZWFzZVN0YXR1c0ludERhdGEoaXRlbSwwLGFsbG9jKSE9MSl7DQogICAgICAgICAgICBDVXNlcl9TZW5kQ21kRXJyb3JQYWNrZXQodXNlciwzMiwxNyxidWZmKTsNCiAgICAgICAgICAgIFBhY2tldEd1YXJkX2ZyZWVfUGFja2V0R3VhcmQoYnVmZik7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCiAgICAgICAgZ3VpbGRFeHBCb29rID0gYWxsb2MucmVhZFUzMigpOw0KICAgIH1lbHNlew0KICAgICAgICB2YXIgaXRlbSA9IENEYXRhTWFuYWdlcl9maW5kX2l0ZW0oR19DRGF0YU1hbmFnZXIoKSxpdGVtSWQpOw0KICAgICAgICBpZihpdGVtIT0wKXsNCiAgICAgICAgICAgIGlmKENJdGVtX0dldEluY3JlYXNlU3RhdHVzVHlwZShpdGVtKSA9PTEpew0KICAgICAgICAgICAgICAgIHZhciBhbGxvYyA9IE1lbW9yeS5hbGxvYyg0KTsNCiAgICAgICAgICAgICAgICBDSXRlbV9HZXRJbmNyZWFzZVN0YXR1c0ludERhdGEoaXRlbSwwLGFsbG9jKTsNCiAgICAgICAgICAgICAgICBndWlsZEV4cEJvb2sgPSBhbGxvYy5yZWFkVTMyKCk7DQogICAgICAgICAgICAgICAgdjE4NCA9IDE7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9DQogICAgZ290bzE5MSh1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpOw0KICAgIHJldHVybjsNCn0NCg0KZnVuY3Rpb24gZ290bzE5MSh1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpew0KICAgIGlmKHYxODQ9PS0xKXsNCiAgICAgICAgQ1VzZXJfU2VuZENtZEVycm9yUGFja2V0KHVzZXIsMzIsMTcsYnVmZik7DQogICAgICAgIFBhY2tldEd1YXJkX2ZyZWVfUGFja2V0R3VhcmQoYnVmZik7DQogICAgICAgIHJldHVybjsNCiAgICB9DQogICAgaWYodjE4ND09MTUpew0KICAgICAgICBpZihDVXNlcl9nZXRfc3RhdGUodXNlcik9PTMpew0KICAgICAgICAgICAgdmFyIGN1ckNoYXJhY0ZhdGlndWUgPSBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjRmF0aWd1ZSh1c2VyKTsNCiAgICAgICAgICAgIGlmKGN1ckNoYXJhY0ZhdGlndWUgPCBndWlsZEV4cEJvb2spew0KICAgICAgICAgICAgICAgIENVc2VyX1NlbmRDbWRFcnJvclBhY2tldCh1c2VyLDMyLDk1LGJ1ZmYpOw0KICAgICAgICAgICAgICAgIFBhY2tldEd1YXJkX2ZyZWVfUGFja2V0R3VhcmQoYnVmZik7DQogICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgIENVc2VyX1NlbmRDbWRFcnJvclBhY2tldCh1c2VyLDMyLDE5LGJ1ZmYpOw0KICAgICAgICAgICAgUGFja2V0R3VhcmRfZnJlZV9QYWNrZXRHdWFyZChidWZmKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfQ0KICAgIH0NCiAgICBpZih2MTg0IT0wIHx8IHYxODQ9PTE3IHx8IHYxODQ9PTEpew0KICAgICAgICBpZihHYW1lV29ybGRfSXNQdlBTa2lsVHJlZUNoYW5uZWwoR19HYW1lV29ybGQoKSkhPTApew0KICAgICAgICAgICAgQ1VzZXJfU2VuZENtZEVycm9yUGFja2V0KHVzZXIsMzIsMTksYnVmZik7DQogICAgICAgICAgICBQYWNrZXRHdWFyZF9mcmVlX1BhY2tldEd1YXJkKGJ1ZmYpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQogICAgfQ0KICAgIHZhciBpdGVtID0gQ0RhdGFNYW5hZ2VyX2ZpbmRfaXRlbShHX0NEYXRhTWFuYWdlcigpLGl0ZW1JZCk7DQogICAgaWYoaXRlbT09MCl7DQogICAgICAgIFBhY2tldEd1YXJkX2ZyZWVfUGFja2V0R3VhcmQoYnVmZik7DQogICAgICAgIHJldHVybjsNCiAgICB9DQogICAgdmFyIHVzYWJsZVB2cFJhbmsgPSBDSXRlbV9HZXRVc2FibGVQdlBSYW5rKGl0ZW0pOw0KICAgIGlmKHVzYWJsZVB2cFJhbms+Q1VzZXJDaGFyYWNJbmZvX2dldF9wdnBfZ3JhZGUodXNlcikpew0KICAgICAgICBDVXNlcl9TZW5kQ21kRXJyb3JQYWNrZXQodXNlciwzMiwxLGJ1ZmYpOw0KICAgICAgICBQYWNrZXRHdWFyZF9mcmVlX1BhY2tldEd1YXJkKGJ1ZmYpOw0KICAgICAgICByZXR1cm47DQogICAgfQ0KICAgIHZhciB0ZW1wTWV0aG9kID0gIG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoaXRlbS5yZWFkVTMyKCkpLmFkZCgxMio0KS5yZWFkUG9pbnRlcigpLCAnaW50JywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCiAgICBpZih0ZW1wTWV0aG9kKGl0ZW0pICE9MjEpew0KICAgICAgICB2YXIgY3VyQ2hhcmFjSW52ZW5XID0gQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY0ludmVuVyh1c2VyKTsNCiAgICAgICAgaWYoIENJbnZlbnRvcnlfZGVsZXRlX2l0ZW0oY3VyQ2hhcmFjSW52ZW5XLDEsc2xvZiwxLDEwLDEpICE9MSApew0KICAgICAgICAgICAgQ1VzZXJfU2VuZENtZEVycm9yUGFja2V0KHVzZXIsMzIsMTcsYnVmZik7DQogICAgICAgICAgICBQYWNrZXRHdWFyZF9mcmVlX1BhY2tldEd1YXJkKGJ1ZmYpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQogICAgfQ0KICAgIHZhciB2MTcyID0gTWVtb3J5LmFsbG9jKDE1MSk7DQogICAgY29uc29sZS5sb2coIml0ZW0gYWxsIGhhbmRsZSBzdWNjZXNzOiAiK3YxODQrIiAsIitndWlsZEV4cEJvb2spOw0KICAgIHN3aXRjaCAodjE4NCl7DQogICAgICAgIGNhc2UgMDoNCiAgICAgICAgICAgIENVc2VyX2dhaW5fc3AodXNlcixndWlsZEV4cEJvb2spOw0KICAgICAgICAgICAgQ1VzZXJfaGlzdG9yeV9sb2dfc3AodXNlciwtMSxndWlsZEV4cEJvb2ssMSk7DQogICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfY2xlYXIoYnVmZik7DQogICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2hlYWRlcihidWZmLCAxLCAzMik7DQogICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2J5dGUoYnVmZiwgMSk7DQogICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X3Nob3J0KGJ1ZmYsIHNsb2YpOw0KICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9ieXRlKGJ1ZmYsIHYxODQpOw0KICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9pbnQoYnVmZiwgZ3VpbGRFeHBCb29rKTsNCiAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfc2hvcnQoYnVmZiwgMCk7DQogICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X3Nob3J0KGJ1ZmYsIDApOw0KICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX2ZpbmFsaXplKGJ1ZmYsIDEpOw0KICAgICAgICAgICAgQ1VzZXJfU2VuZCh1c2VyLCBidWZmKTsNCiAgICAgICAgICAgIFBhY2tldEd1YXJkX2ZyZWVfUGFja2V0R3VhcmQoYnVmZik7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIGNhc2UgMToNCiAgICAgICAgICAgIGlmKENVc2VyQ2hhcmFjSW5mb19nZXRfY2hhcmFjX2xldmVsKHVzZXIpPm1heExldmVsLTEpew0KICAgICAgICAgICAgICAgIGd1aWxkRXhwQm9vayA9IDA7DQogICAgICAgICAgICB9DQogICAgICAgICAgICB2YXIgdjE4MCA9IE1lbW9yeS5hbGxvYyg0KTsNCiAgICAgICAgICAgIHYxODAud3JpdGVVMzIoMCk7DQogICAgICAgICAgICB2YXIgdjE3OSA9IE1lbW9yeS5hbGxvYyg0KTsNCiAgICAgICAgICAgIHYxNzkud3JpdGVVMzIoMCk7DQogICAgICAgICAgICB2YXIgdjE4MSA9IE1lbW9yeS5hbGxvYyg0KTsNCiAgICAgICAgICAgIHYxODEud3JpdGVVMzIoMCk7DQogICAgICAgICAgICB2YXIgc3BWYWwgPSBNZW1vcnkuYWxsb2MoNCk7DQogICAgICAgICAgICBzcFZhbC53cml0ZVUzMigwKTsNCiAgICAgICAgICAgIGlmKGl0ZW1JZCA9PSBHX0NEYXRhTWFuYWdlcigpLmFkZCgyMDY4NCkucmVhZFUzMigpKXsNCiAgICAgICAgICAgICAgICBDVXNlcl9yZXdhcmRFeHAodXNlcixndWlsZEV4cEJvb2ssc3BWYWwudG9JbnQzMigpLHYxODEudG9JbnQzMigpLHYxODAsdjE3OSwzLDEpOw0KICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgICAgQ1VzZXJfcmV3YXJkRXhwKHVzZXIsZ3VpbGRFeHBCb29rLHNwVmFsLnRvSW50MzIoKSx2MTgxLnRvSW50MzIoKSx2MTgwLHYxNzksMCwxKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCcxMTExMTExMTExMTExJykNCiAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9jbGVhcihidWZmKTsNCiAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfaGVhZGVyKGJ1ZmYsIDEsIDMyKTsNCiAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfYnl0ZShidWZmLCAxKTsNCiAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfc2hvcnQoYnVmZiwgc2xvZik7DQogICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2J5dGUoYnVmZiwgdjE4NCk7DQogICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2ludChidWZmLCBndWlsZEV4cEJvb2spOw0KICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9zaG9ydChidWZmLCB2MTc5LnJlYWRVMzIoKS12MTgwLnJlYWRVMzIoKSk7DQogICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X3Nob3J0KGJ1ZmYsIHYxODEucmVhZFUzMigpKTsNCiAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9maW5hbGl6ZShidWZmLCAxKTsNCiAgICAgICAgICAgIENVc2VyX1NlbmQodXNlciwgYnVmZik7DQogICAgICAgICAgICBQYWNrZXRHdWFyZF9mcmVlX1BhY2tldEd1YXJkKGJ1ZmYpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICBjYXNlIDI6DQogICAgICAgICAgICB2YXIgdXNlckFkZEluZm8gPSBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjQWRkSW5mb1JlZlcodXNlcik7DQogICAgICAgICAgICBwdHIodXNlckFkZEluZm8pLndyaXRlVTMyKHB0cih1c2VyQWRkSW5mbykucmVhZFUzMigpK2d1aWxkRXhwQm9vayk7DQogICAgICAgICAgICBnb3RvMzIodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICBjYXNlIDM6DQogICAgICAgICAgICB2YXIgdXNlckFkZEluZm8gPSBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjQWRkSW5mb1JlZlcodXNlcik7DQogICAgICAgICAgICB1c2VyQWRkSW5mbyA9IHVzZXJBZGRJbmZvLmFkZCg0KTsNCiAgICAgICAgICAgIHB0cih1c2VyQWRkSW5mbykud3JpdGVVMzIocHRyKHVzZXJBZGRJbmZvKS5yZWFkVTMyKCkrZ3VpbGRFeHBCb29rKTsNCiAgICAgICAgICAgIGdvdG8zMih1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZik7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIGNhc2UgNDoNCiAgICAgICAgICAgIHZhciB1c2VyQWRkSW5mbyA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNBZGRJbmZvUmVmVyh1c2VyKTsNCiAgICAgICAgICAgIHVzZXJBZGRJbmZvID0gdXNlckFkZEluZm8uYWRkKDgpOw0KICAgICAgICAgICAgcHRyKHVzZXJBZGRJbmZvKS53cml0ZVUxNihwdHIodXNlckFkZEluZm8pLnJlYWRVMTYoKStndWlsZEV4cEJvb2spOw0KICAgICAgICAgICAgZ290bzMyKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgY2FzZSA1Og0KICAgICAgICAgICAgdmFyIHVzZXJBZGRJbmZvID0gQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY0FkZEluZm9SZWZXKHVzZXIpOw0KICAgICAgICAgICAgdXNlckFkZEluZm8gPSB1c2VyQWRkSW5mby5hZGQoMTApOw0KICAgICAgICAgICAgcHRyKHVzZXJBZGRJbmZvKS53cml0ZVUxNihwdHIodXNlckFkZEluZm8pLnJlYWRVMTYoKStndWlsZEV4cEJvb2spOw0KICAgICAgICAgICAgZ290bzMyKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgY2FzZSA2Og0KICAgICAgICAgICAgdmFyIHVzZXJBZGRJbmZvID0gQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY0FkZEluZm9SZWZXKHVzZXIpOw0KICAgICAgICAgICAgdXNlckFkZEluZm8gPSB1c2VyQWRkSW5mby5hZGQoMTIpOw0KICAgICAgICAgICAgcHRyKHVzZXJBZGRJbmZvKS53cml0ZVUxNihwdHIodXNlckFkZEluZm8pLnJlYWRVMTYoKStndWlsZEV4cEJvb2spOw0KICAgICAgICAgICAgZ290bzMyKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgY2FzZSA3Og0KICAgICAgICAgICAgdmFyIHVzZXJBZGRJbmZvID0gQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY0FkZEluZm9SZWZXKHVzZXIpOw0KICAgICAgICAgICAgdXNlckFkZEluZm8gPSB1c2VyQWRkSW5mby5hZGQoMTQpOw0KICAgICAgICAgICAgcHRyKHVzZXJBZGRJbmZvKS53cml0ZVUxNihwdHIodXNlckFkZEluZm8pLnJlYWRVMTYoKStndWlsZEV4cEJvb2spOw0KICAgICAgICAgICAgZ290bzMyKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgY2FzZSA4Og0KICAgICAgICAgICAgdmFyIHVzZXJBZGRJbmZvID0gQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY0FkZEluZm9SZWZXKHVzZXIpOw0KICAgICAgICAgICAgdXNlckFkZEluZm8gPSB1c2VyQWRkSW5mby5hZGQoNjYpOw0KICAgICAgICAgICAgcHRyKHVzZXJBZGRJbmZvKS53cml0ZVUzMihwdHIodXNlckFkZEluZm8pLnJlYWRVMzIoKStndWlsZEV4cEJvb2spOw0KICAgICAgICAgICAgZ290bzMyKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgY2FzZSA5Og0KICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAzOyBpKyspIHsNCiAgICAgICAgICAgICAgICB2YXIgdXNlckFkZEluZm8gPSBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjQWRkSW5mb1JlZlcodXNlcik7DQogICAgICAgICAgICAgICAgdXNlckFkZEluZm8gPSB1c2VyQWRkSW5mby5hZGQoMiooaSo4KSk7DQogICAgICAgICAgICAgICAgcHRyKHVzZXJBZGRJbmZvKS53cml0ZVUxNihwdHIodXNlckFkZEluZm8pLnJlYWRVMTYoKStndWlsZEV4cEJvb2spOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZ290bzMyKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgY2FzZSAxMDoNCiAgICAgICAgY2FzZSAyNDoNCiAgICAgICAgICAgIGlmKGd1aWxkRXhwQm9vayA9PTEpew0KICAgICAgICAgICAgICAgIHZhciBjdXJDaGFyYWNTa2lsbFcgPSBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjU2tpbGxXKHVzZXIpOw0KICAgICAgICAgICAgICAgIFNraWxsU2xvdF9jbGVhcl9hbGxfc2tpbGxzX2JvdGgoY3VyQ2hhcmFjU2tpbGxXKTsNCiAgICAgICAgICAgICAgICBjdXJDaGFyYWNTa2lsbFcgPSBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjU2tpbGxXKHVzZXIpOw0KICAgICAgICAgICAgICAgIFNraWxsU2xvdF9zZXRfcGFyZW50KGN1ckNoYXJhY1NraWxsVyx1c2VyKTsNCiAgICAgICAgICAgICAgICB2YXIgY2hhcmNKb2IgPSBDVXNlckNoYXJhY0luZm9fZ2V0X2NoYXJhY19qb2IodXNlcik7DQogICAgICAgICAgICAgICAgY3VyQ2hhcmFjU2tpbGxXID0gQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY1NraWxsVyh1c2VyKTsNCiAgICAgICAgICAgICAgICBhZGRTa2lsbE9uQ3JlYXRlQ2hhcmFjdGVyKGN1ckNoYXJhY1NraWxsVys3MCxjaGFyY0pvYik7DQogICAgICAgICAgICAgICAgY2hhcmNKb2IgPSBDVXNlckNoYXJhY0luZm9fZ2V0X2NoYXJhY19qb2IodXNlcik7DQogICAgICAgICAgICAgICAgY3VyQ2hhcmFjU2tpbGxXID0gQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY1NraWxsVyh1c2VyKTsNCiAgICAgICAgICAgICAgICBhZGRTa2lsbE9uQ3JlYXRlQ2hhcmFjdGVyKGN1ckNoYXJhY1NraWxsVys0NzgsY2hhcmNKb2IpOw0KICAgICAgICAgICAgICAgIC8vIOi/meW6lOivpeaYr+aKgOiDveWPquiDvTEy5Liq5Y6f5ZugDQogICAgICAgICAgICAgICAgdmFyIHNraWxsTGlzdCA9IE1lbW9yeS5hbGxvYygxMik7DQogICAgICAgICAgICAgICAgc3RkX3ZlY3Rvcl9zdGRfcGFpcl9pbnRfaW50X3ZlY3Rvcihza2lsbExpc3QpOw0KDQogICAgICAgICAgICAgICAgdmFyIGN1ckNoYXJTZWNvbmRHcm93VHlwZSA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyU2Vjb25kR3Jvd1R5cGUodXNlcik7DQogICAgICAgICAgICAgICAgdmFyIGN1ckNoYXJGaXJzdEdyb3dUeXBlID0gQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJGaXJzdEdyb3dUeXBlKHVzZXIpOw0KICAgICAgICAgICAgICAgIHZhciBkYXRhTWFuYWdlID0gR19DRGF0YU1hbmFnZXIoKS5hZGQoMjApLnJlYWRVMzIoKTsNCiAgICAgICAgICAgICAgICB2YXIgZ2l2ZVNraWxsID0gQ0NoYXJhY3Rlcl9nZXRfZ2l2ZV9za2lsbChkYXRhTWFuYWdlKzIwMTIqQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfam9iKHVzZXIpLGN1ckNoYXJGaXJzdEdyb3dUeXBlLGN1ckNoYXJTZWNvbmRHcm93VHlwZSxza2lsbExpc3QudG9JbnQzMigpLDApOw0KICAgICAgICAgICAgICAgIHZhciB2ODA7DQogICAgICAgICAgICAgICAgaWYoZ2l2ZVNraWxsICE9MSl7DQogICAgICAgICAgICAgICAgICAgIHZhciBjaGFyY05hbWUgPSAnJzsNCiAgICAgICAgICAgICAgICAgICAgdmFyIGNoYXJjTmFtZVZhbCA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNOYW1lKHVzZXJJbmZvKTsNCiAgICAgICAgICAgICAgICAgICAgaWYoIWNoYXJjTmFtZVZhbC5pc051bGwoKSkNCiAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgY2hhcmNOYW1lID0gIGNoYXJjTmFtZVZhbC5yZWFkVXRmOFN0cmluZygtMSk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgdmFyIHYxODRBZHJyID0gTWVtb3J5LmFsbG9jKDEpOw0KICAgICAgICAgICAgICAgICAgICB2MTg0QWRyci53cml0ZVU4KHYxODQpOw0KICAgICAgICAgICAgICAgICAgICBMb2dNYW5hZ2VyX2xvZ0Zvcm1hdChNZW1vcnkuYWxsb2MoMSksTWVtb3J5LmFsbG9jVXRmOFN0cmluZygidXNlci5jcHAiKS50b0ludDMyKCkNCiAgICAgICAgICAgICAgICAgICAgICAgICxNZW1vcnkuYWxsb2NVdGY4U3RyaW5nKCd2b2lkIENVc2VyOjppbmNyZWFzZV9zdGF0dXMoc2hvcnQgaW50KScpLHB0cigweDRhZWUpDQogICAgICAgICAgICAgICAgICAgICAgICAsTWVtb3J5LmFsbG9jVXRmOFN0cmluZygnVXNlciAlcyAtIENVc2VyOjpzZXRfZ3Jvd190eXBlICVkJyksTWVtb3J5LmFsbG9jVXRmOFN0cmluZyhjaGFyY05hbWUpLHYxODRBZHJyKTsNCiAgICAgICAgICAgICAgICAgICAgdjgwID0gMDsNCiAgICAgICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7OyBpKyspIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHN0ZF92ZWN0b3Jfc3RkX3BhaXJfaW50X2ludF9zaXplKHNraWxsTGlzdCkgPD1pKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBza2lsbCA9IHN0ZF92ZWN0b3Jfc3RkX3BhaXJfaW50X2ludF9vcGVyYXRvcihza2lsbExpc3QsaSk7DQogICAgICAgICAgICAgICAgICAgICAgICBTa2lsbFNsb3RfZ3Jvd3R5cGVfc2tpbGwoQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY1NraWxsVyh1c2VyKSxDVXNlckNoYXJhY0luZm9fZ2V0X2NoYXJhY19qb2IodXNlciksc2tpbGwucmVhZFU4KCksc2tpbGwuYWRkKDEpLnJlYWRVOCgpLDApOw0KICAgICAgICAgICAgICAgICAgICAgICAgU2tpbGxTbG90X2dyb3d0eXBlX3NraWxsKENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNTa2lsbFcodXNlciksQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfam9iKHVzZXIpLHNraWxsLnJlYWRVOCgpLHNraWxsLmFkZCgxKS5yZWFkVTgoKSwxKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB2YXIgY3VyQ2hhcmFjRXhwZXJ0Sm9iVHlwZSA9Q1VzZXJDaGFyYWNJbmZvX0dldEN1ckNoYXJhY0V4cGVydEpvYlR5cGUodXNlcik7DQogICAgICAgICAgICAgICAgICAgIHZhciBleHBlcnRKb2JTY3JpcHQgPSBDRGF0YU1hbmFnZXJfR2V0RXhwZXJ0Sm9iU2NyaXB0KEdfQ0RhdGFNYW5hZ2VyKCksY3VyQ2hhcmFjRXhwZXJ0Sm9iVHlwZSk7DQogICAgICAgICAgICAgICAgICAgIGlmKGV4cGVydEpvYlNjcmlwdCE9MCl7DQogICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgOyBpKyspIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihzdGRfdmVjdG9yX3N0ZF9wYWlyX2ludF9pbnRfc2l6ZShleHBlcnRKb2JTY3JpcHQuYWRkKDEyKSkgPD1pKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdXJDaGFyYWNFeHBlcnRKb2JFeHAgPSBDVXNlckNoYXJhY0luZm9fR2V0Q3VyQ2hhcmFjRXhwZXJ0Sm9iRXhwKHVzZXIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdXJFeHBlcnRKb2JMZXZlbCA9IENVc2VyX0dldEN1ckV4cGVydEpvYkxldmVsKHVzZXIsIGN1ckNoYXJhY0V4cGVydEpvYkV4cCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGV4cGVydEpvYiA9IHN0ZF92ZWN0b3Jfc3RkX3BhaXJfaW50X2ludF9vcGVyYXRvcihleHBlcnRKb2JTY3JpcHQuYWRkKDEyKSxpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTa2lsbFNsb3RfZ3Jvd3R5cGVfc2tpbGwoQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY1NraWxsVyh1c2VyKSxDVXNlckNoYXJhY0luZm9fZ2V0X2NoYXJhY19qb2IodXNlciksZXhwZXJ0Sm9iLnJlYWRVMTYoKSxjdXJFeHBlcnRKb2JMZXZlbCwwKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTa2lsbFNsb3RfZ3Jvd3R5cGVfc2tpbGwoQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY1NraWxsVyh1c2VyKSxDVXNlckNoYXJhY0luZm9fZ2V0X2NoYXJhY19qb2IodXNlciksZXhwZXJ0Sm9iLnJlYWRVMTYoKSxjdXJFeHBlcnRKb2JMZXZlbCwxKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBXb25nV29ya19DU2tpbGxDaGFuZ2VyX0NTa2lsbENoYW5nZXIodjE3Mik7DQogICAgICAgICAgICAgICAgICAgIFdvbmdXb3JrX0NTa2lsbENoYW5nZXJfU2tpbGxJbml0aWFsaXplKHYxNzIsdXNlciwwLDApOw0KICAgICAgICAgICAgICAgICAgICBDVXNlcl9zZW5kX3NraWxsX2luZm8odXNlcik7DQogICAgICAgICAgICAgICAgICAgIHZhciBwcmVtaXVtTGV0aGVNYW5hZ2VyID0gQ0dhbWVNYW5hZ2VyX0dldFByZW1pdW1MZXRoZU1hbmFnZXIoR19DR2FtZU1hbmFnZXIoKSk7DQogICAgICAgICAgICAgICAgICAgIGlmKENVc2VyX2lzQWZmZWN0ZWRQcmVtaXVtKHVzZXIudG9JbnQzMigpLDMzKSE9MCl7DQogICAgICAgICAgICAgICAgICAgICAgICBpZihwcmVtaXVtTGV0aGVNYW5hZ2VyIT0wICYmIENVc2VyX2lzQWZmZWN0ZWRQcmVtaXVtKHVzZXIudG9JbnQzMigpLDMzKSE9MCl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgQ1ByZW1pdW1MZXRoZU1hbmFnZXJfSW5pdExldGhlU2tpbGwocHJlbWl1bUxldGhlTWFuYWdlciwgdXNlciwgMCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgQ1ByZW1pdW1MZXRoZU1hbmFnZXJfSW5pdExldGhlU2tpbGwocHJlbWl1bUxldGhlTWFuYWdlciwgdXNlciwgMSk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH1lbHNlIGlmKHByZW1pdW1MZXRoZU1hbmFnZXIhPTApew0KICAgICAgICAgICAgICAgICAgICAgICAgQ1ByZW1pdW1MZXRoZU1hbmFnZXJfVXBkYXRlQmFja3VwU2tpbGxGbGFnKHByZW1pdW1MZXRoZU1hbmFnZXIsdXNlciwwKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIENQcmVtaXVtTGV0aGVNYW5hZ2VyX1VwZGF0ZUJhY2t1cFNraWxsRmxhZyhwcmVtaXVtTGV0aGVNYW5hZ2VyLHVzZXIsMSk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgV29uZ1dvcmtfQ1NraWxsQ2hhbmdlcl9kX0NTa2lsbENoYW5nZXIodjE3Mik7DQogICAgICAgICAgICAgICAgICAgIHY4MCA9IDE7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHN0ZF92ZWN0b3Jfc3RkX3BhaXJfaW50X2ludF9kX3ZlY3Rvcihza2lsbExpc3QpOw0KICAgICAgICAgICAgICAgIGlmKHY4MD09MSl7DQogICAgICAgICAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9jbGVhcihidWZmKTsNCiAgICAgICAgICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9oZWFkZXIoYnVmZiwgMSwgMzIpOw0KICAgICAgICAgICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2J5dGUoYnVmZiwgMSk7DQogICAgICAgICAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfc2hvcnQoYnVmZiwgc2xvZik7DQogICAgICAgICAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfYnl0ZShidWZmLCB2MTg0KTsNCiAgICAgICAgICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9pbnQoYnVmZiwgZ3VpbGRFeHBCb29rKTsNCiAgICAgICAgICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9zaG9ydChidWZmLCAwKTsNCiAgICAgICAgICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9zaG9ydChidWZmLCAwKTsNCiAgICAgICAgICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX2ZpbmFsaXplKGJ1ZmYsIDEpOw0KICAgICAgICAgICAgICAgICAgICBDVXNlcl9TZW5kKHVzZXIsIGJ1ZmYpOw0KICAgICAgICAgICAgICAgICAgICBpZih1c2VyLmFkZCgxNDQzNjkqNCkucmVhZFUzMigpID09IDUpew0KICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBhcnR5ID0gQ1VzZXJfR2V0UGFydHkodXNlcik7DQogICAgICAgICAgICAgICAgICAgICAgICBpZihwYXJ0eSE9MCl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX2NsZWFyKGJ1ZmYpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfaGVhZGVyKGJ1ZmYsIDAsIDIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfYnl0ZShidWZmLCAxKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X3Nob3J0KGJ1ZmYsIDEpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIENVc2VyX21ha2VfYmFzaWNfaW5mbyh1c2VyLCBidWZmLCAxKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfZmluYWxpemUoYnVmZiwgMSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgQ1BhcnR5X3NlbmRfdG9fcGFydHkocGFydHksIGJ1ZmYpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9ZWxzZSBpZih1c2VyLmFkZCgxNDQzNjkqNCkucmVhZFUzMigpID09IDgpew0KICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHdhclJvb20gPSBDVXNlcl9HZXRXYXJSb29tKHVzZXIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgaWYod2FyUm9vbSE9MCl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX2NsZWFyKGJ1ZmYpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfaGVhZGVyKGJ1ZmYsIDAsIDIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfYnl0ZShidWZmLCAxKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X3Nob3J0KGJ1ZmYsIDEpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIENVc2VyX21ha2VfYmFzaWNfaW5mbyh1c2VyLCBidWZmLCAxKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfZmluYWxpemUoYnVmZiwgMSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgV2FyUm9vbV9TZW5kVG9Sb29tKHdhclJvb20sIGJ1ZmYpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfWVsc2Ugew0KICAgICAgICAgICAgICAgIHZhciBjdXJDaGFyYWNTa2lsbFRyZWVJbmRleCA9IENVc2VyQ2hhcmFjSW5mb19HZXRDdXJDaGFyYWNTa2lsbFRyZWVJbmRleCh1c2VyKTsNCiAgICAgICAgICAgICAgICB2YXIgY3VyQ2hhcmFjU2tpbGxXID0gQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY1NraWxsVyh1c2VyKTsNCiAgICAgICAgICAgICAgICBTa2lsbFNsb3RfY2xlYXJfYWxsX3NraWxscyhjdXJDaGFyYWNTa2lsbFcsdXNlcik7DQogICAgICAgICAgICAgICAgY3VyQ2hhcmFjU2tpbGxXID0gQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY1NraWxsVyh1c2VyKTsNCiAgICAgICAgICAgICAgICBTa2lsbFNsb3Rfc2V0X3BhcmVudChjdXJDaGFyYWNTa2lsbFcsdXNlcik7DQogICAgICAgICAgICAgICAgY3VyQ2hhcmFjU2tpbGxUcmVlSW5kZXggPSBDVXNlckNoYXJhY0luZm9fR2V0Q3VyQ2hhcmFjU2tpbGxUcmVlSW5kZXgodXNlcik7DQogICAgICAgICAgICAgICAgaWYoY3VyQ2hhcmFjU2tpbGxUcmVlSW5kZXg9PS0xIHx8IGN1ckNoYXJhY1NraWxsVHJlZUluZGV4IT0wKXsNCiAgICAgICAgICAgICAgICAgICAgY3VyQ2hhcmFjU2tpbGxXID0gQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY1NraWxsVyh1c2VyKTsNCiAgICAgICAgICAgICAgICAgICAgYWRkU2tpbGxPbkNyZWF0ZUNoYXJhY3RlcihjdXJDaGFyYWNTa2lsbFcuYWRkKDcwKSxDVXNlckNoYXJhY0luZm9fZ2V0X2NoYXJhY19qb2IodXNlcikpOw0KICAgICAgICAgICAgICAgIH1lbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgY3VyQ2hhcmFjU2tpbGxXID0gQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY1NraWxsVyh1c2VyKTsNCiAgICAgICAgICAgICAgICAgICAgYWRkU2tpbGxPbkNyZWF0ZUNoYXJhY3RlcihjdXJDaGFyYWNTa2lsbFcuYWRkKDQ3OCksQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfam9iKHVzZXIpKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgLy8g6L+Z5bqU6K+l5piv5oqA6IO95Y+q6IO9MTLkuKrljp/lm6ANCiAgICAgICAgICAgICAgICB2YXIgc2tpbGxMaXN0ID0gTWVtb3J5LmFsbG9jKDEyKTsNCiAgICAgICAgICAgICAgICBzdGRfdmVjdG9yX3N0ZF9wYWlyX2ludF9pbnRfdmVjdG9yKHNraWxsTGlzdCk7DQoNCiAgICAgICAgICAgICAgICB2YXIgY3VyQ2hhclNlY29uZEdyb3dUeXBlID0gQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJTZWNvbmRHcm93VHlwZSh1c2VyKTsNCiAgICAgICAgICAgICAgICB2YXIgY3VyQ2hhckZpcnN0R3Jvd1R5cGUgPSBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhckZpcnN0R3Jvd1R5cGUodXNlcik7DQogICAgICAgICAgICAgICAgdmFyIGRhdGFNYW5hZ2UgPSBHX0NEYXRhTWFuYWdlcigpLmFkZCgyMCkucmVhZFUzMigpOw0KICAgICAgICAgICAgICAgIHZhciBnaXZlU2tpbGwgPSBDQ2hhcmFjdGVyX2dldF9naXZlX3NraWxsKGRhdGFNYW5hZ2UrMjAxMipDVXNlckNoYXJhY0luZm9fZ2V0X2NoYXJhY19qb2IodXNlciksY3VyQ2hhckZpcnN0R3Jvd1R5cGUsY3VyQ2hhclNlY29uZEdyb3dUeXBlLHNraWxsTGlzdC50b0ludDMyKCksMCk7DQogICAgICAgICAgICAgICAgdmFyIHY4MDsNCiAgICAgICAgICAgICAgICBpZihnaXZlU2tpbGwgIT0xKXsNCiAgICAgICAgICAgICAgICAgICAgdmFyIGNoYXJjTmFtZSA9ICcnOw0KICAgICAgICAgICAgICAgICAgICB2YXIgY2hhcmNOYW1lVmFsID0gQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY05hbWUodXNlckluZm8pOw0KICAgICAgICAgICAgICAgICAgICBpZighY2hhcmNOYW1lVmFsLmlzTnVsbCgpKQ0KICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICBjaGFyY05hbWUgPSAgY2hhcmNOYW1lVmFsLnJlYWRVdGY4U3RyaW5nKC0xKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB2YXIgdjE4NEFkcnIgPSBNZW1vcnkuYWxsb2MoMSk7DQogICAgICAgICAgICAgICAgICAgIHYxODRBZHJyLndyaXRlVTgodjE4NCk7DQogICAgICAgICAgICAgICAgICAgIExvZ01hbmFnZXJfbG9nRm9ybWF0KE1lbW9yeS5hbGxvYygxKSxNZW1vcnkuYWxsb2NVdGY4U3RyaW5nKCJ1c2VyLmNwcCIpLnRvSW50MzIoKQ0KICAgICAgICAgICAgICAgICAgICAgICAgLE1lbW9yeS5hbGxvY1V0ZjhTdHJpbmcoJ3ZvaWQgQ1VzZXI6OmluY3JlYXNlX3N0YXR1cyhzaG9ydCBpbnQpJykscHRyKDB4NEI0OCkNCiAgICAgICAgICAgICAgICAgICAgICAgICxNZW1vcnkuYWxsb2NVdGY4U3RyaW5nKCdVc2VyICVzIC0gQ1VzZXI6OnNldF9ncm93X3R5cGUgJWQnKSxNZW1vcnkuYWxsb2NVdGY4U3RyaW5nKGNoYXJjTmFtZSksdjE4NEFkcnIpOw0KICAgICAgICAgICAgICAgICAgICB2ODAgPSAwOw0KICAgICAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDs7IGkrKykgew0KICAgICAgICAgICAgICAgICAgICAgICAgaWYoc3RkX3ZlY3Rvcl9zdGRfcGFpcl9pbnRfaW50X3NpemUoc2tpbGxMaXN0KSA8PWkpew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNraWxsID0gc3RkX3ZlY3Rvcl9zdGRfcGFpcl9pbnRfaW50X29wZXJhdG9yKHNraWxsTGlzdCxpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIFNraWxsU2xvdF9ncm93dHlwZV9za2lsbChDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjU2tpbGxXKHVzZXIpLENVc2VyQ2hhcmFjSW5mb19nZXRfY2hhcmFjX2pvYih1c2VyKSxza2lsbC5yZWFkVTgoKSxza2lsbC5hZGQoMSkucmVhZFU4KCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAsQ1VzZXJDaGFyYWNJbmZvX0dldEN1ckNoYXJhY1NraWxsVHJlZUluZGV4KHVzZXIpKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB2YXIgY3VyQ2hhcmFjRXhwZXJ0Sm9iVHlwZSA9Q1VzZXJDaGFyYWNJbmZvX0dldEN1ckNoYXJhY0V4cGVydEpvYlR5cGUodXNlcik7DQogICAgICAgICAgICAgICAgICAgIHZhciBleHBlcnRKb2JTY3JpcHQgPSBDRGF0YU1hbmFnZXJfR2V0RXhwZXJ0Sm9iU2NyaXB0KEdfQ0RhdGFNYW5hZ2VyKCksY3VyQ2hhcmFjRXhwZXJ0Sm9iVHlwZSk7DQogICAgICAgICAgICAgICAgICAgIGlmKGV4cGVydEpvYlNjcmlwdCE9MCl7DQogICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgOyBpKyspIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihzdGRfdmVjdG9yX3N0ZF9wYWlyX2ludF9pbnRfc2l6ZShleHBlcnRKb2JTY3JpcHQuYWRkKDEyKSkgPD1pKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdXJDaGFyYWNFeHBlcnRKb2JFeHAgPSBDVXNlckNoYXJhY0luZm9fR2V0Q3VyQ2hhcmFjRXhwZXJ0Sm9iRXhwKHVzZXIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdXJFeHBlcnRKb2JMZXZlbCA9IENVc2VyX0dldEN1ckV4cGVydEpvYkxldmVsKHVzZXIsIGN1ckNoYXJhY0V4cGVydEpvYkV4cCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGV4cGVydEpvYiA9IHN0ZF92ZWN0b3Jfc3RkX3BhaXJfaW50X2ludF9vcGVyYXRvcihleHBlcnRKb2JTY3JpcHQuYWRkKDEyKSxpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTa2lsbFNsb3RfZ3Jvd3R5cGVfc2tpbGwoQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY1NraWxsVyh1c2VyKSxDVXNlckNoYXJhY0luZm9fZ2V0X2NoYXJhY19qb2IodXNlciksZXhwZXJ0Sm9iLnJlYWRVMTYoKSxjdXJFeHBlcnRKb2JMZXZlbCwwKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTa2lsbFNsb3RfZ3Jvd3R5cGVfc2tpbGwoQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY1NraWxsVyh1c2VyKSxDVXNlckNoYXJhY0luZm9fZ2V0X2NoYXJhY19qb2IodXNlciksZXhwZXJ0Sm9iLnJlYWRVMTYoKSxjdXJFeHBlcnRKb2JMZXZlbCwxKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBXb25nV29ya19DU2tpbGxDaGFuZ2VyX0NTa2lsbENoYW5nZXIodjE3Mik7DQogICAgICAgICAgICAgICAgICAgIHZhciB2MjE5ID0gMDsNCiAgICAgICAgICAgICAgICAgICAgY3VyQ2hhcmFjU2tpbGxUcmVlSW5kZXggPSBDVXNlckNoYXJhY0luZm9fR2V0Q3VyQ2hhcmFjU2tpbGxUcmVlSW5kZXgodXNlcik7DQogICAgICAgICAgICAgICAgICAgIGlmKGN1ckNoYXJhY1NraWxsVHJlZUluZGV4PT0tMSB8fCBjdXJDaGFyYWNTa2lsbFRyZWVJbmRleCE9MCl7DQogICAgICAgICAgICAgICAgICAgICAgICB2MjE5ID0gMTsNCiAgICAgICAgICAgICAgICAgICAgfWVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgdjIxOSA9IDI7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgV29uZ1dvcmtfQ1NraWxsQ2hhbmdlcl9Ta2lsbEluaXRpYWxpemUodjE3Mix1c2VyLHYyMTksMCk7DQogICAgICAgICAgICAgICAgICAgIENVc2VyX3NlbmRfc2tpbGxfaW5mbyh1c2VyKTsNCiAgICAgICAgICAgICAgICAgICAgdmFyIHByZW1pdW1MZXRoZU1hbmFnZXIgPSBDR2FtZU1hbmFnZXJfR2V0UHJlbWl1bUxldGhlTWFuYWdlcihHX0NHYW1lTWFuYWdlcigpKTsNCiAgICAgICAgICAgICAgICAgICAgaWYoQ1VzZXJfaXNBZmZlY3RlZFByZW1pdW0odXNlci50b0ludDMyKCksMzMpIT0wKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHByZW1pdW1MZXRoZU1hbmFnZXIhPTAgJiYgQ1VzZXJfaXNBZmZlY3RlZFByZW1pdW0odXNlci50b0ludDMyKCksMzMpIT0wKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJDaGFyYWNTa2lsbFRyZWVJbmRleCA9IENVc2VyQ2hhcmFjSW5mb19HZXRDdXJDaGFyYWNTa2lsbFRyZWVJbmRleCh1c2VyKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBDUHJlbWl1bUxldGhlTWFuYWdlcl9Jbml0TGV0aGVTa2lsbChwcmVtaXVtTGV0aGVNYW5hZ2VyLCB1c2VyLCBjdXJDaGFyYWNTa2lsbFRyZWVJbmRleCk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH1lbHNlIGlmKHByZW1pdW1MZXRoZU1hbmFnZXIhPTApew0KICAgICAgICAgICAgICAgICAgICAgICAgY3VyQ2hhcmFjU2tpbGxUcmVlSW5kZXggPSBDVXNlckNoYXJhY0luZm9fR2V0Q3VyQ2hhcmFjU2tpbGxUcmVlSW5kZXgodXNlcik7DQogICAgICAgICAgICAgICAgICAgICAgICBDUHJlbWl1bUxldGhlTWFuYWdlcl9VcGRhdGVCYWNrdXBTa2lsbEZsYWcocHJlbWl1bUxldGhlTWFuYWdlcix1c2VyLGN1ckNoYXJhY1NraWxsVHJlZUluZGV4KTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBXb25nV29ya19DU2tpbGxDaGFuZ2VyX2RfQ1NraWxsQ2hhbmdlcih2MTcyKTsNCiAgICAgICAgICAgICAgICAgICAgdjgwID0gMTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgc3RkX3ZlY3Rvcl9zdGRfcGFpcl9pbnRfaW50X2RfdmVjdG9yKHNraWxsTGlzdCk7DQogICAgICAgICAgICAgICAgaWYodjgwPT0xKXsNCiAgICAgICAgICAgICAgICAgICAgZ290bzMyKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mKTsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIFBhY2tldEd1YXJkX2ZyZWVfUGFja2V0R3VhcmQoYnVmZik7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIGNhc2UgMTE6DQogICAgICAgICAgICBpZihDVXNlckNoYXJhY0luZm9fZ2V0X2NoYXJhY19ndWlsZGtleSh1c2VyKSE9MCl7DQogICAgICAgICAgICAgICAgQ1VzZXJDaGFyYWNJbmZvX2FkZF9ndWlsZF9leHAodXNlcixndWlsZEV4cEJvb2spOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZ290bzMyKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgY2FzZSAxMjoNCiAgICAgICAgICAgIENVc2VyQ2hhcmFjSW5mb19zZXRDdXJDaGFyYWNTdGFtaW5hKHVzZXIsZ3VpbGRFeHBCb29rKTsNCiAgICAgICAgICAgIGdvdG8zMih1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZik7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIGNhc2UgMTM6DQogICAgICAgICAgICB2YXIgaW52ZW5SID0gQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY0ludmVuUih1c2VyKTsNCiAgICAgICAgICAgIHZhciBjb2luID0gQ0ludmVudG9yeV9HZXRFdmVudENvaW4oaW52ZW5SKTsNCiAgICAgICAgICAgIHZhciBhbGxDb2luID0gY29pbitndWlsZEV4cEJvb2s7DQogICAgICAgICAgICB2YXIgaW52ZW5XID0gQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY0ludmVuVyh1c2VyKTsNCiAgICAgICAgICAgIENJbnZlbnRvcnlfU2V0RXZlbnRDb2luKGludmVuVyxhbGxDb2luKTsNCiAgICAgICAgICAgIGludmVuUiA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNJbnZlblIodXNlcik7DQogICAgICAgICAgICBjb2luID0gQ0ludmVudG9yeV9HZXRFdmVudENvaW4oaW52ZW5SKTsNCiAgICAgICAgICAgIGNVc2VySGlzdG9yeUxvZ19FdmVudENvaW5BZGQodXNlci5hZGQoNDk3NDA4KSxjb2luLGd1aWxkRXhwQm9vaywyKTsNCiAgICAgICAgICAgIENVc2VyX1NlbmRVcGRhdGVJdGVtTGlzdCh1c2VyLDEsMCwxKTsNCiAgICAgICAgICAgIGdvdG8zMih1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZik7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIGNhc2UgMTQ6DQogICAgICAgICAgICBDVXNlcl9SZWNvdmVyRmF0aWd1ZSh1c2VyLGd1aWxkRXhwQm9vayk7DQogICAgICAgICAgICBDVXNlcl9TZW5kRmF0aWd1ZSh1c2VyKTsNCiAgICAgICAgICAgIGdvdG8zMih1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZik7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIGNhc2UgMTU6DQogICAgICAgICAgICB2YXIgY3VyQ2hhcmFjRmF0aWd1ZSA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNGYXRpZ3VlKHVzZXIpOw0KICAgICAgICAgICAgdmFyIHZhbCA9IGN1ckNoYXJhY0ZhdGlndWUgLSBndWlsZEV4cEJvb2sgPDAgPzA6Y3VyQ2hhcmFjRmF0aWd1ZSAtIGd1aWxkRXhwQm9vaw0KICAgICAgICAgICAgQ1VzZXJDaGFyYWNJbmZvX3NldEN1ckNoYXJhY0ZhdGlndWUodXNlcix2YWwpOw0KICAgICAgICAgICAgQ1VzZXJfU2VuZEZhdGlndWUodXNlcik7DQogICAgICAgICAgICBnb3RvMzIodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICBjYXNlIDE2Og0KICAgICAgICAgICAgaWYoQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfZ3VpbGRrZXkodXNlcikhPTApew0KICAgICAgICAgICAgICAgIHZhciBjaGFyY05vID0gQ1VzZXJfZ2V0X2NoYXJhY19ubyh1c2VyLC0xKTsNCiAgICAgICAgICAgICAgICB2YXIgY2hhcmNHdWlsZEtleSA9IENVc2VyQ2hhcmFjSW5mb19nZXRfY2hhcmFjX2d1aWxka2V5KHVzZXIpOw0KICAgICAgICAgICAgICAgIHZhciBzZXJ2ZXJHcm91cCA9IENVc2VyX0dldFNlcnZlckdyb3VwKHVzZXIpOw0KICAgICAgICAgICAgICAgIHZhciBzZXJ2ZXJQcm94eSA9IENTZXJ2ZXJQcm94eU1ncl9DR3VpbGRTZXJ2ZXJQcm94eV9HZXRTZXJ2ZXJQcm94eShwdHIocHRyKDB4MDk0MEJFMkMpLnJlYWRVMzIoKSksc2VydmVyR3JvdXApOw0KICAgICAgICAgICAgICAgIENHdWlsZFNlcnZlclByb3h5X1NlbmRJbmNyZWFzZUd1aWxkRXhwKHNlcnZlclByb3h5LGNoYXJjR3VpbGRLZXksY2hhcmNObyxndWlsZEV4cEJvb2ssMSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBnb3RvMzIodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICBjYXNlIDE3Og0KICAgICAgICAgICAgQ1VzZXJfZ2Fpbl9zZnAodXNlciwgZ3VpbGRFeHBCb29rKTsNCiAgICAgICAgICAgIENVc2VyX2hpc3RvcnlfbG9nX3NmcCh1c2VyLCAtMSwgZ3VpbGRFeHBCb29rLCAxKTsNCiAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9jbGVhcihidWZmKTsNCiAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfaGVhZGVyKGJ1ZmYsIDEsIDMyKTsNCiAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfYnl0ZShidWZmLCAxKTsNCiAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfc2hvcnQoYnVmZiwgc2xvZik7DQogICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2J5dGUoYnVmZiwgdjE4NCk7DQogICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2ludChidWZmLCBndWlsZEV4cEJvb2spOw0KICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9zaG9ydChidWZmLCAwKTsNCiAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfc2hvcnQoYnVmZiwgMCk7DQogICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfZmluYWxpemUoYnVmZiwgMSk7DQogICAgICAgICAgICBDVXNlcl9TZW5kKHVzZXIsIGJ1ZmYpOw0KICAgICAgICAgICAgUGFja2V0R3VhcmRfZnJlZV9QYWNrZXRHdWFyZChidWZmKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgY2FzZSAxODoNCiAgICAgICAgICAgIFNraWxsU2xvdF9jbGVhcl9zZnBfc2tpbGxzKENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNTa2lsbFcodXNlcikudG9JbnQzMigpLENVc2VyQ2hhcmFjSW5mb19nZXRfY2hhcmFjX2pvYih1c2VyKSxwdHIoQ1VzZXJDaGFyYWNJbmZvX0dldEN1ckNoYXJhY1NraWxsVHJlZUluZGV4KHVzZXIpKSk7DQogICAgICAgICAgICBTa2lsbFNsb3Rfc2V0X3BhcmVudChDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjU2tpbGxXKHVzZXIpLHVzZXIpOw0KICAgICAgICAgICAgdmFyIHYyMDIgPSAwOw0KICAgICAgICAgICAgaWYgKCBDVXNlckNoYXJhY0luZm9fR2V0Q3VyQ2hhcmFjU2tpbGxUcmVlSW5kZXgodXNlcikgPT0gLTEgfHwgQ1VzZXJDaGFyYWNJbmZvX0dldEN1ckNoYXJhY1NraWxsVHJlZUluZGV4KHVzZXIpIT0wICl7DQogICAgICAgICAgICAgICAgdjIwMiA9IDM7DQogICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICB2MjAyID0gNDsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIFdvbmdXb3JrX0NTa2lsbENoYW5nZXJfQ1NraWxsQ2hhbmdlcih2MTcyKTsNCiAgICAgICAgICAgIFdvbmdXb3JrX0NTa2lsbENoYW5nZXJfU2tpbGxJbml0aWFsaXplKHYxNzIsIHVzZXIsIHYyMDIsIDApOw0KICAgICAgICAgICAgQ1VzZXJfc2VuZF9za2lsbF9pbmZvKHVzZXIpOw0KICAgICAgICAgICAgV29uZ1dvcmtfQ1NraWxsQ2hhbmdlcl9kX0NTa2lsbENoYW5nZXIodjE3Mik7DQogICAgICAgICAgICBnb3RvMzIodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICBjYXNlIDE5Og0KICAgICAgICAgICAgQ1VzZXJDaGFyYWNJbmZvX0luY3JlYXNlUG93ZXJXYXJQb2ludCh1c2VyLGd1aWxkRXhwQm9vayk7DQogICAgICAgICAgICBnb3RvMzIodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICBjYXNlIDIwOg0KICAgICAgICAgICAgQ1VzZXJfYWRqdXN0X2NoYXJhY19zdGF0KHVzZXIpOw0KICAgICAgICAgICAgaWYodXNlci5hZGQoMTQ0MzY5KS5yZWFkVTMyKCk9PTMpew0KICAgICAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9jbGVhcihidWZmKTsNCiAgICAgICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2hlYWRlcihidWZmLCAwLCAyKTsNCiAgICAgICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2J5dGUoYnVmZiwgMSk7DQogICAgICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9zaG9ydChidWZmLCAxKTsNCiAgICAgICAgICAgICAgICBDVXNlcl9tYWtlX2Jhc2ljX2luZm8odXNlciwgYnVmZiwgMSk7DQogICAgICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX2ZpbmFsaXplKGJ1ZmYsIDEpOw0KICAgICAgICAgICAgICAgIENVc2VyX1NlbmQodXNlciwgYnVmZik7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBnb3RvMzIodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICBjYXNlIDIxOg0KICAgICAgICAgICAgdmFyIGNvaW4gPSBDSW52ZW50b3J5X0dldENvaW4oQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY0ludmVuUih1c2VyKSk7DQogICAgICAgICAgICBDSW52ZW50b3J5X1NldENvaW4oQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY0ludmVuVyh1c2VyKSxjb2luK2d1aWxkRXhwQm9vayk7DQogICAgICAgICAgICBjb2luID0gQ0ludmVudG9yeV9HZXRDb2luKENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNJbnZlblIodXNlcikpOw0KICAgICAgICAgICAgY1VzZXJIaXN0b3J5TG9nX0NvaW5BZGQodXNlci5hZGQoNDk3NDA4KSxjb2luLGd1aWxkRXhwQm9vaywzKTsNCiAgICAgICAgICAgIENVc2VyX1NlbmRVcGRhdGVJdGVtTGlzdCh1c2VyLDEsMCwxKTsNCiAgICAgICAgICAgIGdvdG8zMih1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZik7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIGNhc2UgMjI6DQogICAgICAgICAgICBpZihndWlsZEV4cEJvb2s9PTEpew0KICAgICAgICAgICAgICAgIHZhciBza2lsbFcgPSBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjU2tpbGxXKHVzZXIpOw0KICAgICAgICAgICAgICAgIFNraWxsU2xvdF9jbGVhcl9hbGxfc2tpbGxzX2JvdGgoc2tpbGxXKTsNCiAgICAgICAgICAgICAgICBza2lsbFcgPSBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjU2tpbGxXKHVzZXIpOw0KICAgICAgICAgICAgICAgIFNraWxsU2xvdF9zZXRfcGFyZW50KHNraWxsVyx1c2VyKTsNCiAgICAgICAgICAgICAgICBDVXNlcl9naXZlUHZQU2tpbGxUcmVlKHVzZXIsMCwxLDMpOw0KICAgICAgICAgICAgICAgIHZhciBwdnBHcmFkZSA9IENVc2VyQ2hhcmFjSW5mb19nZXRfcHZwX2dyYWRlKHVzZXIpOw0KICAgICAgICAgICAgICAgIHZhciBwdlBTa2lsbFBvaW50ID0gUHZQU2tpbGxUcmVlUGFyYW1ldGVyU2NyaXB0X2dldFB2UFNraWxsUG9pbnQoDQogICAgICAgICAgICAgICAgICAgIEdfQ0RhdGFNYW5hZ2VyKCkuYWRkKDQzMDA4KSxDVXNlckNoYXJhY0luZm9fZ2V0X2NoYXJhY19qb2IodXNlcikNCiAgICAgICAgICAgICAgICAgICAgLENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyRmlyc3RHcm93VHlwZSh1c2VyKQ0KICAgICAgICAgICAgICAgICAgICAsQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJTZWNvbmRHcm93VHlwZSh1c2VyKQ0KICAgICAgICAgICAgICAgICAgICAscHZwR3JhZGUsMA0KICAgICAgICAgICAgICAgICk7DQogICAgICAgICAgICAgICAgc2tpbGxXID0gQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY1NraWxsVyh1c2VyKTsNCiAgICAgICAgICAgICAgICBTa2lsbFNsb3Rfc2V0X3JlbWFpbl9zcF9hdF9pbmRleChza2lsbFcudG9JbnQzMigpLHB2UFNraWxsUG9pbnQsMCk7DQogICAgICAgICAgICAgICAgc2tpbGxXID0gQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY1NraWxsVyh1c2VyKTsNCiAgICAgICAgICAgICAgICBTa2lsbFNsb3Rfc2V0X3JlbWFpbl9zcF9hdF9pbmRleChza2lsbFcudG9JbnQzMigpLHB2UFNraWxsUG9pbnQsMSk7DQogICAgICAgICAgICAgICAgQ1VzZXJfc2VuZF9za2lsbF9pbmZvKHVzZXIpOw0KICAgICAgICAgICAgICAgIHZhciBwcmVtaXVtTGV0aGVNYW5hZ2VyID0gQ0dhbWVNYW5hZ2VyX0dldFByZW1pdW1MZXRoZU1hbmFnZXIoR19DR2FtZU1hbmFnZXIoKSk7DQogICAgICAgICAgICAgICAgaWYoQ1VzZXJfaXNBZmZlY3RlZFByZW1pdW0odXNlci50b0ludDMyKCksMzMpIT0wKXsNCiAgICAgICAgICAgICAgICAgICAgaWYocHJlbWl1bUxldGhlTWFuYWdlciE9MCAmJiBDVXNlcl9pc0FmZmVjdGVkUHJlbWl1bSh1c2VyLnRvSW50MzIoKSwzMykhPTApew0KICAgICAgICAgICAgICAgICAgICAgICAgQ1ByZW1pdW1MZXRoZU1hbmFnZXJfSW5pdExldGhlU2tpbGwocHJlbWl1bUxldGhlTWFuYWdlciwgdXNlciwgMCk7DQogICAgICAgICAgICAgICAgICAgICAgICBDUHJlbWl1bUxldGhlTWFuYWdlcl9Jbml0TGV0aGVTa2lsbChwcmVtaXVtTGV0aGVNYW5hZ2VyLCB1c2VyLCAxKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH1lbHNlIGlmKHByZW1pdW1MZXRoZU1hbmFnZXIhPTApew0KICAgICAgICAgICAgICAgICAgICBDUHJlbWl1bUxldGhlTWFuYWdlcl9VcGRhdGVCYWNrdXBTa2lsbEZsYWcocHJlbWl1bUxldGhlTWFuYWdlcix1c2VyLDApOw0KICAgICAgICAgICAgICAgICAgICBDUHJlbWl1bUxldGhlTWFuYWdlcl9VcGRhdGVCYWNrdXBTa2lsbEZsYWcocHJlbWl1bUxldGhlTWFuYWdlcix1c2VyLDEpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgIHZhciBjdXJDaGFyYWNTa2lsbFRyZWVJbmRleCA9IENVc2VyQ2hhcmFjSW5mb19HZXRDdXJDaGFyYWNTa2lsbFRyZWVJbmRleCh1c2VyKTsNCiAgICAgICAgICAgICAgICB2YXIgc2tpbGxXID0gQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY1NraWxsVyh1c2VyKTsNCiAgICAgICAgICAgICAgICBTa2lsbFNsb3RfY2xlYXJfYWxsX3NraWxscyhza2lsbFcsY3VyQ2hhcmFjU2tpbGxUcmVlSW5kZXgpOw0KICAgICAgICAgICAgICAgIHNraWxsVyA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNTa2lsbFcodXNlcik7DQogICAgICAgICAgICAgICAgU2tpbGxTbG90X3NldF9wYXJlbnQoc2tpbGxXLHVzZXIpOw0KICAgICAgICAgICAgICAgIHZhciB2MjE5ID0gMDsNCiAgICAgICAgICAgICAgICBjdXJDaGFyYWNTa2lsbFRyZWVJbmRleCA9IENVc2VyQ2hhcmFjSW5mb19HZXRDdXJDaGFyYWNTa2lsbFRyZWVJbmRleCh1c2VyKTsNCiAgICAgICAgICAgICAgICBpZihjdXJDaGFyYWNTa2lsbFRyZWVJbmRleD09LTEgfHwgY3VyQ2hhcmFjU2tpbGxUcmVlSW5kZXghPTApew0KICAgICAgICAgICAgICAgICAgICB2MjE5ID0gMTsNCiAgICAgICAgICAgICAgICB9ZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIHYyMTkgPSAyOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBDVXNlcl9naXZlUHZQU2tpbGxUcmVlKHVzZXIsMCwxLHYyMTkpOw0KICAgICAgICAgICAgICAgIHZhciBwdnBHcmFkZSA9IENVc2VyQ2hhcmFjSW5mb19nZXRfcHZwX2dyYWRlKHVzZXIpOw0KICAgICAgICAgICAgICAgIHZhciBwdlBTa2lsbFBvaW50ID0gUHZQU2tpbGxUcmVlUGFyYW1ldGVyU2NyaXB0X2dldFB2UFNraWxsUG9pbnQoDQogICAgICAgICAgICAgICAgICAgIEdfQ0RhdGFNYW5hZ2VyKCkuYWRkKDQzMDA4KSxDVXNlckNoYXJhY0luZm9fZ2V0X2NoYXJhY19qb2IodXNlcikNCiAgICAgICAgICAgICAgICAgICAgLENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyRmlyc3RHcm93VHlwZSh1c2VyKQ0KICAgICAgICAgICAgICAgICAgICAsQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJTZWNvbmRHcm93VHlwZSh1c2VyKQ0KICAgICAgICAgICAgICAgICAgICAscHZwR3JhZGUsMA0KICAgICAgICAgICAgICAgICk7DQogICAgICAgICAgICAgICAgc2tpbGxXID0gQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY1NraWxsVyh1c2VyKTsNCiAgICAgICAgICAgICAgICBTa2lsbFNsb3Rfc2V0X3JlbWFpbl9zcF9hdF9pbmRleChza2lsbFcudG9JbnQzMigpLHB2UFNraWxsUG9pbnQsQ1VzZXJDaGFyYWNJbmZvX0dldEN1ckNoYXJhY1NraWxsVHJlZUluZGV4KHVzZXIpKTsNCiAgICAgICAgICAgICAgICBDVXNlcl9zZW5kX3NraWxsX2luZm8odXNlcik7DQogICAgICAgICAgICAgICAgdmFyIHByZW1pdW1MZXRoZU1hbmFnZXIgPSBDR2FtZU1hbmFnZXJfR2V0UHJlbWl1bUxldGhlTWFuYWdlcihHX0NHYW1lTWFuYWdlcigpKTsNCiAgICAgICAgICAgICAgICBpZihDVXNlcl9pc0FmZmVjdGVkUHJlbWl1bSh1c2VyLnRvSW50MzIoKSwzMykhPTApew0KICAgICAgICAgICAgICAgICAgICBpZihwcmVtaXVtTGV0aGVNYW5hZ2VyIT0wICYmIENVc2VyX2lzQWZmZWN0ZWRQcmVtaXVtKHVzZXIudG9JbnQzMigpLDMzKSE9MCl7DQogICAgICAgICAgICAgICAgICAgICAgICBjdXJDaGFyYWNTa2lsbFRyZWVJbmRleCA9IENVc2VyQ2hhcmFjSW5mb19HZXRDdXJDaGFyYWNTa2lsbFRyZWVJbmRleCh1c2VyKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIENQcmVtaXVtTGV0aGVNYW5hZ2VyX0luaXRMZXRoZVNraWxsKHByZW1pdW1MZXRoZU1hbmFnZXIsIHVzZXIsIGN1ckNoYXJhY1NraWxsVHJlZUluZGV4KTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH1lbHNlIGlmKHByZW1pdW1MZXRoZU1hbmFnZXIhPTApew0KICAgICAgICAgICAgICAgICAgICBjdXJDaGFyYWNTa2lsbFRyZWVJbmRleCA9IENVc2VyQ2hhcmFjSW5mb19HZXRDdXJDaGFyYWNTa2lsbFRyZWVJbmRleCh1c2VyKTsNCiAgICAgICAgICAgICAgICAgICAgQ1ByZW1pdW1MZXRoZU1hbmFnZXJfVXBkYXRlQmFja3VwU2tpbGxGbGFnKHByZW1pdW1MZXRoZU1hbmFnZXIsdXNlcixjdXJDaGFyYWNTa2lsbFRyZWVJbmRleCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZ290bzMyKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgY2FzZSAyMzoNCiAgICAgICAgICAgIHZhciB2bG9nMyA9IE1lbW9yeS5hbGxvYygxNik7DQogICAgICAgICAgICB2YXIgY2hhcmNOYW1lID0gJyc7DQogICAgICAgICAgICB2YXIgY2hhcmNOYW1lVmFsID0gQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY05hbWUoc3ROb3RpZnlJbmdhbWVBREluZm8pOw0KICAgICAgICAgICAgaWYoIWNoYXJjTmFtZVZhbC5pc051bGwoKSkNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICBjaGFyY05hbWUgPSAgY2hhcmNOYW1lVmFsLnJlYWRVdGY4U3RyaW5nKC0xKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGNNeVRyYWNlX2NNeVRyYWNlKHZsb2czLE1lbW9yeS5hbGxvY1V0ZjhTdHJpbmcoInZvaWQgQ1VzZXI6OmluY3JlYXNlX3N0YXR1cyhzaG9ydCBpbnQpIiksMTk0NjYsMCk7DQogICAgICAgICAgICBjTXlUcmFjZV9vcGVyYXRvcih2bG9nMy50b0ludDMyKCksTWVtb3J5LmFsbG9jVXRmOFN0cmluZygiT05FX0RBWV9MRVRIRSA6IEJVWV9TS0lMTF9DT05GSVJNX1RJQ0tFVCwgY2hhciglcyksIGNoYXJfbm8oJWQpLCBzdHlsZSglZCkiKSxNZW1vcnkuYWxsb2NVdGY4U3RyaW5nKGNoYXJjTmFtZSkpOw0KICAgICAgICAgICAgdmFyIHByZW1pdW1MZXRoZU1hbmFnZXIgPSBDR2FtZU1hbmFnZXJfR2V0UHJlbWl1bUxldGhlTWFuYWdlcihHX0NHYW1lTWFuYWdlcigpKTsNCiAgICAgICAgICAgIGlmKHByZW1pdW1MZXRoZU1hbmFnZXIhPTApew0KICAgICAgICAgICAgICAgIENQcmVtaXVtTGV0aGVNYW5hZ2VyX0NvbmZpcm1Ta2lsbFJlcShwcmVtaXVtTGV0aGVNYW5hZ2VyLHVzZXIpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZ290bzMyKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgY2FzZSAyNToNCiAgICAgICAgICAgIHZhciBpdmVuVyA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNJbnZlblcodXNlcik7DQogICAgICAgICAgICBBdmF0YXJDb2luX0FkZChpdmVuVy5hZGQoMTYyNCksZ3VpbGRFeHBCb29rKTsNCiAgICAgICAgICAgIEF2YXRhckNvaW5fU2F2ZVRvREIodXNlcik7DQogICAgICAgICAgICBBdmF0YXJDb2luX1NlbmRTeW5jUGFja2V0KHVzZXIpOw0KICAgICAgICAgICAgQXZhdGFyQ29pbl9IaXN0b3J5TG9nX0FkZExvZyh1c2VyLHB0cihndWlsZEV4cEJvb2spKTsNCiAgICAgICAgICAgIGdvdG8zMih1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZik7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIGRlZmF1bHQ6DQogICAgICAgICAgICBnb3RvMzIodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgIH0NCn0NCg0KZnVuY3Rpb24gZ290bzMyKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mKXsNCiAgICBJbnRlcmZhY2VQYWNrZXRCdWZfY2xlYXIoYnVmZik7DQogICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9oZWFkZXIoYnVmZiwgMSwgMzIpOw0KICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfYnl0ZShidWZmLCAxKTsNCiAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X3Nob3J0KGJ1ZmYsIHNsb2YpOw0KICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfYnl0ZShidWZmLCB2MTg0KTsNCiAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2ludChidWZmLCBndWlsZEV4cEJvb2spOw0KICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfc2hvcnQoYnVmZiwgMCk7DQogICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9zaG9ydChidWZmLCAwKTsNCiAgICBJbnRlcmZhY2VQYWNrZXRCdWZfZmluYWxpemUoYnVmZiwgMSk7DQogICAgQ1VzZXJfU2VuZCh1c2VyLCBidWZmKTsNCiAgICBpZih1c2VyLmFkZCgxNDQzNjkqNCkucmVhZFUzMigpID09IDUpew0KICAgICAgICB2YXIgcGFydHkgPSBDVXNlcl9HZXRQYXJ0eSh1c2VyKTsNCiAgICAgICAgaWYocGFydHkhPTApew0KICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX2NsZWFyKGJ1ZmYpOw0KICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9oZWFkZXIoYnVmZiwgMCwgMik7DQogICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2J5dGUoYnVmZiwgMSk7DQogICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X3Nob3J0KGJ1ZmYsIDEpOw0KICAgICAgICAgICAgQ1VzZXJfbWFrZV9iYXNpY19pbmZvKHVzZXIsIGJ1ZmYsIDEpOw0KICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX2ZpbmFsaXplKGJ1ZmYsIDEpOw0KICAgICAgICAgICAgQ1BhcnR5X3NlbmRfdG9fcGFydHkocGFydHksIGJ1ZmYpOw0KICAgICAgICB9DQogICAgfWVsc2UgaWYodXNlci5hZGQoMTQ0MzY5KjQpLnJlYWRVMzIoKSA9PSA4KXsNCiAgICAgICAgdmFyIHdhclJvb20gPSBDVXNlcl9HZXRXYXJSb29tKHVzZXIpOw0KICAgICAgICBpZih3YXJSb29tIT0wKXsNCiAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9jbGVhcihidWZmKTsNCiAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfaGVhZGVyKGJ1ZmYsIDAsIDIpOw0KICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9ieXRlKGJ1ZmYsIDEpOw0KICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9zaG9ydChidWZmLCAxKTsNCiAgICAgICAgICAgIENVc2VyX21ha2VfYmFzaWNfaW5mbyh1c2VyLCBidWZmLCAxKTsNCiAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9maW5hbGl6ZShidWZmLCAxKTsNCiAgICAgICAgICAgIFdhclJvb21fU2VuZFRvUm9vbSh3YXJSb29tLCBidWZmKTsNCiAgICAgICAgfQ0KICAgIH0NCiAgICBQYWNrZXRHdWFyZF9mcmVlX1BhY2tldEd1YXJkKGJ1ZmYpOw0KfQ0KDQovL+iuvue9ruacgOWkp+etiee6pw0KZnVuY3Rpb24gc2V0TWF4VXBHcmFkZShtYXhMZXZlbCl7DQogICAgY29uc29sZS5sb2coIj09PT09PT09PT09PT09PT09PT09PT0+IOiuvue9ruacgOWkp+etiee6pyIgKyBtYXhMZXZlbCkNCiAgICBpZihtYXhMZXZlbCkgew0KICAgICAgICBjYWxjdXJhdGVVc2VyTWF4TGV2ZWwobWF4TGV2ZWwpOw0KICAgICAgICBzZXRVc2VyTWF4TGV2ZWwobWF4TGV2ZWwpOw0KICAgICAgICBpc1RoZXJlRGFpbHlUcmFpbmluZ1F1ZXN0TGlzdChtYXhMZXZlbCk7DQogICAgICAgIGNhbExldmVsVXBJdGVtQ2hlY2sobWF4TGV2ZWwpOw0KICAgICAgICBnZXRMZXZlbFNlY3Rpb25FeHAoKTsNCiAgICAgICAgZ2V0U3BBdExldmVsVXAobWF4TGV2ZWwpOw0KICAgICAgICBzZXRMZXZlbEV4cChtYXhMZXZlbCk7DQogICAgICAgIHNldFJld2FyZFNwKG1heExldmVsKTsNCiAgICAgICAgY2hlY2tMZXZlbFVwKG1heExldmVsKTsNCiAgICAgICAgZ2FpbkV4cFNwKG1heExldmVsKTsNCiAgICAgICAgb25MZXZlbFVwKG1heExldmVsKTsNCiAgICAgICAgaW5jcmVhc2VTdGF0dXMobWF4TGV2ZWwpOw0KICAgICAgICBnZXRSZXR1cm5Vc2VyTGV2ZWxLZXkobWF4TGV2ZWwpDQogICAgfQ0KfSANCiAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tRlVOQ1RJT05fRU5EIOiuvue9ruacgOWkp+etiee6pyzor7TmmI466K6+572u5pyA5aSn562J57qnLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSANCiANCi8vLS0tLS0tLS0tLS0tLS0tLS0tLS1GVU5DVElPTl9CRUdJTiDlhYHorrjotZvliKnkuprmiL/pl7TnmoTkurrkupLnm7jlj6/op4EsIOivtOaYjjrlhYHorrjotZvliKnkuprmiL/pl7TnmoTkurrkupLnm7jlj6/op4EtLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogDQogDQovL+WFgeiuuOi1m+WIqeS6muaIv+mXtOeahOS6uuS6kuebuOWPr+ingQ0KZnVuY3Rpb24gc2hhcmVfc2VyaWFfcm9vbSgpIHsNCiAgICBjb25zb2xlLmxvZygiPT09PT09PT09PT09PT09PT09PT09PT7lhYHorrjotZvliKnkuprmiL/pl7TnmoTkurrkupLnm7jlj6/op4EiKQ0KICAgIC8vSG9vayBBcmVhOjppbnNlcnRfdXNlcg0KICAgIEludGVyY2VwdG9yLmF0dGFjaChwdHIoMHg4NkMyNUE2KSwgew0KDQogICAgICAgIG9uRW50ZXI6IGZ1bmN0aW9uIChhcmdzKSB7DQogICAgICAgICAgICAvL+S/ruaUueagh+W/l+S9jSwg6K6p5pyN5Yqh5Zmo5bm/5pKt6LWb5Yip5Lqa5peF6aaG5raI5oGvDQogICAgICAgICAgICBhcmdzWzBdLmFkZCgweDY4KS53cml0ZUludCgwKTsNCiAgICAgICAgfSwNCiAgICAgICAgb25MZWF2ZTogZnVuY3Rpb24gKHJldHZhbCkgew0KICAgICAgICB9DQogICAgfSk7DQp9IA0KIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS1GVU5DVElPTl9FTkQg5YWB6K646LWb5Yip5Lqa5oi/6Ze055qE5Lq65LqS55u45Y+v6KeBLOivtOaYjjrlhYHorrjotZvliKnkuprmiL/pl7TnmoTkurrkupLnm7jlj6/op4EtLS0tLS0tLS0tLS0tLS0tLS0tLS0tIA0KIA0KLy8tLS0tLS0tLS0tLS0tLS0tLS0tLUZVTkNUSU9OX0JFR0lOICsxM+S7peS4iuW8uuWMluWIuOaXoOmcgOWwj+mAgCwg6K+05piOOisxM+S7peS4iuW8uuWMluWIuOaXoOmcgOWwj+mAgC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiANCiAvLysxM+S7peS4iuW8uuWMluWIuOaXoOmcgOWwj+mAgA0KDQpmdW5jdGlvbiBlbmhhbmNlbWVudF9sZXZlbF8xM19ub19leGl0KCkgew0KICAgIEludGVyY2VwdG9yLmF0dGFjaChwdHIoMHgwODBGQzg1MCksIHsNCiAgICAgICAgb25FbnRlcjogZnVuY3Rpb24gKGFyZ3MpIHsNCiAgICAgICAgICAgIHRoaXMuZXF1aVBvcyA9IGFyZ3NbMl0uYWRkKDI3KS5yZWFkVTE2KCk7DQogICAgICAgICAgICB0aGlzLnVzZXIgPSBhcmdzWzFdOw0KICAgICAgICB9LA0KICAgICAgICBvbkxlYXZlOiBmdW5jdGlvbiAocmV0dmFsKSB7DQogICAgICAgICAgICBDVXNlcl9TZW5kVXBkYXRlSXRlbUxpc3QodGhpcy51c2VyLCAxLCAwLCB0aGlzLmVxdWlQb3MpOw0KICAgICAgICB9DQogICAgfSk7DQp9IA0KIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS1GVU5DVElPTl9FTkQgKzEz5Lul5LiK5by65YyW5Yi45peg6ZyA5bCP6YCALOivtOaYjjorMTPku6XkuIrlvLrljJbliLjml6DpnIDlsI/pgIAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tIA0KIA0KLy8tLS0tLS0tLS0tLS0tLS0tLS0tLUZVTkNUSU9OX0JFR0lOIGpzb27nsbvlnovmtojmga/lpITnkIYsIOivtOaYjjpqc29u5raI5oGv5aSE55CG5Ye95pWwLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KIA0KIA0KLy8ganNvbuexu+Wei+eahOa2iOaBr+WkhOeQhg0KZnVuY3Rpb24gZXhlY0pzb25NZXNzYWdlKHBhcmFtSnNvbikgew0KICAgIGNvbnNvbGUubG9nKCLmjqXmlLbliLBqc29u5raI5oGvOiIrSlNPTi5zdHJpbmdpZnkocGFyYW1Kc29uKSk7DQogICAgLy/liLfmlrDphY3nva4NCiAgICBpZihwYXJhbUpzb24udHlwZSA9PT0gJ2ZsdXNoX2NvbmYnKXsNCiAgICAgICAgY29uc29sZS5sb2coIj09PT09PT09PT09PT09PT4gZmx1c2hfY29uZiIpOw0KICAgICAgICBsb2FkX2NvbmZpZyhnbG9iYWxfY2hhbm5lbCk7DQogICAgICAgIGluaXRGb3JDb25maWcoKTsNCiAgICB9DQogICAgLy/lj5HpgIHpgq7ku7YNCiAgICBpZihwYXJhbUpzb24udHlwZSA9PT0gJ3NlbmRfbWFpbCcpew0KICAgICAgICB2YXIgc2VuZE1haWxEdG8gPSBwYXJhbUpzb24uZGF0YTsNCiAgICAgICAgdmFyIGl0ZW1MaXN0ID0gc2VuZE1haWxEdG8uaXRlbUxpc3Q7DQogICAgICAgIHZhciBuZXdJdGVtTGlzdCA9IFtdOw0KICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGl0ZW1MaXN0Lmxlbmd0aDsgKytpKSB7DQogICAgICAgICAgICB2YXIgdGVtID0gW107DQogICAgICAgICAgICB0ZW0ucHVzaChpdGVtTGlzdFtpXS5pdGVtSWQpOw0KICAgICAgICAgICAgdGVtLnB1c2goaXRlbUxpc3RbaV0uY291bnQpOw0KICAgICAgICAgICAgbmV3SXRlbUxpc3QucHVzaCh0ZW0pOw0KICAgICAgICB9DQogICAgICAgIGFwaV9Xb25nV29ya19DTWFpbEJveEhlbHBlcl9SZXFEQlNlbmROZXdTeXN0ZW1NdWx0aU1haWwoc2VuZE1haWxEdG8uY2hhcmFjTm8sc2VuZE1haWxEdG8udGl0bGUsc2VuZE1haWxEdG8uY29udGVudCxzZW5kTWFpbER0by5nb2xkLG5ld0l0ZW1MaXN0KTsNCiAgICB9DQogICAgLy/lj5HpgIHlhazlkYoNCiAgICBpZihwYXJhbUpzb24udHlwZSA9PT0gJ3NlbmRfbm90aWNlJyl7DQogICAgICAgIHZhciBtZXNzYWdlID0gcGFyYW1Kc29uLmRhdGE7DQogICAgICAgIHB1c2hTZW5kTm90aVBhY2tldE1lc3NhZ2UobWVzc2FnZSwxNik7DQogICAgfQ0KfSANCiAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tRlVOQ1RJT05fRU5EIGpzb27nsbvlnovmtojmga/lpITnkIYs6K+05piOOmpzb27mtojmga/lpITnkIblh73mlbAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tIA0KIA0KLy8tLS0tLS0tLS0tLS0tLS0tLS0tLUZVTkNUSU9OX0JFR0lOIOWPkemAgemCruS7tiwg6K+05piOOuWPkemAgemCruS7ti0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiANCiANCg0KDQovL+WPkeezu+e7n+mCruS7tijlpJrpgZPlhbcpKOinkuiJsmNoYXJhY19ubywg6YKu5Lu25qCH6aKYLCDpgq7ku7bmraPmlocsIOmHkeW4geaVsOmHjywg6YGT5YW35YiX6KGoKQ0KZnVuY3Rpb24gYXBpX1dvbmdXb3JrX0NNYWlsQm94SGVscGVyX1JlcURCU2VuZE5ld1N5c3RlbU11bHRpTWFpbCh0YXJnZXRfY2hhcmFjX25vLCB0aXRsZSwgdGV4dCwgZ29sZCwgaXRlbV9saXN0KSB7DQogICAgY29uc29sZS5sb2coIj09PT09PT09PT09PT09PT09PT09PT0+IOWPkeezu+e7n+mCruS7tijlpJrpgZPlhbcpIikNCiAgICAvL+a3u+WKoOmBk+WFt+mZhOS7tg0KICAgIHZhciB2ZWN0b3IgPSBNZW1vcnkuYWxsb2MoMTAwKTsNCiAgICBzdGRfdmVjdG9yX3N0ZF9wYWlyX2ludF9pbnRfdmVjdG9yKHZlY3Rvcik7DQogICAgc3RkX3ZlY3Rvcl9zdGRfcGFpcl9pbnRfaW50X2NsZWFyKHZlY3Rvcik7DQoNCiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGl0ZW1fbGlzdC5sZW5ndGg7ICsraSkgew0KICAgICAgICB2YXIgaXRlbV9pZCA9IE1lbW9yeS5hbGxvYyg0KTsgICAgICAgICAgLy/pgZPlhbdpZA0KICAgICAgICB2YXIgaXRlbV9jbnQgPSBNZW1vcnkuYWxsb2MoNCk7ICAgICAgICAgLy/pgZPlhbfmlbDph48NCg0KICAgICAgICBpdGVtX2lkLndyaXRlSW50KGl0ZW1fbGlzdFtpXVswXSk7DQogICAgICAgIGl0ZW1fY250LndyaXRlSW50KGl0ZW1fbGlzdFtpXVsxXSk7DQoNCiAgICAgICAgdmFyIHBhaXIgPSBNZW1vcnkuYWxsb2MoMTAwKTsNCiAgICAgICAgc3RkX21ha2VfcGFpcl9pbnRfaW50KHBhaXIsIGl0ZW1faWQsIGl0ZW1fY250KTsNCg0KICAgICAgICBzdGRfdmVjdG9yX3N0ZF9wYWlyX2ludF9pbnRfcHVzaF9iYWNrKHZlY3RvciwgcGFpcik7DQogICAgfQ0KDQogICAgLy/pgq7ku7bmlK/mjIExMOS4qumBk+WFt+mZhOS7tuagvOWtkA0KICAgIHZhciBhZGRpdGlvbl9zbG90cyA9IE1lbW9yeS5hbGxvYygxMDAwKTsNCiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDEwOyArK2kpIHsNCiAgICAgICAgSW52ZW5fSXRlbV9JbnZlbl9JdGVtKGFkZGl0aW9uX3Nsb3RzLmFkZChpICogNjEpKTsNCiAgICB9DQogICAgV29uZ1dvcmtfQ01haWxCb3hIZWxwZXJfTWFrZVN5c3RlbU11bHRpTWFpbFBvc3RhbCh2ZWN0b3IsIGFkZGl0aW9uX3Nsb3RzLCAxMCk7DQoNCg0KICAgIHZhciB0aXRsZV9wdHIgPSBNZW1vcnkuYWxsb2NVdGY4U3RyaW5nKHRpdGxlKTsgICAgICAvL+mCruS7tuagh+mimA0KICAgIHZhciB0ZXh0X3B0ciA9IE1lbW9yeS5hbGxvY1V0ZjhTdHJpbmcodGV4dCk7ICAgICAgICAvL+mCruS7tuato+aWhw0KICAgIHZhciB0ZXh0X2xlbiA9IHN0cmxlbih0ZXh0X3B0cik7ICAgICAgICAgICAgICAgICAgICAvL+mCruS7tuato+aWh+mVv+W6pg0KDQogICAgLy/lj5Hpgq7ku7bnu5nop5LoibINCiAgICBXb25nV29ya19DTWFpbEJveEhlbHBlcl9SZXFEQlNlbmROZXdTeXN0ZW1NdWx0aU1haWwodGl0bGVfcHRyLCBhZGRpdGlvbl9zbG90cywgaXRlbV9saXN0Lmxlbmd0aCwgZ29sZCwgdGFyZ2V0X2NoYXJhY19ubywgdGV4dF9wdHIsIHRleHRfbGVuLCAwLCA5OSwgMSk7DQp9IA0KIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS1GVU5DVElPTl9FTkQg5Y+R6YCB6YKu5Lu2LOivtOaYjjrlj5HpgIHpgq7ku7YtLS0tLS0tLS0tLS0tLS0tLS0tLS0tIA0KIA0KLy8tLS0tLS0tLS0tLS0tLS0tLS0tLUZVTkNUSU9OX0JFR0lOIOmdnmpzb27nsbvlnovmtojmga/lpITnkIYsIOivtOaYjjrpnZ5qc29u5raI5oGv5aSE55CG5Ye95pWwCS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiANCiANCi8vIOmdnmpzb27moLzlvI/nmoTmtojmga/lpITnkIbpgLvovpENCmZ1bmN0aW9uIGV4ZWNOb0pzb25NZXNzYWdlKG1lc3NhZ2VTdHIpIHsNCiAgY29uc29sZS5sb2coIuaOpeaUtuWIsOmdnmpzb27mtojmga86IisgbWVzc2FnZVN0cik7DQp9IA0KIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS1GVU5DVElPTl9FTkQg6Z2eanNvbuexu+Wei+a2iOaBr+WkhOeQhizor7TmmI466Z2eanNvbua2iOaBr+WkhOeQhuWHveaVsAktLS0tLS0tLS0tLS0tLS0tLS0tLS0tIA0KIA0KLy8tLS0tLS0tLS0tLS0tLS0tLS0tLUZVTkNUSU9OX0JFR0lOIOWuouaIt+err+S4tOaXtuaPkOWNh+aKgOiDveetiee6pywg6K+05piOOuWuouaIt+err+S4tOaXtuaPkOWNh+aKgOiDveetiee6py0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiANCiAvL+WuouaIt+err+S4tOaXtuaPkOWNh+aKgOiDveetiee6pw0KDQpJbnRlcmNlcHRvci5hdHRhY2gocHRyKDB4ODY2QzQ2QSksIHsNCiAgICBvbkVudGVyOiBmdW5jdGlvbiAoYXJncykgew0KICAgICAgICAvL+inkuiJsuaKgOiDveS/oeaBrw0KICAgICAgICB0aGlzLnNraWxsX3B0ciA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNTa2lsbFIoYXJnc1swXSk7DQogICAgICAgIC8v5L+d5a2Y5Y6f5aeL5oqA6IO95L+h5oGvDQogICAgICAgIHRoaXMub2xkX3NraWxsX2luZm8gPSB0aGlzLnNraWxsX3B0ci5yZWFkQnl0ZUFycmF5KDIwMyAqIDMyKTsNCiAgICAgICAgaWYgKGdsb2JhbF9jb25maWdbJ2dhbWVfY29uZmlnJ11bJ3NraWxsVXBncmFkaW5nJ10gPiAwKSB7DQogICAgICAgICAgICBjb25zb2xlLmxvZygiPT09PT09PT09PT09PT09PT09PT09PT7lrqLmiLfnq6/kuLTml7bmj5DljYfmioDog73nrYnnuqciICsgJz09PicgKyBnYW1lX2NvbmZpZ1snc2tpbGxVcGdyYWRpbmcnXSkNCiAgICAgICAgICAgIC8v5Li05pe25L+u5pS55oqA6IO9562J57qnDQogICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8PSAyMDM7ICsraSkgew0KICAgICAgICAgICAgICAgIGlmICh0aGlzLnNraWxsX3B0ci5hZGQoMiAqIChpICsgMzIpICsgNikucmVhZFU4KCkpIHsNCiAgICAgICAgICAgICAgICAgICAgdmFyIG9sZF9za2lsbF9sZXZlbCA9IHRoaXMuc2tpbGxfcHRyLmFkZCgyICogKGkgKyAzMikgKyA3KS5yZWFkVTgoKTsNCiAgICAgICAgICAgICAgICAgICAgLy/miYDmnInmioDog73nrYnnuqcrNQ0KICAgICAgICAgICAgICAgICAgICB0aGlzLnNraWxsX3B0ci5hZGQoMiAqIChpICsgMzIpICsgNykud3JpdGVVOChvbGRfc2tpbGxfbGV2ZWwgKyA1KTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9LA0KICAgIG9uTGVhdmU6IGZ1bmN0aW9uIChyZXR2YWwpIHsNCiAgICAgICAgLy/ov5jljp/mioDog73nrYnnuqcNCiAgICAgICAgdGhpcy5za2lsbF9wdHIud3JpdGVCeXRlQXJyYXkodGhpcy5vbGRfc2tpbGxfaW5mbyk7DQogICAgfQ0KfSk7DQogDQogLy8tLS0tLS0tLS0tLS0tLS0tLS0tLUZVTkNUSU9OX0VORCDlrqLmiLfnq6/kuLTml7bmj5DljYfmioDog73nrYnnuqcs6K+05piOOuWuouaIt+err+S4tOaXtuaPkOWNh+aKgOiDveetiee6py0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gDQogDQovLy0tLS0tLS0tLS0tLS0tLS0tLS0tRlVOQ1RJT05fQkVHSU4g5by65Yi25byA5ZCv5rex5riK5qih5byPLCDor7TmmI465by65Yi25byA5ZCv5rex5riK5qih5byPLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KIA0KICAvL+W8gOWQr+a3sea4iuaooeW8jw0KSW50ZXJjZXB0b3IuYXR0YWNoKHB0cigweDA4NWEwOTU0KSwgew0KICAgIG9uRW50ZXI6IGZ1bmN0aW9uIChhcmdzKSB7DQogICAgICAgIGlmIChnbG9iYWxfY29uZmlnWydnYW1lX2NvbmZpZyddWydzdGFydEhlbGxQYXJ0eSddID09PSAndHJ1ZScpIHsNCiAgICAgICAgICAgIGFyZ3NbM10gPSBwdHIoMSk7DQogICAgICAgICAgICBjb25zb2xlLmxvZygiPT09PT09PT09PT09PT09PT09PT09PT4g5by65Yi25byA5ZCv5rex5riK5qih5byPIikNCiAgICAgICAgfQ0KICAgIH0NCn0pOw0KIA0KIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS1GVU5DVElPTl9FTkQg5by65Yi25byA5ZCv5rex5riK5qih5byPLOivtOaYjjrlvLrliLblvIDlkK/mt7HmuIrmqKHlvI8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIA0KIA0KLy8tLS0tLS0tLS0tLS0tLS0tLS0tLUZVTkNUSU9OX0JFR0lOIOa3sea4iuW8uuWItumdnuW4uOWbsOmaviwg6K+05piOOua3sea4iuW8uuWItumdnuW4uOWbsOmavi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiANCiANCg0KSW50ZXJjZXB0b3IuYXR0YWNoKHB0cigweDA4MkZGQTJFKSwgew0KICAgIG9uTGVhdmU6IGZ1bmN0aW9uIChyZXR2YWwpIHsNCiAgICAgICAgaWYgKGdsb2JhbF9jb25maWdbJ2dhbWVfY29uZmlnJ11bJ3N0YXJ0SGVsbFBhcnR5VmVyeW1pc2VyYWJsZSddID09PSAndHJ1ZScpIHsNCiAgICAgICAgICAgIHJldHZhbC5yZXBsYWNlKDEpOw0KICAgICAgICAgICAgY29uc29sZS5sb2coIj09PT09PT09PT09PT09PT09PT09PT0+IOa3sea4iuW8uuWItumdnuW4uOWbsOmaviIpDQogICAgICAgIH0NCiAgICB9DQp9KQ0KDQogDQogLy8tLS0tLS0tLS0tLS0tLS0tLS0tLUZVTkNUSU9OX0VORCDmt7HmuIrlvLrliLbpnZ7luLjlm7Dpmr4s6K+05piOOua3sea4iuW8uuWItumdnuW4uOWbsOmavi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gDQogDQovLy0tLS0tLS0tLS0tLS0tLS0tLS0tRlVOQ1RJT05fQkVHSU4g5o2V6I63546p5a625ri45oiP5LqL5Lu2LCDor7TmmI465o2V6I63546p5a625ri45oiP5LqL5Lu2LS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KIA0KIC8v5o2V6I63546p5a625ri45oiP5LqL5Lu2DQpmdW5jdGlvbiBob29rX2hpc3RvcnlfbG9nKCkgew0KICAgIC8vY0hpc3RvcnlUcmFjZTo6b3BlcmF0b3IoKQ0KICAgIEludGVyY2VwdG9yLmF0dGFjaChwdHIoMHg4NTRGOTkwKSwgew0KDQogICAgICAgIG9uRW50ZXI6IGZ1bmN0aW9uIChhcmdzKSB7DQoNCiAgICAgICAgICAgIC8v6Kej5p6Q5pel5b+X5YaF5a65OiAiMTgwMDAwMDgiLDE4MDAwMDA4LEQsMTQ1NjM2LCJuaWNrbmFtZSIsMSw3Miw4LDAsMTkyLjE2OC4yMDAuMSwxOTIuMTY4LjIwMC4xLDUwOTYzLDExLCBEdW5nZW9uTGVhdmUsIum+jeS6uuS5i+WhlCIsMCwwLCJhYWJiIiwiYWFiYiIsIk4vQSIsIk4vQSIsIk4vQSINCiAgICAgICAgICAgIHZhciBoaXN0b3J5X2xvZyA9IGFyZ3NbMV0ucmVhZFV0ZjhTdHJpbmcoLTEpOw0KICAgICAgICAgICAgdmFyIGdyb3VwID0gaGlzdG9yeV9sb2cuc3BsaXQoJywnKTsNCg0KICAgICAgICAgICAgLy/op5LoibLkv6Hmga8NCiAgICAgICAgICAgIHZhciBhY2NvdW50X2lkID0gcGFyc2VJbnQoZ3JvdXBbMV0pOw0KICAgICAgICAgICAgdmFyIHRpbWVfaGhfbW1fc3MgPSBncm91cFszXTsNCiAgICAgICAgICAgIHZhciBjaGFyYWNfbmFtZSA9IGdyb3VwWzRdOw0KICAgICAgICAgICAgdmFyIGNoYXJhY19ubyA9IGdyb3VwWzVdOw0KICAgICAgICAgICAgdmFyIGNoYXJhY19sZXZlbCA9IGdyb3VwWzZdOw0KICAgICAgICAgICAgdmFyIGNoYXJhY19qb2IgPSBncm91cFs3XTsNCiAgICAgICAgICAgIHZhciBjaGFyYWNfZ3Jvd3R5cGUgPSBncm91cFs4XTsNCiAgICAgICAgICAgIHZhciB1c2VyX3dlYl9hZGRyZXNzID0gZ3JvdXBbOV07DQogICAgICAgICAgICB2YXIgdXNlcl9wZWVyX2lwMiA9IGdyb3VwWzEwXTsNCiAgICAgICAgICAgIHZhciB1c2VyX3BvcnQgPSBncm91cFsxMV07DQogICAgICAgICAgICB2YXIgY2hhbm5lbF9pbmRleCA9IGdyb3VwWzEyXTsgICAgICAgICAgICAgIC8v5b2T5YmN6aKR6YGTaWQNCg0KICAgICAgICAgICAgLy/njqnlrrbmuLjmiI/kuovku7YNCiAgICAgICAgICAgIHZhciBnYW1lX2V2ZW50ID0gZ3JvdXBbMTNdLnNsaWNlKDEpOyAgICAgICAgLy/liKDpmaTlpJrkvZnnqbrmoLwNCg0KICAgICAgICAgICAgLy/op6blj5HmuLjmiI/kuovku7bnmoTop5LoibINCiAgICAgICAgICAgIHZhciB1c2VyID0gR2FtZVdvcmxkX2ZpbmRfdXNlcl9mcm9tX3dvcmxkX2J5YWNjaWQoR19HYW1lV29ybGQoKSwgYWNjb3VudF9pZCk7DQoNCiAgICAgICAgICAgIGlmICh1c2VyLmlzTnVsbCgpKQ0KICAgICAgICAgICAgICAgIHJldHVybjsNCg0KICAgICAgICAgICAgLy/pgZPlhbflh4/lsJE6ICBJdGVtLSwxLDEwMDAwMTEzLDYzLDEsMyw2MywwLDAsMCwwLDAsMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMCwwLDAsMDAwMDAwMDAwMDAwMDAwMDAwMDANCiAgICAgICAgICAgIGlmIChnYW1lX2V2ZW50ID09ICdJdGVtLScpIHsNCiAgICAgICAgICAgICAgICB2YXIgaXRlbV9pZCA9IHBhcnNlSW50KGdyb3VwWzE1XSk7ICAgICAgICAgICAgICAgIC8v5pys5qyh5pON5L2c6YGT5YW3aWQNCiAgICAgICAgICAgICAgICB2YXIgaXRlbV9jbnQgPSBwYXJzZUludChncm91cFsxN10pOyAgICAgICAgICAgICAgIC8v5pys5qyh5pON5L2c6YGT5YW35pWw6YePDQogICAgICAgICAgICAgICAgdmFyIHJlYXNvbiA9IHBhcnNlSW50KGdyb3VwWzE4XSk7ICAgICAgICAgICAgICAgICAvL+acrOasoeaTjeS9nOWOn+WboA0KDQoNCiAgICAgICAgICAgICAgICAvL2xvZygn546p5a62WycgKyBjaGFyYWNfbmFtZSArICdd6YGT5YW35YeP5bCRLCDljp/lm6A6JyArIHJlYXNvbiArICco6YGT5YW3aWQ9JyArIGl0ZW1faWQgKyAnLCDkvb/nlKjmlbDph489JyArIGl0ZW1fY250KTsNCg0KICAgICAgICAgICAgICAgIGlmICg1ID09IHJlYXNvbikgew0KICAgICAgICAgICAgICAgICAgICAvL+S4ouW8g+mBk+WFtw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBlbHNlIGlmICgzID09IHJlYXNvbikgew0KICAgICAgICAgICAgICAgICAgICAvL+S9v+eUqOmBk+WFtw0KICAgICAgICAgICAgICAgICAgICAvL+i/memHjOW5tuacquaUueWPmOmBk+WFt+WOn+Wni+aViOaenCDljp/lp4vmlYjmnpzmiJDlip/miafooYzlkI7op6blj5HkuIvpnaLnmoTku6PnoIENCiAgICAgICAgICAgICAgICAgICAgdXNlX2l0ZW1faGFuZGxlcih1c2VyLGl0ZW1faWQpDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGVsc2UgaWYgKDkgPT0gcmVhc29uKSB7DQogICAgICAgICAgICAgICAgICAgIC8v5YiG6Kej6YGT5YW3DQogICAgICAgICAgICAgICAgICAgIC8vZGlzaW50ZWdyYXRlX2l0ZW1faGFuZGxlcihpdGVtX2lkKQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBlbHNlIGlmICgxMCA9PSByZWFzb24pIHsNCiAgICAgICAgICAgICAgICAgICAgLy/kvb/nlKjlsZ7mgKfnn7PlpLQNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICBlbHNlIGlmIChnYW1lX2V2ZW50ID09ICdLaWxsTW9iJykgew0KICAgICAgICAgICAgICAgIC8v5p2A5q275oCq54mpDQogICAgICAgICAgICAgICAgLy/prZTms5XlsIHljbDoo4XlpIfor43mnaHljYfnuqcNCiAgICAgICAgICAgICAgICAvL2Jvb3N0X3JhbmRvbV9vcHRpb25fZXF1KHVzZXIpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZWxzZSBpZiAoZ2FtZV9ldmVudCA9PSAnTW9uZXkrJykgew0KICAgICAgICAgICAgICAgIHZhciBjdXJfbW9uZXkgPSBwYXJzZUludChncm91cFsxNF0pOyAgICAgICAgICAgICAgICAvL+W9k+WJjeaMgeacieeahOmHkeW4geaVsOmHjw0KICAgICAgICAgICAgICAgIHZhciBhZGRfbW9uZXkgPSBwYXJzZUludChncm91cFsxNV0pOyAgICAgICAgICAgICAgICAvL+acrOasoeiOt+W+l+mHkeW4geaVsOmHjw0KICAgICAgICAgICAgICAgIHZhciByZWFzb24gPSBwYXJzZUludChncm91cFsxNl0pOyAgICAgICAgICAgICAgICAgICAvL+acrOasoeiOt+W+l+mHkeW4geWOn+WboA0KDQogICAgICAgICAgICAgICAgLy9sb2coJ+eOqeWutlsnICsgY2hhcmFjX25hbWUgKyAnXeiOt+WPlumHkeW4gSwg5Y6f5ZugOicgKyByZWFzb24gKyAnKOW9k+WJjeaMgeaciemHkeW4gT0nICsgY3VyX21vbmV5ICsgJywg5pys5qyh6I635b6X6YeR5biB5pWw6YePPScgKyBhZGRfbW9uZXkpOw0KDQogICAgICAgICAgICAgICAgaWYgKDQgPT0gcmVhc29uKSB7DQogICAgICAgICAgICAgICAgICAgIC8v5Ymv5pys5ou+5Y+WDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGVsc2UgaWYgKDUgPT0gcmVhc29uKSB7DQogICAgICAgICAgICAgICAgICAgIC8v5Ymv5pys6YCa5YWz57+754mM6I635Y+W6YeR5biBDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZWxzZSBpZiAoZ2FtZV9ldmVudCA9PSAnRHVuZ2VvbkxlYXZlJykgew0KICAgICAgICAgICAgICAgIC8v56a75byA5Ymv5pysDQogICAgICAgICAgICAgICAgLy/liLflrozlia/mnKzlkI4sIOmHjee9ruW8gueVjCvmnoHpmZDnpa3lnZvmrKHmlbANCiAgICAgICAgICAgICAgICAvL0NVc2VyX0RpbWVuc2lvbklub3V0VXBkYXRlKHVzZXIsIDEsIDEpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZWxzZSBpZiAoZ2FtZV9ldmVudCA9PSAnSXRlbSsnKSB7DQogICAgICAgICAgICAgICAgdmFyIGl0ZW1faWQgPSBwYXJzZUludChncm91cFsxNV0pOw0KICAgICAgICAgICAgICAgIHZhciBncm91cF8xOCA9IHBhcnNlSW50KGdyb3VwWzE4XSk7DQogICAgICAgICAgICAgICAgaWYgKGdyb3VwXzE4ID09IDQpIHsNCiAgICAgICAgICAgICAgICAgICAgLy/lia/mnKzmjaHkuJzopb/llorlloflj63nu5nngrnliLgNCiAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc2luZ19kYXRhKGl0ZW1faWQsIHVzZXIpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCg0KICAgICAgICB9LA0KICAgICAgICBvbkxlYXZlOiBmdW5jdGlvbiAocmV0dmFsKSB7DQoNCiAgICAgICAgfQ0KICAgIH0pOw0KfQ0KIA0KIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS1GVU5DVElPTl9FTkQg5o2V6I63546p5a625ri45oiP5LqL5Lu2LOivtOaYjjrmjZXojrfnjqnlrrbmuLjmiI/kuovku7YtLS0tLS0tLS0tLS0tLS0tLS0tLS0tIA0KIA0KLy8tLS0tLS0tLS0tLS0tLS0tLS0tLUZVTkNUSU9OX0JFR0lOIOeOqeWutuS9v+eUqOmBk+WFt+Wbnuiwgywg6K+05piOOueOqeWutuS9v+eUqOmBk+WFt+Wbnuiwgy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiANCiANCg0KLy/njqnlrrbkvb/nlKjpgZPlhbflm57osIMNCmZ1bmN0aW9uIHVzZV9pdGVtX2hhbmRsZXIodXNlciwgaXRlbV9pZCkgew0KICAgIGlmIChpdGVtX2lkID09IGdsb2JhbF9jb25maWdbJ2dhbWVfY29uZmlnJ11bJ2NsZWFyX2FsbF9xdWVzdF9ieV9jaGFyYWN0ZXJfbGV2ZWwnXSkgew0KICAgICAgICAvL+aJgOacieeahOS7u+WKoeWujOaIkOWIuA0KICAgICAgICBjbGVhcl9hbGxfcXVlc3RfYnlfY2hhcmFjdGVyX2xldmVsKHVzZXIpOw0KICAgIH0NCiAgICBpZiAoaXRlbV9pZCA9PSBnbG9iYWxfY29uZmlnWydnYW1lX2NvbmZpZyddWydhcGlfZm9yY2VfY2xlYXJfcXVlc3RfbGlzdCddKSB7DQogICAgICAgIC8vIOWujOaIkOaMh+WumuS7u+WKoSDkvovlpoLoh6rlt7HlrprkuYnmr4/ml6Xku7vliqENCiAgICAgICAgYXBpX2ZvcmNlX2NsZWFyX3F1ZXN0X2xpc3QodXNlciwgcXVlc3RfbGlzdCkNCiAgICB9DQogICAgaWYgKGl0ZW1faWQgPT0gZ2xvYmFsX2NvbmZpZ1snZ2FtZV9jb25maWcnXVsnY2xlYXJfZG9pbmdfcXVlc3QnXSkgew0KICAgICAgICAvL+W3suaOpeS7u+WKoeWujOaIkOWIuA0KICAgICAgICBjbGVhcl9kb2luZ19xdWVzdCh1c2VyKTsNCiAgICB9DQogICAgaWYgKGl0ZW1faWQgPT0gZ2xvYmFsX2NvbmZpZ1snZ2FtZV9jb25maWcnXVsnZXF1SW5oZXJpdCddKSB7DQogICAgICAgIC8vIOijheWkh+e7p+aJvyAg5a6M576O57un5om/5by65YyW77yM5aKe5bmFIO+8jOWuneePoCDvvIzplLvpgKDvvIjov5jlj6/ku6Xlrp7njrAgK27nmoTplLvpgKDliLjvvIkNCiAgICAgICAgZXF1SW5oZXJpdCh1c2VyKTsNCiAgICB9DQogICAgaWYoaXRlbV9pZCA9PSBnbG9iYWxfY29uZmlnWydnYW1lX2NvbmZpZyddWydjcm9zc292ZXInXSl7DQogICAgICAgIC8vIOijheWkh+i3qOeVjA0KICAgICAgICBjcm9zc292ZXIodXNlcik7DQogICAgfQ0KICAgIGlmIChpdGVtX2lkID09IGdsb2JhbF9jb25maWdbJ2dhbWVfY29uZmlnJ11bJ2RlY29tcG9zZSddKSB7DQogICAgICAgIC8vIOWIhuinow0KICAgICAgICBkZWNvbXBvc2UodXNlcik7DQogICAgfQ0KICAgIGlmIChpdGVtX2lkID09IGdsb2JhbF9jb25maWdbJ2dhbWVfY29uZmlnJ11bJ3NzZm1meWJoJ10pIHsNCiAgICAgICAgLy8g6a2U5rOV5bCB5Y2w6YeN572uDQogICAgICAgIHNzZm1meWJoKHVzZXIpDQogICAgfQ0KICAgIGlmIChpdGVtX2lkID09IGdsb2JhbF9jb25maWdbJ2dhbWVfY29uZmlnJ11bJ2NoaGNmdW4nXSkgew0KICAgICAgICAvLyDnp7Dlj7flkIjmiJANCiAgICAgICAgY2hoY2Z1bih1c2VyKQ0KICAgIH0NCiAgICBpZiAoaXRlbV9pZCA9PSBnbG9iYWxfY29uZmlnWydnYW1lX2NvbmZpZyddWydyZXNldFJlc2V0RGltZW5zaW9uSW5vdXRfMSddKSB7DQogICAgICAgIC8vICAgICAvLyDliJ3pmLblvILnlYzlhaXlnLrph43nva4NCiAgICAgICAgcmVzZXRSZXNldERpbWVuc2lvbklub3V0KHVzZXIsIDApDQogICAgICAgIHJlc2V0UmVzZXREaW1lbnNpb25Jbm91dCh1c2VyLCAxKQ0KICAgICAgICByZXNldFJlc2V0RGltZW5zaW9uSW5vdXQodXNlciwgMikNCiAgICB9DQogICAgaWYgKGl0ZW1faWQgPT0gZ2xvYmFsX2NvbmZpZ1snZ2FtZV9jb25maWcnXVsncmVzZXRSZXNldERpbWVuc2lvbklub3V0XzInXSkgew0KICAgICAgICAvLyAgICAgLy8g6auY6Zi25byC55WM5YWl5Zy66YeN572uDQogICAgICAgIHJlc2V0UmVzZXREaW1lbnNpb25Jbm91dCh1c2VyLCAzKQ0KICAgICAgICByZXNldFJlc2V0RGltZW5zaW9uSW5vdXQodXNlciwgNCkNCiAgICAgICAgcmVzZXRSZXNldERpbWVuc2lvbklub3V0KHVzZXIsIDUpDQogICAgfQ0KfQ0KDQogDQogLy8tLS0tLS0tLS0tLS0tLS0tLS0tLUZVTkNUSU9OX0VORCDnjqnlrrbkvb/nlKjpgZPlhbflm57osIMs6K+05piOOueOqeWutuS9v+eUqOmBk+WFt+Wbnuiwgy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gDQogDQovLy0tLS0tLS0tLS0tLS0tLS0tLS0tRlVOQ1RJT05fQkVHSU4g56ew5Y+35ZCI5oiQLCDor7TmmI4656ew5Y+35ZCI5oiQLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KIA0KIC8v56ew5Y+35ZCI5oiQDQoNCi8v56ew5Y+35ZCI5oiQDQpmdW5jdGlvbiBjaGhjZnVuKHVzZXIpew0KICAgIHZhciBpbnZlbiA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNJbnZlblcodXNlcik7IC8vIOiOt+WPluW9k+WJjeinkuiJsueahOiDjOWMheWvueixoQ0KICAgIHZhciBpdGVtMSA9IENJbnZlbnRvcnlfR2V0SW52ZW5SZWYoaW52ZW4sIElOVkVOVE9SWV9UWVBFX0lURU0sIDkpOyAvLyDojrflj5bnrKw55Liq6KOF5aSH54mp5ZOB55qE5a+56LGhDQogICAgdmFyIGl0ZW1JZDEgPSBJbnZlbl9JdGVtX2dldEtleShpdGVtMSk7IC8vIOiOt+WPluivpeeJqeWTgeeahElEDQogICAgdmFyIGl0ZW0yID0gQ0ludmVudG9yeV9HZXRJbnZlblJlZihpbnZlbiwgSU5WRU5UT1JZX1RZUEVfSVRFTSwgMTApOyAvLyDojrflj5bnrKwxMOS4quijheWkh+eJqeWTgeeahOWvueixoQ0KICAgIHZhciBpdGVtSWQyID0gSW52ZW5fSXRlbV9nZXRLZXkoaXRlbTIpOyAvLyDojrflj5bor6Xnianlk4HnmoRJRA0KICAgIA0KICAgIGlmIChpdGVtSWQxID09IDEwMDMzMTczOCAmJiBpdGVtSWQyID09IDIwMjMxMTE3NSkgew0KICAgICAgICAgICAgSW52ZW5fSXRlbV9nZXRLZXkoaXRlbTEpDQogICAgICAgICAgICB2YXIgYmFvemh1ID0gaXRlbTEuYWRkKDEzKS5yZWFkVTMyKCk7CQ0KICAgICAgICBJbnZlbl9JdGVtX3Jlc2V0KGl0ZW0xKTsgLy8g5bCG56ysOeS4quijheWkh+eJqeWTgeS7juiDjOWMheS4reWIoOmZpA0KICAgICAgICAgICAgQ1VzZXJfU2VuZFVwZGF0ZUl0ZW1MaXN0KHVzZXIsIDEsIDAsIDkpOyANCiAgICAgICAgSW52ZW5fSXRlbV9yZXNldChpdGVtMik7IC8vIOWwhuesrDEw5Liq6KOF5aSH54mp5ZOB5LuO6IOM5YyF5Lit5Yig6ZmkDQogICAgICAgICAgICBDVXNlcl9TZW5kVXBkYXRlSXRlbUxpc3QodXNlciwgMSwgMCwgMTApOyANCiAgICAgICAgYXBpX0NVc2VyX0FkZEl0ZW0odXNlciwgMTAwMzMxNzQ3LCAxKTsgDQogICAgICAgIHZhciBpdGVtMyA9IENJbnZlbnRvcnlfR2V0SW52ZW5SZWYoaW52ZW4sIElOVkVOVE9SWV9UWVBFX0lURU0sIDkpOw0KICAgICAgICBpdGVtMy5hZGQoMTMpLndyaXRlVTMyKGJhb3podSk7DQogICAgICAgIENVc2VyX1NlbmRVcGRhdGVJdGVtTGlzdCh1c2VyLCAxLCAwLCA5KTsNCiAgICB9DQogICAgICAgIGlmIChpdGVtSWQxID09IDIwMjMxMTE3NSAmJiBpdGVtSWQyID09IDEwMDMzMTczOCkgew0KICAgICAgICAgICAgSW52ZW5fSXRlbV9nZXRLZXkoaXRlbTIpDQogICAgICAgICAgICB2YXIgYmFvemh1ID0gaXRlbTIuYWRkKDEzKS5yZWFkVTMyKCk7DQogICAgICAgIEludmVuX0l0ZW1fcmVzZXQoaXRlbTEpOyAvLyDlsIbnrKw55Liq6KOF5aSH54mp5ZOB5LuO6IOM5YyF5Lit5Yig6ZmkDQogICAgICAgICAgICBDVXNlcl9TZW5kVXBkYXRlSXRlbUxpc3QodXNlciwgMSwgMCwgOSk7IA0KICAgICAgICBJbnZlbl9JdGVtX3Jlc2V0KGl0ZW0yKTsgLy8g5bCG56ysMTDkuKroo4XlpIfnianlk4Hku47og4zljIXkuK3liKDpmaQNCiAgICAgICAgICAgIENVc2VyX1NlbmRVcGRhdGVJdGVtTGlzdCh1c2VyLCAxLCAwLCAxMCk7IA0KICAgICAgICBhcGlfQ1VzZXJfQWRkSXRlbSh1c2VyLCAxMDAzMzE3NDcsIDEpOyANCiAgICAgICAgdmFyIGl0ZW0zID0gQ0ludmVudG9yeV9HZXRJbnZlblJlZihpbnZlbiwgSU5WRU5UT1JZX1RZUEVfSVRFTSwgOSk7DQogICAgICAgIGl0ZW0zLmFkZCgxMykud3JpdGVVMzIoYmFvemh1KTsNCiAgICAgICAgQ1VzZXJfU2VuZFVwZGF0ZUl0ZW1MaXN0KHVzZXIsIDEsIDAsIDkpOw0KICAgIH0NCn0gDQogLy8tLS0tLS0tLS0tLS0tLS0tLS0tLUZVTkNUSU9OX0VORCDnp7Dlj7flkIjmiJAs6K+05piOOuensOWPt+WQiOaIkC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gDQogDQovLy0tLS0tLS0tLS0tLS0tLS0tLS0tRlVOQ1RJT05fQkVHSU4g6KOF5aSH5YiG6KejLCDor7TmmI466KOF5aSH5YiG6KejLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KIA0KIC8qKg0KIA0KIC8qIOijheWkh+WIhuinow0KICogQHBhcmFtIHVzZXINCiAqLw0KZnVuY3Rpb24gZGVjb21wb3NlKHVzZXIpew0KICAgIC8vIOWIhuino+WIuA0KICAgIHZhciBpbmRleCA9IDA7DQogICAgLy8g5qOA5p+l5Ymv6IGM5Lia5piv5ZCm5byA5ZCvDQogICAgdmFyIGNoZWNrVGFnID0gQ1VzZXJDaGFyYWNJbmZvX0dldEN1ckNoYXJhY0V4cGVydEpvYih1c2VyKTsNCiAgICBpZihjaGVja1RhZyA9PSAwKXsNCiAgICAgICAgYXBpX0NVc2VyX1NlbmROb3RpUGFja2V0TWVzc2FnZSh1c2VyLCLms6jmhI/vvJog5Ymv6IGM5Lia5rKh5pyJ5byA5ZCv77yBIiwxKTsNCiAgICAgICAgcmV0dXJuOw0KICAgIH0NCiAgICB2YXIgaW52ZW4gPSBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjSW52ZW5XKHVzZXIpOw0KICAgIGZvciAodmFyIGkgPSA5OyBpIDw9IDI0OyBpKyspIHsNCiAgICAgICAgdmFyIGVxdSA9IENJbnZlbnRvcnlfR2V0SW52ZW5SZWYoaW52ZW4sIElOVkVOVE9SWV9UWVBFX0lURU0sIGkpOw0KICAgICAgICBpZihJbnZlbl9JdGVtX2dldEtleShlcXUpKXsNCiAgICAgICAgICAgIC8vIOWIhuino+ijheWkhw0KICAgICAgICAgICAgRGlzUGF0Y2hlcl9EaXNKb2ludEl0ZW1fZGlzam9pbnQodXNlcixpLEVOVU1fSVRFTVNQQUNFX0lOVkVOVE9SWSwyMzksdXNlciwweEZGRkYpOw0KICAgICAgICAgICAgLy8g5qOA5p+l6KOF5aSH5piv5ZCm5a2Y5ZyoDQogICAgICAgICAgICBlcXUgPSBDSW52ZW50b3J5X0dldEludmVuUmVmKGludmVuLCBJTlZFTlRPUllfVFlQRV9JVEVNLCBpKTsNCiAgICAgICAgICAgIGlmKEludmVuX0l0ZW1fZ2V0S2V5KGVxdSkpew0KICAgICAgICAgICAgICAgIC8vIOWksei0pQ0KICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgICAgLy8g5oiQ5YqfDQogICAgICAgICAgICAgICAgaW5kZXgrKzsNCiAgICAgICAgICAgICAgICBDVXNlcl9TZW5kVXBkYXRlSXRlbUxpc3QodXNlciwgMSwgMCwgaSk7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9DQogICAgaWYoaW5kZXg+MCl7DQogICAgICAgIGFwaV9DVXNlcl9TZW5kTm90aVBhY2tldE1lc3NhZ2UodXNlciwi5oGt5Zac77yaICIraW5kZXgrIuS7tuijheWkh+WIhuinoyDmiJDlip/vvIEiLDApOw0KICAgIH1lbHNlew0KICAgICAgICBhcGlfQ1VzZXJfU2VuZE5vdGlQYWNrZXRNZXNzYWdlKHVzZXIsIuazqOaEj++8miDoo4XlpIfliIbop6Mg5aSx6LSl77yBIiwwKTsNCiAgICB9DQp9IA0KIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS1GVU5DVElPTl9FTkQg6KOF5aSH5YiG6KejLOivtOaYjjroo4XlpIfliIbop6MtLS0tLS0tLS0tLS0tLS0tLS0tLS0tIA0KIA0KLy8tLS0tLS0tLS0tLS0tLS0tLS0tLUZVTkNUSU9OX0JFR0lOIOijheWkh+e7p+aJvywg6K+05piOOuijheWkh+e7p+aJvy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiANCiANCg0KLyoqDQogKiDoo4XlpIfnu6fmib8g5bCG57KJ6Imy5Lul5LiK562J57qn5aSn5LqO562J5LqONTXnmoToo4XlpIfnu6fmib8g5by65YyWIOWinuW5hSDplLvpgKAg6ZmE6a2U77yMIOWOn+ijheWkh+S8muW9kjANCiAqIOatpuWZqOmcgOimgeWQjOa6kCAg5Y2zIOWkquWIgC3jgIvlpKrliIANCiAqIOmYsuWFt+mcgOimgeWQjOexu+WeiyAgIOWNs+earueUsuS4iuihoyAt44CL5p2/55Sy5LiK6KGjDQogKiBAcGFyYW0gdXNlcg0KICovDQpmdW5jdGlvbiBlcXVJbmhlcml0KHVzZXIpew0KICAgIHZhciBpbnZlbiA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNJbnZlblcodXNlcik7DQogICAgdmFyIGVxdSA9IENJbnZlbnRvcnlfR2V0SW52ZW5SZWYoaW52ZW4sIElOVkVOVE9SWV9UWVBFX0lURU0sIDkpOw0KICAgIHZhciBpdGVtSWQgPSBJbnZlbl9JdGVtX2dldEtleShlcXUpDQogICAgaWYoSW52ZW5fSXRlbV9nZXRLZXkoZXF1KSl7DQogICAgICAgIC8v6K+75Y+W6KOF5aSH5by65YyW562J57qnDQogICAgICAgIHZhciB1cGdyYWRlX2xldmVsID0gZXF1LmFkZCg2KS5yZWFkVTgoKTsNCiAgICAgICAgdmFyIGl0ZW1EYXRhID0gQ0RhdGFNYW5hZ2VyX2ZpbmRfaXRlbShHX0NEYXRhTWFuYWdlcigpLGl0ZW1JZCk7DQogICAgICAgIHZhciBlcXVfdHlwZSA9IGl0ZW1EYXRhLmFkZCgxNDEqNCkucmVhZFUzMigpOyAvLyDoo4XlpIfnsbvlnosNCiAgICAgICAgdmFyIHN1Yl90eXBlID0gQ0VxdWlwSXRlbV9HZXRTdWJUeXBlKGl0ZW1EYXRhKTsNCiAgICAgICAgdmFyIGVxdVJhcml0eSA9IENJdGVtX0dldFJhcml0eShpdGVtRGF0YSk7IC8vIOeogOacieW6piAgPj0zICDnsonoibLku6XkuIoNCiAgICAgICAgdmFyIG5lZWRMZXZlbCA9IENJdGVtX0dldFVzYWJsZUxldmVsKGl0ZW1EYXRhKTsgIC8v562J57qnDQogICAgICAgIGNvbnNvbGUubG9nKCJlcXVfdHlwZSA6IitlcXVfdHlwZSkNCiAgICAgICAgY29uc29sZS5sb2coInN1Yl90eXBlIDoiK3N1Yl90eXBlKQ0KDQogICAgICAgIHZhciB1c2VKb2IgPSAiIjsNCiAgICAgICAgZm9yICh2YXIgaSA9IDYwOyBpIDw9NzA7IGkrKykgew0KICAgICAgICAgICAgdXNlSm9iICs9IGl0ZW1EYXRhLmFkZChpKS5yZWFkVTgoKTsNCiAgICAgICAgfQ0KICAgICAgICBjb25zb2xlLmxvZyhlcXVfdHlwZSArICIgICIrdXNlSm9iKTsNCg0KICAgICAgICBpZihlcXVSYXJpdHkgPCAzKXsNCiAgICAgICAgICAgIC8vIOijheWkh+WTgee6p+W/hemhu+imgeaxgueyieiJsuS7peS4iu+8jOe7p+aJv+ijheWkh+S4jea7oei2s+imgeaxgg0KICAgICAgICAgICAgYXBpX0NVc2VyX1NlbmROb3RpUGFja2V0TWVzc2FnZSh1c2VyLCLnu6fmib/lpLHotKXvvJroo4XlpIflk4Hnuqflv4XpobvopoHmsYLnsonoibLku6XkuIrvvIznu6fmib/oo4XlpIfkuI3mu6HotrPopoHmsYIiLDApOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQogICAgICAgIGlmKG5lZWRMZXZlbCA8IDU1KXsNCiAgICAgICAgICAgIC8vIOijheWkh+etiee6p+imgeWkp+S6jjUw57qn5Lul5LiK77yM57un5om/6KOF5aSH5LiN5ruh6Laz6KaB5rGCDQogICAgICAgICAgICBhcGlfQ1VzZXJfU2VuZE5vdGlQYWNrZXRNZXNzYWdlKHVzZXIsIue7p+aJv+Wksei0pe+8muijheWkh+etiee6p+imgeWkp+S6juetieS6jjU157qn5Lul5LiK77yM57un5om/6KOF5aSH5LiN5ruh6Laz6KaB5rGCKCIrbmVlZExldmVsKyIpIiwwKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfQ0KICAgICAgICB2YXIgc3VjY2Vzc1RhZyA9IGZhbHNlOw0KICAgICAgICBmb3IgKHZhciBpID0gMTA7IGkgPD0yMTsgaSsrKSB7DQogICAgICAgICAgICB2YXIgZXF1SW4gPSBDSW52ZW50b3J5X0dldEludmVuUmVmKGludmVuLCBJTlZFTlRPUllfVFlQRV9CT0RZLCBpKTsNCiAgICAgICAgICAgIGlmKEludmVuX0l0ZW1fZ2V0S2V5KGVxdUluKSl7DQogICAgICAgICAgICAgICAgdmFyIGluSXRlbUlkID0gSW52ZW5fSXRlbV9nZXRLZXkoZXF1SW4pDQogICAgICAgICAgICAgICAgdmFyIGluSXRlbURhdGEgPSBDRGF0YU1hbmFnZXJfZmluZF9pdGVtKEdfQ0RhdGFNYW5hZ2VyKCksaW5JdGVtSWQpOw0KICAgICAgICAgICAgICAgIHZhciBpbkVxdV90eXBlID0gaW5JdGVtRGF0YS5hZGQoMTQxKjQpLnJlYWRVMzIoKTsgLy8g6KOF5aSH57G75Z6LDQogICAgICAgICAgICAgICAgdmFyIGluRXF1UmFyaXR5ID0gQ0l0ZW1fR2V0UmFyaXR5KGluSXRlbURhdGEpOyAvLyDnqIDmnInluqYgID49MyAg57KJ6Imy5Lul5LiKDQogICAgICAgICAgICAgICAgdmFyIGluTmVlZExldmVsID0gQ0l0ZW1fR2V0VXNhYmxlTGV2ZWwoaW5JdGVtRGF0YSk7ICAvL+etiee6pw0KICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdlcXVfdHlwZSBh77yaJytlcXVfdHlwZSsnLCcraW5FcXVfdHlwZSsnLCcraW5JdGVtRGF0YS5hZGQoMTQ4KS5yZWFkVTgoKSkNCiAgICAgICAgICAgICAgICBpZihpbkVxdV90eXBlPT1lcXVfdHlwZSl7DQogICAgICAgICAgICAgICAgICAgIGlmKGluRXF1X3R5cGU9PTEwKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIOatpuWZqOmcgOimgeWQjOiBjOS4mg0KICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVzZUpvYiA9ICIiOw0KICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluVXNlSm9iID0gIiI7DQogICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gNjA7IGkgPD03MDsgaSsrKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlSm9iICs9IGl0ZW1EYXRhLmFkZChpKS5yZWFkVTgoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpblVzZUpvYiArPSBpbkl0ZW1EYXRhLmFkZChpKS5yZWFkVTgoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHVzZUpvYiAhPSBpblVzZUpvYil7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBpX0NVc2VyX1NlbmROb3RpUGFja2V0TWVzc2FnZSh1c2VyLCLnu6fmib/lpLHotKXvvJrmrablmajoo4XlpIfpnIDopoHlvZPliY3ogYzkuJrkuJTlkIznsbvlnovvvIznqb/miLToo4XlpIfkuI3mu6HotrPopoHmsYIiLDApOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpblN1YlR5cGUgPSBDRXF1aXBJdGVtX0dldFN1YlR5cGUoaW5JdGVtRGF0YSk7DQogICAgICAgICAgICAgICAgICAgICAgICBpZihzdWJfdHlwZSE9aW5TdWJUeXBlKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcGlfQ1VzZXJfU2VuZE5vdGlQYWNrZXRNZXNzYWdlKHVzZXIsIue7p+aJv+Wksei0pe+8muatpuWZqOijheWkh+mcgOimgeW9k+WJjeiBjOS4muS4lOWQjOexu+Wei++8jOepv+aItOijheWkh+S4jea7oei2s+imgeaxgiIsMCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIC8vIOexu+Wei+S4gOebtCDmiY3og73nu6fmib8NCiAgICAgICAgICAgICAgICAgICAgaWYoaW5FcXVSYXJpdHk8Myl7DQogICAgICAgICAgICAgICAgICAgICAgICAvLyDnu6fmib/lpLHotKXvvJroo4XlpIflk4Hnuqflv4XpobvopoHmsYLnsonoibLku6XkuIrvvIznqb/miLToo4XlpIfkuI3mu6HotrPopoHmsYINCiAgICAgICAgICAgICAgICAgICAgICAgIGFwaV9DVXNlcl9TZW5kTm90aVBhY2tldE1lc3NhZ2UodXNlciwi57un5om/5aSx6LSl77ya6KOF5aSH5ZOB57qn5b+F6aG76KaB5rGC57KJ6Imy5Lul5LiK77yM56m/5oi06KOF5aSH5LiN5ruh6Laz6KaB5rGCIiwwKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBpZihpbk5lZWRMZXZlbCA8IDU1KXsNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIOijheWkh+etiee6p+imgeWkp+S6jjUw57qn5Lul5LiK77yM56m/5oi06KOF5aSH5LiN5ruh6Laz6KaB5rGCDQogICAgICAgICAgICAgICAgICAgICAgICBhcGlfQ1VzZXJfU2VuZE5vdGlQYWNrZXRNZXNzYWdlKHVzZXIsIue7p+aJv+Wksei0pe+8muijheWkh+etiee6p+imgeWkp+S6juetieS6jjU157qn5Lul5LiK77yM56m/5oi06KOF5aSH5LiN5ruh6Laz6KaB5rGCIiwwKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAvLyDlvLrljJYNCiAgICAgICAgICAgICAgICAgICAgdmFyIGluVXBncmFkZV9sZXZlbCA9IGVxdUluLmFkZCg2KS5yZWFkVTgoKTsNCiAgICAgICAgICAgICAgICAgICAgLy8g5aKe5bmFDQogICAgICAgICAgICAgICAgICAgIHZhciB6ZW5nZnUgPSBlcXUuYWRkKDE3KS5yZWFkVTE2KCk7DQogICAgICAgICAgICAgICAgICAgIC8vIOmUu+mAoA0KICAgICAgICAgICAgICAgICAgICB2YXIgZHVhbnphbyA9IGVxdS5hZGQoNTEpLnJlYWRVOCgpOw0KICAgICAgICAgICAgICAgICAgICAvLyDlrp3nj6ANCiAgICAgICAgICAgICAgICAgICAgdmFyIGJhb3podSA9IGVxdS5hZGQoMTMpLnJlYWRVMzIoKTsNCiAgICAgICAgICAgICAgICAgICAgLy/prZTms5XlsIHljbANCiAgICAgICAgICAgICAgICAgICAgdmFyIHNlYWwxX2x2ID0gZXF1LmFkZCgzNykucmVhZFU4KCk7IA0KICAgICAgICAgICAgICAgICAgICB2YXIgc2VhbDJfbHYgPSBlcXUuYWRkKDM4KS5yZWFkVTgoKTsNCiAgICAgICAgICAgICAgICAgICAgdmFyIHNlYWwzX2x2ID0gZXF1LmFkZCgzOSkucmVhZFU4KCk7DQogICAgICAgICAgICAgICAgICAgIHZhciBzZWFsNF9sdiA9IGVxdS5hZGQoNDApLnJlYWRVOCgpOw0KICAgICAgICAgICAgICAgICAgICB2YXIgc2VhbDVfbHYgPSBlcXUuYWRkKDQxKS5yZWFkVTgoKTsNCiAgICAgICAgICAgICAgICAgICAgdmFyIHNlYWw2X2x2ID0gZXF1LmFkZCg0MikucmVhZFU4KCk7DQogICAgICAgICAgICAgICAgICAgIHZhciBzZWFsN19sdiA9IGVxdS5hZGQoNDMpLnJlYWRVOCgpOw0KICAgICAgICAgICAgICAgICAgICB2YXIgc2VhbDhfbHYgPSBlcXUuYWRkKDQ0KS5yZWFkVTgoKTsNCiAgICAgICAgICAgICAgICAgICAgdmFyIHNlYWw5X2x2ID0gZXF1LmFkZCg0NSkucmVhZFU4KCk7DQogICAgICAgICAgICAgICAgICAgIHZhciBzZWFsMTBfbHYgPSBlcXUuYWRkKDQ2KS5yZWFkVTgoKTsNCiAgICAgICAgICAgICAgICAgICAgdmFyIHNlYWwxMV9sdiA9IGVxdS5hZGQoNDcpLnJlYWRVOCgpOw0KICAgICAgICAgICAgICAgICAgICB2YXIgc2VhbDEyX2x2ID0gZXF1LmFkZCg0OCkucmVhZFU4KCk7DQogICAgICAgICAgICAgICAgICAgIHZhciBzZWFsMTNfbHYgPSBlcXUuYWRkKDQ5KS5yZWFkVTgoKTsNCiAgICAgICAgICAgICAgICAgICAgdmFyIHNlYWwxNF9sdiA9IGVxdS5hZGQoNTApLnJlYWRVOCgpOw0KCQkJCQ0KICAgICAgICAgICAgICAgICAgICBpZihpblVwZ3JhZGVfbGV2ZWwgPD0gdXBncmFkZV9sZXZlbCl7DQogICAgICAgICAgICAgICAgICAgICAgICAvL+aPkOWNh+W8uuWMli/lop7luYXnrYnnuqcNCiAgICAgICAgICAgICAgICAgICAgICAgIGVxdUluLmFkZCg2KS53cml0ZVU4KHVwZ3JhZGVfbGV2ZWwpOw0KICAgICAgICAgICAgICAgICAgICAgICAgZXF1SW4uYWRkKDE3KS53cml0ZVUxNih6ZW5nZnUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgZXF1SW4uYWRkKDUxKS53cml0ZVU4KGR1YW56YW8pOw0KICAgICAgICAgICAgICAgICAgICAgICAgZXF1SW4uYWRkKDEzKS53cml0ZVUzMihiYW96aHUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgZXF1SW4uYWRkKDM3KS53cml0ZVU4KHNlYWwxX2x2KTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGVxdUluLmFkZCgzOCkud3JpdGVVOChzZWFsMl9sdik7DQogICAgICAgICAgICAgICAgICAgICAgICBlcXVJbi5hZGQoMzkpLndyaXRlVTgoc2VhbDNfbHYpOw0KICAgICAgICAgICAgICAgICAgICAgICAgZXF1SW4uYWRkKDQwKS53cml0ZVU4KHNlYWw0X2x2KTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGVxdUluLmFkZCg0MSkud3JpdGVVOChzZWFsNV9sdik7DQogICAgICAgICAgICAgICAgICAgICAgICBlcXVJbi5hZGQoNDIpLndyaXRlVTgoc2VhbDZfbHYpOw0KICAgICAgICAgICAgICAgICAgICAgICAgZXF1SW4uYWRkKDQzKS53cml0ZVU4KHNlYWw3X2x2KTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGVxdUluLmFkZCg0NCkud3JpdGVVOChzZWFsOF9sdik7DQogICAgICAgICAgICAgICAgICAgICAgICBlcXVJbi5hZGQoNDUpLndyaXRlVTgoc2VhbDlfbHYpOw0KICAgICAgICAgICAgICAgICAgICAgICAgZXF1SW4uYWRkKDQ2KS53cml0ZVU4KHNlYWwxMF9sdik7DQogICAgICAgICAgICAgICAgICAgICAgICBlcXVJbi5hZGQoNDcpLndyaXRlVTgoc2VhbDExX2x2KTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGVxdUluLmFkZCg0OCkud3JpdGVVOChzZWFsMTJfbHYpOw0KICAgICAgICAgICAgICAgICAgICAgICAgZXF1SW4uYWRkKDQ5KS53cml0ZVU4KHNlYWwxM19sdik7DQogICAgICAgICAgICAgICAgICAgICAgICBlcXVJbi5hZGQoNTApLndyaXRlVTgoc2VhbDE0X2x2KTsNCiAgICAgICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICAgICAgLy8g5bCG5Y6f6KOF5aSH5riF6ZmkDQogICAgICAgICAgICAgICAgICAgICAgICBlcXUuYWRkKDYpLndyaXRlVTgoMCk7DQogICAgICAgICAgICAgICAgICAgICAgICBlcXUuYWRkKDE3KS53cml0ZVUxNigwKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGVxdS5hZGQoNTEpLndyaXRlVTgoMCk7DQogICAgICAgICAgICAgICAgICAgICAgICBlcXUuYWRkKDEzKS53cml0ZVUzMigwKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGVxdS5hZGQoMzcpLndyaXRlVTgoMCk7DQogICAgICAgICAgICAgICAgICAgICAgICBlcXUuYWRkKDM4KS53cml0ZVU4KDApOw0KICAgICAgICAgICAgICAgICAgICAgICAgZXF1LmFkZCgzOSkud3JpdGVVOCgwKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGVxdS5hZGQoNDApLndyaXRlVTgoMCk7DQogICAgICAgICAgICAgICAgICAgICAgICBlcXUuYWRkKDQxKS53cml0ZVU4KDApOw0KICAgICAgICAgICAgICAgICAgICAgICAgZXF1LmFkZCg0Mikud3JpdGVVOCgwKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGVxdS5hZGQoNDMpLndyaXRlVTgoMCk7DQogICAgICAgICAgICAgICAgICAgICAgICBlcXUuYWRkKDQ0KS53cml0ZVU4KDApOw0KICAgICAgICAgICAgICAgICAgICAgICAgZXF1LmFkZCg0NSkud3JpdGVVOCgwKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGVxdS5hZGQoNDYpLndyaXRlVTgoMCk7DQogICAgICAgICAgICAgICAgICAgICAgICBlcXUuYWRkKDQ3KS53cml0ZVU4KDApOw0KICAgICAgICAgICAgICAgICAgICAgICAgZXF1LmFkZCg0OCkud3JpdGVVOCgwKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGVxdS5hZGQoNDkpLndyaXRlVTgoMCk7DQogICAgICAgICAgICAgICAgICAgICAgICBlcXUuYWRkKDUwKS53cml0ZVU4KDApOw0KICAgICAgICAgICAgICAgICAgICAgICAgLy/pgJrnn6XlrqLmiLfnq6/mm7TmlrDoo4XlpIcNCiAgICAgICAgICAgICAgICAgICAgICAgIENVc2VyX1NlbmRVcGRhdGVJdGVtTGlzdCh1c2VyLCAxLCAwLCA5KTsNCiAgICAgICAgICAgICAgICAgICAgICAgIENVc2VyX1NlbmRVcGRhdGVJdGVtTGlzdCh1c2VyLCAxLCAzLCBpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIENVc2VyX1NlbmRVcGRhdGVJdGVtTGlzdCh1c2VyLCAxLCAzLCAxMCk7DQogICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzVGFnID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJzdWNjZXNz77yB77yB77yBIikNCiAgICAgICAgICAgICAgICAgICAgICAgIGFwaV9DVXNlcl9TZW5kTm90aVBhY2tldE1lc3NhZ2UodXNlciwi57un5om/5oiQ5Yqf77yB77yB77yBIiwwKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgaWYoIXN1Y2Nlc3NUYWcpew0KICAgICAgICAgICAgLy8g5aSx6LSlIOayoeacieWQiOmAgueahOijheWkh++8jOS4jeespuWQiOijheWkhw0KICAgICAgICAgICAgYXBpX0NVc2VyX1NlbmROb3RpUGFja2V0TWVzc2FnZSh1c2VyLCLnu6fmib/lpLHotKXvvJrmsqHmnInlkIjpgILnmoToo4XlpIciLDApOw0KICAgICAgICB9DQogICAgfQ0KfSANCiAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tRlVOQ1RJT05fRU5EIOijheWkh+e7p+aJvyzor7TmmI466KOF5aSH57un5om/LS0tLS0tLS0tLS0tLS0tLS0tLS0tLSANCiANCi8vLS0tLS0tLS0tLS0tLS0tLS0tLS1GVU5DVElPTl9CRUdJTiDlrozmiJDku7vliqHlh73mlbAsIOivtOaYjjrlrozmiJDku7vliqHlh73mlbAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogDQogDQoNCi8v5peg5p2h5Lu25a6M5oiQ5oyH5a6a5Lu75Yqh5bm26aKG5Y+W5aWW5YqxDQpmdW5jdGlvbiBhcGlfZm9yY2VfY2xlYXJfcXVlc3QodXNlciwgcXVlc3RfaWQpIHsNCiAgICAvL+iuvue9rkdN5a6M5oiQ5Lu75Yqh5qih5byPKOaXoOadoeS7tuWujOaIkOS7u+WKoSkNCiAgICBDVXNlcl9zZXRHbVF1ZXN0RmxhZyh1c2VyLCAxKTsNCg0KICAgIC8v5o6l5Y+X5Lu75YqhDQogICAgQ1VzZXJfcXVlc3RfYWN0aW9uKHVzZXIsIDMzLCBxdWVzdF9pZCwgMCwgMCk7DQoNCiAgICAvL+WujOaIkOS7u+WKoQ0KICAgIENVc2VyX3F1ZXN0X2FjdGlvbih1c2VyLCAzNSwgcXVlc3RfaWQsIDAsIDApOw0KDQogICAgLy/pooblj5bku7vliqHlpZblirEo5YCS5pWw56ys5LqM5Liq5Y+C5pWw6KGo56S66aKG5Y+W5aWW5Yqx55qE57yW5Y+3LCAtMT3pooblj5bkuI3pnIDopoHpgInmi6nnmoTlpZblirE7IDA96aKG5Y+W5Y+v6YCJ5aWW5Yqx5Lit55qE56ysMeS4quWlluWKsTsgMT3pooblj5blj6/pgInlpZblirHkuK3nmoTnrKzkuozkuKrlpZblirEpDQogICAgQ1VzZXJfcXVlc3RfYWN0aW9uKHVzZXIsIDM2LCBxdWVzdF9pZCwgLTEsIDEpOw0KDQogICAgLy/mnI3liqHnq6/mnInlj43kvZzlvIrmnLrliLY6IOS7u+WKoeWujOaIkOaXtumXtOmXtOmalOS4jeiDveWwj+S6jjHnp5IuICDov5nph4zlsIbkuIrmrKHku7vliqHlrozmiJDml7bpl7TmuIXpm7Yg5Y+v5Lul6L+e57ut5o+Q5Lqk5Lu75YqhDQogICAgdXNlci5hZGQoMHg3OTY0NCkud3JpdGVJbnQoMCk7DQoNCiAgICAvL+WFs+mXrUdN5a6M5oiQ5Lu75Yqh5qih5byPKOS4jemcgOimgeadkOaWmeebtOaOpeWujOaIkCkNCiAgICBDVXNlcl9zZXRHbVF1ZXN0RmxhZyh1c2VyLCAwKTsNCg0KICAgIHJldHVybjsNCn0NCg0KLy/ph43nva7miYDmnInku7vliqEo6ZyA6KaB5bCP6YCA6YeN5paw6YCJ5oup6KeS6Imy5Yi35pawKQ0KZnVuY3Rpb24gYXBpX3Jlc2V0X2FsbF9xdWVzdCh1c2VyKSB7DQogICAgdmFyIHVzZXJfcXVlc3QgPSBDVXNlcl9nZXRDdXJDaGFyYWNRdWVzdFcodXNlcik7DQogICAgLy/muIXnqbrlt7LmjqXku7vliqHliJfooagNCiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDIwOyBpKyspIHsNCiAgICAgICAgdXNlcl9xdWVzdC5hZGQoNCAqIChpICsgNzUwMCArIDIpKS53cml0ZUludCgwKTsNCiAgICB9DQogICAgLy/miYDmnInku7vliqHorr7nva7mnKrlrozmiJDnirbmgIENCiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDI5OTk5OyBpKyspIHsNCiAgICAgICAgV29uZ1dvcmtfQ1F1ZXN0Q2xlYXJfcmVzZXRDbGVhcmVkUXVlc3RzKHVzZXJfcXVlc3QuYWRkKDQpLCBpKTsNCiAgICB9DQoNCiAgICBhcGlfQ1VzZXJfU2VuZE5vdGlQYWNrZXRNZXNzYWdlKHVzZXIsICfmiYDmnInku7vliqHlt7Lph43nva4sIOivt+mHjeaWsOmAieaLqeinkuiJsuWIt+aWsOS7u+WKoeWIl+ihqCEnLCAxNCk7DQp9DQoNCi8v5a6M5oiQ5b2T5YmN5bey5o6l5Lu75Yqh5bm26aKG5Y+W5aWW5YqxDQpmdW5jdGlvbiBjbGVhcl9kb2luZ19xdWVzdCh1c2VyKSB7DQogICAgLy/njqnlrrbku7vliqHkv6Hmga8NCiAgICB2YXIgdXNlcl9xdWVzdCA9IENVc2VyX2dldEN1ckNoYXJhY1F1ZXN0Vyh1c2VyKTsNCg0KICAgIC8v6YGN5Y6GMjDkuKrlt7LmjqXku7vliqENCiAgICAvL+S7u+WKoeWIl+ihqCjkv53lrZjku7vliqFpZCk6IHVzZXJfcXVlc3QuYWRkKDQgKiAoaSArIDc1MDAgKyAyKSkNCiAgICAvL+S7u+WKoeWujOaIkOeKtuaAgSgwPeW3sua7oei2s+S7u+WKoeadoeS7tik6IHVzZXJfcXVlc3QuYWRkKDQgKiAoaSArIDc1MjAgKyAyKSkNCiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDIwOyBpKyspIHsNCiAgICAgICAgLy/ku7vliqFpZA0KICAgICAgICB2YXIgcXVlc3RfaWQgPSB1c2VyX3F1ZXN0LmFkZCg0ICogKGkgKyA3NTAwICsgMikpLnJlYWRJbnQoKTsNCg0KICAgICAgICBpZiAocXVlc3RfaWQgPiAwKSB7DQogICAgICAgICAgICAvL+aXoOadoeS7tuWujOaIkOS7u+WKoeW5tumihuWPluWlluWKsQ0KICAgICAgICAgICAgYXBpX2ZvcmNlX2NsZWFyX3F1ZXN0KHVzZXIsIHF1ZXN0X2lkKTsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIC8v6YCa55+l5a6i5oi356uv5pu05paw5bey5a6M5oiQ5Lu75Yqh5YiX6KGoDQogICAgQ1VzZXJfc2VuZF9jbGVhcl9xdWVzdF9saXN0KHVzZXIpOw0KDQogICAgLy/pgJrnn6XlrqLmiLfnq6/mm7TmlrDku7vliqHliJfooagNCiAgICB2YXIgcGFja2V0X2d1YXJkID0gYXBpX1BhY2tldEd1YXJkX1BhY2tldEd1YXJkKCk7DQogICAgVXNlclF1ZXN0X2dldF9xdWVzdF9pbmZvKHVzZXJfcXVlc3QsIHBhY2tldF9ndWFyZCk7DQogICAgQ1VzZXJfU2VuZCh1c2VyLCBwYWNrZXRfZ3VhcmQpOw0KICAgIERlc3Ryb3lfUGFja2V0R3VhcmRfUGFja2V0R3VhcmQocGFja2V0X2d1YXJkKTsNCn0NCg0KLy/lrozmiJDop5LoibLlvZPliY3lj6/mjqXnmoTmiYDmnInku7vliqEo5LuF5Y+R6YCB6YeR5biBL+e7j+mqjC9RUOetieWfuuehgOWlluWKsSDml6DpgZPlhbflpZblirEpDQp2YXIgUVVFU1RfR1JBREVfQ09NTU9OX1VOSVFVRSA9IDU7ICAgICAgICAgICAgICAgICAgLy/ku7vliqHohJrmnKzkuK1bZ3JhZGVd5a2X5q615a+55bqU55qE5bi46YeP5a6a5LmJIOWPr+S7peWcqGltcG9ydFF1ZXN0U2NyaXB05Ye95pWw5Lit5om+5YiwDQp2YXIgUVVFU1RfR1JBREVfTk9STUFMWV9SRVBFQVQgPSA0OyAgICAgICAgICAgICAgICAgLy/lj6/ph43lpI3mj5DkuqTnmoTph43lpI3ku7vliqENCnZhciBRVUVTVF9HUkFERV9EQUlMWSA9IDM7ICAgICAgICAgICAgICAgICAgICAgICAgICAvL+avj+aXpeS7u+WKoQ0KdmFyIFFVRVNUX0dSQURFX0VQSUMgPSAwOyAgICAgICAgICAgICAgICAgICAgICAgICAgIC8v5Y+y6K+X5Lu75YqhDQpmdW5jdGlvbiBjbGVhcl9hbGxfcXVlc3RfYnlfY2hhcmFjdGVyX2xldmVsKHVzZXIpIHsNCiAgICAvL2xvZygnY2xlYXJfYWxsX3F1ZXN0X2J5X2NoYXJhY3Rlcl9sZXZlbCBzdGFydCEnKTsNCg0KICAgIC8v546p5a625Lu75Yqh5L+h5oGvDQogICAgdmFyIHVzZXJfcXVlc3QgPSBDVXNlcl9nZXRDdXJDaGFyYWNRdWVzdFcodXNlcik7DQogICAgLy/njqnlrrblt7LlrozmiJDku7vliqHkv6Hmga8NCiAgICB2YXIgV29uZ1dvcmtfQ1F1ZXN0Q2xlYXIgPSB1c2VyX3F1ZXN0LmFkZCg0KTsNCiAgICAvL+eOqeWutuW9k+WJjeetiee6pw0KICAgIHZhciBjaGFyYWNfbHYgPSBDVXNlckNoYXJhY0luZm9fZ2V0X2NoYXJhY19sZXZlbCh1c2VyKTsNCg0KICAgIC8v5pys5qyh5a6M5oiQ5Lu75Yqh5pWw6YePDQogICAgdmFyIGNsZWFyX3F1ZXN0X2NudCA9IDA7DQoNCiAgICAvL3B2ZuaVsOaNrg0KICAgIHZhciBkYXRhX21hbmFnZXIgPSBHX0NEYXRhTWFuYWdlcigpOw0KDQogICAgLy/pppblhYjlrozmiJDlvZPliY3lt7LmjqXku7vliqENCiAgICBjbGVhcl9kb2luZ19xdWVzdCh1c2VyKTsNCg0KICAgIC8v5a6M5oiQ5b2T5YmN562J57qn5omA5pyJ5Lu75Yqh5oC757uP6aqM5aWW5YqxDQogICAgdmFyIHRvdGFsX2V4cF9ib251cyA9IDA7DQogICAgLy/lrozmiJDlvZPliY3nrYnnuqfmiYDmnInku7vliqHmgLvph5HluIHlpZblirENCiAgICB2YXIgdG90YWxfZ29sZF9ib251cyA9IDA7DQogICAgLy/ku7vliqHngrnlpZblirENCiAgICB2YXIgdG90YWxfcXVlc3RfcG9pbnRfYm9udXMgPSAwOw0KICAgIHZhciB0b3RhbF9xdWVzdF9waWVjZV9ib251cyA9IDA7DQoNCiAgICAvL+S7u+WKoeacgOWkp+e8luWPtzogMjk5OTkNCiAgICBmb3IgKHZhciBxdWVzdF9pZCA9IDE7IHF1ZXN0X2lkIDwgMzAwMDA7IHF1ZXN0X2lkKyspIHsNCiAgICAgICAgLy/ot7Pov4flt7LlrozmiJDnmoTku7vliqENCiAgICAgICAgaWYgKFdvbmdXb3JrX0NRdWVzdENsZWFyX2lzQ2xlYXJlZFF1ZXN0KFdvbmdXb3JrX0NRdWVzdENsZWFyLCBxdWVzdF9pZCkpDQogICAgICAgICAgICBjb250aW51ZTsNCg0KICAgICAgICAvL+iOt+WPluS7u+WKoeaVsOaNrg0KICAgICAgICB2YXIgcXVlc3QgPSBDRGF0YU1hbmFnZXJfZmluZF9xdWVzdChkYXRhX21hbmFnZXIsIHF1ZXN0X2lkKTsNCiAgICAgICAgaWYgKCFxdWVzdC5pc051bGwoKSkgew0KICAgICAgICAgICAgLy/ku7vliqHnsbvlnosNCiAgICAgICAgICAgIHZhciBxdWVzdF9ncmFkZSA9IHF1ZXN0LmFkZCg4KS5yZWFkSW50KCk7DQoNCiAgICAgICAgICAgIC8v6Lez6L+HZ3JhZGXkuLpbY29tbW9uIHVuaXF1ZV3nsbvlnovnmoTku7vliqEo6L2s6IGM562J5Lu75YqhKQ0KICAgICAgICAgICAgLy/ot7Pov4flj6/ph43lpI3mj5DkuqTnmoTku7vliqENCiAgICAgICAgICAgIC8v6Lez6L+H5q+P5pel5Lu75YqhDQogICAgICAgICAgICBpZiAoKHF1ZXN0X2dyYWRlICE9IFFVRVNUX0dSQURFX0NPTU1PTl9VTklRVUUpICYmIChxdWVzdF9ncmFkZSAhPSBRVUVTVF9HUkFERV9OT1JNQUxZX1JFUEVBVCkgJiYgKHF1ZXN0X2dyYWRlICE9IFFVRVNUX0dSQURFX0RBSUxZKSkgew0KICAgICAgICAgICAgICAgIC8v5Yik5pat5Lu75Yqh5b2T5YmN5piv5ZCm5Y+v5o6lDQogICAgICAgICAgICAgICAgLy92YXIgc3RTZWxlY3RRdWVzdFBhcmFtID0gTWVtb3J5LmFsbG9jKDEwMCk7DQogICAgICAgICAgICAgICAgLy9zdFNlbGVjdFF1ZXN0UGFyYW1fc3RTZWxlY3RRdWVzdFBhcmFtKHN0U2VsZWN0UXVlc3RQYXJhbSwgdXNlcik7DQogICAgICAgICAgICAgICAgLy9pZihRdWVzdF9jaGVja19wb3NzaWJsZShxdWVzdCwgc3RTZWxlY3RRdWVzdFBhcmFtKSkNCg0KICAgICAgICAgICAgICAgIC8v5Y+q5Yik5pat5Lu75Yqh5pyA5L2O562J57qn6KaB5rGCIOW/veeVpSDogYzkuJov5YmN572uIOetieS7u+WKoeimgeaxgiDlj6/kuIDmrKHmgKflrozmiJDlvZPliY3nrYnnuqfmiYDmnInku7vliqENCiAgICAgICAgICAgICAgICB2YXIgcXVlc3RfbWluX2x2ID0gcXVlc3QuYWRkKDB4MjApLnJlYWRJbnQoKTsNCiAgICAgICAgICAgICAgICBpZiAocXVlc3RfbWluX2x2IDw9IGNoYXJhY19sdikgew0KICAgICAgICAgICAgICAgICAgICAvL+iOt+WPluivpeS7u+WKoeeahOWfuuehgOWlluWKsQ0KICAgICAgICAgICAgICAgICAgICB2YXIgZXhwX2JvbnVzID0gTWVtb3J5LmFsbG9jKDQpOw0KICAgICAgICAgICAgICAgICAgICB2YXIgZ29sZF9ib251cyA9IE1lbW9yeS5hbGxvYyg0KTsNCiAgICAgICAgICAgICAgICAgICAgdmFyIHF1ZXN0X3BvaW50X2JvbnVzID0gTWVtb3J5LmFsbG9jKDQpOw0KICAgICAgICAgICAgICAgICAgICB2YXIgcXVlc3RfcGllY2VfYm9udXMgPSBNZW1vcnkuYWxsb2MoNCk7DQogICAgICAgICAgICAgICAgICAgIC8vUVDlpZblirHlt7Lnm7TmjqXlj5HpgIHliLDop5LoibIg57uP6aqML+mHkeW4geWPqui/lOWbnue7k+aenCAg6ZyA6KaB5omL5Yqo5Y+R6YCBDQogICAgICAgICAgICAgICAgICAgIENVc2VyX3F1ZXN0X2Jhc2ljX3Jld2FyZCh1c2VyLCBxdWVzdCwgZXhwX2JvbnVzLCBnb2xkX2JvbnVzLCBxdWVzdF9wb2ludF9ib251cywgcXVlc3RfcGllY2VfYm9udXMsIDEpOw0KDQogICAgICAgICAgICAgICAgICAgIC8v57uf6K6h5pys5qyh6Ieq5Yqo5a6M5oiQ5Lu75Yqh55qE5Z+656GA5aWW5YqxDQogICAgICAgICAgICAgICAgICAgIHZhciBleHAgPSBleHBfYm9udXMucmVhZEludCgpOw0KICAgICAgICAgICAgICAgICAgICB2YXIgZ29sZCA9IGdvbGRfYm9udXMucmVhZEludCgpOw0KICAgICAgICAgICAgICAgICAgICB2YXIgcXVlc3RfcG9pbnQgPSBxdWVzdF9wb2ludF9ib251cy5yZWFkSW50KCk7DQogICAgICAgICAgICAgICAgICAgIHZhciBxdWVzdF9waWVjZSA9IHF1ZXN0X3BpZWNlX2JvbnVzLnJlYWRJbnQoKTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKGV4cCA+IDApDQogICAgICAgICAgICAgICAgICAgICAgICB0b3RhbF9leHBfYm9udXMgKz0gZXhwOw0KICAgICAgICAgICAgICAgICAgICBpZiAoZ29sZCA+IDApDQogICAgICAgICAgICAgICAgICAgICAgICB0b3RhbF9nb2xkX2JvbnVzICs9IGdvbGQ7DQogICAgICAgICAgICAgICAgICAgIGlmIChxdWVzdF9wb2ludCA+IDApDQogICAgICAgICAgICAgICAgICAgICAgICB0b3RhbF9xdWVzdF9wb2ludF9ib251cyArPSBxdWVzdF9wb2ludDsgICAgIC8v5rKh5pyJW3F1ZXN0IHBvaW50XeWtl+auteeahOS7u+WKoXF1ZXN0X3BvaW50PTEwMDAwDQogICAgICAgICAgICAgICAgICAgIGlmIChxdWVzdF9waWVjZSA+IDApDQogICAgICAgICAgICAgICAgICAgICAgICB0b3RhbF9xdWVzdF9waWVjZV9ib251cyArPSBxdWVzdF9waWVjZTsNCg0KICAgICAgICAgICAgICAgICAgICAvL+WwhuivpeS7u+WKoeiuvue9ruS4uuW3suWujOaIkOeKtuaAgQ0KICAgICAgICAgICAgICAgICAgICBXb25nV29ya19DUXVlc3RDbGVhcl9zZXRDbGVhcmVkUXVlc3QodXNlcl9xdWVzdC5hZGQoNCksIHF1ZXN0X2lkKTsNCg0KICAgICAgICAgICAgICAgICAgICAvL+acrOasoeiHquWKqOWujOaIkOS7u+WKoeiuoeaVsA0KICAgICAgICAgICAgICAgICAgICBjbGVhcl9xdWVzdF9jbnQrKzsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9DQoNCiAgICAvL+mAmuefpeWuouaIt+err+abtOaWsA0KICAgIGlmIChjbGVhcl9xdWVzdF9jbnQgPiAwKSB7DQogICAgICAgIC8v5Y+R6YCB5Lu75Yqh57uP6aqM5aWW5YqxDQogICAgICAgIGlmICh0b3RhbF9leHBfYm9udXMgPiAwKQ0KICAgICAgICAgICAgYXBpX0NVc2VyX2dhaW5fZXhwX3NwKHVzZXIsIHRvdGFsX2V4cF9ib251cyk7DQogICAgICAgIC8v5Y+R6YCB5Lu75Yqh6YeR5biB5aWW5YqxDQogICAgICAgIGlmICh0b3RhbF9nb2xkX2JvbnVzID4gMCkNCiAgICAgICAgICAgIENJbnZlbnRvcnlfZ2Fpbl9tb25leShDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjSW52ZW5XKHVzZXIpLCB0b3RhbF9nb2xkX2JvbnVzLCAwLCAwLCAwKTsNCg0KICAgICAgICAvL+mAmuefpeWuouaIt+err+abtOaWsOWlluWKseaVsOaNrg0KICAgICAgICBpZiAoQ1VzZXJfZ2V0X3N0YXRlKHVzZXIpID09IDMpIHsNCiAgICAgICAgICAgIENVc2VyX1NlbmROb3RpUGFja2V0KHVzZXIsIDAsIDIsIDApOw0KICAgICAgICAgICAgQ1VzZXJfU2VuZE5vdGlQYWNrZXQodXNlciwgMSwgMiwgMSk7DQoNCiAgICAgICAgICAgIENVc2VyX1NlbmRVcGRhdGVJdGVtTGlzdCh1c2VyLCAxLCAwLCAwKTsNCiAgICAgICAgICAgIENVc2VyX3NlbmRDaGFyYWNRcCh1c2VyKTsNCiAgICAgICAgICAgIENVc2VyX3NlbmRDaGFyYWNRdWVzdFBpZWNlKHVzZXIpOw0KICAgICAgICB9DQoNCiAgICAgICAgLy/pgJrnn6XlrqLmiLfnq6/mm7TmlrDlt7LlrozmiJDku7vliqHliJfooagNCiAgICAgICAgQ1VzZXJfc2VuZF9jbGVhcl9xdWVzdF9saXN0KHVzZXIpOw0KDQogICAgICAgIC8v6YCa55+l5a6i5oi356uv5pu05paw5Lu75Yqh5YiX6KGoDQogICAgICAgIHZhciBwYWNrZXRfZ3VhcmQgPSBhcGlfUGFja2V0R3VhcmRfUGFja2V0R3VhcmQoKTsNCiAgICAgICAgVXNlclF1ZXN0X2dldF9xdWVzdF9pbmZvKHVzZXJfcXVlc3QsIHBhY2tldF9ndWFyZCk7DQogICAgICAgIENVc2VyX1NlbmQodXNlciwgcGFja2V0X2d1YXJkKTsNCiAgICAgICAgRGVzdHJveV9QYWNrZXRHdWFyZF9QYWNrZXRHdWFyZChwYWNrZXRfZ3VhcmQpOw0KDQogICAgICAgIC8v5YWs5ZGK6YCa55+l5a6i5oi356uv5pys5qyh6Ieq5Yqo5a6M5oiQ5Lu75Yqh5pWw5o2uDQogICAgICAgIGFwaV9DVXNlcl9TZW5kTm90aVBhY2tldE1lc3NhZ2UodXNlciwgJ+W3suiHquWKqOWujOaIkOW9k+WJjeetiee6p+S7u+WKoeaVsOmHjzogJyArIGNsZWFyX3F1ZXN0X2NudCwgMTQpOw0KICAgICAgICBhcGlfQ1VzZXJfU2VuZE5vdGlQYWNrZXRNZXNzYWdlKHVzZXIsICfku7vliqHnu4/pqozlpZblirE6ICcgKyB0b3RhbF9leHBfYm9udXMsIDE0KTsNCiAgICAgICAgYXBpX0NVc2VyX1NlbmROb3RpUGFja2V0TWVzc2FnZSh1c2VyLCAn5Lu75Yqh6YeR5biB5aWW5YqxOiAnICsgdG90YWxfZ29sZF9ib251cywgMTQpOw0KICAgICAgICBhcGlfQ1VzZXJfU2VuZE5vdGlQYWNrZXRNZXNzYWdlKHVzZXIsICfku7vliqFRdWVzdFBvaW505aWW5YqxOiAnICsgdG90YWxfcXVlc3RfcG9pbnRfYm9udXMsIDE0KTsNCiAgICAgICAgYXBpX0NVc2VyX1NlbmROb3RpUGFja2V0TWVzc2FnZSh1c2VyLCAn5Lu75YqhUXVlc3RQaWVjZeWlluWKsTogJyArIHRvdGFsX3F1ZXN0X3BpZWNlX2JvbnVzLCAxNCk7DQogICAgfQ0KDQoNCiAgICAvL2xvZygnY2xlYXJfYWxsX3F1ZXN0X2J5X2NoYXJhY3Rlcl9sZXZlbCBlbmQhJyk7DQoNCiAgICByZXR1cm47DQp9DQoNCg0KZnVuY3Rpb24gYXBpX2ZvcmNlX2NsZWFyX3F1ZXN0X2xpc3QodXNlciwgcXVlc3RfbGlzdCkgew0KICAgIC8v6ZyA6KaB5a6M5oiQ55qE5Lu75Yqh5YiX6KGoDQogICAgdmFyIHF1ZXN0X2xpc3QgPSBnbG9iYWxfY29uZmlnWydnYW1lX2NvbmZpZyddWydhcGlfZm9yY2VfY2xlYXJfcXVlc3RfbGlzdCddLnNwbGl0KCIsIik7DQogICAgLy8g5b6q546v6YGN5Y6G5Lu75Yqh5YiX6KGoDQogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBxdWVzdF9saXN0Lmxlbmd0aDsgaSsrKSB7DQogICAgICAgIHZhciBxdWVzdF9pZCA9IHF1ZXN0X2xpc3RbaV07DQogICAgICAgIGFwaV9mb3JjZV9jbGVhcl9xdWVzdCh1c2VyLCBxdWVzdF9pZCk7IC8v5a6M5oiQ5a+55bqU55qE5Lu75YqhDQogICAgfQ0KfSANCiAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tRlVOQ1RJT05fRU5EIOWujOaIkOS7u+WKoeWHveaVsCzor7TmmI465a6M5oiQ5Lu75Yqh5Ye95pWwLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSANCiANCi8vLS0tLS0tLS0tLS0tLS0tLS0tLS1GVU5DVElPTl9CRUdJTiDlj7Lor5fprZTms5XlsIHljbDlj5jmjaIsIOivtOaYjjrlj7Lor5fprZTms5XlsIHljbDlj5jmjaLliLgtLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogDQogDQoNCiAgLy/lj7Lor5fprZTms5XlsIHljbDlj5jmjaINCiBmdW5jdGlvbiBzc2ZtZnliaCh1c2VyKQ0KIHsgICAgDQogICAgIHZhciBpbnZlbiA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNJbnZlblcodXNlcik7DQogICAgIC8v6YGN5Y6G6KOF5aSHDQogICAgIGZvcih2YXIgaSA9IDk7IGkgPD0xNjsgaSsrKQ0KICAgICB7DQogICAgICAgICAvL+iOt+WPlueJqeWTgeagj+esrOS4gOaOkueahOijheWkhw0KICAgICAgICAgdmFyIGVxdUluID0gQ0ludmVudG9yeV9HZXRJbnZlblJlZihpbnZlbiwgSU5WRU5UT1JZX1RZUEVfSVRFTSwgaSk7IC8v6YGN5Y6G57G75Z6L5Li654mp5ZOB5qCPDQogICAgICAgICB2YXIgaW5JdGVtSWQgPSBJbnZlbl9JdGVtX2dldEtleShlcXVJbikgLy/pgZPlhbdpZA0KICAgICAgICAgdmFyIGluSXRlbURhdGEgPSBDRGF0YU1hbmFnZXJfZmluZF9pdGVtKEdfQ0RhdGFNYW5hZ2VyKCksaW5JdGVtSWQpOyAvL+iOt+WPlnB2ZuaVsOaNrg0KICAgICAgICAgdmFyIGVxdVJhcml0eSA9IENJdGVtX0dldFJhcml0eShpbkl0ZW1EYXRhKTsgLy8g56iA5pyJ5bqmICA+PTMgIOeyieiJsuS7peS4ig0KICAgICAgICAgaWYoZXF1UmFyaXR5ID09IDQpew0KICAgICAgICAgICAgIHZhciBpbkVxdV90eXBlID0gaW5JdGVtRGF0YS5hZGQoMTQxKjQpLnJlYWRVMzIoKTsgLy8g6KOF5aSH57G75Z6LMTDmrablmaggMTHnp7Dlj7cJICAgICAgIA0KICAgICAgICAgICAgIC8v5riF56m65omA5pyJ6a2U5rOV5bCB5Y2w5a2X6IqCDQogICAgICAgICAgICAgaWYoaW5FcXVfdHlwZSE9MTEpew0KICAgICAgICAgICAgICAgICBlcXVJbi5hZGQoMzcpLndyaXRlVTgoMCk7DQogICAgICAgICAgICAgICAgIGVxdUluLmFkZCgzOCkud3JpdGVVOCgwKTsgICAgCQkJDQogICAgICAgICAgICAgICAgIGVxdUluLmFkZCgzOSkud3JpdGVVOCgwKTsgICAgCQkJDQogICAgICAgICAgICAgICAgIGVxdUluLmFkZCg0MCkud3JpdGVVOCgwKTsgICAJCQkNCiAgICAgICAgICAgICAgICAgZXF1SW4uYWRkKDQxKS53cml0ZVU4KDApOyAgICAJCQkNCiAgICAgICAgICAgICAgICAgZXF1SW4uYWRkKDQyKS53cml0ZVU4KDApOyAgICAJCQkNCiAgICAgICAgICAgICAgICAgZXF1SW4uYWRkKDQzKS53cml0ZVU4KDApOyAgICANCiAgICAgICAgICAgICAgICAgZXF1SW4uYWRkKDQ0KS53cml0ZVU4KDApOyAgICANCiAgICAgICAgICAgICAgICAgZXF1SW4uYWRkKDQ1KS53cml0ZVU4KDApOyAgICANCiAgICAgICAgICAgICAgICAgZXF1SW4uYWRkKDQ2KS53cml0ZVU4KDApOyAJCQkNCiAgICAgICAgICAgICAgICAgZXF1SW4uYWRkKDQ3KS53cml0ZVU4KDApOyAgICANCiAgICAgICAgICAgICAgICAgZXF1SW4uYWRkKDQ4KS53cml0ZVU4KDApOyAgICANCiAgICAgICAgICAgICAgICAgZXF1SW4uYWRkKDQ5KS53cml0ZVU4KDApOyAgICANCiAgICAgICAgICAgICAgICAgZXF1SW4uYWRkKDUwKS53cml0ZVU4KDApOyANCiAgICAgICAgICAgICAgICAgLy/lsJ3or5Xop6PpmaTprZTms5XlsIHljbANCiAgICAgICAgICAgICAgICAgdmFyIHJldCA9IHJhbmRvbV9vcHRpb25fQ1JhbmRvbU9wdGlvbkl0ZW1IYW5kbGVfZ2l2ZV9vcHRpb24ocHRyKDB4OTQxRjgyMCkucmVhZFBvaW50ZXIoKSwgaW5JdGVtSWQsIENJdGVtX0dldFJhcml0eShpbkl0ZW1EYXRhKSwgQ0l0ZW1fR2V0VXNhYmxlTGV2ZWwoaW5JdGVtRGF0YSkNCiAgICAgICAgICAgICAgICAgICAgICwgQ0l0ZW1fR2V0SXRlbUdyb3VwTmFtZShpbkl0ZW1EYXRhKSwgQ0VxdWlwSXRlbV9HZXRSYW5kb21PcHRpb25HcmFkZShpbkl0ZW1EYXRhKSwgZXF1SW4uYWRkKDM3KSk7DQogICAgICAgICAgICAgICAgIGlmKHJldCkNCiAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgLy/pgJrnn6XlrqLmiLfnq6/mnInoo4XlpIfmm7TmlrANCiAgICAgICAgICAgICAgICAgICAgIENVc2VyX1NlbmRVcGRhdGVJdGVtTGlzdCh1c2VyLCAxLCAwLCBpKTsNCiAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgIH0JCQkNCiAgICAgICAgIH0NCiAgICAgfQkNCiB9IA0KIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS1GVU5DVElPTl9FTkQg5Y+y6K+X6a2U5rOV5bCB5Y2w5Y+Y5o2iLOivtOaYjjrlj7Lor5fprZTms5XlsIHljbDlj5jmjaLliLgtLS0tLS0tLS0tLS0tLS0tLS0tLS0tIA0KIA0KLy8tLS0tLS0tLS0tLS0tLS0tLS0tLUZVTkNUSU9OX0JFR0lOIOijheWkh+i3qOeVjCwg6K+05piOOuWwhuijheWkh+agj+eahOesrOS4gOS4quagvOWtkOeahOijheWkh+enu+WFpeWIsOi0puWPt+mHkeW6k++8jOiHquWKqOaJvuepuueahOagvOWtkO+8jOaJgOS7peWPr+S7peWQjOaXtuenu+WFpeWkmuS7ti0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiANCiANCi8qKg0KICog6Leo55WM55+z77yaIOWwhuijheWkh+agj+eahOesrOS4gOS4quagvOWtkOeahOijheWkh+enu+WFpeWIsOi0puWPt+mHkeW6k++8jOiHquWKqOaJvuepuueahOagvOWtkO+8jOaJgOS7peWPr+S7peWQjOaXtuenu+WFpeWkmuS7tg0KICogQHBhcmFtIHVzZXINCiAqLw0KZnVuY3Rpb24gY3Jvc3NvdmVyKHVzZXIpew0KICAgIC8vIOi3qOeVjCAg5bCG6KOF5aSH56e75YWl5Yiw6LSm5Y+36YeR5bqTDQogICAgdmFyIGFjY291bnRDYXJnbyA9IENVc2VyX0dldEFjY291bnRDYXJnbyh1c2VyKTsNCiAgICBjb25zb2xlLmxvZygnYWNjb3VudENhcmdv77yaJythY2NvdW50Q2FyZ28pOw0KICAgIHZhciBlbXB0eUluZGV4ID0gQ0FjY291bnRDYXJnb19HZXRFbXB0eVNsb3RfTkVXKGFjY291bnRDYXJnbyk7DQogICAgY29uc29sZS5sb2coJ2FjY291bnRDYXJnbyBlbXB0eUluZGV4OicrZW1wdHlJbmRleCkNCiAgICBpZihlbXB0eUluZGV4PT0tMSl7DQogICAgICAgIGFwaV9DVXNlcl9TZW5kTm90aVBhY2tldE1lc3NhZ2UodXNlciwi6Leo55WM5aSx6LSl77ya6LSm5Y+36YeR5bqT5rKh5pyJ56m655qE5qC85a2Q77yB77yB77yBIiwwKTsNCiAgICB9DQogICAgdmFyIGludmVuID0gQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY0ludmVuVyh1c2VyKTsNCiAgICB2YXIgZXF1ID0gQ0ludmVudG9yeV9HZXRJbnZlblJlZihpbnZlbiwgSU5WRU5UT1JZX1RZUEVfSVRFTSwgOSk7DQogICAgdmFyIGl0ZW1JZCA9IEludmVuX0l0ZW1fZ2V0S2V5KGVxdSk7DQogICAgaWYoaXRlbUlkKXsNCiAgICAgICAgdmFyIHRhZyA9IENBY2NvdW50Q2FyZ29fSW5zZXJ0SXRlbV9ORVcoYWNjb3VudENhcmdvLGVxdSxlbXB0eUluZGV4KTsNCiAgICAgICAgaWYodGFnPT0tMSl7DQogICAgICAgICAgICBjb25zb2xlLmxvZygnZmFpbCEhIScpOw0KICAgICAgICAgICAgYXBpX0NVc2VyX1NlbmROb3RpUGFja2V0TWVzc2FnZSh1c2VyLCLot6jnlYzlpLHotKXvvJrnp7vlhaXoo4XlpIdlcnJvciIsMCk7DQogICAgICAgIH1lbHNlew0KICAgICAgICAgICAgSW52ZW5fSXRlbV9yZXNldChlcXUpOw0KICAgICAgICAgICAgQ1VzZXJfU2VuZFVwZGF0ZUl0ZW1MaXN0KHVzZXIsIDEsIDAsIDkpOw0KICAgICAgICAgICAgQ0FjY291bnRDYXJnb19TZW5kSXRlbUxpc3RfTkVXKGFjY291bnRDYXJnbyk7DQogICAgICAgICAgICBjb25zb2xlLmxvZygnc3VjY2VzcyEhIScpOw0KICAgICAgICAgICAgYXBpX0NVc2VyX1NlbmROb3RpUGFja2V0TWVzc2FnZSh1c2VyLCLot6jnlYzmiJDlip/vvJrlt7LlrZjlhaXnrKwgIisoZW1wdHlJbmRleCsxKSsiIOS4quagvOWtkO+8gSIsMCk7DQogICAgICAgIH0NCiAgICB9DQp9IA0KIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS1GVU5DVElPTl9FTkQg6KOF5aSH6Leo55WMLOivtOaYjjrlsIboo4XlpIfmoI/nmoTnrKzkuIDkuKrmoLzlrZDnmoToo4XlpIfnp7vlhaXliLDotKblj7fph5HlupPvvIzoh6rliqjmib7nqbrnmoTmoLzlrZDvvIzmiYDku6Xlj6/ku6XlkIzml7bnp7vlhaXlpJrku7YtLS0tLS0tLS0tLS0tLS0tLS0tLS0tIA0KIA0KLy8tLS0tLS0tLS0tLS0tLS0tLS0tLUZVTkNUSU9OX0JFR0lOIOaJqeWFhei0puWPt+mHkeW6kygxMjDmoLwpLCDor7TmmI465omp5YWF6LSm5Y+36YeR5bqTKDEyMOagvCktLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogDQogLy8g6I635Y+W6LSm5Y+36YeR5bqT5LiA5Liq56m655qE5qC85a2QDQp2YXIgQ0FjY291bnRDYXJnb19HZXRFbXB0eVNsb3RfTkVXOw0KLy8g5bCG5bey57uP54mp5ZOB56e75Yqo5Yiw5p+Q5Liq5qC85a2QIOesrOS4gOS4qui0puWPt+mHkeW6k++8jOesrOS6jOS4quenu+WFpeeahOeJqeWTge+8jOesrOS4ieS4quagvOWtkOS9jee9rg0KdmFyIENBY2NvdW50Q2FyZ29fSW5zZXJ0SXRlbV9ORVc7DQovLyDlkJHlrqLmiLfnq6/lj5HpgIHotKblj7fph5HlupPliJfooagNCnZhciBDQWNjb3VudENhcmdvX1NlbmRJdGVtTGlzdF9ORVc7DQovLyDlrZjmlL7miYDmnInnlKjmiLfnmoTotKblj7fph5HlupPmlbDmja4NCnZhciBhY2NvdW50Q2FyZ2ZvID0ge307DQp2YXIgaW5pdE1heFNvbHQgPSAwOw0KZnVuY3Rpb24gc2V0TWF4Q0FjY291bnRDYXJnb1NvbHQobWF4U29sdCl7DQogICAgLy8gY29uc29sZS5sb2coMSk7DQogICAgaW5pdE1heFNvbHQgPSBtYXhTb2x0Ow0KICAgIEdldE1vbmV5KG1heFNvbHQpOw0KICAgIENBY2NvdW50Q2FyZ28obWF4U29sdCk7DQogICAgR2V0Q2FwYWNpdHkobWF4U29sdCk7DQogICAgU2V0REJEYXRhKG1heFNvbHQpOw0KICAgIENsZWFyKG1heFNvbHQpOw0KICAgIEluc2VydEl0ZW0obWF4U29sdCk7DQogICAgRGVsZXRlSXRlbShtYXhTb2x0KTsNCiAgICBNb3ZlSXRlbShtYXhTb2x0KTsNCiAgICBEZXBvc2l0TW9uZXkobWF4U29sdCk7DQogICAgV2l0aGRyYXdNb25leShtYXhTb2x0KTsNCiAgICBDaGVja01vbmV5TGltaXQobWF4U29sdCk7DQogICAgQ2hlY2tWYWxpZFNsb3QobWF4U29sdCk7DQogICAgR2V0RW1wdHlTbG90KG1heFNvbHQpOw0KICAgIEdldFNwZWNpZmljSXRlbVNsb3QobWF4U29sdCk7DQogICAgQWRkTW9uZXkobWF4U29sdCk7DQogICAgU3ViTW9uZXkobWF4U29sdCk7DQogICAgR2V0SXRlbUNvdW50KG1heFNvbHQpOw0KICAgIFNlbmROb3RpZnlNb25leShtYXhTb2x0KTsNCiAgICBTZW5kSXRlbUxpc3QobWF4U29sdCk7DQogICAgSXNBbHRlcihtYXhTb2x0KTsNCiAgICBTZXRDYXBhY2l0eShtYXhTb2x0KTsNCiAgICBTZXRTdGFibGUobWF4U29sdCk7DQogICAgREJfU2F2ZUFjY291bnRDYXJnb19tYWtlUmVxdWVzdChtYXhTb2x0KTsNCiAgICBHZXRBY2NvdW50Q2FyZ28oKTsNCiAgICBNYWtlSXRlbVBhY2tldChtYXhTb2x0KTsNCiAgICBDaGVja1N0YWNrTGltaXQobWF4U29sdCk7DQogICAgQ2hlY2tTbG90RW1wdHkobWF4U29sdCk7DQogICAgLy8gQ2hlY2tJbnNlcnRDb25kaXRpb24obWF4U29sdCk7DQogICAgR2V0U2xvdFJlZihtYXhTb2x0KTsNCiAgICBHZXRTbG90KG1heFNvbHQpOw0KICAgIFJlc2V0U2xvdChtYXhTb2x0KTsNCiAgICBEQl9Mb2FkQWNjb3VudENhcmdvX2Rpc3BhdGNoKG1heFNvbHQpOw0KICAgIERCX1NhdmVBY2NvdW50Q2FyZ29fZGlzcGF0Y2gobWF4U29sdCk7DQogICAgSXNFeGlzdEFjY291bnRDYXJnbygpOw0KICAgIC8vIHVzZXJMb2dvdXQoKTsNCiAgICBjb25zb2xlLmxvZygxMik7DQp9DQoNCmZ1bmN0aW9uIElzRXhpc3RBY2NvdW50Q2FyZ28oKXsNCiAgICBJbnRlcmNlcHRvci5hdHRhY2gocHRyKDB4MDgyMmZjMzApLCB7DQoNCiAgICAgICAgb25FbnRlcjogZnVuY3Rpb24gKGFyZ3MpIHsNCiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdJc0V4aXN0QWNjb3VudENhcmdvIHN0YXJ0OicrYXJnc1swXSkNCiAgICAgICAgfSwNCiAgICAgICAgb25MZWF2ZTogZnVuY3Rpb24gKHJldHZhbCkgew0KICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ0lzRXhpc3RBY2NvdW50Q2FyZ28gZW5kOicrcmV0dmFsKQ0KICAgICAgICB9DQogICAgfSk7DQp9DQoNCmZ1bmN0aW9uIERCX1NhdmVBY2NvdW50Q2FyZ29fZGlzcGF0Y2gobWF4U29sdCl7DQogICAgSW50ZXJjZXB0b3IucmVwbGFjZShwdHIoMHgwODQzYjdjMiksIG5ldyBOYXRpdmVDYWxsYmFjayhmdW5jdGlvbiAoZGJjYXJnb1JlZixhMixhMyxhNCkgew0KICAgICAgICAvLyBjb25zb2xlLmxvZygiREJfU2F2ZUFjY291bnRDYXJnb19kaXNwYXRjaCAtLS0tLS0tLS0tLS0tOiIpDQogICAgICAgIHZhciB2MTQgPSBNZW1vcnkuYWxsb2MoNCk7DQogICAgICAgIHYxNC53cml0ZVUzMigwKTsNCiAgICAgICAgU3RyZWFtX29wZXJhdG9yX3AoYTQsIHYxNC50b0ludDMyKCkpOw0KICAgICAgICB2YXIgdjQgPSBOdW1iZXJUb1N0cmluZyh2MTQucmVhZFUzMigpLDApOw0KICAgICAgICAvLyBjb25zb2xlLmxvZygibWlkOiIrcHRyKHY0KS5yZWFkVXRmOFN0cmluZygtMSkpOw0KDQogICAgICAgIHZhciBvdXQgPSBTdHJlYW1fR2V0T3V0QnVmZmVyX1NJR19BQ0NPVU5UX0NBUkdPX0RBVEEoYTQpOw0KICAgICAgICB2YXIgb3V0UHRyID0gcHRyKG91dCk7DQogICAgICAgIHZhciB2MTdBZGRyID0gTWVtb3J5LmFsbG9jKDQpOw0KICAgICAgICB2MTdBZGRyLndyaXRlSW50KDYxKm1heFNvbHQpOw0KICAgICAgICB2YXIgcmVhZEJ1ZmYgPSBNZW1vcnkuYWxsb2MoNjEqbWF4U29sdCk7DQogICAgICAgIGlmKGNvbXByZXNzX3ppcChyZWFkQnVmZix2MTdBZGRyLG91dFB0ci5hZGQoOCksNjEqbWF4U29sdCkgIT0xKXsNCiAgICAgICAgICAgIHJldHVybiAwOw0KICAgICAgICB9DQogICAgICAgIHZhciBkYkhhbmRlbEFkZHIgPSBEQk1ncl9HZXREQkhhbmRsZShwdHIocHRyKDB4MDk0MEJEQUMpLnJlYWRVMzIoKSksMiwwKTsNCiAgICAgICAgdmFyIGRiSGFuZGVsID0gcHRyKGRiSGFuZGVsQWRkcik7DQogICAgICAgIHZhciBibG9iUHRyID0gTXlTUUxfYmxvYl90b19zdHIoZGJIYW5kZWwsMCxyZWFkQnVmZix2MTdBZGRyLnJlYWRVMzIoKSk7DQogICAgICAgIC8vIGNvbnNvbGUubG9nKCdibG9iOiAnK2Jsb2JQdHIgKycgJytvdXRQdHIucmVhZFUzMigpKycgJytvdXRQdHIuYWRkKDQpLnJlYWRVMzIoKSsnICAnKTsNCiAgICAgICAgTXlTUUxfc2V0X3F1ZXJ5XzYoZGJIYW5kZWwsTWVtb3J5LmFsbG9jVXRmOFN0cmluZygidXBEYXRlIGFjY291bnRfY2FyZ28gc2V0IGNhcGFjaXR5PSV1LCBtb25leT0ldSwgY2FyZ289JyVzJyB3aGVyZSBtX2lkID0gJXMiKQ0KICAgICAgICAgICAgLG91dFB0ci5yZWFkVTMyKCksb3V0UHRyLmFkZCg0KS5yZWFkVTMyKCksYmxvYlB0ci50b0ludDMyKCkscHRyKHY0KS50b0ludDMyKCkpOw0KICAgICAgICByZXR1cm4gTXlTUUxfZXhlYyhkYkhhbmRlbCwxKT09MT8xOjA7DQogICAgfSwgJ2ludCcsIFsncG9pbnRlcicsJ2ludCcsJ2ludCcsJ3BvaW50ZXInXSkpOw0KfQ0KDQpmdW5jdGlvbiBEQl9Mb2FkQWNjb3VudENhcmdvX2Rpc3BhdGNoKG1heFNvbHQpew0KICAgIEludGVyY2VwdG9yLnJlcGxhY2UocHRyKDB4MDg0M2IzYjYpLCBuZXcgTmF0aXZlQ2FsbGJhY2soZnVuY3Rpb24gKGRiY2FyZ29SZWYsYTIsYTMsYTQpIHsNCiAgICAgICAgY29uc29sZS5sb2coJ0RCX0xvYWRBY2NvdW50Q2FyZ29fZGlzcGF0Y2g6OjonK2RiY2FyZ29SZWYrJywnK2EyKycsJythMysnLCcrYTQpOw0KDQogICAgICAgIHZhciB2MTkgPSBNZW1vcnkuYWxsb2MoNCk7DQogICAgICAgIHYxOS53cml0ZVUzMigwKTsNCiAgICAgICAgU3RyZWFtX29wZXJhdG9yX3AoYTQsIHYxOS50b0ludDMyKCkpOw0KICAgICAgICB2YXIgdjQgPSBOdW1iZXJUb1N0cmluZyh2MTkucmVhZFUzMigpLDApOw0KICAgICAgICAvLyBjb25zb2xlLmxvZygibWlkOiIrcHRyKHY0KS5yZWFkVXRmOFN0cmluZygtMSkpDQoNCiAgICAgICAgdmFyIGRiSGFuZGVsQWRkciA9IERCTWdyX0dldERCSGFuZGxlKHB0cihwdHIoMHgwOTQwQkRBQykucmVhZFUzMigpKSwyLDApOw0KICAgICAgICB2YXIgZGJIYW5kZWwgPSBwdHIoZGJIYW5kZWxBZGRyKTsNCiAgICAgICAgLy8gY29uc29sZS5sb2coJ2RiSGFuZGVsOicrZGJIYW5kZWwpOw0KDQogICAgICAgIE15U1FMX3NldF9xdWVyeV8zX3B0cihkYkhhbmRlbCxNZW1vcnkuYWxsb2NVdGY4U3RyaW5nKCdzZUxlY3QgY2FwYWNpdHksIG1vbmV5LCBjYXJnbyBmcm9tIGFjY291bnRfY2FyZ28gd2hlcmUgbV9pZCA9ICVzJykscHRyKHY0KSk7DQogICAgICAgIGlmKE15U1FMX2V4ZWMoZGJIYW5kZWwsMSkhPTEpew0KICAgICAgICAgICAgLy8gY29uc29sZS5sb2coImV4ZWMgZmFpbCA6IikNCiAgICAgICAgICAgIHJldHVybiAwOw0KICAgICAgICB9DQogICAgICAgIGlmKE15U1FMX2dldF9uX3Jvd3MoZGJIYW5kZWwpPT0wKXsNCiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCJnZXQgcm93cyAgPSAwICIpDQogICAgICAgICAgICByZXR1cm4gMTsNCiAgICAgICAgfQ0KICAgICAgICBpZihNeVNRTF9mZXRjaChkYkhhbmRlbCkhPTEpew0KICAgICAgICAgICAgLy8gY29uc29sZS5sb2coImZldGNoIGZpYWwgID0gMCAiKQ0KICAgICAgICAgICAgcmV0dXJuIDA7DQogICAgICAgIH0NCiAgICAgICAgdmFyIHYxOCA9IE1lbW9yeS5hbGxvYyg4KTsNCiAgICAgICAgdmFyIHY2ID0gU3RyZWFtUG9vbF9BY3F1aXJlKHB0cihwdHIoMHgwOTQwQkQ2QykucmVhZFUzMigpKSxNZW1vcnkuYWxsb2NVdGY4U3RyaW5nKCdEQlRocmVhZC5jcHAnKSwzNTkyMyk7DQogICAgICAgIENTdHJlYW1HdWFyZF9DU3RyZWFtR3VhcmQodjE4LHY2LDEpOw0KICAgICAgICB2YXIgdjcgPSBDU3RyZWFtR3VhcmRfb3BlcmF0b3IodjE4LnRvSW50MzIoKSk7DQogICAgICAgIENTdHJlYW1HdWFyZF9vcGVyYXRvcl9pbnQocHRyKHY3KSxhMik7DQogICAgICAgIHZhciB2OCA9IENTdHJlYW1HdWFyZF9vcGVyYXRvcih2MTgudG9JbnQzMigpKTsNCiAgICAgICAgQ1N0cmVhbUd1YXJkX29wZXJhdG9yX2ludChwdHIodjgpLGEzKTsNCiAgICAgICAgdmFyIHY5PSBDU3RyZWFtR3VhcmRfb3BlcmF0b3JfcCh2MTgudG9JbnQzMigpKTsNCiAgICAgICAgdmFyIHYyMSA9IENTdHJlYW1HdWFyZF9HZXRJbkJ1ZmZlcl9TSUdfQUNDT1VOVF9DQVJHT19EQVRBKHB0cih2OSkpOw0KICAgICAgICB2MjEud3JpdGVVMzIoMCk7DQogICAgICAgIHYyMS5hZGQoNCkud3JpdGVVMzIoMCk7DQogICAgICAgIHZhciBjYXJnb1JlZkFkZCA9IHYyMS5hZGQoOCk7DQogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWF4U29sdDsgaSsrKSB7DQogICAgICAgICAgICBjYXJnb1JlZkFkZC53cml0ZVUzMigwKTsNCiAgICAgICAgICAgIGNhcmdvUmVmQWRkID0gY2FyZ29SZWZBZGQuYWRkKDYxKTsNCiAgICAgICAgfQ0KICAgICAgICB2MjEuYWRkKDgrNjEqbWF4U29sdCkud3JpdGVVMzIoMCk7DQogICAgICAgIHYyMS5hZGQoOCs2MSptYXhTb2x0KS53cml0ZVUzMigwKTsNCiAgICAgICAgdmFyIHJlcyA9MDsNCiAgICAgICAgaWYoTXlTUUxfZ2V0X3VpbnQoZGJIYW5kZWwsMCx2MjEpIT0xKXsNCiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCd1aW50IGNhcGFjaXR5IGdldCBlcnJvcicpDQogICAgICAgICAgICByZXMgPSAwOw0KICAgICAgICB9ZWxzZSBpZihNeVNRTF9nZXRfdWludChkYkhhbmRlbCwxLHYyMS5hZGQoNCkpIT0xKXsNCiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCd1aW50IG1vbmV5IGdldCBlcnJvcicpDQogICAgICAgICAgICByZXMgPSAwOw0KICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgIHZhciB2MTAgPSBNZW1vcnkuYWxsb2MoNjEqbWF4U29sdCo0KTsNCiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNjEqbWF4U29sdDsgaSsrKSB7DQogICAgICAgICAgICAgICAgdjEwLmFkZChpKjQpLndyaXRlVTMyKDApOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdmFyIGJpbmFyeUxlbmd0aCA9IE15U1FMX2dldF9iaW5hcnlfbGVuZ3RoKGRiSGFuZGVsLDIpOw0KICAgICAgICAgICAgaWYoIE15U1FMX2dldF9iaW5hcnkoZGJIYW5kZWwsMix2MTAsIGJpbmFyeUxlbmd0aCkhPTEgKXsNCiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygncmVhZCB2YWwgbGVuZ3RoIDAnKTsNCiAgICAgICAgICAgICAgICAvLyDop6PlhrPliJvlu7rotKblj7fph5HlupPlkI7ku4DkuYjkuZ/kuI3mk43kvZwg54S25ZCO5L+d5a2Y5a2X6IqC5Li6MCDlr7zoh7TliJvlu7rnmoTmiZPkuI3lvIANCiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1heFNvbHQ7IGkrKykgew0KICAgICAgICAgICAgICAgICAgICB2MjEuYWRkKDgraSo2MSkud3JpdGVVMzIoMCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHZhciBtc2dOYW1lID0gcHRyKHB0cigweDA5NDBCRDY4KS5yZWFkVTMyKCkpOw0KICAgICAgICAgICAgICAgIE1zZ1F1ZXVlTWdyX3B1dChtc2dOYW1lLnRvSW50MzIoKSwxLHYxOCk7DQogICAgICAgICAgICAgICAgcmVzID0gMTsNCiAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgIGJpbmFyeUxlbmd0aCA9IE15U1FMX2dldF9iaW5hcnlfbGVuZ3RoKGRiSGFuZGVsLDIpOw0KICAgICAgICAgICAgICAgIHZhciB2MTdBZGRyID0gTWVtb3J5LmFsbG9jKDQpOw0KICAgICAgICAgICAgICAgIHYxN0FkZHIud3JpdGVJbnQoNjEqbWF4U29sdCkNCiAgICAgICAgICAgICAgICBpZih1bmNvbXByZXNzX3ppcCh2MjEuYWRkKDgpLCB2MTdBZGRyLCB2MTAsIGJpbmFyeUxlbmd0aCkgIT0xKXsNCiAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coInVuY29tcHJlc3NfemlwIGVycm9yICAhISEiKQ0KICAgICAgICAgICAgICAgICAgICByZXMgPSAwOw0KICAgICAgICAgICAgICAgIH1lbHNlIGlmKHYxN0FkZHIucmVhZFUzMigpIT0wICYmIHYxN0FkZHIucmVhZFUzMigpJSg2MSptYXhTb2x0KSAhPTApew0KICAgICAgICAgICAgICAgICAgICByZXMgPSAwOw0KICAgICAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgICAgICB2YXIgbXNnTmFtZSA9IHB0cihwdHIoMHgwOTQwQkQ2OCkucmVhZFUzMigpKTsNCiAgICAgICAgICAgICAgICAgICAgTXNnUXVldWVNZ3JfcHV0KG1zZ05hbWUudG9JbnQzMigpLDEsdjE4KTsNCiAgICAgICAgICAgICAgICAgICAgcmVzID0gMTsNCg0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygidjE3IGxlbmd0aDoiK3YxN0FkZHIucmVhZFUzMigpKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICAvLyBjb25zb2xlLmxvZygnbW9uZXkgb3IgY2FwYWNpdHk6Jyt2MjEucmVhZFUzMigpKycsJyt2MjEuYWRkKDQpLnJlYWRVMzIoKSsnLCcrdjIxLmFkZCg4KS5yZWFkVTMyKCkrJyAsJytyZXMpDQogICAgICAgIERlc3Ryb3lfQ1N0cmVhbUd1YXJkX0NTdHJlYW1HdWFyZCh2MTgpOw0KICAgICAgICByZXR1cm4gcmVzOw0KICAgIH0sICdpbnQnLCBbJ3BvaW50ZXInLCdpbnQnLCdpbnQnLCdwb2ludGVyJ10pKTsNCn0NCg0KZnVuY3Rpb24gUmVzZXRTbG90KG1heFNvbHQpew0KICAgIEludGVyY2VwdG9yLnJlcGxhY2UocHRyKDB4MDgyODk4QzApLCBuZXcgTmF0aXZlQ2FsbGJhY2soZnVuY3Rpb24gKGNhcmdvUmVmLHNvbHQpIHsNCiAgICAgICAgdmFyIGFjY0lkID0gIGdldFVzZXJBY2NJZChjYXJnb1JlZik7DQogICAgICAgIGlmKGFjY0lkID09IC0xKXsNCiAgICAgICAgICAgIHJldHVybiAwOw0KICAgICAgICB9DQogICAgICAgIC8vIGNvbnNvbGUubG9nKCdSZXNldFNsb3QtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0nK2NhcmdvUmVmKQ0KICAgICAgICBpZihDQWNjb3VudENhcmdvX0NoZWNrVmFsaWRTbG90KGNhcmdvUmVmLHNvbHQpPT0wKXsNCiAgICAgICAgICAgIHJldHVybiAwOw0KICAgICAgICB9DQogICAgICAgIGNhcmdvUmVmID0gZ2V0Q2FyZ29SZWYoYWNjSWQsY2FyZ29SZWYpOw0KICAgICAgICByZXR1cm4gSW52ZW5fSXRlbV9yZXNldChjYXJnb1JlZi5hZGQoNjEqc29sdCs0KSk7DQogICAgfSwgJ2ludCcsIFsncG9pbnRlcicsJ2ludCddKSk7DQp9DQoNCmZ1bmN0aW9uIEdldFNsb3QobWF4U29sdCl7DQogICAgSW50ZXJjZXB0b3IucmVwbGFjZShwdHIoMHgwODI4OThGOCksIG5ldyBOYXRpdmVDYWxsYmFjayhmdW5jdGlvbiAoYnVmZixjYXJnbyxzb2x0KSB7DQogICAgICAgIHZhciBjYXJnb1JlZiA9IHB0cihjYXJnbyk7DQogICAgICAgIHZhciBhY2NJZCA9ICBnZXRVc2VyQWNjSWQoY2FyZ29SZWYpOw0KICAgICAgICBpZihhY2NJZCA9PSAtMSl7DQogICAgICAgICAgICByZXR1cm4gYnVmZjsNCiAgICAgICAgfQ0KICAgICAgICAvLyBjb25zb2xlLmxvZygnR2V0U2xvdC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLScrY2FyZ29SZWYpDQogICAgICAgIGNhcmdvUmVmID0gZ2V0Q2FyZ29SZWYoYWNjSWQsY2FyZ29SZWYpOw0KICAgICAgICBpZihDQWNjb3VudENhcmdvX0NoZWNrVmFsaWRTbG90KGNhcmdvUmVmLHNvbHQpPT0wKXsNCiAgICAgICAgICAgIGJ1ZmYud3JpdGVVMzIoY2FyZ29SZWYuYWRkKDYxKnNvbHQrNCkucmVhZFUzMigpKTsNCiAgICAgICAgICAgIGJ1ZmYuYWRkKDEqNCkud3JpdGVVMzIoMCk7DQogICAgICAgICAgICBidWZmLmFkZCgyKjQpLndyaXRlVTMyKDApOw0KICAgICAgICAgICAgYnVmZi5hZGQoMyo0KS53cml0ZVUzMigwKTsNCiAgICAgICAgICAgIGJ1ZmYuYWRkKDQqNCkud3JpdGVVMzIoMCk7DQogICAgICAgICAgICBidWZmLmFkZCg1KjQpLndyaXRlVTMyKDApOw0KICAgICAgICAgICAgYnVmZi5hZGQoNio0KS53cml0ZVUzMigwKTsNCiAgICAgICAgICAgIGJ1ZmYuYWRkKDcqNCkud3JpdGVVMzIoMCk7DQogICAgICAgICAgICBidWZmLmFkZCg4KjQpLndyaXRlVTMyKDApOw0KICAgICAgICAgICAgYnVmZi5hZGQoOSo0KS53cml0ZVUzMigwKTsNCiAgICAgICAgICAgIGJ1ZmYuYWRkKDEwKjQpLndyaXRlVTMyKDApOw0KICAgICAgICAgICAgYnVmZi5hZGQoMTEqNCkud3JpdGVVMzIoMCk7DQogICAgICAgICAgICBidWZmLmFkZCgxMio0KS53cml0ZVUzMigwKTsNCiAgICAgICAgICAgIGJ1ZmYuYWRkKDEzKjQpLndyaXRlVTMyKDApOw0KICAgICAgICAgICAgYnVmZi5hZGQoMTQqNCkud3JpdGVVMzIoMCk7DQogICAgICAgICAgICBidWZmLmFkZCg2MCkud3JpdGVVOCgwKTsNCiAgICAgICAgfWVsc2Ugew0KICAgICAgICAgICAgYnVmZi53cml0ZVUzMihjYXJnb1JlZi5hZGQoNjEqc29sdCs0KS5yZWFkVTMyKCkpOw0KICAgICAgICAgICAgYnVmZi5hZGQoMSo0KS53cml0ZVUzMihjYXJnb1JlZi5hZGQoNjEqc29sdCs4KS5yZWFkVTMyKCkpOw0KICAgICAgICAgICAgYnVmZi5hZGQoMio0KS53cml0ZVUzMihjYXJnb1JlZi5hZGQoNjEqc29sdCsxMikucmVhZFUzMigpKTsNCiAgICAgICAgICAgIGJ1ZmYuYWRkKDMqNCkud3JpdGVVMzIoY2FyZ29SZWYuYWRkKDYxKnNvbHQrMTYpLnJlYWRVMzIoKSk7DQogICAgICAgICAgICBidWZmLmFkZCg0KjQpLndyaXRlVTMyKGNhcmdvUmVmLmFkZCg2MSpzb2x0KzIwKS5yZWFkVTMyKCkpOw0KICAgICAgICAgICAgYnVmZi5hZGQoNSo0KS53cml0ZVUzMihjYXJnb1JlZi5hZGQoNjEqc29sdCsyNCkucmVhZFUzMigpKTsNCiAgICAgICAgICAgIGJ1ZmYuYWRkKDYqNCkud3JpdGVVMzIoY2FyZ29SZWYuYWRkKDYxKnNvbHQrMjgpLnJlYWRVMzIoKSk7DQogICAgICAgICAgICBidWZmLmFkZCg3KjQpLndyaXRlVTMyKGNhcmdvUmVmLmFkZCg2MSpzb2x0KzMyKS5yZWFkVTMyKCkpOw0KICAgICAgICAgICAgYnVmZi5hZGQoOCo0KS53cml0ZVUzMihjYXJnb1JlZi5hZGQoNjEqc29sdCszNikucmVhZFUzMigpKTsNCiAgICAgICAgICAgIGJ1ZmYuYWRkKDkqNCkud3JpdGVVMzIoY2FyZ29SZWYuYWRkKDYxKnNvbHQrNDApLnJlYWRVMzIoKSk7DQogICAgICAgICAgICBidWZmLmFkZCgxMCo0KS53cml0ZVUzMihjYXJnb1JlZi5hZGQoNjEqc29sdCs0NCkucmVhZFUzMigpKTsNCiAgICAgICAgICAgIGJ1ZmYuYWRkKDExKjQpLndyaXRlVTMyKGNhcmdvUmVmLmFkZCg2MSpzb2x0KzQ4KS5yZWFkVTMyKCkpOw0KICAgICAgICAgICAgYnVmZi5hZGQoMTIqNCkud3JpdGVVMzIoY2FyZ29SZWYuYWRkKDYxKnNvbHQrNTIpLnJlYWRVMzIoKSk7DQogICAgICAgICAgICBidWZmLmFkZCgxMyo0KS53cml0ZVUzMihjYXJnb1JlZi5hZGQoNjEqc29sdCs1NikucmVhZFUzMigpKTsNCiAgICAgICAgICAgIGJ1ZmYuYWRkKDE0KjQpLndyaXRlVTMyKGNhcmdvUmVmLmFkZCg2MSpzb2x0KzYwKS5yZWFkVTMyKCkpOw0KICAgICAgICAgICAgYnVmZi5hZGQoNjApLndyaXRlVTgoY2FyZ29SZWYuYWRkKDYxKnNvbHQrNjQpLnJlYWRVOCgpKTsNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gYnVmZjsNCiAgICB9LCAncG9pbnRlcicsIFsncG9pbnRlcicsJ2ludCcsJ2ludCddKSk7DQp9DQoNCmZ1bmN0aW9uIEdldFNsb3RSZWYobWF4U29sdCl7DQogICAgSW50ZXJjZXB0b3IucmVwbGFjZShwdHIoMHgwODI4OUEwQyksIG5ldyBOYXRpdmVDYWxsYmFjayhmdW5jdGlvbiAoY2FyZ29SZWYsc29sdCkgew0KICAgICAgICB2YXIgYWNjSWQgPSAgZ2V0VXNlckFjY0lkKGNhcmdvUmVmKTsNCiAgICAgICAgaWYoYWNjSWQgPT0gLTEpew0KICAgICAgICAgICAgcmV0dXJuIDA7DQogICAgICAgIH0NCiAgICAgICAgLy8gY29uc29sZS5sb2coIkdldFNsb3RSZWYgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIitjYXJnb1JlZikNCiAgICAgICAgaWYoQ0FjY291bnRDYXJnb19DaGVja1ZhbGlkU2xvdChjYXJnb1JlZixzb2x0KT09MCl7DQogICAgICAgICAgICByZXR1cm4gMDsNCiAgICAgICAgfQ0KICAgICAgICBjYXJnb1JlZi5hZGQoMTIrNjEqNTYpLndyaXRlVTgoMSk7IC8vIOagh+W/lw0KICAgICAgICBjYXJnb1JlZiA9IGdldENhcmdvUmVmKGFjY0lkLGNhcmdvUmVmKTsNCiAgICAgICAgY2FyZ29SZWYuYWRkKDEyKzYxKm1heFNvbHQpLndyaXRlVTgoMSk7IC8vIOagh+W/lw0KICAgICAgICByZXR1cm4gY2FyZ29SZWYuYWRkKDYxKnNvbHQrNCk7DQogICAgfSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInLCdpbnQnXSkpOw0KfQ0KDQovLyB0b2RvIOayoeacieWGmeabv+aNog0KZnVuY3Rpb24gQ2hlY2tJbnNlcnRDb25kaXRpb24obWF4U29sdCl7DQogICAgSW50ZXJjZXB0b3IucmVwbGFjZShwdHIoMHgwODI4OUE0QSksIG5ldyBOYXRpdmVDYWxsYmFjayhmdW5jdGlvbiAoY2FyZ29SZWYsaXRlbUludmVuKSB7DQogICAgICAgIHZhciBhY2NJZCA9ICBnZXRVc2VyQWNjSWQoY2FyZ29SZWYpOw0KICAgICAgICBpZihhY2NJZCA9PSAtMSl7DQogICAgICAgICAgICByZXR1cm4gMDsNCiAgICAgICAgfQ0KICAgICAgICAvLyBjb25zb2xlLmxvZygnQ2hlY2tJbnNlcnRDb25kaXRpb24tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0nK2NhcmdvUmVmKQ0KICAgICAgICB2YXIgaXRlbUlkID0gaXRlbUludmVuLmFkZCgyKS5yZWFkVTMyKCk7DQogICAgICAgIHZhciBpdGVtID0gQ0RhdGFNYW5hZ2VyX2ZpbmRfaXRlbShHX0NEYXRhTWFuYWdlcigpLGl0ZW1JZCk7DQogICAgICAgIGlmKGl0ZW09PTApew0KICAgICAgICAgICAgcmV0dXJuIDA7DQogICAgICAgIH0NCiAgICAgICAgaWYoQ0l0ZW1faXNQYWNrYWdhYmxlKGl0ZW0pIT0xKXsNCiAgICAgICAgICAgIHJldHVybiAwOw0KICAgICAgICB9DQogICAgICAgIHZhciBsb2NrID0gc3RBbXBsaWZ5T3B0aW9uX3RfR2V0TG9jayhpdGVtSW52ZW4uYWRkKDE3KSk7DQogICAgICAgIGlmKGxvY2shPTApew0KICAgICAgICAgICAgdmFyIGNoYXJhY0V4cGFuZERhdGFSID0gQ1VzZXJfR2V0Q2hhcmFjRXhwYW5kRGF0YVIoY2FyZ29SZWYucmVhZFUzMigpLDIpOw0KICAgICAgICAgICAgaWYoaXRlbV9sb2NrX0NJdGVtTG9ja19DaGVja0l0ZW1Mb2NrKGNoYXJhY0V4cGFuZERhdGFSLGxvY2spIT0wKXsNCiAgICAgICAgICAgICAgICByZXR1cm4gMDsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICB2YXIgdHlwZVZhbCA9IGl0ZW1JbnZlbi5hZGQoMSkucmVhZFU4KCk7DQogICAgICAgIGlmKHR5cGVWYWw9PTR8fHR5cGVWYWw9PTV8fHR5cGVWYWw9PTZ8fHR5cGVWYWw9PTd8fHR5cGVWYWw9PTgpew0KICAgICAgICAgICAgcmV0dXJuIDA7DQogICAgICAgIH0NCiAgICAgICAgaWYoaXRlbUlkPjB4MTk2MyAmJiBpdGVtSWQ8PTB4MUI1Nyl7DQogICAgICAgICAgICByZXR1cm4gMDsNCiAgICAgICAgfQ0KICAgICAgICB2YXIgYXR0YWNoVHlwZSA9IENJdGVtX0dldEF0dGFjaFR5cGUoaXRlbSk7DQogICAgICAgIGlmKGF0dGFjaFR5cGU9PTEgfHwgYXR0YWNoVHlwZT09Mil7DQogICAgICAgICAgICByZXR1cm4gMDsNCiAgICAgICAgfQ0KICAgICAgICBpZihhdHRhY2hUeXBlID09IDMgJiYgaXRlbUludmVuLnJlYWRVOCgpIT0xKXsNCiAgICAgICAgICAgIHJldHVybiAwOw0KICAgICAgICB9DQogICAgICAgIGlmKFVwZ3JhZGVTZXBhcmF0ZUluZm9fSXNUcmFkZVJlc3RyaWN0aW9uKGl0ZW1JbnZlbi5hZGQoNTEpKSAhPTApew0KICAgICAgICAgICAgcmV0dXJuIDA7DQogICAgICAgIH0NCiAgICAgICAgdmFyIHRlbXBNZXRob2QgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKGl0ZW0uYWRkKDE2KjQpLnJlYWRVMzIoKSksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KICAgICAgICAvLyB8fHRlbXBNZXRob2QoaXRlbSk9PTENCiAgICAgICAgdmFyIGlzR01Vc2VyID0gQ1VzZXJfaXNHTVVzZXIocHRyKGNhcmdvUmVmLnJlYWRVMzIoKSkpOw0KICAgICAgICBpZihpc0dNVXNlcj09MSl7DQogICAgICAgICAgICByZXR1cm4gMTsNCiAgICAgICAgfQ0KICAgICAgICBpZihDSXRlbV9nZXRVc2FibGVQZXJpb2QoaXRlbSk9PTAgJiYgQ0l0ZW1fZ2V0RXhwaXJhdGlvbkRhdGUoaXRlbSk9PTApew0KICAgICAgICAgICAgcmV0dXJuIDE7DQogICAgICAgIH0NCiAgICAgICAgaWYoQ0l0ZW1fZ2V0VXNhYmxlUGVyaW9kKGl0ZW0pPT0wICYmIENJdGVtX2dldEV4cGlyYXRpb25EYXRlKGl0ZW0pPT0wKXsNCiAgICAgICAgICAgIHJldHVybiAwOw0KICAgICAgICB9DQogICAgICAgIHZhciBleHBEYXRlID0gODY0MDAgKiBpdGVtSW52ZW4uYWRkKDExKS5yZWFkVTE2KCkrMTE1MTY4MzIwMDsNCiAgICAgICAgcmV0dXJuIGV4cERhdGUgPiBDU3lzdGVtVGltZV9nZXRDdXJTZWMocHRyKDB4MDk0MUY3MTQpKT8xOjA7DQogICAgfSwgJ2ludCcsIFsncG9pbnRlcicsJ3BvaW50ZXInXSkpOw0KfQ0KDQpmdW5jdGlvbiBDaGVja1Nsb3RFbXB0eShtYXhTb2x0KXsNCiAgICBJbnRlcmNlcHRvci5yZXBsYWNlKHB0cigweDA4MjhBNUQ0KSwgbmV3IE5hdGl2ZUNhbGxiYWNrKGZ1bmN0aW9uIChjYXJnb1JlZixzb2x0KSB7DQogICAgICAgIHZhciBhY2NJZCA9ICBnZXRVc2VyQWNjSWQoY2FyZ29SZWYpOw0KICAgICAgICBpZihhY2NJZCA9PSAtMSl7DQogICAgICAgICAgICByZXR1cm4gMDsNCiAgICAgICAgfQ0KICAgICAgICAvLyBjb25zb2xlLmxvZygnQ2hlY2tTbG90RW1wdHktLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0nK2NhcmdvUmVmKQ0KICAgICAgICB2YXIgYnVmZkNhcmdvUmVmID0gZ2V0Q2FyZ29SZWYoYWNjSWQsY2FyZ29SZWYpOw0KICAgICAgICAvLyBjb25zb2xlLmxvZygiQ2hlY2tTbG90RW1wdHkgYWNjSWQ6IithY2NJZCkNCiAgICAgICAgcmV0dXJuIChDQWNjb3VudENhcmdvX0NoZWNrVmFsaWRTbG90KGNhcmdvUmVmLHNvbHQpIT0wICYmIGJ1ZmZDYXJnb1JlZi5hZGQoNjEqc29sdCs2KS5yZWFkVTMyKCkhPTApPzE6MDsNCiAgICB9LCAnaW50JywgWydwb2ludGVyJywnaW50J10pKTsNCn0NCg0KZnVuY3Rpb24gQ2hlY2tTdGFja0xpbWl0KG1heFNvbHQpew0KICAgIEludGVyY2VwdG9yLnJlcGxhY2UocHRyKDB4MDgyOEE2NzApLCBuZXcgTmF0aXZlQ2FsbGJhY2soZnVuY3Rpb24gKGNhcmdvUmVmLHNvbHQsaXRlbUlkLHNpemUpIHsNCiAgICAgICAgdmFyIGFjY0lkID0gIGdldFVzZXJBY2NJZChjYXJnb1JlZik7DQogICAgICAgIGlmKGFjY0lkID09IC0xKXsNCiAgICAgICAgICAgIHJldHVybiAwOw0KICAgICAgICB9DQogICAgICAgIC8vIGNvbnNvbGUubG9nKCdDaGVja1N0YWNrTGltaXQtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0nK2NhcmdvUmVmKQ0KICAgICAgICBpZihDQWNjb3VudENhcmdvX0NoZWNrVmFsaWRTbG90KGNhcmdvUmVmLHNvbHQpPT0wKXsNCiAgICAgICAgICAgIHJldHVybiAwOw0KICAgICAgICB9DQogICAgICAgIGNhcmdvUmVmID0gZ2V0Q2FyZ29SZWYoYWNjSWQsY2FyZ29SZWYpOzsNCiAgICAgICAgaWYoY2FyZ29SZWYuYWRkKDYxKnNvbHQrNikucmVhZFUzMigpICE9IGl0ZW1JZCl7DQogICAgICAgICAgICByZXR1cm4gMDsNCiAgICAgICAgfQ0KICAgICAgICB2YXIgaXRlbSA9IENEYXRhTWFuYWdlcl9maW5kX2l0ZW0oR19DRGF0YU1hbmFnZXIoKSxpdGVtSWQpOw0KICAgICAgICBpZihpdGVtPT0wKXsNCiAgICAgICAgICAgIHJldHVybiAwOw0KICAgICAgICB9DQogICAgICAgIGlmKENJdGVtX2lzX3N0YWNrYWJsZShpdGVtKSE9MSl7DQogICAgICAgICAgICByZXR1cm4gMDsNCiAgICAgICAgfQ0KICAgICAgICB2YXIgYWxsU2l6ZSA9IHNpemUgKyBjYXJnb1JlZi5hZGQoNjEqc29sdCsxMSkucmVhZFUzMigpOw0KICAgICAgICB2YXIgbGltaXQgPSBDU3RhY2thYmxlSXRlbV9nZXRTdGFja2FibGVMaW1pdChpdGVtKTsNCiAgICAgICAgcmV0dXJuIGxpbWl0PCBhbGxTaXplfHxhbGxTaXplPDAgPyAwOjE7DQogICAgfSwgJ2ludCcsIFsncG9pbnRlcicsJ2ludCcsJ2ludCcsJ2ludCddKSk7DQp9DQoNCmZ1bmN0aW9uIE1ha2VJdGVtUGFja2V0KG1heFNvbHQpew0KICAgIEludGVyY2VwdG9yLnJlcGxhY2UocHRyKDB4MDgyOEFCMUMpLCBuZXcgTmF0aXZlQ2FsbGJhY2soZnVuY3Rpb24gKGNhcmdvUmVmLGJ1ZmYsc29sdCkgew0KICAgICAgICB2YXIgYWNjSWQgPSAgZ2V0VXNlckFjY0lkKGNhcmdvUmVmKTsNCiAgICAgICAgaWYoYWNjSWQgPT0gLTEpew0KICAgICAgICAgICAgcmV0dXJuIDA7DQogICAgICAgIH0NCiAgICAgICAgLy8gY29uc29sZS5sb2coJ01ha2VJdGVtUGFja2V0LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tJytjYXJnb1JlZikNCiAgICAgICAgY2FyZ29SZWYgPSBnZXRDYXJnb1JlZihhY2NJZCxjYXJnb1JlZik7DQogICAgICAgIC8vIGNvbnNvbGUubG9nKCJNYWtlSXRlbVBhY2tldCBhY2NJZDoiK2FjY0lkKQ0KICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X3Nob3J0KGJ1ZmYsIHNvbHQpOw0KICAgICAgICBpZiAoIGNhcmdvUmVmLmFkZCg2MSpzb2x0KzYpLnJlYWRVMzIoKSAhPTAgKSB7DQogICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2ludChidWZmLCBjYXJnb1JlZi5hZGQoNjEqc29sdCs2KS5yZWFkVTMyKCkpOw0KICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9pbnQoYnVmZiwgY2FyZ29SZWYuYWRkKDYxKnNvbHQrMTEpLnJlYWRVMzIoKSk7DQogICAgICAgICAgICB2YXIgaW50ZWdyYXRlZFB2UEl0ZW1BdHRyID0gR2V0SW50ZWdyYXRlZFB2UEl0ZW1BdHRyKGNhcmdvUmVmLmFkZCg2MSpzb2x0KzQpKTsNCiAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfYnl0ZShidWZmLCBpbnRlZ3JhdGVkUHZQSXRlbUF0dHIpOw0KICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9zaG9ydChidWZmLCBjYXJnb1JlZi5hZGQoNjEqc29sdCsxNSkucmVhZFUxNigpKTsNCiAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfYnl0ZShidWZmLCBjYXJnb1JlZi5hZGQoNjEqc29sdCs0KS5yZWFkVTgoKSk7DQogICAgICAgICAgICBpZiAoIEdhbWVXb3JsZF9Jc0VuY2hhbnRSZXZpc2lvbkNoYW5uZWwoR19HYW1lV29ybGQoKSkhPTAgKXsNCiAgICAgICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2ludChidWZmLCAwKTsNCiAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfaW50KGJ1ZmYsIGNhcmdvUmVmLmFkZCg2MSpzb2x0KzE3KS5yZWFkVTMyKCkpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdmFyIGFiaWxpdHlUeXBlID0gc3RBbXBsaWZ5T3B0aW9uX3RfZ2V0QWJpbGl0eVR5cGUoY2FyZ29SZWYuYWRkKDYxKnNvbHQrMjEpKTsNCiAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfYnl0ZShidWZmLCBhYmlsaXR5VHlwZSk7DQogICAgICAgICAgICB2YXIgYWJpbGl0eVZhbHVlID0gc3RBbXBsaWZ5T3B0aW9uX3RfZ2V0QWJpbGl0eVZhbHVlKGNhcmdvUmVmLmFkZCg2MSpzb2x0KzIxKSk7DQogICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X3Nob3J0KGJ1ZmYsIGFiaWxpdHlWYWx1ZSk7DQogICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2J5dGUoYnVmZiwgMCk7DQogICAgICAgICAgICByZXR1cm4gSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9wYWNrZXQoYnVmZiwgY2FyZ29SZWYuYWRkKDYxKnNvbHQrNCkpOw0KICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfaW50KGJ1ZmYsIC0xKTsNCiAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfaW50KGJ1ZmYsIDApOw0KICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9ieXRlKGJ1ZmYsIDApOw0KICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9zaG9ydChidWZmLCAwKTsNCiAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfYnl0ZShidWZmLCAwKTsNCiAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfaW50KGJ1ZmYsIDApOw0KICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9ieXRlKGJ1ZmYsIDApOw0KICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9zaG9ydChidWZmLCAwKTsNCiAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfYnl0ZShidWZmLCAwKTsNCiAgICAgICAgICAgIHJldHVybiBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X3BhY2tldChidWZmLCBwdHIoMHgwOTQzRERDMCkucmVhZFBvaW50ZXIoKSk7DQogICAgICAgIH0NCiAgICB9LCAnaW50JywgWydwb2ludGVyJywncG9pbnRlcicsJ2ludCddKSk7DQp9DQoNCmZ1bmN0aW9uIEdldEFjY291bnRDYXJnbygpew0KICAgIEludGVyY2VwdG9yLnJlcGxhY2UocHRyKDB4MDgyMmZjMjIpLCBuZXcgTmF0aXZlQ2FsbGJhY2soZnVuY3Rpb24gKGNhcmdvUmVmKSB7DQogICAgICAgIC8vIHZhciBhY2NJZCA9ICBDVXNlcl9nZXRfYWNjX2lkKGNhcmdvUmVmKTsNCiAgICAgICAgLy8gaWYoYWNjSWQgPT0gLTEpew0KICAgICAgICAvLyAgICAgcmV0dXJuIDA7DQogICAgICAgIC8vIH0NCiAgICAgICAgY29uc29sZS5sb2coJ0dldEFjY291bnRDYXJnby0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLScrY2FyZ29SZWYpDQogICAgICAgIC8vIGlmKGFjY291bnRDYXJnZm9bYWNjSWRdKXsNCiAgICAgICAgLy8gICAgIHJldHVybiAgYWNjb3VudENhcmdmb1thY2NJZF07DQogICAgICAgIC8vIH0NCiAgICAgICAgLy8g6L+U5Zue5Y6f5p2l55qE5Zyw5Z2ADQogICAgICAgIHJldHVybiBjYXJnb1JlZi5hZGQoNDU0NjUyKTsNCiAgICB9LCAncG9pbnRlcicsIFsncG9pbnRlciddKSk7DQp9DQoNCmZ1bmN0aW9uICBEQl9TYXZlQWNjb3VudENhcmdvX21ha2VSZXF1ZXN0KG1heFNvbHQpew0KICAgIEludGVyY2VwdG9yLnJlcGxhY2UocHRyKDB4MDg0M0I5NDYpLCBuZXcgTmF0aXZlQ2FsbGJhY2soZnVuY3Rpb24gKGExLGEyLGNhcmdvKSB7DQogICAgICAgIGNvbnNvbGUubG9nKCJEQl9TYXZlQWNjb3VudENhcmdvX21ha2VSZXF1ZXN0LS0tLS0tLS0tIitwdHIoY2FyZ28pKycsJythMSsnLCwsJythMik7DQogICAgICAgIHZhciBjYXJnb1JlZiA9IHB0cihjYXJnbyk7DQogICAgICAgIHZhciBhY2NJZCA9ICBnZXRVc2VyQWNjSWQoY2FyZ29SZWYpOw0KICAgICAgICAvLyBjb25zb2xlLmxvZygnbWFrZVJlcXVlc3QtLS0tLS1hY2NJZC0tLS0tJythY2NJZCk7DQogICAgICAgIGNhcmdvUmVmID0gZ2V0Q2FyZ29SZWYoYWNjSWQsY2FyZ29SZWYpOw0KICAgICAgICB2YXIgdjggPSBNZW1vcnkuYWxsb2MoNjEqbWF4U29sdCs5KTsNCiAgICAgICAgdmFyIHYzID0gU3RyZWFtUG9vbF9BY3F1aXJlKHB0cihwdHIoMHgwOTQwQkQ2QykucmVhZFUzMigpKSxNZW1vcnkuYWxsb2NVdGY4U3RyaW5nKCdEQlRocmVhZC5jcHAnKSwzNTk5OSk7DQogICAgICAgIENTdHJlYW1HdWFyZF9DU3RyZWFtR3VhcmQodjgsdjMsMSk7DQogICAgICAgIHZhciB2NCA9IENTdHJlYW1HdWFyZF9vcGVyYXRvcih2OC50b0ludDMyKCkpOw0KICAgICAgICBDU3RyZWFtR3VhcmRfb3BlcmF0b3JfaW50KHB0cih2NCksNDk3KTsNCiAgICAgICAgdmFyIHY1ID0gQ1N0cmVhbUd1YXJkX29wZXJhdG9yKHY4LnRvSW50MzIoKSk7DQogICAgICAgIENTdHJlYW1HdWFyZF9vcGVyYXRvcl9pbnQocHRyKHY1KSxhMS50b0ludDMyKCkpOw0KICAgICAgICB2YXIgdjYgPSBDU3RyZWFtR3VhcmRfb3BlcmF0b3IodjgudG9JbnQzMigpKTsNCiAgICAgICAgQ1N0cmVhbUd1YXJkX29wZXJhdG9yX2ludChwdHIodjYpLGEyKTsNCiAgICAgICAgdmFyIHY3ID0gQ1N0cmVhbUd1YXJkX29wZXJhdG9yX3AodjgudG9JbnQzMigpKTsNCiAgICAgICAgdmFyIHY5ID0gQ1N0cmVhbUd1YXJkX0dldEluQnVmZmVyX1NJR19BQ0NPVU5UX0NBUkdPX0RBVEEocHRyKHY3KSk7DQogICAgICAgIHY5LndyaXRlVTMyKDApOw0KICAgICAgICB2YXIgY2FyZ29SZWZBZGQgPSB2OS5hZGQoNCk7DQogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWF4U29sdDsgaSsrKSB7DQogICAgICAgICAgICBjYXJnb1JlZkFkZC53cml0ZVUzMigwKTsNCiAgICAgICAgICAgIGNhcmdvUmVmQWRkID0gY2FyZ29SZWZBZGQuYWRkKDYxKTsNCiAgICAgICAgfQ0KICAgICAgICB2YXIgbW9uZXkgPSBjYXJnb1JlZi5hZGQoNCs2MSptYXhTb2x0KS5yZWFkVTMyKCk7DQogICAgICAgIHZhciBjYXBhY2l0eSA9IGNhcmdvUmVmLmFkZCg4KzYxKm1heFNvbHQpLnJlYWRVMzIoKTsNCiAgICAgICAgLy8gY29uc29sZS5sb2coJ21vbmV5IG9yIGNhcGFjaXR5OicrbW9uZXkrJywnK2NhcGFjaXR5KQ0KICAgICAgICB2OS53cml0ZVUzMihjYXBhY2l0eSk7IC8vIOmSsQ0KICAgICAgICB2OS5hZGQoNCkud3JpdGVVMzIobW9uZXkpOyAvLyDlrrnph48NCiAgICAgICAgTWVtb3J5LmNvcHkodjkuYWRkKDgpLGNhcmdvUmVmLmFkZCg0KSxtYXhTb2x0KjYxKTsNCiAgICAgICAgTXNnUXVldWVNZ3JfcHV0KHB0cihwdHIoMHgwOTQwQkQ2OCkucmVhZFUzMigpKS50b0ludDMyKCksMix2OCk7DQogICAgICAgIENBY2NvdW50Q2FyZ29fU2V0U3RhYmxlKGNhcmdvUmVmKTsNCiAgICAgICAgRGVzdHJveV9DU3RyZWFtR3VhcmRfQ1N0cmVhbUd1YXJkKHY4KTsNCiAgICAgICAgLy8gY29uc29sZS5sb2coIm1ha2VSZXF1ZXN0IHN1Y2Nlc3MiKQ0KICAgIH0sICd2b2lkJywgWydwb2ludGVyJywnaW50JywndWludCddKSk7DQp9DQoNCmZ1bmN0aW9uIFNldFN0YWJsZShtYXhTb2x0KXsNCiAgICBJbnRlcmNlcHRvci5yZXBsYWNlKHB0cigweDA4NDREQzE2KSwgbmV3IE5hdGl2ZUNhbGxiYWNrKGZ1bmN0aW9uIChjYXJnb1JlZikgew0KICAgICAgICB2YXIgYWNjSWQgPSAgZ2V0VXNlckFjY0lkKGNhcmdvUmVmKTsNCiAgICAgICAgaWYoYWNjSWQgPT0gLTEpew0KICAgICAgICAgICAgcmV0dXJuIDA7DQogICAgICAgIH0NCiAgICAgICAgLy8gY29uc29sZS5sb2coIlNldFN0YWJsZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0iK2NhcmdvUmVmKQ0KICAgICAgICB2YXIgYnVmZkNhcmdvUmVmID0gZ2V0Q2FyZ29SZWYoYWNjSWQsY2FyZ29SZWYpOzsNCiAgICAgICAgYnVmZkNhcmdvUmVmLmFkZCgxMis2MSptYXhTb2x0KS53cml0ZVU4KDApOyAvLyDmoIflv5cNCiAgICAgICAgcmV0dXJuIGNhcmdvUmVmOw0KICAgIH0sICdwb2ludGVyJywgWydwb2ludGVyJ10pKTsNCn0NCg0KZnVuY3Rpb24gU2V0Q2FwYWNpdHkobWF4U29sdCl7DQogICAgSW50ZXJjZXB0b3IucmVwbGFjZShwdHIoMHgwODRFQkU0NiksIG5ldyBOYXRpdmVDYWxsYmFjayhmdW5jdGlvbiAoY2FyZ29SZWYsY2FwYWNpdHkpIHsNCiAgICAgICAgdmFyIGFjY0lkID0gIGdldFVzZXJBY2NJZChjYXJnb1JlZik7DQogICAgICAgIGlmKGFjY0lkID09IC0xKXsNCiAgICAgICAgICAgIHJldHVybiAwOw0KICAgICAgICB9DQogICAgICAgIC8vIGNvbnNvbGUubG9nKCJTZXRDYXBhY2l0eS0tLS0tLS0tLS0tLS0tLS0tLS0tIitjYXJnb1JlZikNCiAgICAgICAgdmFyIGJ1ZmZDYXJnb1JlZiA9IGdldENhcmdvUmVmKGFjY0lkLGNhcmdvUmVmKTsNCiAgICAgICAgYnVmZkNhcmdvUmVmLmFkZCg4KzYxKm1heFNvbHQpLndyaXRlVTMyKGNhcGFjaXR5KTsgLy8g5a656YePDQogICAgICAgIHJldHVybiBjYXJnb1JlZjsNCiAgICB9LCAncG9pbnRlcicsIFsncG9pbnRlcicsJ3VpbnQnXSkpOw0KfQ0KDQpmdW5jdGlvbiBJc0FsdGVyKG1heFNvbHQpew0KICAgIEludGVyY2VwdG9yLnJlcGxhY2UocHRyKDB4MDg2OTVBMEMpLCBuZXcgTmF0aXZlQ2FsbGJhY2soZnVuY3Rpb24gKGNhcmdvUmVmKSB7DQogICAgICAgIHZhciBhY2NJZCA9ICBnZXRVc2VyQWNjSWQoY2FyZ29SZWYpOw0KICAgICAgICBpZihhY2NJZCA9PSAtMSl7DQogICAgICAgICAgICByZXR1cm4gMDsNCiAgICAgICAgfQ0KICAgICAgICAvLyBjb25zb2xlLmxvZygnSXNBbHRlci0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLScrY2FyZ29SZWYpDQogICAgICAgIGNhcmdvUmVmID0gZ2V0Q2FyZ29SZWYoYWNjSWQsY2FyZ29SZWYpOzsNCiAgICAgICAgcmV0dXJuIGNhcmdvUmVmLmFkZCgxMis2MSptYXhTb2x0KS5yZWFkVTgoKTsgLy8g5qCH5b+XDQogICAgfSwgJ2ludCcsIFsncG9pbnRlciddKSk7DQp9DQoNCmZ1bmN0aW9uIFNlbmRJdGVtTGlzdChtYXhTb2x0KXsNCiAgICB2YXIgdGVtcEZ1bmMgPSBuZXcgTmF0aXZlQ2FsbGJhY2soZnVuY3Rpb24gKGNhcmdvUmVmKSB7DQogICAgICAgIC8vIGNvbnNvbGUubG9nKCJTZW5kSXRlbUxpc3QtLS0tLS0tLS0tLS0tIitjYXJnb1JlZikNCiAgICAgICAgdmFyIGFjY0lkID0gIGdldFVzZXJBY2NJZChjYXJnb1JlZik7DQogICAgICAgIGlmKGFjY0lkID09IC0xKXsNCiAgICAgICAgICAgIHJldHVybiAwOw0KICAgICAgICB9DQogICAgICAgIHZhciBidWZmQ2FyZ29SZWYgPWdldENhcmdvUmVmKGFjY0lkLGNhcmdvUmVmKTs7DQogICAgICAgIHZhciBidWZmID0gTWVtb3J5LmFsbG9jKDYxKm1heFNvbHQrOSk7DQogICAgICAgIFBhY2tldEd1YXJkX1BhY2tldEd1YXJkKGJ1ZmYpOw0KICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2hlYWRlcihidWZmLCAwLCAxMyk7DQogICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfYnl0ZShidWZmLCAxMik7DQogICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfc2hvcnQoYnVmZixidWZmQ2FyZ29SZWYuYWRkKDgrNjEqbWF4U29sdCkucmVhZFUzMigpKTsNCiAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9pbnQoYnVmZiwgYnVmZkNhcmdvUmVmLmFkZCg0KzYxKm1heFNvbHQpLnJlYWRVMzIoKSk7DQogICAgICAgIHZhciBpdGVtQ291bnQgPSBDQWNjb3VudENhcmdvX0dldEl0ZW1Db3VudChjYXJnb1JlZik7DQogICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfc2hvcnQoYnVmZiwgaXRlbUNvdW50KTsNCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGJ1ZmZDYXJnb1JlZi5hZGQoOCs2MSptYXhTb2x0KS5yZWFkVTMyKCkgPiBpOyArK2kgKSB7DQogICAgICAgICAgICBpZiAoIGJ1ZmZDYXJnb1JlZi5hZGQoNjEqaSs2KS5yZWFkVTMyKCkgIT0wICkgew0KICAgICAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfc2hvcnQoYnVmZiwgaSk7DQogICAgICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9pbnQoYnVmZiwgYnVmZkNhcmdvUmVmLmFkZCg2MSppKzYpLnJlYWRVMzIoKSk7DQogICAgICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9pbnQoYnVmZiwgYnVmZkNhcmdvUmVmLmFkZCg2MSppKzExKS5yZWFkVTMyKCkpOw0KICAgICAgICAgICAgICAgIHZhciBpbnRlZ3JhdGVkUHZQSXRlbUF0dHIgPSBHZXRJbnRlZ3JhdGVkUHZQSXRlbUF0dHIoYnVmZkNhcmdvUmVmLmFkZCg2MSppKzQpKTsNCiAgICAgICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2J5dGUoYnVmZiwgaW50ZWdyYXRlZFB2UEl0ZW1BdHRyKTsNCiAgICAgICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X3Nob3J0KGJ1ZmYsIGJ1ZmZDYXJnb1JlZi5hZGQoNjEqaSsxNSkucmVhZFUxNigpKTsNCiAgICAgICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2J5dGUoYnVmZiwgYnVmZkNhcmdvUmVmLmFkZCg2MSppKzQpLnJlYWRVOCgpKTsNCiAgICAgICAgICAgICAgICBpZiAoIEdhbWVXb3JsZF9Jc0VuY2hhbnRSZXZpc2lvbkNoYW5uZWwoR19HYW1lV29ybGQoKSkhPTAgKXsNCiAgICAgICAgICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9pbnQoYnVmZiwgMCk7DQogICAgICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfaW50KGJ1ZmYsIGJ1ZmZDYXJnb1JlZi5hZGQoNjEqaSsxNykucmVhZFUzMigpKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgdmFyIGFiaWxpdHlUeXBlID0gc3RBbXBsaWZ5T3B0aW9uX3RfZ2V0QWJpbGl0eVR5cGUoYnVmZkNhcmdvUmVmLmFkZCg2MSppKzIxKSk7DQogICAgICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9ieXRlKGJ1ZmYsIGFiaWxpdHlUeXBlKTsNCiAgICAgICAgICAgICAgICB2YXIgYWJpbGl0eVZhbHVlID0gc3RBbXBsaWZ5T3B0aW9uX3RfZ2V0QWJpbGl0eVZhbHVlKGJ1ZmZDYXJnb1JlZi5hZGQoNjEqaSsyMSkpOw0KICAgICAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfc2hvcnQoYnVmZiwgYWJpbGl0eVZhbHVlKTsNCiAgICAgICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2J5dGUoYnVmZiwgMCk7DQogICAgICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9wYWNrZXQoYnVmZiwgYnVmZkNhcmdvUmVmLmFkZCg2MSppKzQpKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfZmluYWxpemUoYnVmZiwgMSk7DQogICAgICAgIHZhciB2NiA9IENVc2VyX1NlbmQocHRyKGNhcmdvUmVmLnJlYWRVMzIoKSksIGJ1ZmYpOw0KICAgICAgICBEZXN0cm95X1BhY2tldEd1YXJkX1BhY2tldEd1YXJkKGJ1ZmYpOw0KICAgICAgICByZXR1cm4gdjY7DQogICAgfSwgJ2ludCcsIFsncG9pbnRlciddKTsNCiAgICBDQWNjb3VudENhcmdvX1NlbmRJdGVtTGlzdF9ORVcgPSAgbmV3IE5hdGl2ZUZ1bmN0aW9uKHRlbXBGdW5jLCAnaW50JywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCiAgICBJbnRlcmNlcHRvci5yZXBsYWNlKHB0cigweDA4MjhhODhhKSwgdGVtcEZ1bmMpOw0KfQ0KDQpmdW5jdGlvbiBTZW5kTm90aWZ5TW9uZXkobWF4U29sdCl7DQogICAgSW50ZXJjZXB0b3IucmVwbGFjZShwdHIoMHgwODI4QTdEQyksIG5ldyBOYXRpdmVDYWxsYmFjayhmdW5jdGlvbiAoY2FyZ28sYTIpIHsNCiAgICAgICAgLy8gY29uc29sZS5sb2coIlNlbmROb3RpZnlNb25leS0tLS0tLS0tLS0tLSIrcHRyKGNhcmdvKSkNCiAgICAgICAgdmFyIGNhcmdvUmVmID0gcHRyKGNhcmdvKTsNCiAgICAgICAgdmFyIGFjY0lkID0gIGdldFVzZXJBY2NJZChjYXJnb1JlZik7DQogICAgICAgIGlmKGFjY0lkID09IC0xKXsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfQ0KICAgICAgICB2YXIgYnVmZkNhcmdvUmVmID0gZ2V0Q2FyZ29SZWYoYWNjSWQsY2FyZ29SZWYpOzsNCiAgICAgICAgdmFyIGJ1ZmYgPSBNZW1vcnkuYWxsb2MoMjApOw0KICAgICAgICBQYWNrZXRHdWFyZF9QYWNrZXRHdWFyZChidWZmKTsNCiAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9oZWFkZXIoYnVmZiwgMSwgYTIpOw0KICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2J5dGUoYnVmZiwgMSk7DQogICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfaW50KGJ1ZmYsIGJ1ZmZDYXJnb1JlZi5hZGQoNCs2MSptYXhTb2x0KS5yZWFkVTMyKCkpOw0KICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfZmluYWxpemUoYnVmZiwgMSk7DQogICAgICAgIENVc2VyX1NlbmQocHRyKGNhcmdvUmVmLnJlYWRVMzIoKSksIGJ1ZmYpOw0KICAgICAgICBEZXN0cm95X1BhY2tldEd1YXJkX1BhY2tldEd1YXJkKGJ1ZmYpOw0KICAgIH0sICd2b2lkJywgWydpbnQnLCdpbnQnXSkpOw0KfQ0KDQpmdW5jdGlvbiBHZXRJdGVtQ291bnQobWF4U29sdCl7DQogICAgSW50ZXJjZXB0b3IucmVwbGFjZShwdHIoMHgwODI4QTc5NCksIG5ldyBOYXRpdmVDYWxsYmFjayhmdW5jdGlvbiAoY2FyZ29SZWYpIHsNCiAgICAgICAgdmFyIGFjY0lkID0gIGdldFVzZXJBY2NJZChjYXJnb1JlZik7DQogICAgICAgIGlmKGFjY0lkID09IC0xKXsNCiAgICAgICAgICAgIHJldHVybiAwOw0KICAgICAgICB9DQogICAgICAgIC8vIGNvbnNvbGUubG9nKCdHZXRJdGVtQ291bnQtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0nK2NhcmdvUmVmKQ0KICAgICAgICBjYXJnb1JlZiA9IGdldENhcmdvUmVmKGFjY0lkLGNhcmdvUmVmKTsNCiAgICAgICAgdmFyIGNhcCA9IGNhcmdvUmVmLmFkZCg4KzYxKm1heFNvbHQpLnJlYWRVMzIoKTsNCiAgICAgICAgdmFyIGluZGV4ID0gMDsNCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjYXA7IGkrKykgew0KICAgICAgICAgICAgaWYoIGNhcmdvUmVmLmFkZCg2MSppKzYpLnJlYWRVMzIoKSE9MCApew0KICAgICAgICAgICAgICAgIGluZGV4Kys7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgLy8gY29uc29sZS5sb2coIkdldEl0ZW1Db3VudCAgdmFsOiIraW5kZXgpDQogICAgICAgIHJldHVybiBpbmRleDsNCiAgICB9LCAnaW50JywgWydwb2ludGVyJ10pKTsNCn0NCg0KZnVuY3Rpb24gU3ViTW9uZXkobWF4U29sdCl7DQogICAgSW50ZXJjZXB0b3IucmVwbGFjZShwdHIoMHgwODI4QTc2NCksIG5ldyBOYXRpdmVDYWxsYmFjayhmdW5jdGlvbiAoY2FyZ29SZWYsbW9uZXkpIHsNCiAgICAgICAgdmFyIGFjY0lkID0gIGdldFVzZXJBY2NJZChjYXJnb1JlZik7DQogICAgICAgIGlmKGFjY0lkID09IC0xKXsNCiAgICAgICAgICAgIHJldHVybiAwOw0KICAgICAgICB9DQogICAgICAgIC8vIGNvbnNvbGUubG9nKCdTdWJNb25leS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLScpDQogICAgICAgIHZhciBidWZmQ2FyZ29SZWYgPSBnZXRDYXJnb1JlZihhY2NJZCxjYXJnb1JlZik7DQogICAgICAgIHZhciByZXM7DQogICAgICAgIGlmKG1vbmV5IT0wKXsNCiAgICAgICAgICAgIHJlcyA9IGNhcmdvUmVmOw0KICAgICAgICAgICAgdmFyIGFkZCA9IGJ1ZmZDYXJnb1JlZi5hZGQoNCs2MSptYXhTb2x0KS5yZWFkVTMyKCk7DQogICAgICAgICAgICBpZihhZGQgPj0gbW9uZXkpew0KICAgICAgICAgICAgICAgIGJ1ZmZDYXJnb1JlZi5hZGQoNCs2MSptYXhTb2x0KS53cml0ZVUzMihhZGQtbW9uZXkpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIHJldHVybiByZXM7DQogICAgfSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInLCd1aW50J10pKTsNCn0NCg0KZnVuY3Rpb24gQWRkTW9uZXkobWF4U29sdCl7DQogICAgSW50ZXJjZXB0b3IucmVwbGFjZShwdHIoMHgwODI4QTc0MiksIG5ldyBOYXRpdmVDYWxsYmFjayhmdW5jdGlvbiAoY2FyZ29SZWYsbW9uZXkpIHsNCiAgICAgICAgdmFyIGFjY0lkID0gIGdldFVzZXJBY2NJZChjYXJnb1JlZik7DQogICAgICAgIGlmKGFjY0lkID09IC0xKXsNCiAgICAgICAgICAgIHJldHVybiAwOw0KICAgICAgICB9DQogICAgICAgIC8vIGNvbnNvbGUubG9nKCdBZGRNb25leS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLScpDQogICAgICAgIHZhciBidWZmQ2FyZ29SZWYgPSBnZXRDYXJnb1JlZihhY2NJZCxjYXJnb1JlZik7DQogICAgICAgIHZhciByZXM7DQogICAgICAgIGlmKG1vbmV5IT0wKXsNCiAgICAgICAgICAgIHJlcyA9IGNhcmdvUmVmOw0KICAgICAgICAgICAgdmFyIGFkZCA9IGJ1ZmZDYXJnb1JlZi5hZGQoNCs2MSptYXhTb2x0KS5yZWFkVTMyKCk7DQogICAgICAgICAgICBidWZmQ2FyZ29SZWYuYWRkKDQrNjEqbWF4U29sdCkud3JpdGVVMzIoYWRkK21vbmV5KTsNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gcmVzOw0KICAgIH0sICdwb2ludGVyJywgWydwb2ludGVyJywndWludCddKSk7DQp9DQoNCmZ1bmN0aW9uIEdldFNwZWNpZmljSXRlbVNsb3QobWF4U29sdCl7DQogICAgSW50ZXJjZXB0b3IucmVwbGFjZShwdHIoMHgwODI4QTYxQSksIG5ldyBOYXRpdmVDYWxsYmFjayhmdW5jdGlvbiAoY2FyZ29SZWYsaXRlbUlkKSB7DQogICAgICAgIHZhciBhY2NJZCA9ICBnZXRVc2VyQWNjSWQoY2FyZ29SZWYpOw0KICAgICAgICBpZihhY2NJZCA9PSAtMSl7DQogICAgICAgICAgICByZXR1cm4gMDsNCiAgICAgICAgfQ0KICAgICAgICAvLyBjb25zb2xlLmxvZygnR2V0U3BlY2lmaWNJdGVtU2xvdC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLScrY2FyZ29SZWYpDQogICAgICAgIGNhcmdvUmVmID0gZ2V0Q2FyZ29SZWYoYWNjSWQsY2FyZ29SZWYpOw0KICAgICAgICB2YXIgY2FwID0gY2FyZ29SZWYuYWRkKDgrNjEqbWF4U29sdCkucmVhZFUzMigpOw0KICAgICAgICBpZihjYXAgPiBtYXhTb2x0KXsNCiAgICAgICAgICAgIGNhcCA9bWF4U29sdDsNCiAgICAgICAgfQ0KICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNhcDsgaSsrKSB7DQogICAgICAgICAgICBpZiggY2FyZ29SZWYuYWRkKDYxKmkrNikucmVhZFUzMigpPT1pdGVtSWQgKXsNCiAgICAgICAgICAgICAgICByZXR1cm4gaTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gLTE7DQogICAgfSwgJ2ludCcsIFsncG9pbnRlcicsJ2ludCddKSk7DQp9DQoNCmZ1bmN0aW9uIEdldEVtcHR5U2xvdChtYXhTb2x0KXsNCiAgICB2YXIgdGVtcEZ1bmMgPSBuZXcgTmF0aXZlQ2FsbGJhY2soZnVuY3Rpb24gKGNhcmdvUmVmKSB7DQogICAgICAgIHZhciBhY2NJZCA9ICBnZXRVc2VyQWNjSWQoY2FyZ29SZWYpOw0KICAgICAgICBpZihhY2NJZCA9PSAtMSl7DQogICAgICAgICAgICByZXR1cm4gMDsNCiAgICAgICAgfQ0KICAgICAgICBjb25zb2xlLmxvZygnR2V0RW1wdHlTbG90LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tJytjYXJnb1JlZikNCiAgICAgICAgY2FyZ29SZWYgPSBnZXRDYXJnb1JlZihhY2NJZCxjYXJnb1JlZik7DQogICAgICAgIGNvbnNvbGUubG9nKCJHZXRFbXB0eVNsb3QgYWNjSWQ6IithY2NJZCsnICcrY2FyZ29SZWYpDQogICAgICAgIHZhciBjYXAgPSBjYXJnb1JlZi5hZGQoOCs2MSptYXhTb2x0KS5yZWFkVTMyKCk7DQogICAgICAgIGlmKGNhcCA+IG1heFNvbHQpew0KICAgICAgICAgICAgY2FwID1tYXhTb2x0Ow0KICAgICAgICB9DQogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2FwOyBpKyspIHsNCiAgICAgICAgICAgIGlmKCBjYXJnb1JlZi5hZGQoNjEqaSs2KS5yZWFkVTMyKCk9PTAgKXsNCiAgICAgICAgICAgICAgICByZXR1cm4gaTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gLTE7DQogICAgfSwgJ2ludCcsIFsncG9pbnRlciddKTsNCiAgICBDQWNjb3VudENhcmdvX0dldEVtcHR5U2xvdF9ORVcgPSBuZXcgTmF0aXZlRnVuY3Rpb24odGVtcEZ1bmMsICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KICAgIEludGVyY2VwdG9yLnJlcGxhY2UocHRyKDB4MDgyOGE1ODApLCB0ZW1wRnVuYyk7DQp9DQoNCmZ1bmN0aW9uIENoZWNrVmFsaWRTbG90KG1heFNvbHQpew0KICAgIEludGVyY2VwdG9yLnJlcGxhY2UocHRyKDB4MDgyOEE1NTQpLCBuZXcgTmF0aXZlQ2FsbGJhY2soZnVuY3Rpb24gKGNhcmdvUmVmLHNvbHQpIHsNCiAgICAgICAgdmFyIGFjY0lkID0gIGdldFVzZXJBY2NJZChjYXJnb1JlZik7DQogICAgICAgIGlmKGFjY0lkID09IC0xKXsNCiAgICAgICAgICAgIHJldHVybiAwOw0KICAgICAgICB9DQogICAgICAgIC8vIGNvbnNvbGUubG9nKCdDaGVja1ZhbGlkU2xvdC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLScrY2FyZ29SZWYpDQogICAgICAgIGNhcmdvUmVmID0gZ2V0Q2FyZ29SZWYoYWNjSWQsY2FyZ29SZWYpOw0KICAgICAgICB2YXIgY2FwID0gY2FyZ29SZWYuYWRkKDgrNjEqbWF4U29sdCkucmVhZFUzMigpOw0KICAgICAgICByZXR1cm4gKHNvbHQ+PTAgJiYgc29sdDw9bWF4U29sdCAmJiBjYXA+c29sdCk/MTowOw0KICAgIH0sICdpbnQnLCBbJ3BvaW50ZXInLCdpbnQnXSkpOw0KfQ0KDQpmdW5jdGlvbiBDaGVja01vbmV5TGltaXQobWF4U29sdCl7DQogICAgSW50ZXJjZXB0b3IucmVwbGFjZShwdHIoMHgwODI4QTRDQSksIG5ldyBOYXRpdmVDYWxsYmFjayhmdW5jdGlvbiAoY2FyZ29SZWYsbW9uZXkpIHsNCiAgICAgICAgdmFyIGFjY0lkID0gIGdldFVzZXJBY2NJZChjYXJnb1JlZik7DQogICAgICAgIGlmKGFjY0lkID09IC0xKXsNCiAgICAgICAgICAgIHJldHVybiAwOw0KICAgICAgICB9DQogICAgICAgIC8vIGNvbnNvbGUubG9nKCdDaGVja01vbmV5TGltaXQtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0nK2NhcmdvUmVmKQ0KICAgICAgICBjYXJnb1JlZiA9IGdldENhcmdvUmVmKGFjY0lkLGNhcmdvUmVmKTsNCiAgICAgICAgdmFyIGNhcCA9IGNhcmdvUmVmLmFkZCg4KzYxKm1heFNvbHQpLnJlYWRVMzIoKTsNCiAgICAgICAgdmFyIG5vd01vbmV5ID0gY2FyZ29SZWYuYWRkKDQrNjEqbWF4U29sdCkucmVhZFUzMigpDQogICAgICAgIHZhciBtYW5hZ2VyID0gR19DRGF0YU1hbmFnZXIoKTsNCiAgICAgICAgdmFyIGN1cnJVcGZyYWRlSWZvID0gQWNjb3VudENhcmdvU2NyaXB0X0dldEN1cnJVcGdyYWRlSW5mbyhtYW5hZ2VyLmFkZCg0Mjk3NiksY2FwKTsNCiAgICAgICAgcmV0dXJuIChjdXJyVXBmcmFkZUlmbyE9MCAmJiBwdHIoY3VyclVwZnJhZGVJZm8pLmFkZCg0KS5yZWFkVTMyKCkgPj0gKG1vbmV5K25vd01vbmV5KSk/MTowOw0KICAgIH0sICdpbnQnLCBbJ3BvaW50ZXInLCd1aW50MzInXSkpOw0KfQ0KDQpmdW5jdGlvbiBXaXRoZHJhd01vbmV5KG1heFNvbHQpew0KICAgIEludGVyY2VwdG9yLnJlcGxhY2UocHRyKDB4MDgyOEEyRjYpLCBuZXcgTmF0aXZlQ2FsbGJhY2soZnVuY3Rpb24gKGNhcmdvUmVmLG1vbmV5KSB7DQogICAgICAgIC8vIGNvbnNvbGUubG9nKCJXaXRoZHJhd01vbmV5LS0tLS0tLS0tLS0tIitjYXJnb1JlZikNCiAgICAgICAgdmFyIGFjY0lkID0gIGdldFVzZXJBY2NJZChjYXJnb1JlZik7DQogICAgICAgIGlmKGFjY0lkID09IC0xKXsNCiAgICAgICAgICAgIHJldHVybiAwOw0KICAgICAgICB9DQogICAgICAgIHZhciBidWZmQ2FyZ29SZWYgPSBnZXRDYXJnb1JlZihhY2NJZCxjYXJnb1JlZik7DQogICAgICAgIHZhciBtYW5hZ2UgPSBBUkFEX1NpbmdsZXRvbl9TZXJ2aWNlUmVzdHJpY3RNYW5hZ2VyX0dldCgpOw0KICAgICAgICB2YXIgaXNSZXN0cmljdGVkID0gU2VydmljZVJlc3RyaWN0TWFuYWdlcl9pc1Jlc3RyaWN0ZWQobWFuYWdlLnRvSW50MzIoKSxjYXJnb1JlZiwxLDI2KTsNCiAgICAgICAgaWYoaXNSZXN0cmljdGVkIT0wKXsNCiAgICAgICAgICAgIENVc2VyX1NlbmRDbWRFcnJvclBhY2tldChjYXJnb1JlZiwzMDksMHhEMSk7DQogICAgICAgICAgICByZXR1cm4gMDsNCiAgICAgICAgfQ0KICAgICAgICB2YXIgY2hlY2sgPSBDU2VjdV9Qcm90ZWN0aW9uRmllbGRfQ2hlY2socHRyKHB0cigweDA5NDFGN0NDKS5yZWFkVTMyKCkpLGNhcmdvUmVmLDMpOw0KICAgICAgICBpZihjaGVjayE9MCl7DQogICAgICAgICAgICBDVXNlcl9TZW5kQ21kRXJyb3JQYWNrZXQoY2FyZ29SZWYsMzA5LGNoZWNrKTsNCiAgICAgICAgICAgIHJldHVybiAwOw0KICAgICAgICB9DQogICAgICAgIC8vIGNvbnNvbGUubG9nKCJXaXRoZHJhd01vbmV5IG5vdyBtb25leToiK21vbmV5KQ0KICAgICAgICBpZihtb25leSA+IENBY2NvdW50Q2FyZ29fR2V0TW9uZXkoY2FyZ29SZWYpIHx8IChtb25leSAmIDB4ODAwMDAwMDApICE9MCkgew0KICAgICAgICAgICAgQ1VzZXJfU2VuZENtZEVycm9yUGFja2V0KGNhcmdvUmVmLDMwOSwweEEpOw0KICAgICAgICAgICAgcmV0dXJuIDA7DQogICAgICAgIH0NCiAgICAgICAgaWYoIENVc2VyX0NoZWNrTW9uZXkocHRyKGNhcmdvUmVmLnJlYWRVMzIoKSksbW9uZXkpPT0wICl7DQogICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnQ1VzZXJfQ2hlY2tNb25leSAtLS0nKQ0KICAgICAgICAgICAgQ1VzZXJfU2VuZENtZEVycm9yUGFja2V0KGNhcmdvUmVmLDMwOCwweDVlKTsNCiAgICAgICAgICAgIHJldHVybiAwOw0KICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgIENBY2NvdW50Q2FyZ29fU3ViTW9uZXkoY2FyZ29SZWYsIG1vbmV5KTsNCiAgICAgICAgICAgIHZhciBjdXJDaGFyYWNJbnZlblcgPSBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjSW52ZW5XKHB0cihjYXJnb1JlZi5yZWFkVTMyKCkpKTsNCiAgICAgICAgICAgIGlmKENJbnZlbnRvcnlfZ2Fpbl9tb25leShjdXJDaGFyYWNJbnZlblcsIG1vbmV5LCAyNywgMSwwKT09MCl7DQogICAgICAgICAgICAgICAgQ1VzZXJfU2VuZENtZEVycm9yUGFja2V0KGNhcmdvUmVmLDMwOSwweEEpOw0KICAgICAgICAgICAgICAgIHJldHVybiAwOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIENBY2NvdW50Q2FyZ29fU2VuZE5vdGlmeU1vbmV5KGNhcmdvUmVmLnRvSW50MzIoKSwzMDkpOw0KICAgICAgICBidWZmQ2FyZ29SZWYuYWRkKDEyKzYxKm1heFNvbHQpLndyaXRlVTgoMSk7DQogICAgICAgIGNhcmdvUmVmLmFkZCgxMis2MSo1Nikud3JpdGVVOCgxKTsNCiAgICAgICAgLy8gY29uc29sZS5sb2coIldpdGhkcmF3TW9uZXkgc3VjY2VzcyIpDQogICAgICAgIHJldHVybiAxOw0KICAgIH0sICdpbnQnLCBbJ3BvaW50ZXInLCd1aW50MzInXSkpOw0KfQ0KDQpmdW5jdGlvbiBEZXBvc2l0TW9uZXkobWF4U29sdCl7DQogICAgSW50ZXJjZXB0b3IucmVwbGFjZShwdHIoMHgwODI4QTEyQSksIG5ldyBOYXRpdmVDYWxsYmFjayhmdW5jdGlvbiAoY2FyZ29SZWYsbW9uZXkpIHsNCiAgICAgICAgLy8gY29uc29sZS5sb2coIkRlcG9zaXRNb25leS0tLS0tLS0tLS0tLSIrY2FyZ29SZWYpDQogICAgICAgIHZhciBhY2NJZCA9ICBnZXRVc2VyQWNjSWQoY2FyZ29SZWYpOw0KICAgICAgICBpZihhY2NJZCA9PSAtMSl7DQogICAgICAgICAgICByZXR1cm4gMDsNCiAgICAgICAgfQ0KICAgICAgICB2YXIgYnVmZkNhcmdvUmVmID0gZ2V0Q2FyZ29SZWYoYWNjSWQsY2FyZ29SZWYpOw0KICAgICAgICB2YXIgbWFuYWdlID0gQVJBRF9TaW5nbGV0b25fU2VydmljZVJlc3RyaWN0TWFuYWdlcl9HZXQoKTsNCiAgICAgICAgdmFyIGlzUmVzdHJpY3RlZCA9IFNlcnZpY2VSZXN0cmljdE1hbmFnZXJfaXNSZXN0cmljdGVkKG1hbmFnZS50b0ludDMyKCksY2FyZ29SZWYsMSwyNik7DQogICAgICAgIGlmKGlzUmVzdHJpY3RlZCE9MCl7DQogICAgICAgICAgICBDVXNlcl9TZW5kQ21kRXJyb3JQYWNrZXQoY2FyZ29SZWYsMzA4LDB4RDEpOw0KICAgICAgICAgICAgcmV0dXJuIDA7DQogICAgICAgIH0NCiAgICAgICAgdmFyIGNoZWNrID0gQ1NlY3VfUHJvdGVjdGlvbkZpZWxkX0NoZWNrKHB0cihwdHIoMHgwOTQxRjdDQykucmVhZFUzMigpKSxjYXJnb1JlZiwyKTsNCiAgICAgICAgaWYoY2hlY2shPTApew0KICAgICAgICAgICAgQ1VzZXJfU2VuZENtZEVycm9yUGFja2V0KGNhcmdvUmVmLDMwOCxjaGVjayk7DQogICAgICAgICAgICByZXR1cm4gMDsNCiAgICAgICAgfQ0KICAgICAgICAvLyBjb25zb2xlLmxvZygiRGVwb3NpdE1vbmV5IG5vdyBtb25leToiK21vbmV5KycsJytDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjTW9uZXkocHRyKGNhcmdvUmVmLnJlYWRVMzIoKSkpKycsJysoKG1vbmV5ICYgMHg4MDAwMDAwMCkgIT0wKSkNCiAgICAgICAgaWYobW9uZXkgPiBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjTW9uZXkocHRyKGNhcmdvUmVmLnJlYWRVMzIoKSkpIHx8IChtb25leSAmIDB4ODAwMDAwMDApICE9MCkgew0KICAgICAgICAgICAgQ1VzZXJfU2VuZENtZEVycm9yUGFja2V0KGNhcmdvUmVmLDMwOCwweEEpOw0KICAgICAgICAgICAgcmV0dXJuIDA7DQogICAgICAgIH0NCiAgICAgICAgLy8gY29uc29sZS5sb2coIkRlcG9zaXRNb25leSAyIG5vdyBtb25leToiK21vbmV5KQ0KICAgICAgICBpZihDQWNjb3VudENhcmdvX0NoZWNrTW9uZXlMaW1pdChjYXJnb1JlZixtb25leSk9PTApew0KICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ0NBY2NvdW50Q2FyZ29fQ2hlY2tNb25leUxpbWl0IGVycm9yJykNCiAgICAgICAgICAgIENVc2VyX1NlbmRDbWRFcnJvclBhY2tldChjYXJnb1JlZiwzMDgsMHg1Zik7DQogICAgICAgICAgICByZXR1cm4gMDsNCiAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAvLyBjb25zb2xlLmxvZygiRGVwb3NpdE1vbmV5IDMgbm93IG1vbmV5OiIrbW9uZXkpDQogICAgICAgICAgICB2YXIgY3VyQ2hhcmFjSW52ZW5XID0gQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY0ludmVuVyhwdHIoY2FyZ29SZWYucmVhZFUzMigpKSk7DQogICAgICAgICAgICBpZihDSW52ZW50b3J5X3VzZV9tb25leShjdXJDaGFyYWNJbnZlblcsIG1vbmV5LCA0MCwgMSkgIT0xKXsNCiAgICAgICAgICAgICAgICBDVXNlcl9TZW5kQ21kRXJyb3JQYWNrZXQoY2FyZ29SZWYsMzA4LDB4QSk7DQogICAgICAgICAgICAgICAgcmV0dXJuIDA7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgLy8gY29uc29sZS5sb2coIkRlcG9zaXRNb25leSA0IG5vdyBtb25leToiK21vbmV5KQ0KICAgICAgICAvLyDmnIlhZGRNb25leeaWueazleS/ruaUuSDmlLnov5nph4zkuI3ph43opoENCiAgICAgICAgQ0FjY291bnRDYXJnb19BZGRNb25leShjYXJnb1JlZiwgbW9uZXkpOw0KICAgICAgICBDQWNjb3VudENhcmdvX1NlbmROb3RpZnlNb25leShjYXJnb1JlZi50b0ludDMyKCksMzA4KTsNCiAgICAgICAgYnVmZkNhcmdvUmVmLmFkZCgxMis2MSptYXhTb2x0KS53cml0ZVU4KDEpOw0KICAgICAgICBjYXJnb1JlZi5hZGQoMTIrNjEqNTYpLndyaXRlVTgoMSk7DQogICAgICAgIC8vIGNvbnNvbGUubG9nKCJEZXBvc2l0TW9uZXkgc3VjY2VzcyIpDQogICAgICAgIHJldHVybiAxOw0KICAgIH0sICdpbnQnLCBbJ3BvaW50ZXInLCd1aW50MzInXSkpOw0KfQ0KDQpmdW5jdGlvbiBNb3ZlSXRlbShtYXhTb2x0KXsNCiAgICBJbnRlcmNlcHRvci5yZXBsYWNlKHB0cigweDA4Mjg5RjI2KSwgbmV3IE5hdGl2ZUNhbGxiYWNrKGZ1bmN0aW9uIChjYXJnb1JlZixzbG90MSxzbG90Mikgew0KICAgICAgICB2YXIgYWNjSWQgPSAgZ2V0VXNlckFjY0lkKGNhcmdvUmVmKTsNCiAgICAgICAgaWYoYWNjSWQgPT0gLTEpew0KICAgICAgICAgICAgcmV0dXJuIDA7DQogICAgICAgIH0NCiAgICAgICAgY29uc29sZS5sb2coJ01vdmVJdGVtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tJytjYXJnb1JlZikNCg0KICAgICAgICBpZihDQWNjb3VudENhcmdvX0NoZWNrVmFsaWRTbG90KGNhcmdvUmVmLHNsb3QxKT09MCB8fCBDQWNjb3VudENhcmdvX0NoZWNrVmFsaWRTbG90KGNhcmdvUmVmLHNsb3QyKT09MCB8fCBzbG90MT09c2xvdDIpew0KICAgICAgICAgICAgcmV0dXJuIDA7DQogICAgICAgIH0NCiAgICAgICAgY2FyZ29SZWYuYWRkKDEyKzYxKjU2KS53cml0ZVU4KDEpOw0KICAgICAgICBjYXJnb1JlZiA9IGdldENhcmdvUmVmKGFjY0lkLGNhcmdvUmVmKTsNCiAgICAgICAgdmFyIHRlbXAgPSBNZW1vcnkuYWxsb2MoNjEpOw0KICAgICAgICBNZW1vcnkuY29weSh0ZW1wLGNhcmdvUmVmLmFkZCg2MSpzbG90MSs0KSw2MS00KTsNCiAgICAgICAgTWVtb3J5LmNvcHkoY2FyZ29SZWYuYWRkKDYxKnNsb3QxKzQpLGNhcmdvUmVmLmFkZCg2MSpzbG90Mis0KSw2MS00KTsNCiAgICAgICAgTWVtb3J5LmNvcHkoY2FyZ29SZWYuYWRkKDYxKnNsb3QyKzQpLHRlbXAsNjEtNCk7DQogICAgICAgIGNhcmdvUmVmLmFkZCgxMis2MSptYXhTb2x0KS53cml0ZVU4KDEpOw0KICAgICAgICByZXR1cm4gMTsNCiAgICB9LCAnaW50JywgWydwb2ludGVyJywnaW50JywnaW50J10pKTsNCn0NCg0KZnVuY3Rpb24gRGVsZXRlSXRlbShtYXhTb2x0KXsNCiAgICBJbnRlcmNlcHRvci5yZXBsYWNlKHB0cigweDA4Mjg5RTNDKSwgbmV3IE5hdGl2ZUNhbGxiYWNrKGZ1bmN0aW9uIChjYXJnb1JlZixzbG90LG51bWJlcikgew0KICAgICAgICBjb25zb2xlLmxvZygnRGVsZXRlSXRlbS0tLScrY2FyZ29SZWYpDQogICAgICAgIHZhciBhY2NJZCA9ICBnZXRVc2VyQWNjSWQoY2FyZ29SZWYpOw0KICAgICAgICBpZihhY2NJZCA9PSAtMSl7DQogICAgICAgICAgICByZXR1cm4gMDsNCiAgICAgICAgfQ0KICAgICAgICB2YXIgYnVmZkNhcmdvUmVmID0gZ2V0Q2FyZ29SZWYoYWNjSWQsY2FyZ29SZWYpOw0KICAgICAgICBpZihDQWNjb3VudENhcmdvX0NoZWNrVmFsaWRTbG90KGNhcmdvUmVmLHNsb3QpPT0wKXsNCiAgICAgICAgICAgIHJldHVybiAwOw0KICAgICAgICB9DQogICAgICAgIGlmKCBidWZmQ2FyZ29SZWYuYWRkKDYxKnNsb3QrNikucmVhZFUzMigpPT0wIHx8IG51bWJlcjw9MCApew0KICAgICAgICAgICAgcmV0dXJuIDA7DQogICAgICAgIH0NCiAgICAgICAgaWYoSW52ZW5fSXRlbV9pc0VxdWlwYWJsZUl0ZW1UeXBlKGJ1ZmZDYXJnb1JlZi5hZGQoNjEqc2xvdCs0KSkgIT0wKXsNCiAgICAgICAgICAgIENBY2NvdW50Q2FyZ29fUmVzZXRTbG90KGNhcmdvUmVmLHNsb3QpOw0KICAgICAgICAgICAgYnVmZkNhcmdvUmVmLmFkZCgxMis2MSptYXhTb2x0KS53cml0ZVU4KDEpOw0KICAgICAgICAgICAgY2FyZ29SZWYuYWRkKDEyKzYxKjU2KS53cml0ZVU4KDEpOw0KICAgICAgICAgICAgcmV0dXJuIDE7DQogICAgICAgIH0NCiAgICAgICAgaWYoYnVmZkNhcmdvUmVmLmFkZCg2MSpzbG90KzExKS5yZWFkVTMyKCkgPCBudW1iZXIgKXsNCiAgICAgICAgICAgIHJldHVybiAwOw0KICAgICAgICB9DQogICAgICAgIGlmKGJ1ZmZDYXJnb1JlZi5hZGQoNjEqc2xvdCsxMSkucmVhZFUzMigpIDw9IG51bWJlciApew0KICAgICAgICAgICAgQ0FjY291bnRDYXJnb19SZXNldFNsb3QoY2FyZ29SZWYsc2xvdCk7DQogICAgICAgIH1lbHNlew0KICAgICAgICAgICAgdmFyIG51bSA9IGJ1ZmZDYXJnb1JlZi5hZGQoNjEqc2xvdCsxMSkucmVhZFUzMigpOw0KICAgICAgICAgICAgYnVmZkNhcmdvUmVmLmFkZCg2MSpzbG90KzExKS53cml0ZVUzMihudW0tbnVtYmVyKTsNCiAgICAgICAgfQ0KICAgICAgICBidWZmQ2FyZ29SZWYuYWRkKDEyKzYxKm1heFNvbHQpLndyaXRlVTgoMSk7DQogICAgICAgIGNhcmdvUmVmLmFkZCgxMis2MSo1Nikud3JpdGVVOCgxKTsNCiAgICAgICAgcmV0dXJuIDE7DQogICAgfSwgJ2ludCcsIFsncG9pbnRlcicsJ2ludCcsJ2ludCddKSk7DQp9DQoNCmZ1bmN0aW9uIEluc2VydEl0ZW0obWF4U29sdCl7DQoNCiAgICB2YXIgdGVtcEZ1bmMgPSBuZXcgTmF0aXZlQ2FsbGJhY2soZnVuY3Rpb24gKGNhcmdvUmVmLGl0ZW0sc2xvdCkgew0KICAgICAgICBjb25zb2xlLmxvZygnSW5zZXJ0SXRlbS0tLS0tLS0tLS0tLS0tLS0tLS0nK2NhcmdvUmVmKycgJytzbG90KQ0KICAgICAgICB2YXIgYWNjSWQgPSAgZ2V0VXNlckFjY0lkKGNhcmdvUmVmKTsNCiAgICAgICAgaWYoYWNjSWQgPT0gLTEpew0KICAgICAgICAgICAgcmV0dXJuIDA7DQogICAgICAgIH0NCiAgICAgICAgdmFyIGJ1ZmZDYXJnb1JlZiA9IGdldENhcmdvUmVmKGFjY0lkLGNhcmdvUmVmKTsNCiAgICAgICAgaWYoQ0FjY291bnRDYXJnb19DaGVja1ZhbGlkU2xvdChjYXJnb1JlZixzbG90KT09MCl7DQogICAgICAgICAgICAvLyBjb25zb2xlLmxvZygic2xvdCBlcnJvciIpDQogICAgICAgICAgICByZXR1cm4gLTE7DQogICAgICAgIH0NCiAgICAgICAgLy8gY29uc29sZS5sb2coInNsb3Qgc3VjY2VzcyEhISIpDQogICAgICAgIHZhciByZXMgPSAtMTsNCiAgICAgICAgaWYoSW52ZW5fSXRlbV9pc0VxdWlwYWJsZUl0ZW1UeXBlKGl0ZW0pIT0wKXsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCJJbnZlbl9JdGVtX2lzRXF1aXBhYmxlSXRlbVR5cGUgIHN1Y2Nlc3PvvJoiK2NhcmdvUmVmLmFkZCg2MSpzbG90KzYpLnJlYWRVMzIoKSkNCiAgICAgICAgICAgIGlmKCBidWZmQ2FyZ29SZWYuYWRkKDYxKnNsb3QrNikucmVhZFUzMigpID09MCApew0KICAgICAgICAgICAgICAgIHZhciB2NCA9IDYxKnNsb3Q7DQogICAgICAgICAgICAgICAgYnVmZkNhcmdvUmVmLmFkZCh2NCs0KS53cml0ZVUzMihpdGVtLnJlYWRVMzIoKSk7DQogICAgICAgICAgICAgICAgYnVmZkNhcmdvUmVmLmFkZCh2NCs4KS53cml0ZVUzMihpdGVtLmFkZCgxKjQpLnJlYWRVMzIoKSk7DQogICAgICAgICAgICAgICAgYnVmZkNhcmdvUmVmLmFkZCh2NCsxMikud3JpdGVVMzIoaXRlbS5hZGQoMio0KS5yZWFkVTMyKCkpOw0KICAgICAgICAgICAgICAgIGJ1ZmZDYXJnb1JlZi5hZGQodjQrMTYpLndyaXRlVTMyKGl0ZW0uYWRkKDMqNCkucmVhZFUzMigpKTsNCiAgICAgICAgICAgICAgICBidWZmQ2FyZ29SZWYuYWRkKHY0KzIwKS53cml0ZVUzMihpdGVtLmFkZCg0KjQpLnJlYWRVMzIoKSk7DQogICAgICAgICAgICAgICAgYnVmZkNhcmdvUmVmLmFkZCh2NCsyNCkud3JpdGVVMzIoaXRlbS5hZGQoNSo0KS5yZWFkVTMyKCkpOw0KICAgICAgICAgICAgICAgIGJ1ZmZDYXJnb1JlZi5hZGQodjQrMjgpLndyaXRlVTMyKGl0ZW0uYWRkKDYqNCkucmVhZFUzMigpKTsNCiAgICAgICAgICAgICAgICBidWZmQ2FyZ29SZWYuYWRkKHY0KzMyKS53cml0ZVUzMihpdGVtLmFkZCg3KjQpLnJlYWRVMzIoKSk7DQogICAgICAgICAgICAgICAgYnVmZkNhcmdvUmVmLmFkZCh2NCszNikud3JpdGVVMzIoaXRlbS5hZGQoOCo0KS5yZWFkVTMyKCkpOw0KICAgICAgICAgICAgICAgIGJ1ZmZDYXJnb1JlZi5hZGQodjQrNDApLndyaXRlVTMyKGl0ZW0uYWRkKDkqNCkucmVhZFUzMigpKTsNCiAgICAgICAgICAgICAgICBidWZmQ2FyZ29SZWYuYWRkKHY0KzQ0KS53cml0ZVUzMihpdGVtLmFkZCgxMCo0KS5yZWFkVTMyKCkpOw0KICAgICAgICAgICAgICAgIGJ1ZmZDYXJnb1JlZi5hZGQodjQrNDgpLndyaXRlVTMyKGl0ZW0uYWRkKDExKjQpLnJlYWRVMzIoKSk7DQogICAgICAgICAgICAgICAgYnVmZkNhcmdvUmVmLmFkZCh2NCs1Mikud3JpdGVVMzIoaXRlbS5hZGQoMTIqNCkucmVhZFUzMigpKTsNCiAgICAgICAgICAgICAgICBidWZmQ2FyZ29SZWYuYWRkKHY0KzU2KS53cml0ZVUzMihpdGVtLmFkZCgxMyo0KS5yZWFkVTMyKCkpOw0KICAgICAgICAgICAgICAgIGJ1ZmZDYXJnb1JlZi5hZGQodjQrNjApLndyaXRlVTMyKGl0ZW0uYWRkKDE0KjQpLnJlYWRVMzIoKSk7DQogICAgICAgICAgICAgICAgYnVmZkNhcmdvUmVmLmFkZCh2NCs2NCkud3JpdGVVOChpdGVtLmFkZCg2MCkucmVhZFU4KCkpOw0KICAgICAgICAgICAgICAgIHJlcyA9IHNsb3Q7DQogICAgICAgICAgICB9DQogICAgICAgIH1lbHNlew0KICAgICAgICAgICAgY29uc29sZS5sb2coIkludmVuX0l0ZW1faXNFcXVpcGFibGVJdGVtVHlwZSAgZmFpbO+8miIrY2FyZ29SZWYuYWRkKDYxKnNsb3QrNikucmVhZFUzMigpKQ0KICAgICAgICAgICAgaWYoaXRlbS5hZGQoMikucmVhZFUzMigpID09IGJ1ZmZDYXJnb1JlZi5hZGQoNjEqc2xvdCs2KS5yZWFkVTMyKCkpew0KICAgICAgICAgICAgICAgIHZhciBzaXplID0gYnVmZkNhcmdvUmVmLmFkZCg2MSpzbG90KzExKS5yZWFkVTMyKCk7DQogICAgICAgICAgICAgICAgYnVmZkNhcmdvUmVmLmFkZCg2MSpzbG90KzExKS53cml0ZVUzMihzaXplK2l0ZW0uYWRkKDcpLnJlYWRVMzIoKSk7DQogICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICB2YXIgdjQgPSA2MSpzbG90Ow0KICAgICAgICAgICAgICAgIGJ1ZmZDYXJnb1JlZi5hZGQodjQrNCkud3JpdGVVMzIoaXRlbS5yZWFkVTMyKCkpOw0KICAgICAgICAgICAgICAgIGJ1ZmZDYXJnb1JlZi5hZGQodjQrOCkud3JpdGVVMzIoaXRlbS5hZGQoMSo0KS5yZWFkVTMyKCkpOw0KICAgICAgICAgICAgICAgIGJ1ZmZDYXJnb1JlZi5hZGQodjQrMTIpLndyaXRlVTMyKGl0ZW0uYWRkKDIqNCkucmVhZFUzMigpKTsNCiAgICAgICAgICAgICAgICBidWZmQ2FyZ29SZWYuYWRkKHY0KzE2KS53cml0ZVUzMihpdGVtLmFkZCgzKjQpLnJlYWRVMzIoKSk7DQogICAgICAgICAgICAgICAgYnVmZkNhcmdvUmVmLmFkZCh2NCsyMCkud3JpdGVVMzIoaXRlbS5hZGQoNCo0KS5yZWFkVTMyKCkpOw0KICAgICAgICAgICAgICAgIGJ1ZmZDYXJnb1JlZi5hZGQodjQrMjQpLndyaXRlVTMyKGl0ZW0uYWRkKDUqNCkucmVhZFUzMigpKTsNCiAgICAgICAgICAgICAgICBidWZmQ2FyZ29SZWYuYWRkKHY0KzI4KS53cml0ZVUzMihpdGVtLmFkZCg2KjQpLnJlYWRVMzIoKSk7DQogICAgICAgICAgICAgICAgYnVmZkNhcmdvUmVmLmFkZCh2NCszMikud3JpdGVVMzIoaXRlbS5hZGQoNyo0KS5yZWFkVTMyKCkpOw0KICAgICAgICAgICAgICAgIGJ1ZmZDYXJnb1JlZi5hZGQodjQrMzYpLndyaXRlVTMyKGl0ZW0uYWRkKDgqNCkucmVhZFUzMigpKTsNCiAgICAgICAgICAgICAgICBidWZmQ2FyZ29SZWYuYWRkKHY0KzQwKS53cml0ZVUzMihpdGVtLmFkZCg5KjQpLnJlYWRVMzIoKSk7DQogICAgICAgICAgICAgICAgYnVmZkNhcmdvUmVmLmFkZCh2NCs0NCkud3JpdGVVMzIoaXRlbS5hZGQoMTAqNCkucmVhZFUzMigpKTsNCiAgICAgICAgICAgICAgICBidWZmQ2FyZ29SZWYuYWRkKHY0KzQ4KS53cml0ZVUzMihpdGVtLmFkZCgxMSo0KS5yZWFkVTMyKCkpOw0KICAgICAgICAgICAgICAgIGJ1ZmZDYXJnb1JlZi5hZGQodjQrNTIpLndyaXRlVTMyKGl0ZW0uYWRkKDEyKjQpLnJlYWRVMzIoKSk7DQogICAgICAgICAgICAgICAgYnVmZkNhcmdvUmVmLmFkZCh2NCs1Nikud3JpdGVVMzIoaXRlbS5hZGQoMTMqNCkucmVhZFUzMigpKTsNCiAgICAgICAgICAgICAgICBidWZmQ2FyZ29SZWYuYWRkKHY0KzYwKS53cml0ZVUzMihpdGVtLmFkZCgxNCo0KS5yZWFkVTMyKCkpOw0KICAgICAgICAgICAgICAgIGJ1ZmZDYXJnb1JlZi5hZGQodjQrNjQpLndyaXRlVTgoaXRlbS5hZGQoNjApLnJlYWRVOCgpKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHJlcyA9IHNsb3Q7DQogICAgICAgIH0NCiAgICAgICAgYnVmZkNhcmdvUmVmLmFkZCgxMis2MSptYXhTb2x0KS53cml0ZVU4KDEpOw0KICAgICAgICBjYXJnb1JlZi5hZGQoMTIrNjEqNTYpLndyaXRlVTgoMSk7DQogICAgICAgIC8vIGNvbnNvbGUubG9nKCJJbnNlcnRJdGVtOiIrcmVzKTsNCiAgICAgICAgcmV0dXJuIHJlczsNCiAgICB9LCAnaW50JywgWydwb2ludGVyJywncG9pbnRlcicsJ2ludCddKTsNCiAgICBDQWNjb3VudENhcmdvX0luc2VydEl0ZW1fTkVXID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHRlbXBGdW5jLCAnaW50JywgWydwb2ludGVyJywncG9pbnRlcicsJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQogICAgSW50ZXJjZXB0b3IucmVwbGFjZShwdHIoMHgwODI4OUM4MiksIHRlbXBGdW5jKTsNCn0NCmZ1bmN0aW9uIENsZWFyKG1heFNvbHQpew0KICAgIEludGVyY2VwdG9yLnJlcGxhY2UocHRyKDB4MDgyODk4NkMpLCBuZXcgTmF0aXZlQ2FsbGJhY2soZnVuY3Rpb24gKGNhcmdvUmVmKSB7DQogICAgICAgIC8vIC8vIGNvbnNvbGUubG9nKCdDbGVhcjonK2NhcmdvUmVmKQ0KICAgICAgICAvLyDnprvnur/mmK/muIXpm7YNCiAgICAgICAgY2FyZ29SZWYud3JpdGVVMzIoMCk7DQogICAgICAgIHZhciBjYXJnb1JlZkFkZCA9IGNhcmdvUmVmLmFkZCg0KTsNCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXhTb2x0OyBpKyspIHsNCiAgICAgICAgICAgIEludmVuX0l0ZW1fSW52ZW5fSXRlbShjYXJnb1JlZkFkZCk7DQogICAgICAgICAgICBjYXJnb1JlZkFkZC53cml0ZVUzMigwKTsNCiAgICAgICAgICAgIGNhcmdvUmVmQWRkID0gY2FyZ29SZWZBZGQuYWRkKDYxKTsNCiAgICAgICAgfQ0KICAgICAgICBjYXJnb1JlZi5hZGQoNCs2MSptYXhTb2x0KS53cml0ZVUzMigwKTsgLy8g6ZKxDQogICAgICAgIGNhcmdvUmVmLmFkZCg4KzYxKm1heFNvbHQpLndyaXRlVTMyKDApOyAvLyDlrrnph48NCiAgICAgICAgY2FyZ29SZWYuYWRkKDEyKzYxKm1heFNvbHQpLndyaXRlVTgoMCk7IC8vIOagh+W/lw0KICAgICAgICByZXR1cm4gY2FyZ29SZWY7DQogICAgfSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInXSkpOw0KfQ0KDQpmdW5jdGlvbiBTZXREQkRhdGEobWF4U29sdCl7DQogICAgSW50ZXJjZXB0b3IucmVwbGFjZShwdHIoMHgwODI4OTgxNiksIG5ldyBOYXRpdmVDYWxsYmFjayhmdW5jdGlvbiAoY2FyZ29SZWYsdXNlcixpdGVtLG1vbmV5LGNvcGFjaXR5KSB7DQogICAgICAgIGNvbnNvbGUubG9nKCdTZXREQkRhdGEtLS0tLS0tLS0tLS0tLS0tLS0tJytjYXJnb1JlZisnICcrdXNlcisnICwnK2l0ZW0rJywnK21vbmV5KycgICcrY29wYWNpdHkpDQogICAgICAgIHZhciBhY2NJZCA9ICBDVXNlcl9nZXRfYWNjX2lkKHVzZXIpOw0KICAgICAgICAvLyDlho3orr7nva7mmK8g5bCGIOmHjeaWsOeUs+ivt+i0puWPt+mHkeW6k+epuumXtCAgNjEqbWF4U29sdOaYr+agvOWtkCA05Liq5a2X6IqC55qE6ZKxICA05Liq5a2X6IqC55qE5a656YePIDHkuKrlrZfoioLnmoTmoIflv5cNCiAgICAgICAgYWNjb3VudENhcmdmb1thY2NJZF0gPSBNZW1vcnkuYWxsb2MoNjEqbWF4U29sdCs0KzQrMSszMCk7DQogICAgICAgIHZhciBidWZmQ2FyZ29SZWYgPSBjYXJnb1JlZjsNCiAgICAgICAgaWYoYWNjb3VudENhcmdmb1thY2NJZF0pew0KICAgICAgICAgICAgLy8g57uZ5Y6f5p2l55qE6K6+572u5LiA5Lqb6buY6K6k5YC877yM6Ziy5q2i6I635Y+W5LiN5Yiw6YeR5bqTDQogICAgICAgICAgICBjYXJnb1JlZi53cml0ZVBvaW50ZXIodXNlcik7DQogICAgICAgICAgICBjYXJnb1JlZi5hZGQoNCs2MSo1Nikud3JpdGVVMzIobW9uZXkpOw0KICAgICAgICAgICAgY2FyZ29SZWYuYWRkKDgrNjEqNTYpLndyaXRlVTMyKGNvcGFjaXR5KTsNCiAgICAgICAgICAgIGNhcmdvUmVmLmFkZCgxMis2MSo1Nikud3JpdGVVOCgwKTsNCiAgICAgICAgICAgIGJ1ZmZDYXJnb1JlZiA9IGFjY291bnRDYXJnZm9bYWNjSWRdOw0KICAgICAgICAgICAgLy8g5Yid5aeL5YyW5pWw5o2uDQogICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1heFNvbHQ7IGkrKykgew0KICAgICAgICAgICAgICAgIGJ1ZmZDYXJnb1JlZi5hZGQoNCtpKjYxKS53cml0ZVUzMigwKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICBidWZmQ2FyZ29SZWYud3JpdGVQb2ludGVyKHVzZXIpOw0KICAgICAgICBidWZmQ2FyZ29SZWYuYWRkKDQrNjEqbWF4U29sdCkud3JpdGVVMzIobW9uZXkpOw0KICAgICAgICBidWZmQ2FyZ29SZWYuYWRkKDgrNjEqbWF4U29sdCkud3JpdGVVMzIoY29wYWNpdHkpOw0KICAgICAgICBidWZmQ2FyZ29SZWYuYWRkKDEyKzYxKm1heFNvbHQpLndyaXRlVTgoMCk7DQogICAgICAgIGlmKGl0ZW0hPTApew0KICAgICAgICAgICAgTWVtb3J5LmNvcHkoY2FyZ29SZWYuYWRkKDQpLGl0ZW0sNTYqNjEpOw0KICAgICAgICAgICAgTWVtb3J5LmNvcHkoYnVmZkNhcmdvUmVmLmFkZCg0KSxpdGVtLG1heFNvbHQqNjEpOw0KICAgICAgICB9DQogICAgICAgIHJldHVybiBjYXJnb1JlZjsNCiAgICB9LCAncG9pbnRlcicsIFsncG9pbnRlcicsJ3BvaW50ZXInLCdwb2ludGVyJywndWludDMyJywndWludDMyJ10pKTsNCn0NCg0KZnVuY3Rpb24gQ0FjY291bnRDYXJnbyhtYXhTb2x0KXsNCiAgICBJbnRlcmNlcHRvci5yZXBsYWNlKHB0cigweDA4Mjg5Nzk0KSwgbmV3IE5hdGl2ZUNhbGxiYWNrKGZ1bmN0aW9uIChjYXJnb1JlZikgew0KICAgICAgICBjYXJnb1JlZi53cml0ZVUzMigwKTsNCiAgICAgICAgdmFyIGNhcmdvUmVmQWRkID0gY2FyZ29SZWYuYWRkKDQpOw0KICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDU2OyBpKyspIHsNCiAgICAgICAgICAgIEludmVuX0l0ZW1fSW52ZW5fSXRlbShjYXJnb1JlZkFkZCk7DQogICAgICAgICAgICBjYXJnb1JlZkFkZC53cml0ZVUzMigwKTsNCiAgICAgICAgICAgIGNhcmdvUmVmQWRkID0gY2FyZ29SZWZBZGQuYWRkKDYxKTsNCiAgICAgICAgfQ0KICAgICAgICBjYXJnb1JlZi5hZGQoNCs2MSo1Nikud3JpdGVVMzIoMCk7IC8vIOmSsQ0KICAgICAgICBjYXJnb1JlZi5hZGQoOCs2MSo1Nikud3JpdGVVMzIoMCk7IC8vIOWuuemHjw0KICAgICAgICBjYXJnb1JlZi5hZGQoMTIrNjEqNTYpLndyaXRlVTgoMCk7IC8vIOagh+W/lw0KICAgIH0sICd2b2lkJywgWydwb2ludGVyJ10pKTsNCn0NCg0KZnVuY3Rpb24gR2V0TW9uZXkobWF4U29sdCl7DQogICAgSW50ZXJjZXB0b3IucmVwbGFjZShwdHIoMHgwODIyRjAyMCksIG5ldyBOYXRpdmVDYWxsYmFjayhmdW5jdGlvbiAoY2FyZ29SZWYpIHsNCiAgICAgICAgdmFyIGFjY0lkID0gIGdldFVzZXJBY2NJZChjYXJnb1JlZik7DQogICAgICAgIGlmKGFjY0lkID09IC0xKXsNCiAgICAgICAgICAgIHJldHVybiAwOw0KICAgICAgICB9DQogICAgICAgIC8vIGNvbnNvbGUubG9nKCdHZXRNb25leS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLScrY2FyZ29SZWYpDQogICAgICAgIGNhcmdvUmVmID0gZ2V0Q2FyZ29SZWYoYWNjSWQsY2FyZ29SZWYpOw0KICAgICAgICAvLyBjb25zb2xlLmxvZygiR2V0TW9uZXkgYWNjSWQ6IithY2NJZCkNCiAgICAgICAgcmV0dXJuIGNhcmdvUmVmLmFkZCg0KzYxKm1heFNvbHQpLnJlYWRVMzIoKTsNCiAgICB9LCAnaW50JywgWydwb2ludGVyJ10pKTsNCn0NCg0KZnVuY3Rpb24gR2V0Q2FwYWNpdHkobWF4U29sdCl7DQogICAgSW50ZXJjZXB0b3IucmVwbGFjZShwdHIoMHgwODIyRjAxMiksIG5ldyBOYXRpdmVDYWxsYmFjayhmdW5jdGlvbiAoY2FyZ29SZWYpIHsNCiAgICAgICAgdmFyIGFjY0lkID0gIGdldFVzZXJBY2NJZChjYXJnb1JlZik7DQogICAgICAgIGlmKGFjY0lkID09IC0xKXsNCiAgICAgICAgICAgIHJldHVybiAwOw0KICAgICAgICB9DQogICAgICAgIC8vIGNvbnNvbGUubG9nKCdHZXRDYXBhY2l0eS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLScrY2FyZ29SZWYpDQogICAgICAgIGNhcmdvUmVmID0gZ2V0Q2FyZ29SZWYoYWNjSWQsY2FyZ29SZWYpOw0KICAgICAgICByZXR1cm4gY2FyZ29SZWYuYWRkKDgrNjEqbWF4U29sdCkucmVhZFUzMigpOw0KICAgIH0sICdpbnQnLCBbJ3BvaW50ZXInXSkpOw0KfQ0KDQoNCmZ1bmN0aW9uIGdldENhcmdvUmVmKGFjY0lkLGNhcmdvUmVmKXsNCiAgICBpZihhY2NvdW50Q2FyZ2ZvW2FjY0lkXSl7DQogICAgICAgIGNhcmdvUmVmID0gYWNjb3VudENhcmdmb1thY2NJZF07DQogICAgfWVsc2V7DQogICAgICAgIC8vIOino+WGsyDliKTmlq3mlofku7bkuK3mmK/lkKbmnInnvJPlrZjnmoTphY3nva4g5aaC5p6c5pyJ5bCx5Yqg6L29DQogICAgICAgIGlmKGluaXRDaGFyYWNBY2NvdW50Q2FyZ29EYkRhdGEoYWNjSWQsIGNhcmdvUmVmKSl7DQogICAgICAgICAgICBjYXJnb1JlZiA9IGFjY291bnRDYXJnZm9bYWNjSWRdOw0KICAgICAgICB9DQogICAgfQ0KICAgIHJldHVybiBjYXJnb1JlZjsNCn0NCg0KZnVuY3Rpb24gaW5pdENoYXJhY0FjY291bnRDYXJnb0RiRGF0YShhY2NJZCxjYXJnb1JlZil7DQogICAgY29uc29sZS5sb2coImluaXRDaGFyYWNBY2NvdW50Q2FyZ29EYkRhdGE6IithY2NJZCkNCiAgICB2YXIgZGJIYW5kZWxBZGRyID0gREJNZ3JfR2V0REJIYW5kbGUocHRyKHB0cigweDA5NDBCREFDKS5yZWFkVTMyKCkpLDIsMCk7DQogICAgdmFyIGRiSGFuZGVsID0gcHRyKGRiSGFuZGVsQWRkcik7DQogICAgdmFyIG1JZCA9IE1lbW9yeS5hbGxvY1V0ZjhTdHJpbmcoYWNjSWQrJycpOw0KICAgIE15U1FMX3NldF9xdWVyeV8zX3B0cihkYkhhbmRlbCxNZW1vcnkuYWxsb2NVdGY4U3RyaW5nKCdzZUxlY3QgY2FwYWNpdHksIG1vbmV5LCBjYXJnbyBmcm9tIGFjY291bnRfY2FyZ28gd2hlcmUgbV9pZCA9ICVzJyksbUlkKTsNCiAgICBpZihNeVNRTF9leGVjKGRiSGFuZGVsLDEpIT0xKXsNCiAgICAgICAgY29uc29sZS5sb2coInByZSBvbmUgMTExIikNCiAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgIH0NCiAgICBpZihNeVNRTF9nZXRfbl9yb3dzKGRiSGFuZGVsKT09MCl7DQogICAgICAgIGNvbnNvbGUubG9nKCJwcmUgb25lIDIyMiIpDQogICAgICAgIHJldHVybiBmYWxzZTsNCiAgICB9DQogICAgaWYoTXlTUUxfZmV0Y2goZGJIYW5kZWwpIT0xKXsNCiAgICAgICAgY29uc29sZS5sb2coInByZSBvbmUgMzMzIikNCiAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgIH0NCiAgICB2YXIgbWF4U29sdCA9IGluaXRNYXhTb2x0Ow0KICAgIGFjY291bnRDYXJnZm9bYWNjSWRdID0gTWVtb3J5LmFsbG9jKDYxKm1heFNvbHQrNCs0KzErMzApOw0KICAgIHZhciBidWZmQ2FyZ29SZWYgPSBhY2NvdW50Q2FyZ2ZvW2FjY0lkXTsNCiAgICAvLyDliJ3lp4vljJbmlbDmja4NCiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1heFNvbHQ7IGkrKykgew0KICAgICAgICBidWZmQ2FyZ29SZWYuYWRkKDQraSo2MSkud3JpdGVVMzIoMCk7DQogICAgfQ0KICAgIGJ1ZmZDYXJnb1JlZi53cml0ZVBvaW50ZXIocHRyKGNhcmdvUmVmKS5yZWFkUG9pbnRlcigpKTsNCiAgICBidWZmQ2FyZ29SZWYuYWRkKDEyKzYxKm1heFNvbHQpLndyaXRlVTgoMCk7DQogICAgdmFyIHJlcyA9IGZhbHNlOw0KICAgIGlmKE15U1FMX2dldF91aW50KGRiSGFuZGVsLDAsYnVmZkNhcmdvUmVmLmFkZCg4KzYxKm1heFNvbHQpKSE9MSl7DQogICAgICAgIC8vIGNvbnNvbGUubG9nKCd1aW50IGNhcGFjaXR5IGdldCBlcnJvcicpDQogICAgICAgIGNvbnNvbGUubG9nKCJwcmUgb25lIDQ0NCIpDQogICAgICAgIHJlcyA9ICBmYWxzZTsNCiAgICB9ZWxzZSBpZihNeVNRTF9nZXRfdWludChkYkhhbmRlbCwxLGJ1ZmZDYXJnb1JlZi5hZGQoNCs2MSptYXhTb2x0KSkhPTEpew0KICAgICAgICBjb25zb2xlLmxvZygndWludCBtb25leSBnZXQgZXJyb3InKQ0KICAgICAgICByZXMgPSAgZmFsc2U7DQogICAgfWVsc2V7DQogICAgICAgIHZhciB2MTAgPSBNZW1vcnkuYWxsb2MoNjEqbWF4U29sdCo0KTsNCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA2MSptYXhTb2x0OyBpKyspIHsNCiAgICAgICAgICAgIHYxMC5hZGQoaSo0KS53cml0ZVUzMigwKTsNCiAgICAgICAgfQ0KICAgICAgICB2YXIgYmluYXJ5TGVuZ3RoID0gTXlTUUxfZ2V0X2JpbmFyeV9sZW5ndGgoZGJIYW5kZWwsMik7DQogICAgICAgIGlmKCBNeVNRTF9nZXRfYmluYXJ5KGRiSGFuZGVsLDIsdjEwLCBiaW5hcnlMZW5ndGgpIT0xICl7DQogICAgICAgICAgICByZXMgPSAgdHJ1ZTsNCiAgICAgICAgfWVsc2V7DQogICAgICAgICAgICBiaW5hcnlMZW5ndGggPSBNeVNRTF9nZXRfYmluYXJ5X2xlbmd0aChkYkhhbmRlbCwyKTsNCiAgICAgICAgICAgIHZhciBtYXhMZW5ndGggPSA2MSptYXhTb2x0Ow0KICAgICAgICAgICAgdmFyIHYxN0FkZHIgPSBNZW1vcnkuYWxsb2MoNCk7DQogICAgICAgICAgICB2MTdBZGRyLndyaXRlSW50KG1heExlbmd0aCkNCiAgICAgICAgICAgIGlmKHVuY29tcHJlc3NfemlwKGJ1ZmZDYXJnb1JlZi5hZGQoNCksIHYxN0FkZHIsIHYxMCwgYmluYXJ5TGVuZ3RoKSAhPTEpew0KICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCJ1bmNvbXByZXNzX3ppcCBlcnJvciAgISEhIikNCiAgICAgICAgICAgICAgICByZXMgPSAgZmFsc2U7DQogICAgICAgICAgICB9ZWxzZSBpZih2MTdBZGRyLnJlYWRVMzIoKSE9MCAmJiB2MTdBZGRyLnJlYWRVMzIoKSUoNjEqbWF4U29sdCkgIT0wKXsNCiAgICAgICAgICAgICAgICByZXMgPSAgZmFsc2U7DQogICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICByZXMgPSAgdHJ1ZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0NCiAgICBpZighcmVzKXsNCiAgICAgICAgZGVsZXRlIGFjY291bnRDYXJnZm9bYWNjSWRdDQogICAgfQ0KICAgIHJldHVybiByZXM7DQp9DQoNCmZ1bmN0aW9uIGdldFVzZXJBY2NJZChjYXJnb1JlZil7DQogICAgaWYoY2FyZ29SZWYgPT0gMCl7DQogICAgICAgIHJldHVybiAtMTsNCiAgICB9DQogICAgdmFyIHVzZXJBZGRyID0gcHRyKGNhcmdvUmVmLnJlYWRVMzIoKSk7DQogICAgaWYodXNlckFkZHIgPT0gMCl7DQogICAgICAgIHJldHVybiAtMTsNCiAgICB9DQogICAgcmV0dXJuIENVc2VyX2dldF9hY2NfaWQodXNlckFkZHIpOw0KfSANCiAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tRlVOQ1RJT05fRU5EIOaJqeWFhei0puWPt+mHkeW6kygxMjDmoLwpLOivtOaYjjrmianlhYXotKblj7fph5HlupMoMTIw5qC8KS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gDQogDQovLy0tLS0tLS0tLS0tLS0tLS0tLS0tRlVOQ1RJT05fQkVHSU4g5Ymv5pys5o2h5Lic6KW/5ZaK5ZaH5Y+t57uZ54K55Yi4LCDor7TmmI465Ymv5pys5o2h5Lic6KW/5ZaK5ZaH5Y+t57uZ54K55Yi4LS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KIA0KIC8v5Ymv5pys5o2h5Lic6KW/5ZaK5ZaH5Y+t57uZ54K55Yi4DQogDQovL+WJr+acrOaNoeS4nOilv+WWiuWWh+WPree7meeCueWIuA0KZnVuY3Rpb24gcHJvY2Vzc2luZ19kYXRhKGl0ZW1faWQsIHVzZXIpIHsNCiAgICBpZiAoZ2xvYmFsX2NvbmZpZ1snZ2FtZV9jb25maWcnXVsnZHVuZ2VvbnNfYWRkX2l0ZW1fbm90aWNlJ10gPT09ICd0cnVlJykgew0KICAgICAgICB2YXIgaXRlbURhdGEgPSBDRGF0YU1hbmFnZXJfZmluZF9pdGVtKEdfQ0RhdGFNYW5hZ2VyKCksIGl0ZW1faWQpOw0KICAgICAgICB2YXIgZXF1UmFyaXR5ID0gQ0l0ZW1fR2V0UmFyaXR5KGl0ZW1EYXRhKTsgLy8g56iA5pyJ5bqmICA+PTMg57KJ6Imy5Lul5LiKDQogICAgICAgIC8v5aSa5bCR56iA5pyJ5bqm5omN5Lya6Kem5Y+RDQogICAgICAgIGlmIChlcXVSYXJpdHkgPj0gZ2xvYmFsX2NvbmZpZ1snZ2FtZV9jb25maWcnXVsnZHVuZ2VvbnNfYWRkX2l0ZW1fbm90aWNlX2VxdVJhcml0eSddKSB7DQogICAgICAgICAgICB2YXIgY2hhcmFjTmFtZSA9IGFwaV9DVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjTmFtZSh1c2VyKTsNCiAgICAgICAgICAgIGNvbnN0IGl0ZW1OYW1lID0gYXBpX0NJdGVtX0dldEl0ZW1OYW1lKGl0ZW1faWQpOw0KICAgICAgICAgICAgLy/mkq3miqXlhoXlrrkNCiAgICAgICAgICAgIHZhciB0ZXh0ID0gZ2xvYmFsX2NvbmZpZ1snZ2FtZV9jb25maWcnXVsnZHVuZ2VvbnNfYWRkX2l0ZW1fbm90aWNlX3RleHQnXTsNCiAgICAgICAgICAgIC8v5aWW5Yqx54K55Yi45pa55byPDQogICAgICAgICAgICB2YXIgdHlwZSA9IGdsb2JhbF9jb25maWdbJ2dhbWVfY29uZmlnJ11bJ2R1bmdlb25zX2FkZF9pdGVtX25vdGljZV9jYXNoX2NlcmEnXTsNCiAgICAgICAgICAgIGlmICh0eXBlID09IDApIHsNCiAgICAgICAgICAgICAgICAvL+WPquaSreaKpeS4jeWlluWKseeCueWIuA0KICAgICAgICAgICAgICAgIHRleHQgPSB0ZXh0LnJlcGxhY2UoIj8xIiwgY2hhcmFjTmFtZSkucmVwbGFjZSgiPzIiLCBpdGVtTmFtZSkucmVwbGFjZSgiPzMiLCB0eXBlKTsNCiAgICAgICAgICAgICAgICBhcGlfR2FtZVdvcmxkX1NlbmROb3RpUGFja2V0TWVzc2FnZSh0ZXh0LCAxNCk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZiAodHlwZSA9PSAxKSB7DQogICAgICAgICAgICAgICAgLy/lpZblirHpmo/mnLrngrnliLgNCiAgICAgICAgICAgICAgICBhcGlfR2FtZVdvcmxkX1NlbmROb3RpUGFja2V0TWVzc2FnZSh0ZXh0LCAxNCk7DQogICAgICAgICAgICAgICAgLy/mnIDlsI/ngrnliLjmlbDph48NCiAgICAgICAgICAgICAgICB2YXIgbWluID0gMTsNCiAgICAgICAgICAgICAgICAvL+acgOWkp+eCueWIuOaVsOmHjw0KICAgICAgICAgICAgICAgIHZhciBtYXggPSA4ODg7DQogICAgICAgICAgICAgICAgdHlwZSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4pKSArIG1pbjsNCiAgICAgICAgICAgICAgICB0ZXh0ID0gdGV4dC5yZXBsYWNlKCI/MSIsIGNoYXJhY05hbWUpLnJlcGxhY2UoIj8yIiwgaXRlbU5hbWUpLnJlcGxhY2UoIj8zIiwgdHlwZSk7DQogICAgICAgICAgICAgICAgYXBpX3JlY2hhcmdlX2Nhc2hfY2VyYSh1c2VyLCB0eXBlKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmICh0eXBlID4gMSkgew0KICAgICAgICAgICAgICAgIHRleHQgPSB0ZXh0LnJlcGxhY2UoIj8xIiwgY2hhcmFjTmFtZSkucmVwbGFjZSgiPzIiLCBpdGVtTmFtZSkucmVwbGFjZSgiPzMiLCB0eXBlKTsNCiAgICAgICAgICAgICAgICAvL+WlluWKseiuvue9rueahOeCueWIuOaVsOmHjw0KICAgICAgICAgICAgICAgIGFwaV9HYW1lV29ybGRfU2VuZE5vdGlQYWNrZXRNZXNzYWdlKHRleHQsIDE0KTsNCiAgICAgICAgICAgICAgICBhcGlfcmVjaGFyZ2VfY2FzaF9jZXJhKHVzZXIsIHR5cGUpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCg0KICAgIH0NCiAgICBDVXNlcl9zZW5kX2l0ZW1zcGFjZSh1c2VyLCBJTlZFTlRPUllfVFlQRV9JVEVNKTsNCn0gICANCiAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tRlVOQ1RJT05fRU5EIOWJr+acrOaNoeS4nOilv+WWiuWWh+WPree7meeCueWIuCzor7TmmI465Ymv5pys5o2h5Lic6KW/5ZaK5ZaH5Y+t57uZ54K55Yi4LS0tLS0tLS0tLS0tLS0tLS0tLS0tLSANCiANCi8vLS0tLS0tLS0tLS0tLS0tLS0tLS1GVU5DVElPTl9CRUdJTiDngrnliLjmiJbku6PluIHliLjlhYXlgLwsIOivtOaYjjrngrnliLjmiJbku6PluIHliLjlhYXlgLwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogDQogLy/ngrnliLjlhYXlgLwgKOemgeatouebtOaOpeS/ruaUuWJpbGxpbmflupPmiYDmnInooajlrZfmrrUsIOeCueWIuOebuOWFs+aTjeS9nOWKoeW/heiwg+eUqOaVsOaNruW6k+WtmOWCqOi/h+eoiyEpDQpmdW5jdGlvbiBhcGlfcmVjaGFyZ2VfY2FzaF9jZXJhKHVzZXIsIGFtb3VudCkNCnsNCiAgICAvL+WFheWAvA0KICAgIFdvbmdXb3JrX0lQR19DSVBHSGVscGVyX0lQR0lucHV0KHB0cigweDk0MUY3MzQpLnJlYWRQb2ludGVyKCksIHVzZXIsIDUsIGFtb3VudCwgcHRyKDB4OEM3RkEyMCksIHB0cigweDhDN0ZBMjApLA0KICAgICAgICBNZW1vcnkuYWxsb2NVdGY4U3RyaW5nKCdHTScpLCBwdHIoMCksIHB0cigwKSwgcHRyKDApKTsNCg0KICAgIC8v6YCa55+l5a6i5oi356uv5YWF5YC857uT5p6cDQogICAgV29uZ1dvcmtfSVBHX0NJUEdIZWxwZXJfSVBHUXVlcnkocHRyKDB4OTQxRjczNCkucmVhZFBvaW50ZXIoKSwgdXNlcik7DQp9DQoNCi8v5Luj5biB5YWF5YC8ICjnpoHmraLnm7TmjqXkv67mlLliaWxsaW5n5bqT5omA5pyJ6KGo5a2X5q61LCDngrnliLjnm7jlhbPmk43kvZzliqHlv4XosIPnlKjmlbDmja7lupPlrZjlgqjov4fnqIshKQ0KZnVuY3Rpb24gYXBpX3JlY2hhcmdlX2Nhc2hfY2VyYV9wb2ludCh1c2VyLCBhbW91bnQpDQp7DQogICAgLy/lhYXlgLwNCiAgICBXb25nV29ya19JUEdfQ0lQR0hlbHBlcl9JUEdJbnB1dFBvaW50KHB0cigweDk0MUY3MzQpLnJlYWRQb2ludGVyKCksIHVzZXIsIGFtb3VudCwgNCwgcHRyKDApLCBwdHIoMCkpOw0KDQogICAgLy/pgJrnn6XlrqLmiLfnq6/lhYXlgLznu5PmnpwNCiAgICBXb25nV29ya19JUEdfQ0lQR0hlbHBlcl9JUEdRdWVyeShwdHIoMHg5NDFGNzM0KS5yZWFkUG9pbnRlcigpLCB1c2VyKTsNCn0gDQogLy8tLS0tLS0tLS0tLS0tLS0tLS0tLUZVTkNUSU9OX0VORCDngrnliLjmiJbku6PluIHliLjlhYXlgLws6K+05piOOueCueWIuOaIluS7o+W4geWIuOWFheWAvC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gDQogIA0KIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS1JTlRST0RVQ0VfRlVOQ1RJT05TX0VORC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gDQog', 'da_frida_main', '最新脚本20231219');</sql>
    </changeSet>

    <changeSet author="yuzhanfeng" id="20231219-2" dbms="mysql" failOnError="true">
        <sql dbms="mysql">
            RENAME TABLE da_frida_function TO da_frida_function_bak_20231219;
            CREATE TABLE `da_frida_function` (
                                                 `id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT '编号',
                                                 `children_function` longtext COMMENT '依赖函数',
                                                 `function_name` varchar(32) DEFAULT NULL COMMENT '函数名',
                                                 `function_context` longtext COMMENT '函数内容',
                                                 `remark` varchar(256) DEFAULT NULL COMMENT '备注',
                                                 `function_key` varchar(64) NOT NULL COMMENT '函数唯一标识',
                                                 `is_system_fun` tinyint(1) DEFAULT '0' COMMENT '系统函数',
                                                 PRIMARY KEY (`id`),
                                                 UNIQUE KEY `da_frida_function_UN` (`function_key`)
            ) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='frida函数信息';
            INSERT INTO da_frida_function (children_function, function_name, function_context, remark, function_key, is_system_fun) VALUES('', '服务端基础api函数', 'Ly/ojrflj5bns7vnu5/ml7bpl7QNCnZhciBDU3lzdGVtVGltZV9nZXRDdXJTZWMgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODBDQkM5RSksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIEdsb2JhbERhdGFfc19zeXN0ZW1UaW1lXyA9IHB0cigweDk0MUY3MTQpOw0KLy/ojrflj5ZVVEPml7bpl7Qo56eSKQ0KdmFyIGdldEN1clNlYyA9IG5ldyBOYXRpdmVGdW5jdGlvbihNb2R1bGUuZ2V0RXhwb3J0QnlOYW1lKG51bGwsICd0aW1lJyksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KDQovL+S7juWuouaIt+err+WwgeWMheS4reivu+WPluaVsOaNrg0KdmFyIFBhY2tldEJ1Zl9nZXRfYnl0ZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4NThDRjIyKSwgJ2ludCcsIFsncG9pbnRlcicsICdwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBQYWNrZXRCdWZfZ2V0X3Nob3J0ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDg1OENGQzApLCAnaW50JywgWydwb2ludGVyJywgJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIFBhY2tldEJ1Zl9nZXRfaW50ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDg1OEQyN0UpLCAnaW50JywgWydwb2ludGVyJywgJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIFBhY2tldEJ1Zl9nZXRfYmluYXJ5ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDg1OEQzQjIpLCAnaW50JywgWydwb2ludGVyJywgJ3BvaW50ZXInLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCg0KLy/mnI3liqHlmajnu4TljIUNCnZhciBQYWNrZXRHdWFyZF9QYWNrZXRHdWFyZCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4NThERDRDKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9oZWFkZXIgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODBDQjhGQyksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50JywgJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9ieXRlID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgwQ0I5MjApLCAnaW50JywgWydwb2ludGVyJywgJ3VpbnQ4J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X3Nob3J0ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgwRDlFQTQpLCAnaW50JywgWydwb2ludGVyJywgJ3VpbnQxNiddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9pbnQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODBDQjkzQyksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2JpbmFyeSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MTFERjA4KSwgJ2ludCcsIFsncG9pbnRlcicsICdwb2ludGVyJywgJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgSW50ZXJmYWNlUGFja2V0QnVmX2ZpbmFsaXplID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgwQ0I5NTgpLCAnaW50JywgWydwb2ludGVyJywgJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgRGVzdHJveV9QYWNrZXRHdWFyZF9QYWNrZXRHdWFyZCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4NThERTgwKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgSW50ZXJmYWNlUGFja2V0QnVmX2NsZWFyID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MGNiOGU2KSwgJ2ludCcsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9wYWNrZXQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgxNTA5OGUpLCAnaW50JywgWydwb2ludGVyJywgJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIFBhY2tldEd1YXJkX2ZyZWVfUGFja2V0R3VhcmQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg1OGRlODApLCAndm9pZCcsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgUGFja2V0X01vbml0b3JfTWF4X0xldmVsX0Jyb2FkQ2FzdF9QYWNrZXRfTW9uaXRvcl9NYXhfTGV2ZWxfQnJvYWRDYXN0ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4Njk0NTYwKSwgJ3ZvaWQnLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KDQovL+acjeWKoeWZqOe7hOWMhQ0KZnVuY3Rpb24gYXBpX1BhY2tldEd1YXJkX1BhY2tldEd1YXJkKCkgew0KICAgIHZhciBwYWNrZXRfZ3VhcmQgPSBNZW1vcnkuYWxsb2MoMHgyMDAwMCk7DQogICAgUGFja2V0R3VhcmRfUGFja2V0R3VhcmQocGFja2V0X2d1YXJkKTsNCg0KICAgIHJldHVybiBwYWNrZXRfZ3VhcmQ7DQp9DQoNCi8v5pyN5Yqh5Zmo546v5aKDDQp2YXIgR19DRW52aXJvbm1lbnQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgwQ0MxODEpLCAncG9pbnRlcicsIFtdLCB7ICJhYmkiOiAic3lzdiIgfSk7DQovL+iOt+WPluW9k+WJjeacjeWKoeWZqOmFjee9ruaWh+S7tuWQjQ0KdmFyIENFbnZpcm9ubWVudF9nZXRfZmlsZV9uYW1lID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgwREEzOUEpLCAncG9pbnRlcicsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQovL+iOt+WPlkdhbWVXb3JsZOWunuS+iw0KdmFyIEdfR2FtZVdvcmxkID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgwREEzQTcpLCAncG9pbnRlcicsIFtdLCB7ICJhYmkiOiAic3lzdiIgfSk7DQovL+agueaNrnNlcnZlcl9pZOafpeaJvnVzZXINCnZhciBHYW1lV29ybGRfZmluZF9mcm9tX3dvcmxkID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDg2QzRCOUMpLCAncG9pbnRlcicsIFsncG9pbnRlcicsICdpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KLy/ln47plYfnnqznp7sNCnZhciBHYW1lV29ybGRfbW92ZV9hcmVhID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDg2QzVBODQpLCAncG9pbnRlcicsIFsncG9pbnRlcicsICdwb2ludGVyJywgJ2ludCcsICdpbnQnLCAnaW50JywgJ2ludCcsICdpbnQnLCAnaW50JywgJ2ludCcsICdpbnQnLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCi8v5qC55o2u6LSm5Y+35p+l5om+5bey55m75b2V6KeS6ImyDQp2YXIgR2FtZVdvcmxkX2ZpbmRfdXNlcl9mcm9tX3dvcmxkX2J5YWNjaWQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODZDNEQ0MCksICdwb2ludGVyJywgWydwb2ludGVyJywgJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQovL+WwhuWNj+iuruWPkee7meaJgOacieWcqOe6v+eOqeWutijmhY7nlKghIOW5v+aSreexu+aOpeWPo+W/hemhu+mZkOWItuiwg+eUqOmikeeOhywg6Ziy5q2iQ0PmlLvlh7spDQovL+mZpOmdnuW/hemhu+S9v+eUqCwg5ZCm5YiZ5pS555So5a+56LGh5pu05Yqg5piO56Gu55qEQ1BhcnR5OjpzZW5kX3RvX3BhcnR5L0dhbWVXb3JsZDo6c2VuZF90b19hcmVhDQp2YXIgR2FtZVdvcmxkX3NlbmRfYWxsID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDg2QzhDMTQpLCAnaW50JywgWydwb2ludGVyJywgJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIEdhbWVXb3JsZF9zZW5kX2FsbF93aXRoX3N0YXRlID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDg2QzkxODQpLCAnaW50JywgWydwb2ludGVyJywgJ3BvaW50ZXInLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCi8v6I635Y+W5Zyo57q/546p5a625pWw6YePDQp2YXIgR2FtZVdvcmxkX2dldF9Vc2VyQ291bnRfSW5Xb3JsZCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4NkM0NTUwKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQovL+WcqOe6v+eOqeWutuWIl+ihqCjnlKjkuo5zdGQ6Om1hcOmBjeWOhikNCnZhciBHYW1ld29ybGRfdXNlcl9tYXBfYmVnaW4gPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODBGNzhBNiksICdpbnQnLCBbJ3BvaW50ZXInLCAncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgR2FtZXdvcmxkX3VzZXJfbWFwX2VuZCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MEY3OENDKSwgJ2ludCcsIFsncG9pbnRlcicsICdwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBHYW1ld29ybGRfdXNlcl9tYXBfbm90X2VxdWFsID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgwRjc4RjIpLCAnYm9vbCcsIFsncG9pbnRlcicsICdwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBHYW1ld29ybGRfdXNlcl9tYXBfZ2V0ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgwRjc5NDQpLCAncG9pbnRlcicsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgR2FtZXdvcmxkX3VzZXJfbWFwX25leHQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODBGNzkwNiksICdwb2ludGVyJywgWydwb2ludGVyJywgJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIEdhbWVXb3JsZF9Jc0VuY2hhbnRSZXZpc2lvbkNoYW5uZWwgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgyMzQzZmMpLCAnaW50JywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBHYW1lV29ybGRfZ2V0RHVuZ2Vvbk1pbmltdW1SZXF1aXJlZExldmVsID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NmM5MDc2KSwgJ2ludCcsIFsncG9pbnRlcicsICdpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIEdhbWVXb3JsZF9zZW5kX3VzZXJfZHVuZ2Vvbl9pbm91dF9tZXNzYWdlID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NmM4ZmM4KSwgJ3ZvaWQnLCBbJ3BvaW50ZXInLCAncG9pbnRlcicsICdpbnQnLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBHYW1lV29ybGRfSXNQdlBTa2lsVHJlZUNoYW5uZWwgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgyMzQ0MWUpLCAnaW50JywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCg0KdmFyIEdfQ0dhbWVNYW5hZ2VyID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MGNjMThlKSwgJ3BvaW50ZXInLCBbXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENHYW1lTWFuYWdlcl9HZXRQcmVtaXVtTGV0aGVNYW5hZ2VyID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4Mjk4ZTg4KSwgJ2ludCcsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQ0V2ZW50TWFuYWdlcl9HZXRSZXBlYXRFdmVudCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODExNTk5OCksICdwb2ludGVyJywgWydwb2ludGVyJywgJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgRXZlbnRDbGFzc2lmeV9DRXZlbnRTY3JpcHRNbmdfcHJvY2Vzc19sZXZlbF91cF9yZXdhcmQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgxMGJmNTYpLCAncG9pbnRlcicsIFsncG9pbnRlcicsICdwb2ludGVyJywgJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgR3VpbGRQYXJhbWV0ZXJTY3JpcHRfZ2V0R3VpbGRMZXZlbFVwUGFyYW0gPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg5Nzk2NDgpLCAncG9pbnRlcicsIFsncG9pbnRlcicsICdpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIEd1aWxkUGFyYW1ldGVyU2NyaXB0X2dldEd1aWxkRXhwQm9vayA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODk3OTY3MiksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCg0KLy/ojrflj5ZEYXRhTWFuYWdlcuWunuS+i++8jOeUqOS6juWkhOeQhnB2ZueahA0KdmFyIEdfQ0RhdGFNYW5hZ2VyID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgwQ0MxOUIpLCAncG9pbnRlcicsIFtdLCB7ICJhYmkiOiAic3lzdiIgfSk7DQovL+S7jnB2ZuS4reiOt+WPluS7u+WKoeaVsOaNrg0KdmFyIENEYXRhTWFuYWdlcl9maW5kX3F1ZXN0ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgzNUZEQzYpLCAncG9pbnRlcicsIFsncG9pbnRlcicsICdpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KLy/ojrflj5boo4XlpIdwdmbmlbDmja4NCnZhciBDRGF0YU1hbmFnZXJfZmluZF9pdGVtID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgzNUZBMzIpLCAncG9pbnRlcicsIFsncG9pbnRlcicsICdpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENEYXRhTWFuYWdlcl9nZXRfbGV2ZWxfZXhwID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MzYwNDQyKSwgJ2ludCcsIFsncG9pbnRlcicsICdpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENEYXRhTWFuYWdlcl9nZXREYWlseVRyYWluaW5nUXVlc3QgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgzNjQwZmUpLCAncG9pbnRlcicsIFsncG9pbnRlcicsICdpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENEYXRhTWFuYWdlcl9HZXRTcEF0TGV2ZWxVcCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODM2MGNiOCksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDRGF0YU1hbmFnZXJfZ2V0X2V2ZW50X3NjcmlwdF9tbmcgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgxMTBiNjIpLCAncG9pbnRlcicsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQ0RhdGFNYW5hZ2VyX0dldEV4cGVydEpvYlNjcmlwdCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODIyYjVmMiksICdwb2ludGVyJywgWydwb2ludGVyJywgJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQ0RhdGFNYW5hZ2VyX2dldF9kaW1lbnNpb25Jbm91dCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODIyYjYxMiksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCg0KLy/pgJrnn6XlrqLmiLfnq69RdWVzdFBpZWNl5pu05pawDQp2YXIgR0VUX1VTRVIgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg0YmI5Y2YpLCAnaW50JywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCi8v57uZ6KeS6Imy5Y+R5raI5oGvDQp2YXIgQ1VzZXJfU2VuZE5vdGlQYWNrZXRNZXNzYWdlID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDg2ODg2Q0UpLCAnaW50JywgWydwb2ludGVyJywgJ3BvaW50ZXInLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCi8v6KeS6Imy5aKe5Yqg57uP6aqMDQp2YXIgQ1VzZXJfZ2Fpbl9leHBfc3AgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODY2QTNGRSksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50JywgJ3BvaW50ZXInLCAncG9pbnRlcicsICdpbnQnLCAnaW50JywgJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQovL+WPkemAgemBk+WFtw0KdmFyIENVc2VyX0FkZEl0ZW0gPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODY3QjZENCksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50JywgJ2ludCcsICdpbnQnLCAncG9pbnRlcicsICdpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KLy/pgJrnn6XlrqLmiLfnq6/pgZPlhbfmm7TmlrAo5a6i5oi356uv5oyH6ZKILCDpgJrnn6XmlrnlvI9b5LuF5a6i5oi356uvPTEsIOS4lueVjOW5v+aSrT0wLCDlsI/pmJ89Miwgd2FyIHJvb209M10sIGl0ZW1TcGFjZVvoo4XlpIc9MCwg5pe26KOFPTFdLCDpgZPlhbfmiYDlnKjnmoTog4zljIXmp70pDQp2YXIgQ1VzZXJfU2VuZFVwZGF0ZUl0ZW1MaXN0ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDg2N0M2NUEpLCAnaW50JywgWydwb2ludGVyJywgJ2ludCcsICdpbnQnLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCi8vIOmAmuefpeWuouaIt+err+abtOaWsOiDjOWMheagjw0KdmFyIENVc2VyX3NlbmRfaXRlbXNwYWNlID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDg2NURCNkMpLCAnaW50JywgWydwb2ludGVyJywgJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQovL+iOt+WPlueOqeWutuS7u+WKoeS/oeaBrw0KdmFyIENVc2VyX2dldEN1ckNoYXJhY1F1ZXN0VyA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MTRBQTVFKSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KLy/ku7vliqHnm7jlhbPmk43kvZwo56ys5LqM5Liq5Y+C5pWw5Li65Y2P6K6u57yW5Y+3OiAzMz3mjqXlj5fku7vliqEsIDM0PeaUvuW8g+S7u+WKoSwgMzU95Lu75Yqh5a6M5oiQ5p2h5Lu25bey5ruh6LazLCAzNj3mj5DkuqTku7vliqHpooblj5blpZblirEpDQp2YXIgQ1VzZXJfcXVlc3RfYWN0aW9uID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NjZEQThBKSwgJ2ludCcsIFsncG9pbnRlcicsICdpbnQnLCAnaW50JywgJ2ludCcsICdpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KLy/lj5HljIXnu5nlrqLmiLfnq68NCnZhciBDVXNlcl9TZW5kID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDg2NDg1QkEpLCAnaW50JywgWydwb2ludGVyJywgJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KLy/orr7nva5HTeWujOaIkOS7u+WKoeaooeW8jyjml6DmnaHku7blrozmiJDku7vliqEpDQp2YXIgQ1VzZXJfc2V0R21RdWVzdEZsYWcgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODIyRkM4RSksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCi8v5piv5ZCmR03ku7vliqHmqKHlvI8NCnZhciBDVXNlcl9nZXRHbVF1ZXN0RmxhZyA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MjJGQzhFKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQovL+mAmuefpeWuouaIt+err+abtOaWsOW3suWujOaIkOS7u+WKoeWIl+ihqA0KdmFyIENVc2VyX3NlbmRfY2xlYXJfcXVlc3RfbGlzdCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4NjhCMDQ0KSwgJ2ludCcsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQovL+iuoeeul+S7u+WKoeWfuuehgOWlluWKsSjkuI3ljIXlkKvpgZPlhbflpZblirEpDQp2YXIgQ1VzZXJfcXVlc3RfYmFzaWNfcmV3YXJkID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDg2NkU3QTgpLCAnaW50JywgWydwb2ludGVyJywgJ3BvaW50ZXInLCAncG9pbnRlcicsICdwb2ludGVyJywgJ3BvaW50ZXInLCAncG9pbnRlcicsICdpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KLy/pgJrnn6XlrqLmiLfnq69RUOabtOaWsA0KdmFyIENVc2VyX3NlbmRDaGFyYWNRcCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4NjhBQzI0KSwgJ2ludCcsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQovL+mAmuefpeWuouaIt+err1F1ZXN0UGllY2Xmm7TmlrANCnZhciBDVXNlcl9zZW5kQ2hhcmFjUXVlc3RQaWVjZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4NjhBRjJDKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQovL+iOt+WPluinkuiJsueKtuaAgQ0KdmFyIENVc2VyX2dldF9zdGF0ZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MERBMzhDKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQovL+mAmuefpeWuouaIt+err+inkuiJsuWxnuaAp+abtOaWsA0KdmFyIENVc2VyX1NlbmROb3RpUGFja2V0ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDg2N0JBNUMpLCAnaW50JywgWydwb2ludGVyJywgJ2ludCcsICdpbnQnLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCi8vIOiOt+WPlui0puWPt+mHkeW6kw0KdmFyIENVc2VyX0dldEFjY291bnRDYXJnbyA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODIyZmMyMiksICdwb2ludGVyJywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCi8v6YeN572u5byC55WML+aegemZkOelreWdm+asoeaVsA0KdmFyIENVc2VyX0RpbWVuc2lvbklub3V0VXBkYXRlID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDg2NTZDMTIpLCAnaW50JywgWydwb2ludGVyJywgJ2ludCcsICdpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KLy/pgZPlhbfmmK/lkKbooqvplIENCnZhciBDVXNlcl9DaGVja0l0ZW1Mb2NrID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDg2NDY5NDIpLCAnaW50JywgWydwb2ludGVyJywgJ2ludCcsICdpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KLy8g6K6+572u55So5oi35pyA5aSn562J57qnIGludOS4uuetiee6pw0KdmFyIENVc2VyX1NldFVzZXJNYXhMZXZlbCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY4ZmVjOCksICdwb2ludGVyJywgWydwb2ludGVyJywgJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQ1VzZXJfQ2FsY3VyYXRlVXNlck1heExldmVsID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NjhmZjA0KSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KLy/ojrflj5bop5LoibLmiYDlnKjpmJ/kvI0NCnZhciBDVXNlcl9HZXRQYXJ0eSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY1NTE0QyksICdwb2ludGVyJywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCi8v6I635Y+W6KeS6Imy5omp5bGV5pWw5o2uDQp2YXIgQ1VzZXJfR2V0Q2hhcmFjRXhwYW5kRGF0YSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODBERDU4NCksICdwb2ludGVyJywgWydwb2ludGVyJywgJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQovL+iOt+WPluinkuiJsueCueWIuOS9meminQ0KdmFyIENVc2VyX0dldENlcmEgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgwRkRGN0EpLCAnaW50JywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCi8v6I635Y+W6KeS6Imy6LSm5Y+3aWQNCnZhciBDVXNlcl9nZXRfYWNjX2lkID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgwREEzNkUpLCAnaW50JywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCi8v6L+U5Zue6YCJ5oup6KeS6Imy55WM6Z2iDQp2YXIgQ1VzZXJfUmV0dXJuVG9TZWxlY3RDaGFyYWNMaXN0ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDg2ODZGRUUpLCAnaW50JywgWydwb2ludGVyJywgJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQ1VzZXJfU2VuZENtZEVycm9yUGFja2V0ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NjdiZjQyKSwgJ2ludCcsIFsncG9pbnRlcicsICdpbnQnLCAndWludDgnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENVc2VyX0NoZWNrTW9uZXkgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2NmFmMWMpLCAnaW50JywgWydwb2ludGVyJywgJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQ1VzZXJfR2V0Q2hhcmFjRXhwYW5kRGF0YVIgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgyOGI1ZGUpLCAnaW50JywgWydpbnQnLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDVXNlcl9pc0dNVXNlciA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODE0NTg5YyksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENVc2VyX29uTGV2ZWxVcCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY2MzExYSksICd2b2lkJywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDVXNlcl9nZXRIYWRlcyA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODIzMDgwMCksICdwb2ludGVyJywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDVXNlcl9jaGVja19sZXZlbF91cCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY2MmFlYSksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50JywgJ2ludCcsICdpbnQnLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDVXNlcl9nYWluX3NwID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NjZhOWEwKSwgJ2ludCcsIFsncG9pbnRlcicsICdpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENVc2VyX2dhaW5fc2ZwID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NjZhYWQyKSwgJ2ludCcsIFsncG9pbnRlcicsICdpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENVc2VyX2hpc3RvcnlfbG9nX3NwID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NjZhYzBlKSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInLCAnaW50JywgJ2ludCcsICdpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENVc2VyX2hpc3RvcnlfbG9nX3NmcCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY2YWNkMCksICdwb2ludGVyJywgWydwb2ludGVyJywgJ2ludCcsICdpbnQnLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDVXNlcl9HZXRUdXRvcmlhbFNraXBhYmxlID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NGVjYWQ0KSwgJ2ludCcsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQ1VzZXJfVXBkYXRlVHV0b3JpYWxTa2lwYWJsZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY5NzMxOCksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENVc2VyX3VwZGF0ZV9jaGFyYWNfc3RhdCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY2NDZjOCksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDVXNlcl9HZXRTZXJ2ZXJHcm91cCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODBjYmM5MCksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENVc2VyX21ha2VHdWlsZExldmVsVXBNZXNzYWdlID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4Njc5NzU0KSwgJ3ZvaWQnLCBbJ3BvaW50ZXInLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDVXNlcl9nZXRDdXJDaGFyYWNRdWVzdFIgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgxOWE4YTYpLCAncG9pbnRlcicsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQ1VzZXJfVXBkYXRlVXNlckluZm80R3VpbGQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2N2NkMjApLCAndm9pZCcsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQ1VzZXJfZ2V0X2NoYXJhY19ubyA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODE1NzQxYyksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDVXNlcl9WZXJpZnlQcmVzZW50QXZlbmdlclRpdGxlID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NjhiNTUyKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQ1VzZXJfQWRkQ3VyQ2hhcmFjTWVyY2VuYXJ5SW5mbyA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY4ZTU5NiksICdwb2ludGVyJywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDVXNlcl9kZWNpZGVfZ3Jvd3RoX3Bvd2VyX3Jld2FyZF9zeXN0ZW0gPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2OGQ3ODApLCAnaW50JywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDVXNlcl9SZUNhbGNDaGF0dGluZ0Vtb3RpY29uID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4Njg5YTIyKSwgJ3ZvaWQnLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENVc2VyX1NlbmRDaGF0dGluZ0Vtb3RpY29uID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4Njg5YjkwKSwgJ3ZvaWQnLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENVc2VyX2lzQWZmZWN0ZWRQcmVtaXVtID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MGU2MDBlKSwgJ2ludCcsIFsnaW50JywgJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQ1VzZXJfcHJvY2Vzc05QQ0dpZnRPbkxldmVsVXAgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2NjQwN2EpLCAndm9pZCcsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQ1VzZXJfcHJvY2Vzc0xldmVsVXBFdmVudFJld2FyZCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY2M2NjMCksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDVXNlcl9wcm9jZXNzTGV2ZWxVcEV2ZW50ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NjkxMTVhKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQ1VzZXJfaW5jUGxheUV4cEFkZCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY5NzI5YSksICdwb2ludGVyJywgWydwb2ludGVyJywgJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQ1VzZXJfQ2hlY2tJblRyYWRlID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MGRhMmZlKSwgJ3VpbnQxNicsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQ1VzZXJfZ2V0Q3VyQ2hhcmFjVG90YWxGYXRpZ3VlID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NjU3NzY2KSwgJ2ludCcsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQ1VzZXJfSXNHdWlsZE1hc3RlciA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODIzMDE3MiksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENVc2VyX0dldEd1aWxkREJJbmZvID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MjMwMTY0KSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENVc2VyX0NhbExldmVsVXBJdGVtQ2hlY2sgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2ODlkMDYpLCAnaW50JywgWydwb2ludGVyJywgJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQ1VzZXJfQ2FsTGV2ZWxVcEl0ZW1TdGF0ZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY4OWQ3NCksICdpbnQnLCBbJ3BvaW50ZXInLCAncG9pbnRlcicsICdwb2ludGVyJywgJ2ludCcsICdpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENVc2VyX0dldEN1ckV4cGVydEpvYkxldmVsID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NjhiYzdjKSwgJ2ludCcsIFsncG9pbnRlcicsICdpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENVc2VyX3NlbmRfc2tpbGxfaW5mbyA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY2YzQ2YSksICd2b2lkJywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDVXNlcl9tYWtlX2Jhc2ljX2luZm8gPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2NWE0NGUpLCAnaW50JywgWydwb2ludGVyJywgJ3BvaW50ZXInLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDVXNlcl9HZXRXYXJSb29tID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NjU1MWRlKSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENVc2VyX2FkanVzdF9jaGFyYWNfc3RhdCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY2NDc2NiksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENVc2VyX2luY3JlYXNlX3N0YXR1cyA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY2NTdmYyksICd2b2lkJywgWydwb2ludGVyJywgJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQ1VzZXJfU2VuZFRhZ0NoYXJhY0luZm8gPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2OTAzZjgpLCAndm9pZCcsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQ1VzZXJfZ2l2ZUNoYXJhY0xpbmtCb251c0V4cCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY1MjU2NCksICd2b2lkJywgWydwb2ludGVyJywgJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQ1VzZXJfZ2V0X2NoYXJhY19ubyA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY0ZGZhMCksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDVXNlcl9SZWNvdmVyRmF0aWd1ZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY1N2FkYSksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDVXNlcl9TZW5kRmF0aWd1ZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY1NjU0MCksICd2b2lkJywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDVXNlcl9wcm9jZXNzTGV2ZWxSZXdhcmQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2ODc0NWUpLCAncG9pbnRlcicsIFsncG9pbnRlcicsICdpbnQnLCAnaW50JywgJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQ1VzZXJfZ2l2ZVB2UFNraWxsVHJlZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY2NTQwMCksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50JywgJ2ludCcsICdpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENVc2VyX3Jld2FyZEV4cCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY4YjIwYyksICd2b2lkJywgWydwb2ludGVyJywgJ2ludCcsICdpbnQnLCAnaW50JywgJ3BvaW50ZXInLCAncG9pbnRlcicsICdpbnQnLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCg0KdmFyIENVc2VyQ2hhcmFjSW5mb19zZXREZW1lbnNpb25Jbm91dFZhbHVlID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MjJmMTg0KSwgJ2ludCcsIFsncG9pbnRlcicsICdpbnQnLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCi8v6I635Y+W6KeS6Imy5ZCN5a2XDQp2YXIgQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY05hbWUgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODEwMTAyOCksICdwb2ludGVyJywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCi8v6I635Y+W6KeS6Imy5LiK5qyh6YCA5Ye65ri45oiP5pe26Ze0DQp2YXIgQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY0xhc3RQbGF5VGljayA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MkE2NkFBKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQovL+iOt+WPluinkuiJsuetiee6pw0KdmFyIENVc2VyQ2hhcmFjSW5mb19nZXRfY2hhcmFjX2xldmVsID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgwREEyQjgpLCAnaW50JywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCi8v6I635Y+W6KeS6Imy5b2T5YmN562J57qn5Y2H57qn5omA6ZyA57uP6aqMDQp2YXIgQ1VzZXJDaGFyYWNJbmZvX2dldF9sZXZlbF91cF9leHAgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2NEUzQkEpLCAnaW50JywgWydwb2ludGVyJywgJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQovL+iOt+WPluinkuiJsuiDjOWMhQ0KdmFyIENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNJbnZlblcgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODBEQTI4RSksICdwb2ludGVyJywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCi8v6I635Y+W6KeS6Imy5Ymv6IGM5LiaDQp2YXIgQ1VzZXJDaGFyYWNJbmZvX0dldEN1ckNoYXJhY0V4cGVydEpvYiA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MjJmOGQ0KSwgJ2ludCcsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQovL+iuvue9ruW5uOi/kOeCueaVsA0KdmFyIENVc2VyQ2hhcmFjSW5mb19TZXRDdXJDaGFyYWNMdWNrUG9pbnQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2NDY3MEEpLCAnaW50JywgWydwb2ludGVyJywgJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQovL+iOt+WPluinkuiJsuW9k+WJjeW5uOi/kOeCuQ0KdmFyIENVc2VyQ2hhcmFjSW5mb19HZXRDdXJDaGFyYWNMdWNrUG9pbnQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODIyRjgyOCksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KLy/orr7nva7op5LoibLlsZ7mgKfmlLnlj5johI/moIforrAo6KeS6Imy5LiK57q/5pe25oqK5omA5pyJ5bGe5oCn5LuO5pWw5o2u5bqT57yT5a2Y5Yiw5YaF5a2Y5LitLCDlj6rmnInorr7nva7kuobohI/moIforrAsIOinkuiJsuS4i+e6v+aXtuaJjeiDveato+ehruWtmOaho+WIsOaVsOaNruW6kywg5ZCm5YiZ5Y+Y5Yqo55qE5bGe5oCn5LiL57q/5ZCO5Y+v6IO95Lya5Zue5qGjKQ0KdmFyIENVc2VyQ2hhcmFjSW5mb19lbmFibGVTYXZlQ2hhcmFjU3RhdCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MTlBODcwKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQovL+acrOasoeeZu+W9leaXtumXtA0KdmFyIENVc2VyQ2hhcmFjSW5mb19HZXRMb2dpblRpY2sgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODIyRjY5MiksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KLy/ojrflj5blvZPliY3op5LoibJpZA0KdmFyIENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNObyA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MENCQzRFKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY01vbmV5ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MTdhMTg4KSwgJ2ludCcsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQ1VzZXJDaGFyYWNJbmZvX0dldEN1ckNoYXJhY01heEVxdWlwTGV2ZWwgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2NDY3YTApLCAnaW50JywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDVXNlckNoYXJhY0luZm9fU2V0Q3VyQ2hhcmFjTWF4RXF1aXBMZXZlbCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY0NjdjMiksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjU2tpbGxSID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MjJmMTMwKSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNTa2lsbFcgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgyMmYxNDApLCAncG9pbnRlcicsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY1IgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg1NGY3MTgpLCAnaW50JywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDVXNlckNoYXJhY0luZm9fZ2V0X2NoYXJhY19leHAgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg0ZWMwNWMpLCAnaW50JywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDVXNlckNoYXJhY0luZm9fc2V0Q3VyQ2hhcmFjRXhwID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MTlhODdjKSwgJ2ludCcsIFsncG9pbnRlcicsICdpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENVc2VyQ2hhcmFjSW5mb19hZGRDdXJDaGFyYWNFeHAgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2OTY3YmUpLCAnaW50JywgWydwb2ludGVyJywgJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQ1VzZXJDaGFyYWNJbmZvX2luY0N1ckNoYXJhY0xldmVsID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4Njk2NzYyKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQ1VzZXJDaGFyYWNJbmZvX3NldEN1ckNoYXJhY0V4cCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODE5YTg3YyksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDVXNlckNoYXJhY0luZm9fcmVzZXRDaGFyYWNGYXRpZ3VlR3Jvd25VcEJ1ZmYgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2OTYzODYpLCAnaW50JywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjR3Jvd1R5cGUgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgxNTc0MWMpLCAnaW50JywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDVXNlckNoYXJhY0luZm9fc2V0X2NoYXJhY19mYXRpZ3VlX2J1Zl9ib251c19leHAgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg0NjlhMDIpLCAnaW50JywgWydwb2ludGVyJywgJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY0NyZWF0ZVRpbWUgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgyMmYyMDIpLCAnaW50JywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDVXNlckNoYXJhY0luZm9fUmVzZXRDdXJDaGFyYWNEdW5nZW9uUGxheUNvdW50ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4Njk2OWZlKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQ1VzZXJDaGFyYWNJbmZvX0dldEN1ckNoYXJhY0V4cGVydEpvYkV4cCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODM3NTAyNiksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENVc2VyQ2hhcmFjSW5mb19HZXRDdXJDaGFyYWNEdW5nZW9uUGxheUNvdW50ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NWJmYzc4KSwgJ2ludCcsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfam9iID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MGZkZjIwKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQ1VzZXJDaGFyYWNJbmZvX2dldF9wdnBfZ3JhZGUgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgxOWVlNGEpLCAnaW50JywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDVXNlckNoYXJhY0luZm9fZ2V0X2NoYXJhY19qb2IgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgwZmRmMjApLCAnaW50JywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhclNlY29uZEdyb3dUeXBlID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MjJmMjNjKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJGaXJzdEdyb3dUeXBlID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MTEwYzk0KSwgJ2ludCcsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQ1VzZXJDaGFyYWNJbmZvX0dldEN1ckNoYXJhY0V4cGVydEpvYlR5cGUgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgyMmY4OTQpLCAnaW50JywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDVXNlckNoYXJhY0luZm9fR2V0Q3VyQ2hhcmFjU2tpbGxUcmVlSW5kZXggPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgyMmYzM2MpLCAnaW50JywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDVXNlckNoYXJhY0luZm9fc2V0Q3VyQ2hhcmFjRmF0aWd1ZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODIyZjJjZSksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDVXNlckNoYXJhY0luZm9fYWRkX2d1aWxkX2V4cCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY0NWM3NiksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDVXNlckNoYXJhY0luZm9fc2V0Q3VyQ2hhcmFjU3RhbWluYSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODJmMDkxNCksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDVXNlckNoYXJhY0luZm9fSW5jcmVhc2VQb3dlcldhclBvaW50ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4Njg3ZWZjKSwgJ2ludCcsIFsncG9pbnRlcicsICdpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNSID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MTIwNDMyKSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNJbnZlblIgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgwZGEyN2UpLCAncG9pbnRlcicsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfZ3VpbGRrZXkgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgyMmY0NmMpLCAnaW50JywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjRmF0aWd1ZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODIyZjJhZSksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNBZGRJbmZvUmVmVyA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY5NjBkOCksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KDQp2YXIgQ0ludmVudG9yeV9HZXRJbnZlblJlZiA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4NEZDMURFKSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInLCAnaW50JywgJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQovL+WHj+WwkemHkeW4gQ0KdmFyIENJbnZlbnRvcnlfdXNlX21vbmV5ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDg0RkY1NEMpLCAnaW50JywgWydwb2ludGVyJywgJ2ludCcsICdpbnQnLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCi8v5aKe5Yqg6YeR5biBDQp2YXIgQ0ludmVudG9yeV9nYWluX21vbmV5ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDg0RkYyOUMpLCAnaW50JywgWydwb2ludGVyJywgJ2ludCcsICdpbnQnLCAnaW50JywgJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQovL+iOt+WPluinkuiJsuW9k+WJjeaMgeaciemHkeW4geaVsOmHjw0KdmFyIENJbnZlbnRvcnlfZ2V0X21vbmV5ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgxMzQ3RDYpLCAnaW50JywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCi8v6I635Y+W5pe26KOF566h55CG5ZmoDQp2YXIgQ0ludmVudG9yeV9HZXRBdmF0YXJJdGVtTWdyUiA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MERENTc2KSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KLy/og4zljIXkuK3liKDpmaTpgZPlhbco6IOM5YyF5oyH6ZKILCDog4zljIXnsbvlnossIOanvSwg5pWw6YePLCDliKDpmaTljp/lm6AsIOiusOW9leWIoOmZpOaXpeW/lykNCnZhciBDSW52ZW50b3J5X2RlbGV0ZV9pdGVtID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDg1MDQwMEMpLCAnaW50JywgWydwb2ludGVyJywgJ2ludCcsICdpbnQnLCAnaW50JywgJ2ludCcsICdpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENJbnZlbnRvcnlfR2V0SW52ZW5EYXRhID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NGZiZjJjKSwgJ2ludCcsIFsncG9pbnRlcicsICdpbnQnLCAncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQ0ludmVudG9yeV9HZXRJbnZlblNsb3QgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg0ZmI5MTgpLCAncG9pbnRlcicsIFsncG9pbnRlcicsICdpbnQnLCAnaW50JywgJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQ0ludmVudG9yeV91cGRhdGVfaXRlbSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODUwMDBhZSksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50JywgJ2ludCcsICdpbnQnLCAnaW50JywgJ2ludCcsICdpbnQnLCAnaW50JywgJ2ludCcsICdpbnQnLCAnaW50JywgJ2ludCcsICdpbnQnLCAnaW50JywgJ2ludCcsICdpbnQnLCAnaW50JywgJ2ludCcsICdpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENJbnZlbnRvcnlfaW5zZXJ0SXRlbUludG9JbnZlbnRvcnkgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg1MDJkODYpLCAnaW50JywgWydwb2ludGVyJywgJ2ludCcsICdpbnQnLCAnaW50JywgJ2ludCcsICdpbnQnLCAnaW50JywgJ2ludCcsICdpbnQnLCAnaW50JywgJ2ludCcsICdpbnQnLCAnaW50JywgJ2ludCcsICdpbnQnLCAnaW50JywgJ2ludCcsICdpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENJbnZlbnRvcnlfR2V0RXZlbnRDb2luID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MTEwYzdhKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQ0ludmVudG9yeV9TZXRFdmVudENvaW4gPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgxMTBjODYpLCAncG9pbnRlcicsIFsncG9pbnRlcicsICdpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENJbnZlbnRvcnlfR2V0Q29pbiA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODIyZDY4YSksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENJbnZlbnRvcnlfU2V0Q29pbiA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODIyZDY3YyksICdwb2ludGVyJywgWydwb2ludGVyJywgJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQ0ludmVudG9yeV9nZXRfaW52ZW5fc2xvdF9ubyA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODUwY2Q2MiksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCg0KLy8g5YiG6Kej5py6IOWPguaVsCDop5LoibIg5L2N572uIOiDjOWMheexu+WeiyAgMjM5ICDop5LoibLvvIjosIHnmoTvvIkgMHhGRkZGDQp2YXIgRGlzUGF0Y2hlcl9EaXNKb2ludEl0ZW1fZGlzam9pbnQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODFmOTJjYSksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50JywgJ2ludCcsICdpbnQnLCAncG9pbnRlcicsICdpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KDQp2YXIgQWNjb3VudENhcmdvU2NyaXB0X0dldEN1cnJVcGdyYWRlSW5mbyA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODhjODBiYSksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDQWNjb3VudENhcmdvX0NoZWNrVmFsaWRTbG90ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MjhBNTU0KSwgJ2ludCcsIFsncG9pbnRlcicsICdpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENBY2NvdW50Q2FyZ29fUmVzZXRTbG90ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4Mjg5OGMwKSwgJ2ludCcsIFsncG9pbnRlcicsICdpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENBY2NvdW50Q2FyZ29fQ2hlY2tNb25leUxpbWl0ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MjhhNGNhKSwgJ2ludCcsIFsncG9pbnRlcicsICd1aW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDQWNjb3VudENhcmdvX0FkZE1vbmV5ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MjhhNzQyKSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInLCAndWludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQ0FjY291bnRDYXJnb19TZW5kTm90aWZ5TW9uZXkgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgyOGE3ZGMpLCAncG9pbnRlcicsIFsnaW50JywgJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQ0FjY291bnRDYXJnb19TdWJNb25leSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODI4YTc2NCksICdwb2ludGVyJywgWydwb2ludGVyJywgJ3VpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENBY2NvdW50Q2FyZ29fR2V0SXRlbUNvdW50ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MjhhNzk0KSwgJ2ludCcsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQ0FjY291bnRDYXJnb19HZXRNb25leSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODIyZjAyMCksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENBY2NvdW50Q2FyZ29fU2V0U3RhYmxlID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NDRkYzE2KSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KLy8g6I635Y+W6LSm5Y+36YeR5bqT5LiA5Liq56m655qE5qC85a2QDQp2YXIgQ0FjY291bnRDYXJnb19HZXRFbXB0eVNsb3QgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgyOGE1ODApLCAnaW50JywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCi8vIOWwhuW3sue7j+eJqeWTgeenu+WKqOWIsOafkOS4quagvOWtkCDnrKzkuIDkuKrotKblj7fph5HlupPvvIznrKzkuozkuKrnp7vlhaXnmoTnianlk4HvvIznrKzkuInkuKrmoLzlrZDkvY3nva4NCnZhciBDQWNjb3VudENhcmdvX0luc2VydEl0ZW0gPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgyODljODIpLCAnaW50JywgWydwb2ludGVyJywgJ3BvaW50ZXInLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCi8vIOWQkeWuouaIt+err+WPkemAgei0puWPt+mHkeW6k+WIl+ihqA0KdmFyIENBY2NvdW50Q2FyZ29fU2VuZEl0ZW1MaXN0ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MjhhODhhKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQoNCi8v5Yig6Zmk6IOM5YyF5qe95Lit55qE6YGT5YW3DQp2YXIgSW52ZW5fSXRlbV9yZXNldCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODBDQjdEOCksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KLy/mo4Dmn6Xog4zljIXkuK3pgZPlhbfmmK/lkKbkuLrnqboNCnZhciBJbnZlbl9JdGVtX2lzRW1wdHkgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODExRUQ2NiksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KLy/ojrflj5bog4zljIXkuK3pgZPlhbdpdGVtX2lkDQp2YXIgSW52ZW5fSXRlbV9nZXRLZXkgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODUwRDE0RSksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KLy/pgZPlhbfmmK/lkKbmmK/oo4XlpIcNCnZhciBJbnZlbl9JdGVtX2lzRXF1aXBhYmxlSXRlbVR5cGUgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgxNTA4MTIpLCAnaW50JywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCi8v6IOM5YyF6YGT5YW3DQp2YXIgSW52ZW5fSXRlbV9JbnZlbl9JdGVtID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgwQ0I4NTQpLCAncG9pbnRlcicsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQovL+iOt+WPlumBk+WFt+mZhOWKoOS/oeaBrw0KdmFyIEludmVuX0l0ZW1fZ2V0X2FkZF9pbmZvID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgwRjc4M0EpLCAnaW50JywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCg0KdmFyIENJdGVtX0dldEluZGV4ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgxMTBjNDgpLCAnaW50JywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDSXRlbV9HZXRHcmFkZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MTEwYzU0KSwgJ2ludCcsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQ0l0ZW1fR2V0SXRlbU5hbWUgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODExZWQ4MiksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENJdGVtX0dldFByaWNlID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgyMmM4NGEpLCAnaW50JywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDSXRlbV9HZXRHZW5SYXRlID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgyMmM4NGEpLCAnaW50JywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDSXRlbV9HZXROZWVkTGV2ZWwgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODU0NWZkYSksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENJdGVtX0dldFVzYWJsZUxldmVsID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgwZjEyZWUpLCAnaW50JywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDSXRlbV9HZXRSYXJpdHkgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODBmMTJkNiksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENJdGVtX0dldEF0dGFjaFR5cGUgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODBmMTJlMiksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENJdGVtX0dldEl0ZW1Hcm91cE5hbWUgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODBmMTMxMiksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENJdGVtX0dldFVwU2tpbGxUeXBlID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDg1NDVmY2MpLCAnaW50JywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDSXRlbV9HZXRHZXRFeHBlcnRKb2JDb21wb3VuZE1hdGVyaWFsVmFyaWF0aW9uID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDg1MGQyOTIpLCAnaW50JywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDSXRlbV9HZXRFeHBlcnRKb2JDb21wb3VuZFJhdGVWYXJpYXRpb24gPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODUwZDJhYSksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENJdGVtX0dldEV4cGVydEpvYkNvbXBvdW5kUmVzdWx0VmFyaWF0aW9uID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDg1MGQyYzIpLCAnaW50JywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDSXRlbV9HZXRFeHBlcnRKb2JTZWxmRGlzam9pbnRCaWdXaW5SYXRlID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDg1MGQyZGUpLCAnaW50JywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDSXRlbV9HZXRFeHBlcnRKb2JTZWxmRGlzam9pbnRSZXN1bHRWYXJpYXRpb24gPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODUwZDJmNiksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENJdGVtX0dldEV4cGVydEpvYkFkZGl0aW9uYWxFeHAgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODUwZDMwZSksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KLy/pgZPlhbfmmK/lkKbkuLrmtojogJflk4ENCnZhciBDSXRlbV9pc19zdGFja2FibGUgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODBGMTJGQSksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENJdGVtX2lzUGFja2FnYWJsZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODI4YjViNCksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENJdGVtX2dldFVzYWJsZVBlcmlvZCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODExMGM2MCksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENJdGVtX2dldEV4cGlyYXRpb25EYXRlID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MGYxMzA2KSwgJ2ludCcsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQ0l0ZW1fR2V0SW5jcmVhc2VTdGF0dXNJbnREYXRhID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4Njk0NjU4KSwgJ2ludCcsIFsncG9pbnRlcicsICdpbnQnLCAncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQ0l0ZW1fR2V0SW5jcmVhc2VTdGF0dXNUeXBlID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4Njk0NmI2KSwgJ2ludCcsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQ0l0ZW1fR2V0VXNhYmxlUHZQUmFuayA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY5NDZjNCksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KDQp2YXIgQ0VxdWlwSXRlbV9HZXRVc2FibGVFcXVpcG1lbnRUeXBlID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MzJlMDM2KSwgJ2ludCcsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQ0VxdWlwSXRlbV9HZXRTdWJUeXBlID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgzM2VlY2MpLCAnaW50JywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCi8v5piv5ZCm6a2U5rOV5bCB5Y2w6KOF5aSHDQp2YXIgQ0VxdWlwSXRlbV9Jc1JhbmRvbU9wdGlvbiA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4NTE0RTVFKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQovL+iOt+WPluijheWkh+mtlOazleWwgeWNsOetiee6pw0KdmFyIENFcXVpcEl0ZW1fR2V0UmFuZG9tT3B0aW9uR3JhZGUgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODUxNEU2RSksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KDQp2YXIgVXNlclF1ZXN0X2ZpbmlzaF9xdWVzdCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4NkFDODU0KSwgJ2ludCcsIFsncG9pbnRlcicsICdpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KLy/pgJrnn6XlrqLmiLfnq6/mm7TmlrDop5LoibLku7vliqHliJfooagNCnZhciBVc2VyUXVlc3RfZ2V0X3F1ZXN0X2luZm8gPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODZBQkJBOCksICdpbnQnLCBbJ3BvaW50ZXInLCAncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQovL+mHjee9ruaJgOacieS7u+WKoeS4uuacquWujOaIkOeKtuaAgQ0KdmFyIFVzZXJRdWVzdF9yZXNldCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4NkFCODk0KSwgJ2ludCcsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgVXNlclF1ZXN0X2dldF9tYWlsX3F1ZXN0X2luZm8gPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2YWJkN2EpLCAnaW50JywgWydpbnQnLCAnaW50JywgJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIFVzZXJRdWVzdF9SZXNldFVyZ2VudFF1ZXN0V2FpdGluZ0xpc3QgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2YWQxNzgpLCAncG9pbnRlcicsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQoNCi8v6K6+572u5Lu75Yqh5Li65bey5a6M5oiQ54q25oCBDQp2YXIgV29uZ1dvcmtfQ1F1ZXN0Q2xlYXJfc2V0Q2xlYXJlZFF1ZXN0ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgwOEJBNzgpLCAnaW50JywgWydwb2ludGVyJywgJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQovL+mHjee9ruS7u+WKoeS4uuacquWujOaIkOeKtuaAgQ0KdmFyIFdvbmdXb3JrX0NRdWVzdENsZWFyX3Jlc2V0Q2xlYXJlZFF1ZXN0cyA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MDhCQUFDKSwgJ2ludCcsIFsncG9pbnRlcicsICdpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KLy/ku7vliqHmmK/lkKblt7LlrozmiJANCnZhciBXb25nV29ya19DUXVlc3RDbGVhcl9pc0NsZWFyZWRRdWVzdCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MDhCQUUwKSwgJ2ludCcsIFsncG9pbnRlcicsICdpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KLy/ngrnliLjlhYXlgLwNCnZhciBXb25nV29ya19JUEdfQ0lQR0hlbHBlcl9JUEdJbnB1dCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MEZGQ0E0KSwgJ2ludCcsIFsncG9pbnRlcicsICdwb2ludGVyJywgJ2ludCcsICdpbnQnLCAncG9pbnRlcicsICdwb2ludGVyJywgJ3BvaW50ZXInLCAncG9pbnRlcicsICdwb2ludGVyJywgJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KLy/ku6PluIHlhYXlgLwNCnZhciBXb25nV29ya19JUEdfQ0lQR0hlbHBlcl9JUEdJbnB1dFBvaW50ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgwRkZGQzApLCAnaW50JywgWydwb2ludGVyJywgJ3BvaW50ZXInLCAnaW50JywgJ2ludCcsICdwb2ludGVyJywgJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KLy/lkIzmraXngrnliLjmlbDmja7lupMNCnZhciBXb25nV29ya19JUEdfQ0lQR0hlbHBlcl9JUEdRdWVyeSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MTAwNzkwKSwgJ2ludCcsIFsncG9pbnRlcicsICdwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCi8v6I635Y+W5pe26KOF5o+S5qe95pWw5o2uDQp2YXIgV29uZ1dvcmtfQ0F2YXRhckl0ZW1NZ3JfZ2V0SmV3ZWxTb2NrZXREYXRhID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgyRjk4RjgpLCAncG9pbnRlcicsIFsncG9pbnRlcicsICdpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KLy/lj5Hns7vnu5/pgq7ku7Yo5aSa6YGT5YW3KQ0KdmFyIFdvbmdXb3JrX0NNYWlsQm94SGVscGVyX1JlcURCU2VuZE5ld1N5c3RlbU11bHRpTWFpbCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4NTU2QjY4KSwgJ2ludCcsIFsncG9pbnRlcicsICdwb2ludGVyJywgJ2ludCcsICdpbnQnLCAnaW50JywgJ3BvaW50ZXInLCAnaW50JywgJ2ludCcsICdpbnQnLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBXb25nV29ya19DTWFpbEJveEhlbHBlcl9NYWtlU3lzdGVtTXVsdGlNYWlsUG9zdGFsID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDg1NTZBMTQpLCAnaW50JywgWydwb2ludGVyJywgJ3BvaW50ZXInLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCi8v5Y+R57O757uf6YKu5Lu2KOaXtuijhSko5LuF5pSv5oyB5Zyo57q/6KeS6Imy5Y+R5L+hKQ0KdmFyIFdvbmdXb3JrX0NNYWlsQm94SGVscGVyX1JlcURCU2VuZE5ld0F2YXRhck1haWwgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODU1NjFCMCksICdwb2ludGVyJywgWydwb2ludGVyJywgJ2ludCcsICdpbnQnLCAnaW50JywgJ2ludCcsICdpbnQnLCAnaW50JywgJ3BvaW50ZXInLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBXb25nV29ya19DVXNlclByZW1pdW1fR2V0R29sZEJvbnVzID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4Njk0YTY0KSwgJ2ludCcsIFsncG9pbnRlcicsICdpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIFdvbmdXb3JrX0NVc2VyUHJlbWl1bV9SZWNhbGNBZGRpdGlvbmFsSW5mbyA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODZhZThjNiksICdwb2ludGVyJywgWydwb2ludGVyJywgJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIFdvbmdXb3JrX0NHTUFjY291bnRzX2lzR00gPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgxMDkzNDYpLCAnaW50JywgWydwb2ludGVyJywgJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgV29uZ1dvcmtfQ1NraWxsQ2hhbmdlcl9DaGVja0NvbmRpdGlvbiA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODYwOWQxMCksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIFdvbmdXb3JrX0NTa2lsbENoYW5nZXJfZF9DU2tpbGxDaGFuZ2VyID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MjM0ZmM0KSwgJ3ZvaWQnLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIFdvbmdXb3JrX0NTa2lsbENoYW5nZXJfQ1NraWxsQ2hhbmdlciA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODIzNGZiZSksICd2b2lkJywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBXb25nV29ya19DU2tpbGxDaGFuZ2VyX1NraWxsSW5pdGlhbGl6ZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODYwOWU5MCksICdwb2ludGVyJywgWydwb2ludGVyJywgJ3BvaW50ZXInLCAnaW50JywgJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgV29uZ1dvcmtfQ01haWxCb3hIZWxwZXJfUmVxREJTZW5kTmV3U3lzdGVtTWFpbCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODU1NTVlOCksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KDQovL+ajgOa1i+W9k+WJjeinkuiJsuaYr+WQpuWPr+aOpeivpeS7u+WKoQ0KdmFyIHN0U2VsZWN0UXVlc3RQYXJhbV9zdFNlbGVjdFF1ZXN0UGFyYW0gPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODM0ODBCNCksICdwb2ludGVyJywgWydwb2ludGVyJywgJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIFF1ZXN0X2NoZWNrX3Bvc3NpYmxlID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgzNTJEODYpLCAnaW50JywgWydwb2ludGVyJywgJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KDQovL+iOt+WPluWJr+acrGlkDQp2YXIgQ0R1bmdlb25fZ2V0X2luZGV4ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MEZEQ0YwKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQoNCi8v6Kej5bCB6a2U5rOV5bCB5Y2wDQp2YXIgcmFuZG9tX29wdGlvbl9DUmFuZG9tT3B0aW9uSXRlbUhhbmRsZV9naXZlX29wdGlvbiA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4NUYyQ0M2KSwgJ2ludCcsIFsncG9pbnRlcicsICdpbnQnLCAnaW50JywgJ2ludCcsICdpbnQnLCAnaW50JywgJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KDQp2YXIgQXZhdGFyQ29pbl9BZGQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgxN2ZlZmEpLCAnaW50JywgWydwb2ludGVyJywgJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQXZhdGFyQ29pbl9TYXZlVG9EQiA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODE4MDBkNiksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIEF2YXRhckNvaW5fU2VuZFN5bmNQYWNrZXQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgxN2ZmZTQpLCAnaW50JywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBBdmF0YXJDb2luX0hpc3RvcnlMb2dfQWRkTG9nID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MTdmZjljKSwgJ3ZvaWQnLCBbJ3BvaW50ZXInLCAncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQoNCnZhciBDUHJlbWl1bUxldGhlTWFuYWdlcl9Jbml0TGV0aGVTa2lsbCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODVjNDAwOCksICdpbnQnLCBbJ2ludCcsICdwb2ludGVyJywgJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQ1ByZW1pdW1MZXRoZU1hbmFnZXJfVXBkYXRlQmFja3VwU2tpbGxGbGFnID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NWMzZjMwKSwgJ2ludCcsIFsnaW50JywgJ3BvaW50ZXInLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDUHJlbWl1bUxldGhlTWFuYWdlcl9Db25maXJtU2tpbGxSZXEgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg1YzNkNzApLCAnaW50JywgWydwb2ludGVyJywgJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KDQp2YXIgU2tpbGxTbG90X2dldF9yZW1haW5fc3BfYXRfaW5kZXggPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2MDM1MjgpLCAnaW50JywgWydwb2ludGVyJywgJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIFNraWxsU2xvdF9nZXRfcmVtYWluX3NmcF9hdF9pbmRleCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODYwMzVmMiksICdpbnQnLCBbJ3BvaW50ZXInLCAncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgU2tpbGxTbG90X2dyb3d0eXBlX3NraWxsID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NjA0MGJjKSwgJ2ludCcsIFsncG9pbnRlcicsICdwb2ludGVyJywgJ2ludCcsICdpbnQnLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBTa2lsbFNsb3Rfc2V0X3JlbWFpbl9zcF9hdF9pbmRleCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODYwMzRmOCksICdpbnQnLCBbJ2ludCcsICdpbnQnLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBTa2lsbFNsb3RfY2xlYXJfc2ZwX3NraWxscyA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODYwNGU3OCksICdpbnQnLCBbJ2ludCcsICdpbnQnLCAncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgU2tpbGxTbG90X2NsZWFyX2FsbF9za2lsbHMgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2MDRkOTApLCAnaW50JywgWydwb2ludGVyJywgJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgU2tpbGxTbG90X2NsZWFyX2FsbF9za2lsbHNfYm90aCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODYwNGUwOCksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIFNraWxsU2xvdF9zZXRfcGFyZW50ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MjJlZTJlKSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInLCAncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgYWRkU2tpbGxPbkNyZWF0ZUNoYXJhY3RlciA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODYwNGZlMiksICd2b2lkJywgWydpbnQnLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDQ2hhcmFjdGVyX2dldF9naXZlX3NraWxsID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MzQ4Nzk4KSwgJ2ludCcsIFsnaW50JywgJ2ludCcsICdpbnQnLCAnaW50JywgJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQoNCnZhciBDUXVlc3RTaG9wX2NsZWFyUVAgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg1ZWY1NGMpLCAnaW50JywgWydwb2ludGVyJywgJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENRdWVzdFNob3Bfc2VuZENoYXJhY1FwID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NWVmNmZjKSwgJ3ZvaWQnLCBbJ3BvaW50ZXInLCAncG9pbnRlcicsICdpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KDQovL+iOt+WPlua2iOiAl+WTgeexu+Weiw0KdmFyIENTdGFja2FibGVJdGVtX0dldEl0ZW1UeXBlID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDg1MTRBODQpLCAnaW50JywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCi8v6I635Y+W5b6956ug5pSv5oyB55qE6ZW25bWM5qe957G75Z6LDQp2YXIgQ1N0YWNrYWJsZUl0ZW1fZ2V0SmV3ZWxUYXJnZXRTb2NrZXQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgyMkNBMjgpLCAnaW50JywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCg0KdmFyIENNb25pdG9yU2VydmVyUHJveHlfU2VuZENoYXJMZXZlbEdyb3dUeXBlID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NDcwYzA0KSwgJ2ludCcsIFsncG9pbnRlcicsICdpbnQnLCAnaW50JywgJ2ludCcsICdpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENNb25pdG9yU2VydmVyUHJveHlfU2VuZFBhY2tldCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODQ3MGRmNCksICdpbnQnLCBbJ3BvaW50ZXInLCAncG9pbnRlcicsICdpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENTZXJ2ZXJQcm94eU1ncl9DTW9uaXRvclNlcnZlclByb3h5X0dldFNlcnZlclByb3h5ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MTEyMDhhKSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDU2VydmVyUHJveHlNZ3JfQ0d1aWxkU2VydmVyUHJveHlfR2V0U2VydmVyUHJveHkgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgxMWQzYjgpLCAncG9pbnRlcicsIFsncG9pbnRlcicsICdpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENHdWlsZFNlcnZlclByb3h5X1NlbmRDaGFyTGV2ZWxHcm93VHlwZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODQ2ZGE5YSksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50JywgJ2ludCcsICdpbnQnLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCg0KLy/ml7boo4XplbbltYzmlbDmja7lrZjnm5gNCnZhciBEQl9VcGRhdGVBdmF0YXJKZXdlbFNsb3RfbWFrZVJlcXVlc3QgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODQzMDgxQyksICdwb2ludGVyJywgWydpbnQnLCAnaW50JywgJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KDQovL+iOt+WPluWtl+espuS4sumVv+W6pg0KdmFyIHN0cmxlbiA9IG5ldyBOYXRpdmVGdW5jdGlvbihNb2R1bGUuZ2V0RXhwb3J0QnlOYW1lKG51bGwsICdzdHJsZW4nKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQoNCi8v57q/56iL5a6J5YWo6ZSBDQp2YXIgR3VhcmRfTXV0ZXhfR3VhcmQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODEwNTQ0QyksICdpbnQnLCBbJ3BvaW50ZXInLCAncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgRGVzdHJveV9HdWFyZF9NdXRleF9HdWFyZCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MTA1NDY4KSwgJ2ludCcsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQoNCi8v5pyN5Yqh5Zmo5YaF572u5a6a5pe25Zmo6Zif5YiXDQp2YXIgR19UaW1lclF1ZXVlID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgwRjY0N0MpLCAncG9pbnRlcicsIFtdLCB7ICJhYmkiOiAic3lzdiIgfSk7DQoNCi8v5omn6KGMZGVidWflkb3ku6QNCnZhciBEb1VzZXJEZWZpbmVDb21tYW5kID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MjBCQTkwKSwgJ2ludCcsIFsncG9pbnRlcicsICdpbnQnLCAncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQoNCi8v6K6+572u6KeS6Imy562J57qnKOacgOmrmDcw57qnKQ0KdmFyIERpc1BhdGNoZXJfRGVidWdDb21tYW5kX19kZWJ1Z0NvbW1hbmRTZXRMZXZlbCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODU4RUZERSksICdpbnQnLCBbJ3BvaW50ZXInLCAncG9pbnRlcicsICdpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOy8v6ZyA6KaB5Li05pe25byAR03mnYPpmZANCg0KLy92ZWN0b3Lnm7jlhbPmk43kvZwNCnZhciBzdGRfdmVjdG9yX3N0ZF9wYWlyX2ludF9pbnRfdmVjdG9yID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgxMzQ5RDYpLCAncG9pbnRlcicsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgc3RkX3ZlY3Rvcl9zdGRfcGFpcl9pbnRfaW50X2NsZWFyID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgxN0EzNDIpLCAncG9pbnRlcicsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgc3RkX21ha2VfcGFpcl9pbnRfaW50ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgxQjhENDEpLCAncG9pbnRlcicsIFsncG9pbnRlcicsICdwb2ludGVyJywgJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIHN0ZF92ZWN0b3Jfc3RkX3BhaXJfaW50X2ludF9wdXNoX2JhY2sgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODBERDYwNiksICdwb2ludGVyJywgWydwb2ludGVyJywgJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIHZlY3Rvcl91bnNpZ25lZF9pbnRfb3BlcmF0b3IgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgwOGUxZGMpLCAncG9pbnRlcicsIFsncG9pbnRlcicsICdpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIHN0ZF92ZWN0b3Jfc3RkX3BhaXJfaW50X2ludF9zaXplID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MGRkODE0KSwgJ2ludCcsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgc3RkX3ZlY3Rvcl9zdGRfcGFpcl9pbnRfaW50X29wZXJhdG9yID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MGVhOGE0KSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBzdGRfdmVjdG9yX3N0ZF9wYWlyX2ludF9pbnRfZF92ZWN0b3IgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgxMzQ5ZWEpLCAndm9pZCcsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgc3RkX3ZlY3Rvcl9jaGFyYWNfaW5mb19zaXplID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MWEwYjlhKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgc3RkX3ZlY3Rvcl9DaGFyYWNfaW5mb19vcGVyYXRvckFyciA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODFhMGJiOCksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCg0KdmFyIExvZ01hbmFnZXJfbG9nRm9ybWF0ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4YWQzYzBhKSwgJ2ludCcsIFsncG9pbnRlcicsICdpbnQnLCAncG9pbnRlcicsICdwb2ludGVyJywgJ3BvaW50ZXInLCAncG9pbnRlcicsICcuLi4nLCAncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgY1VzZXJIaXN0b3J5TG9nX0V2ZW50Q29pbkFkZCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY4M2M1OCksICdwb2ludGVyJywgWydwb2ludGVyJywgJ2ludCcsICdpbnQnLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBjVXNlckhpc3RvcnlMb2dfQ29pbkFkZCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY4M2I5MCksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50JywgJ2ludCcsICdpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIEhpc3RvcnlMb2dfV3JpdGVMZXZlbFVwID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NGI5ZTVlKSwgJ2ludCcsIFsncG9pbnRlcicsICdwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBjVXNlckhpc3RvcnlMb2dfTGV2ZWxVcCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODY4NDViMiksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50JywgJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgY1VzZXJIaXN0b3J5TG9nX0l0ZW1BZGQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2ODJlODQpLCAnaW50JywgWydpbnQnLCAnaW50JywgJ2ludCcsICdpbnQnLCAncG9pbnRlcicsICdpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KDQovL+W8gOWQr+aAqueJqeaUu+Wfjg0KdmFyIEludGVyX1ZpbGxhZ2VBdHRhY2tlZFN0YXJ0X2Rpc3BhdGNoX3NpZyA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4NERGNDdBKSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInLCAncG9pbnRlcicsICdwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCi8v57uT5p2f5oCq54mp5pS75Z+ODQp2YXIgdmlsbGFnZV9hdHRhY2tlZF9DVmlsbGFnZU1vbnN0ZXJNZ3JfT25EZXN0cm95VmlsbGFnZU1vbnN0ZXIgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2QjQzRDQpLCAncG9pbnRlcicsIFsncG9pbnRlcicsICdpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIEdsb2JhbERhdGFfc192aWxsYWdlTW9uc3Rlck1nciA9IHB0cigweDk0MUY3N0MpOw0KDQovL+iOt+WPlumYn+S8jeS4reeOqeWutg0KdmFyIENQYXJ0eV9nZXRfdXNlciA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODE0NTc2NCksICdwb2ludGVyJywgWydwb2ludGVyJywgJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQ1BhcnR5X3NlbmRfdG9fcGFydHkgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg1OWQxNGUpLCAnaW50JywgWydwb2ludGVyJywgJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KDQovL+e7neacm+S5i+WhlOWxguaVsA0KdmFyIFRPRF9MYXllcl9UT0RfTGF5ZXIgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg1RkU3QjQpLCAncG9pbnRlcicsIFsncG9pbnRlcicsICdpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KLy/orr7nva7nu53mnJvkuYvloZTlsYLmlbANCnZhciBUT0RfVXNlclN0YXRlX3NldEVudGVyTGF5ZXIgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2NDM4RkMpLCAncG9pbnRlcicsIFsncG9pbnRlcicsICdwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCg0KdmFyIGNNeVRyYWNlX2NNeVRyYWNlID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NTRmNzE4KSwgJ3ZvaWQnLCBbJ3BvaW50ZXInLCAncG9pbnRlcicsICdpbnQnLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBjTXlUcmFjZV9vcGVyYXRvciA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODU0Zjc4OCksICd2b2lkJywgWydpbnQnLCAncG9pbnRlcicsICdwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCg0KdmFyIE1zZ1F1ZXVlTWdyX3B1dCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODU3MGZkZSksICdpbnQnLCBbJ2ludCcsICdpbnQnLCAncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgTnVtYmVyVG9TdHJpbmcgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgxMDkwNGIpLCAndWludCcsIFsndWludCcsICdpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KDQp2YXIgR2V0SW50ZWdyYXRlZFB2UEl0ZW1BdHRyID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NGZjNWZmKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQVJBRF9TaW5nbGV0b25fU2VydmljZVJlc3RyaWN0TWFuYWdlcl9HZXQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgxNjI1ZTYpLCAncG9pbnRlcicsIFtdLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgU2VydmljZVJlc3RyaWN0TWFuYWdlcl9pc1Jlc3RyaWN0ZWQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgxNmU2YjgpLCAndWludDgnLCBbJ2ludCcsICdwb2ludGVyJywgJ2ludCcsICdpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENTZWN1X1Byb3RlY3Rpb25GaWVsZF9DaGVjayA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODI4OGEwMiksICdpbnQnLCBbJ3BvaW50ZXInLCAncG9pbnRlcicsICdpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KDQp2YXIgc3RBbXBsaWZ5T3B0aW9uX3RfZ2V0QWJpbGl0eVR5cGUgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgxNTA3MzIpLCAndWludDgnLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIHN0QW1wbGlmeU9wdGlvbl90X2dldEFiaWxpdHlWYWx1ZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODE1MDc3MiksICd1aW50MTYnLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIHN0QW1wbGlmeU9wdGlvbl90X0dldExvY2sgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgyOGI1YTgpLCAnaW50JywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCg0KdmFyIFN0cmVhbVBvb2xfQWNxdWlyZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODI4ZmE4NiksICdwb2ludGVyJywgWydwb2ludGVyJywgJ3BvaW50ZXInLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDU3RyZWFtR3VhcmRfQ1N0cmVhbUd1YXJkID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MGM4YzI2KSwgJ3ZvaWQnLCBbJ3BvaW50ZXInLCAncG9pbnRlcicsICdpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIENTdHJlYW1HdWFyZF9vcGVyYXRvciA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODBjOGM0NiksICdpbnQnLCBbJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQ1N0cmVhbUd1YXJkX29wZXJhdG9yX2ludCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODBjOGM1NiksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDU3RyZWFtR3VhcmRfb3BlcmF0b3JfcCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODBjOGM0ZSksICdpbnQnLCBbJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgQ1N0cmVhbUd1YXJkX0dldEluQnVmZmVyX1NJR19BQ0NPVU5UX0NBUkdPX0RBVEEgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg0NTNhMTApLCAncG9pbnRlcicsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgRGVzdHJveV9DU3RyZWFtR3VhcmRfQ1N0cmVhbUd1YXJkID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NjFjOGQyKSwgJ3ZvaWQnLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KDQp2YXIgQ1N0YWNrYWJsZUl0ZW1fZ2V0U3RhY2thYmxlTGltaXQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgyMmM5ZmMpLCAnaW50JywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBpdGVtX2xvY2tfQ0l0ZW1Mb2NrX0NoZWNrSXRlbUxvY2sgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg1NDFhOTYpLCAnaW50JywgWydpbnQnLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBVcGdyYWRlU2VwYXJhdGVJbmZvX0lzVHJhZGVSZXN0cmljdGlvbiA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODExMGIwYSksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIFN0cmVhbV9vcGVyYXRvcl9wID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NjFjNzk2KSwgJ2ludCcsIFsncG9pbnRlcicsICdpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIFN0cmVhbV9HZXRPdXRCdWZmZXJfU0lHX0FDQ09VTlRfQ0FSR09fREFUQSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODQ1M2EyNiksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KDQp2YXIgQ0d1aWxkU2VydmVyUHJveHlfU2VuZEluY3JlYXNlR3VpbGRFeHAgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg0NmVjZTIpLCAnaW50JywgWydwb2ludGVyJywgJ2ludCcsICdpbnQnLCAnaW50JywgJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgUHZQU2tpbGxUcmVlUGFyYW1ldGVyU2NyaXB0X2dldFB2UFNraWxsUG9pbnQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDhhNWRkNjIpLCAnaW50JywgWydwb2ludGVyJywgJ2ludCcsICdpbnQnLCAnaW50JywgJ2ludCcsICdpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIFNlcnZlclBhcmFtZXRlclNjcmlwdF9pc0R1bmdlb25PcGVuID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MjY4N2ZjKSwgJ2ludCcsIFtdLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgWE51Y2xlYXJfQ0hhZGVzX0V4cFVwID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4NGI5NTNlKSwgJ2ludCcsIFsncG9pbnRlcicsICdpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIFdhclJvb21fU2VuZFRvUm9vbSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODZiZTBjYyksICdpbnQnLCBbJ3BvaW50ZXInLCAncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQoNCnZhciBDQ2hhcmFjdGVyVmlld19lbmFibGVTYXZlQ2hhcmFjVmlldyA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODIyZmJkYSksICdwb2ludGVyJywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBDTGV2ZWxEdW5nZW9uUGxheVN0YXRpc3RpY19JbmNyZWFzZUxldmVsRHVuZ2VvblBsYXkgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDg2MGVjYzYpLCAncG9pbnRlcicsIFsncG9pbnRlcicsICdpbnQnLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBleHBlcnRfam9iX0NFeHBlcnRKb2JfSW5jcmVhc2VFeHBlcnRKb2JFeHAgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgzNzUwMjYpLCAndm9pZCcsIFsncG9pbnRlcicsICdwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBBUFN5c3RlbV9DVXNlclByb2NfQ2xlYXJBY3Rpb25BbmRTZW5kdG9Vc2VyID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MTIyMzkwKSwgJ3ZvaWQnLCBbJ3BvaW50ZXInLCAnaW50JywgJ2ludCcsICdpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIERCX0luc2VydFVubGltaXRTdXBwb3J0TG9nX21ha2VSZXF1ZXN0ID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDA4MGNiYzllKSwgJ3ZvaWQnLCBbJ3BvaW50ZXInLCAnaW50JywgJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIERCX0luc2VydEFyY2hpZXZlRXZlbnRMb2dfbWFrZVJlcXVlc3QgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgxMTU5OTgpLCAndm9pZCcsIFsnaW50JywgJ2ludCcsICdpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIFJEQVJTY3JpcHRTdHJpbmdNYW5hZ2VyX2ZpbmRTdHJpbmcgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDhhYTU3ZmUpLCAncG9pbnRlcicsIFsncG9pbnRlcicsICdpbnQnLCAncG9pbnRlcicsICdpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIEltcG9ydFNwUGVyTGV2ZWxSZWZlcmVuY2VUYWJsZSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHgwODkxMDUwNSksICdpbnQnLCBbJ3BvaW50ZXInLCAncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgc3RTcFBlckxldmVsVGFibGUgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgzN2Y1NDQpLCAndm9pZCcsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQoNCi8v6I635Y+W6IOM5YyF5qe95Lit55qE6YGT5YW3DQp2YXIgSU5WRU5UT1JZX1RZUEVfQk9EWSA9IDA7ICAgICAgICAgICAgLy/ouqvkuIrnqb/nmoToo4XlpIcoMC0yNikNCnZhciBJTlZFTlRPUllfVFlQRV9JVEVNID0gMTsgICAgICAgICAgICAvL+eJqeWTgeagjygwLTMxMSkNCnZhciBJTlZFTlRPUllfVFlQRV9BVkFSVEFSID0gMjsgICAgICAgICAvL+aXtuijheagjygwLTEwNCkNCnZhciBJTlZFTlRPUllfVFlQRV9DUkVBVFVSRSA9IDM7ICAgICAgICAvL+WuoOeJqeijheWkhygwLTI0MSkNCg0KLy/pgJrnn6XlrqLmiLfnq6/mm7TmlrDog4zljIXmoI8NCnZhciBFTlVNX0lURU1TUEFDRV9JTlZFTlRPUlkgPSAwOyAgICAgICAvL+eJqeWTgeagjw0KdmFyIEVOVU1fSVRFTVNQQUNFX0FWQVRBUiA9IDE7ICAgICAgICAgIC8v5pe26KOF5qCPDQp2YXIgRU5VTV9JVEVNU1BBQ0VfQ0FSR08gPSAyOyAgICAgICAgICAgLy/ku5PlupMNCnZhciBFTlVNX0lURU1TUEFDRV9DUkVBVFVSRSA9IDc7ICAgICAgICAvL+WuoOeJqeagjw0KdmFyIEVOVU1fSVRFTVNQQUNFX0FDQ09VTlRfQ0FSR08gPSAxMjsgIC8v6LSm5Y+35LuT5bqTDQoNCi8vTVlTUUzmk43kvZwNCi8v5ri45oiP5Lit5bey5omT5byA55qE5pWw5o2u5bqT57Si5byVKOa4uOaIj+aVsOaNruW6k+mdnue6v+eoi+WuieWFqCDosKjmhY7mk43kvZwpDQp2YXIgVEFJV0FOX0NBSU4gPSAyOw0KdmFyIERCTWdyX0dldERCSGFuZGxlID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgzRjUyM0UpLCAncG9pbnRlcicsIFsncG9pbnRlcicsICdpbnQnLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBNeVNRTF9NeVNRTCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4M0YzQUM4KSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIE15U1FMX2luaXQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODNGM0NFNCksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIE15U1FMX29wZW4gPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODNGNDAyNCksICdpbnQnLCBbJ3BvaW50ZXInLCAncG9pbnRlcicsICdpbnQnLCAncG9pbnRlcicsICdwb2ludGVyJywgJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIE15U1FMX2Nsb3NlID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgzRjNFNzQpLCAnaW50JywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBNeVNRTF9zZXRfcXVlcnlfMiA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4M0Y0MUMwKSwgJ2ludCcsIFsncG9pbnRlcicsICdwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBNeVNRTF9zZXRfcXVlcnlfMyA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4M0Y0MUMwKSwgJ2ludCcsIFsncG9pbnRlcicsICdwb2ludGVyJywgJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgTXlTUUxfc2V0X3F1ZXJ5XzQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODNGNDFDMCksICdpbnQnLCBbJ3BvaW50ZXInLCAncG9pbnRlcicsICdpbnQnLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBNeVNRTF9zZXRfcXVlcnlfNSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4M0Y0MUMwKSwgJ2ludCcsIFsncG9pbnRlcicsICdwb2ludGVyJywgJ2ludCcsICdpbnQnLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBNeVNRTF9zZXRfcXVlcnlfNiA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4M0Y0MUMwKSwgJ2ludCcsIFsncG9pbnRlcicsICdwb2ludGVyJywgJ2ludCcsICdpbnQnLCAnaW50JywgJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgTXlTUUxfZXhlYyA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4M0Y0MzI2KSwgJ2ludCcsIFsncG9pbnRlcicsICdpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIE15U1FMX2V4ZWNfcXVlcnkgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4MDgzRjUzNDgpLCAnaW50JywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBNeVNRTF9nZXRfbl9yb3dzID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgwRTIzNkMpLCAnaW50JywgWydwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciBNeVNRTF9mZXRjaCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4M0Y0NEJDKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgTXlTUUxfZ2V0X2ludCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MTE2OTJDKSwgJ2ludCcsIFsncG9pbnRlcicsICdpbnQnLCAncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgTXlTUUxfZ2V0X3VpbnQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODBFMjJGMiksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50JywgJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIE15U1FMX2dldF91bG9uZ2xvbmcgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODE3NTRDOCksICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50JywgJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIE15U1FMX2dldF91c2hvcnQgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKDB4ODExNjk5MCksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIE15U1FMX2dldF9mbG9hdCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4NDRENkQwKSwgJ2ludCcsIFsncG9pbnRlcicsICdpbnQnLCAncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgTXlTUUxfZ2V0X2JpbmFyeSA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MTI1MzFBKSwgJ2ludCcsIFsncG9pbnRlcicsICdpbnQnLCAncG9pbnRlcicsICdpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIE15U1FMX2dldF9iaW5hcnlfbGVuZ3RoID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgxMjUzREUpLCAnaW50JywgWydwb2ludGVyJywgJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgTXlTUUxfZ2V0X3N0ciA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4MEVDREVBKSwgJ2ludCcsIFsncG9pbnRlcicsICdpbnQnLCAncG9pbnRlcicsICdpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIE15U1FMX2Jsb2JfdG9fc3RyID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHB0cigweDgzRjQ1MkEpLCAncG9pbnRlcicsIFsncG9pbnRlcicsICdpbnQnLCAncG9pbnRlcicsICdpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KdmFyIGNvbXByZXNzX3ppcCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4NkIyMDFGKSwgJ2ludCcsIFsncG9pbnRlcicsICdwb2ludGVyJywgJ3BvaW50ZXInLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCnZhciB1bmNvbXByZXNzX3ppcCA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4NkIyMTAyKSwgJ2ludCcsIFsncG9pbnRlcicsICdwb2ludGVyJywgJ3BvaW50ZXInLCAnaW50J10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCg0KdmFyIE15U1FMX3NldF9xdWVyeV8zX3B0ciA9IG5ldyBOYXRpdmVGdW5jdGlvbihwdHIoMHg4M0Y0MUMwKSwgJ2ludCcsIFsncG9pbnRlcicsICdwb2ludGVyJywgJ3BvaW50ZXInXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KDQovL+W3suaJk+W8gOeahOaVsOaNruW6k+WPpeafhA0KdmFyIG15c3FsX3RhaXdhbl9jYWluID0gbnVsbDsNCnZhciBteXNxbF90YWl3YW5fY2Fpbl8ybmQgPSBudWxsOw0KdmFyIG15c3FsX3RhaXdhbl9iaWxsaW5nID0gbnVsbDsNCnZhciBteXNxbF9mcmlkYSA9IG51bGw7DQoNCg0KDQovKioNCiAqICDmnI3liqHnq6/lh73mlbBIb29r44CB5bCB6KOF5Y+K6Ieq5a6a5LmJ5Yqf6IO9DQogKi8NCi8v6I635Y+W57O757ufVVRD5pe26Ze0KOenkikNCmZ1bmN0aW9uIGFwaV9DU3lzdGVtVGltZV9nZXRDdXJTZWMoKSB7DQogICAgcmV0dXJuIGdldEN1clNlYyhwdHIoMCkpOw0KfQ0KDQovL+e7meinkuiJsuWPkee7j+mqjA0KZnVuY3Rpb24gYXBpX0NVc2VyX2dhaW5fZXhwX3NwKHVzZXIsIGV4cCkgew0KICAgIHZhciBhMiA9IE1lbW9yeS5hbGxvYyg0KTsNCiAgICB2YXIgYTMgPSBNZW1vcnkuYWxsb2MoNCk7DQogICAgQ1VzZXJfZ2Fpbl9leHBfc3AodXNlciwgZXhwLCBhMiwgYTMsIDAsIDAsIDApOw0KfQ0KDQovL+e7meinkuiJsuWPkemBk+WFtw0KZnVuY3Rpb24gYXBpX0NVc2VyX0FkZEl0ZW0odXNlciwgaXRlbV9pZCwgaXRlbV9jbnQpIHsNCiAgICB2YXIgaXRlbV9zcGFjZSA9IE1lbW9yeS5hbGxvYyg0KTsNCiAgICB2YXIgc2xvdCA9IENVc2VyX0FkZEl0ZW0odXNlciwgaXRlbV9pZCwgaXRlbV9jbnQsIDYsIGl0ZW1fc3BhY2UsIDApOw0KDQogICAgaWYgKHNsb3QgPj0gMCkgew0KICAgICAgICAvL+mAmuefpeWuouaIt+err+aciea4uOaIj+mBk+WFt+abtOaWsA0KICAgICAgICBDVXNlcl9TZW5kVXBkYXRlSXRlbUxpc3QodXNlciwgMSwgaXRlbV9zcGFjZS5yZWFkSW50KCksIHNsb3QpOw0KICAgIH0NCg0KICAgIHJldHVybjsNCn0NCg0KLy/ojrflj5bop5LoibLlkI3lrZcNCmZ1bmN0aW9uIGFwaV9DVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjTmFtZSh1c2VyKSB7DQogICAgdmFyIHAgPSBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjTmFtZSh1c2VyKTsNCiAgICBpZiAocC5pc051bGwoKSkgew0KICAgICAgICByZXR1cm4gJyc7DQogICAgfQ0KDQogICAgcmV0dXJuIHAucmVhZFV0ZjhTdHJpbmcoLTEpOw0KfQ0KDQovL+e7meinkuiJsuWPkea2iOaBrw0KZnVuY3Rpb24gYXBpX0NVc2VyX1NlbmROb3RpUGFja2V0TWVzc2FnZSh1c2VyLCBtc2csIG1zZ190eXBlKSB7DQogICAgdmFyIHAgPSBNZW1vcnkuYWxsb2NVdGY4U3RyaW5nKG1zZyk7DQogICAgQ1VzZXJfU2VuZE5vdGlQYWNrZXRNZXNzYWdlKHVzZXIsIHAsIG1zZ190eXBlKTsNCg0KICAgIHJldHVybjsNCn0NCg0KDQovL+eCueWIuOWFheWAvCAo56aB5q2i55u05o6l5L+u5pS5YmlsbGluZ+W6k+aJgOacieihqOWtl+autSwg54K55Yi455u45YWz5pON5L2c5Yqh5b+F6LCD55So5pWw5o2u5bqT5a2Y5YKo6L+H56iLISkNCmZ1bmN0aW9uIGFwaV9yZWNoYXJnZV9jYXNoX2NlcmEodXNlciwgYW1vdW50KSB7DQogICAgLy/lhYXlgLwNCiAgICBXb25nV29ya19JUEdfQ0lQR0hlbHBlcl9JUEdJbnB1dChwdHIoMHg5NDFGNzM0KS5yZWFkUG9pbnRlcigpLCB1c2VyLCA1LCBhbW91bnQsIHB0cigweDhDN0ZBMjApLCBwdHIoMHg4QzdGQTIwKSwNCiAgICAgICAgTWVtb3J5LmFsbG9jVXRmOFN0cmluZygnR00nKSwgcHRyKDApLCBwdHIoMCksIHB0cigwKSk7DQoNCiAgICAvL+mAmuefpeWuouaIt+err+WFheWAvOe7k+aenA0KICAgIFdvbmdXb3JrX0lQR19DSVBHSGVscGVyX0lQR1F1ZXJ5KHB0cigweDk0MUY3MzQpLnJlYWRQb2ludGVyKCksIHVzZXIpOw0KfQ0KDQovL+S7o+W4geWFheWAvCAo56aB5q2i55u05o6l5L+u5pS5YmlsbGluZ+W6k+aJgOacieihqOWtl+autSwg54K55Yi455u45YWz5pON5L2c5Yqh5b+F6LCD55So5pWw5o2u5bqT5a2Y5YKo6L+H56iLISkNCmZ1bmN0aW9uIGFwaV9yZWNoYXJnZV9jYXNoX2NlcmFfcG9pbnQodXNlciwgYW1vdW50KSB7DQogICAgLy/lhYXlgLwNCiAgICBXb25nV29ya19JUEdfQ0lQR0hlbHBlcl9JUEdJbnB1dFBvaW50KHB0cigweDk0MUY3MzQpLnJlYWRQb2ludGVyKCksIHVzZXIsIGFtb3VudCwgNCwgcHRyKDApLCBwdHIoMCkpOw0KDQogICAgLy/pgJrnn6XlrqLmiLfnq6/lhYXlgLznu5PmnpwNCiAgICBXb25nV29ya19JUEdfQ0lQR0hlbHBlcl9JUEdRdWVyeShwdHIoMHg5NDFGNzM0KS5yZWFkUG9pbnRlcigpLCB1c2VyKTsNCn0NCg0KLy/ojrflj5bpgZPlhbflkI3lrZcNCmZ1bmN0aW9uIGFwaV9DSXRlbV9HZXRJdGVtTmFtZShpdGVtX2lkKSB7DQogICAgdmFyIGNpdGVtID0gQ0RhdGFNYW5hZ2VyX2ZpbmRfaXRlbShHX0NEYXRhTWFuYWdlcigpLCBpdGVtX2lkKTsNCiAgICBpZiAoIWNpdGVtLmlzTnVsbCgpKSB7DQogICAgICAgIHJldHVybiBwdHIoQ0l0ZW1fR2V0SXRlbU5hbWUoY2l0ZW0pKS5yZWFkVXRmOFN0cmluZygtMSk7DQogICAgfQ0KDQogICAgcmV0dXJuIGl0ZW1faWQudG9TdHJpbmcoKTsNCn0NCg0KLyoqDQogKiDph43nva7lvILnlYzmrKHmlbANCiAqIEBwYXJhbSB1c2VyDQogKiBAcGFyYW0gaW5kZXgNCiAqLw0KZnVuY3Rpb24gcmVzZXRSZXNldERpbWVuc2lvbklub3V0KHVzZXIsIGluZGV4KSB7DQogICAgdmFyIGRpbWVuc2lvbklub3V0ID0gQ0RhdGFNYW5hZ2VyX2dldF9kaW1lbnNpb25Jbm91dChHX0NEYXRhTWFuYWdlcigpLCBpbmRleCk7DQogICAgQ1VzZXJDaGFyYWNJbmZvX3NldERlbWVuc2lvbklub3V0VmFsdWUodXNlciwgaW5kZXgsIGRpbWVuc2lvbklub3V0KTsNCn0NCg==', '服务端基础api函数', 'sever_base_funcation', 0);
            INSERT INTO da_frida_function (children_function, function_name, function_context, remark, function_key, is_system_fun) VALUES('', '读取本地文件', 'Ly9saW51eOivu+acrOWcsOaWh+S7tg0KdmFyIGZvcGVuID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKE1vZHVsZS5nZXRFeHBvcnRCeU5hbWUobnVsbCwgJ2ZvcGVuJyksICdpbnQnLCBbJ3BvaW50ZXInLCAncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgZnJlYWQgPSBuZXcgTmF0aXZlRnVuY3Rpb24oTW9kdWxlLmdldEV4cG9ydEJ5TmFtZShudWxsLCAnZnJlYWQnKSwgJ2ludCcsIFsncG9pbnRlcicsICdpbnQnLCAnaW50JywgJ2ludCddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQp2YXIgZmNsb3NlID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKE1vZHVsZS5nZXRFeHBvcnRCeU5hbWUobnVsbCwgJ2ZjbG9zZScpLCAnaW50JywgWydpbnQnXSwgeyAiYWJpIjogInN5c3YiIH0pOw0KZnVuY3Rpb24gYXBpX3JlYWRfZmlsZShwYXRoLCBtb2RlLCBsZW4pIHsNCiAgICB2YXIgcGF0aF9wdHIgPSBNZW1vcnkuYWxsb2NVdGY4U3RyaW5nKHBhdGgpOw0KICAgIHZhciBtb2RlX3B0ciA9IE1lbW9yeS5hbGxvY1V0ZjhTdHJpbmcobW9kZSk7DQogICAgdmFyIGYgPSBmb3BlbihwYXRoX3B0ciwgbW9kZV9wdHIpOw0KICAgIGlmIChmID09IDApDQogICAgICAgIHJldHVybiBudWxsOw0KICAgIHZhciBkYXRhID0gTWVtb3J5LmFsbG9jKGxlbik7DQogICAgdmFyIGZyZWFkX3JldCA9IGZyZWFkKGRhdGEsIDEsIGxlbiwgZik7DQogICAgZmNsb3NlKGYpOw0KICAgIC8v6L+U5Zue5a2X56ym5LiyDQogICAgaWYgKG1vZGUgPT0gJ3InKQ0KICAgICAgICByZXR1cm4gZGF0YS5yZWFkVXRmOFN0cmluZyhmcmVhZF9yZXQpOw0KICAgIC8v6L+U5Zue5LqM6L+b5Yi2YnVmZuaMh+mSiA0KICAgIHJldHVybiBkYXRhOw0KfQ==', '读取本地文件,加载本地json配置文件依赖', 'read_local_file', 1);
            INSERT INTO da_frida_function (children_function, function_name, function_context, remark, function_key, is_system_fun) VALUES('read_local_file', '加载本地json配置文件', 'IA0KDQoNCi8v5Yqg6L295pys5Zyw6YWN572u5paH5Lu2KGpzb27moLzlvI8pDQp2YXIgZ2xvYmFsX2NoYW5uZWwgPSAnJzsNCnZhciBnbG9iYWxfY29uZmlnID0ge307DQpmdW5jdGlvbiBsb2FkX2NvbmZpZyhjaGFubmVsKSB7DQogICAgY29uc29sZS5sb2coIj09PT09PT09PT09PT09PT09PT09PT0+5Yqg6L29anNvbumFjee9ruaWh+S7tiIpDQogICAgZ2xvYmFsX2NoYW5uZWw9Y2hhbm5lbDsNCiAgICB2YXIgZGF0YSA9IGFwaV9yZWFkX2ZpbGUoJy9kYXRhL2ZyaWRhLycgKyBjaGFubmVsICsgJy9mcmlkYV9jb25mLmpzb24nLCAncicsIDEwICogMTAyNCAqIDEwMjQpOw0KICAgIGdsb2JhbF9jb25maWcgPSBKU09OLnBhcnNlKGRhdGEpOw0KfQ==', 'frida主函数依赖，读取dnf-admin配套的json配置文件', 'load_json_config', 1);
            INSERT INTO da_frida_function (children_function, function_name, function_context, remark, function_key, is_system_fun) VALUES('auto_unseal_random_option_equipment,cancel_epic_ok,disable_check_create_character_limit,enable_createCreator,hook_check_gm,Interceptor_InterSelectMobileAuthReward,load_json_config,Privatestore_IgnoreNearDungeon,setUserMaxLevel,share_seria_room,up_13_no_exit', '根据配置初始化相关功能', 'Ly/moLnmja7muLjmiI/phY3nva7mjqfliLbnm7jlhbPlip/og70NCg0KLy/moLnmja7phY3nva7liJ3lp4vljJbnm7jlhbPlip/og70JDQpmdW5jdGlvbiBpbml0Rm9yQ29uZmlnKCl7DQogICAgdmFyIGdhbWVfY29uZmlnID0gZ2xvYmFsX2NvbmZpZ1snZ2FtZV9jb25maWcnXTsNCiAgICBpZihnYW1lX2NvbmZpZ1snZW5hYmxlX2dhbWVfbWFzdGVyJ10gPT09ICd0cnVlJyl7DQogICAgICAgIC8v5omA5pyJ6LSm5Y+36KeS6Imy5byA5ZCvR03mnYPpmZANCiAgICAgICAgaG9va19jaGVja19nbSgpOw0KICAgIH0NCiAgICBpZihnYW1lX2NvbmZpZ1snZGlzYWJsZV9jaGVja19jcmVhdGVfY2hhcmFjdGVyX2xpbWl0J10gPT09ICd0cnVlJyl7DQogICAgICAgIC8v6Kej6Zmk5q+P5pel5Yib5bu66KeS6Imy5pWw6YeP6ZmQ5Yi2DQogICAgICAgIGRpc2FibGVfY2hlY2tfY3JlYXRlX2NoYXJhY3Rlcl9saW1pdCgpOw0KICAgIH0NCiAgICBpZihnYW1lX2NvbmZpZ1snc2hhcmVfc2VyaWFfcm9vbSddID09PSAndHJ1ZScpew0KICAgICAgICAvL+WFgeiuuOi1m+WIqeS6muaIv+mXtOeahOS6uuS6kuebuOWPr+ingQ0KICAgICAgICBzaGFyZV9zZXJpYV9yb29tKCk7DQogICAgfQ0KICAgIGlmKGdhbWVfY29uZmlnWydQcml2YXRlc3RvcmVfSWdub3JlTmVhckR1bmdlb24nXSA9PT0gJ3RydWUnKXsNCiAgICAgICAgLy/lv73nlaXlia/mnKzpl6jlj6PnpoHmraLmkYbmkYoNCiAgICAgICAgUHJpdmF0ZXN0b3JlX0lnbm9yZU5lYXJEdW5nZW9uKCk7DQogICAgfQ0KICAgIGlmKGdhbWVfY29uZmlnWydlbmFibGVfY3JlYXRvciddID09PSAndHJ1ZScpew0KICAgICAgICAvL+W8gOWQr+WIm+W7uue8lOmAoA0KICAgICAgICBlbmFibGVfY3JlYXRlQ3JlYXRvcigpOw0KICAgIH0NCiAgICBpZihnYW1lX2NvbmZpZ1snY2FuY2VsX2VwaWNfb2snXSA9PT0gJ3RydWUnKXsNCiAgICAgICAgLy/lj7Lor5flhY3noa7orqQNCiAgICAgICAgY2FuY2VsX2VwaWNfb2soKTsNCiAgICB9DQogICAgaWYoZ2FtZV9jb25maWdbJ2F1dG9fdW5zZWFsX3JhbmRvbV9vcHRpb25fZXF1aXBtZW50J10gPT09ICd0cnVlJyl7DQogICAgICAgIC8v6a2U5rOV5bCB5Y2w6Ieq5Yqo6Kej5bCBDQogICAgICAgIGF1dG9fdW5zZWFsX3JhbmRvbV9vcHRpb25fZXF1aXBtZW50KCk7DQogICAgfQ0KICAgIGlmKGdhbWVfY29uZmlnWydkaXNhYmxlX21vYmlsZV9yZXdhcmRzJ10gPT09ICd0cnVlJyl7DQogICAgICAgIC8v5Y+W5raI5paw6LSm5Y+36YCB5oiQ6ZW/5aWR57qmDQogICAgICAgIEludGVyY2VwdG9yX0ludGVyU2VsZWN0TW9iaWxlQXV0aFJld2FyZCgpOw0KICAgIH0NCiAgICBpZihnYW1lX2NvbmZpZ1snbWF4X2xldmVsJ10gPiAwKXsNCiAgICAgICAgLy/orr7nva7mnIDlpKfnrYnnuqcNCiAgICAgICAgc2V0TWF4VXBHcmFkZShnYW1lX2NvbmZpZ1snbWF4X2xldmVsJ10pOw0KICAgIH0NCiAgICBpZihnYW1lX2NvbmZpZ1snZW5oYW5jZW1lbnRfbGV2ZWxfMTNfbm9fZXhpdCddID09PSAndHJ1ZScpew0KICAgICAgICAvLysxM+S7peS4iuW8uuWMluWIuOaXoOmcgOWwj+mAgA0KICAgICAgICBlbmhhbmNlbWVudF9sZXZlbF8xM19ub19leGl0KCk7DQogICAgfQ0KICAgIA0KfQ==', '根据配置初始化相关功能', 'init_for_game_config', 1);
            INSERT INTO da_frida_function (children_function, function_name, function_context, remark, function_key, is_system_fun) VALUES('', 'debug消息处理', 'DQovL+aJp+ihjGRlYnVn5raI5oGvDQpmdW5jdGlvbiBkZWJ1Z2ZyaWRhKGRlYnVnRGF0YSkgew0KICAgY29uc29sZS5sb2coIuaOpeaUtuWIsGRlYnVn5raI5oGvOiIrZGVidWdEYXRhKTsNCn0=', '调试frida', 'debug_message_handler', 1);
            INSERT INTO da_frida_function (children_function, function_name, function_context, remark, function_key, is_system_fun) VALUES('load_json_config,send_mail_api,api_GameWorld_SendNotiPacketMessage', 'json类型消息处理', 'DQovLyBqc29u57G75Z6L55qE5raI5oGv5aSE55CGDQpmdW5jdGlvbiBleGVjSnNvbk1lc3NhZ2UocGFyYW1Kc29uKSB7DQogICAgY29uc29sZS5sb2coIuaOpeaUtuWIsGpzb27mtojmga86IitKU09OLnN0cmluZ2lmeShwYXJhbUpzb24pKTsNCiAgICAvL+WIt+aWsOmFjee9rg0KICAgIGlmKHBhcmFtSnNvbi50eXBlID09PSAnZmx1c2hfY29uZicpew0KICAgICAgICBjb25zb2xlLmxvZygiPT09PT09PT09PT09PT09PiBmbHVzaF9jb25mIik7DQogICAgICAgIGxvYWRfY29uZmlnKGdsb2JhbF9jaGFubmVsKTsNCiAgICAgICAgaW5pdEZvckNvbmZpZygpOw0KICAgIH0NCiAgICAvL+WPkemAgemCruS7tg0KICAgIGlmKHBhcmFtSnNvbi50eXBlID09PSAnc2VuZF9tYWlsJyl7DQogICAgICAgIHZhciBzZW5kTWFpbER0byA9IHBhcmFtSnNvbi5kYXRhOw0KICAgICAgICB2YXIgaXRlbUxpc3QgPSBzZW5kTWFpbER0by5pdGVtTGlzdDsNCiAgICAgICAgdmFyIG5ld0l0ZW1MaXN0ID0gW107DQogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaXRlbUxpc3QubGVuZ3RoOyArK2kpIHsNCiAgICAgICAgICAgIHZhciB0ZW0gPSBbXTsNCiAgICAgICAgICAgIHRlbS5wdXNoKGl0ZW1MaXN0W2ldLml0ZW1JZCk7DQogICAgICAgICAgICB0ZW0ucHVzaChpdGVtTGlzdFtpXS5jb3VudCk7DQogICAgICAgICAgICBuZXdJdGVtTGlzdC5wdXNoKHRlbSk7DQogICAgICAgIH0NCiAgICAgICAgYXBpX1dvbmdXb3JrX0NNYWlsQm94SGVscGVyX1JlcURCU2VuZE5ld1N5c3RlbU11bHRpTWFpbChzZW5kTWFpbER0by5jaGFyYWNObyxzZW5kTWFpbER0by50aXRsZSxzZW5kTWFpbER0by5jb250ZW50LHNlbmRNYWlsRHRvLmdvbGQsbmV3SXRlbUxpc3QpOw0KICAgIH0NCiAgICAvL+WPkemAgeWFrOWRig0KICAgIGlmKHBhcmFtSnNvbi50eXBlID09PSAnc2VuZF9ub3RpY2UnKXsNCiAgICAgICAgdmFyIG1lc3NhZ2UgPSBwYXJhbUpzb24uZGF0YTsNCiAgICAgICAgcHVzaFNlbmROb3RpUGFja2V0TWVzc2FnZShtZXNzYWdlLDE2KTsNCiAgICB9DQp9', 'json消息处理函数', 'json_message_exec', 1);
            INSERT INTO da_frida_function (children_function, function_name, function_context, remark, function_key, is_system_fun) VALUES('', '非json类型消息处理', 'DQovLyDpnZ5qc29u5qC85byP55qE5raI5oGv5aSE55CG6YC76L6RDQpmdW5jdGlvbiBleGVjTm9Kc29uTWVzc2FnZShtZXNzYWdlU3RyKSB7DQogIGNvbnNvbGUubG9nKCLmjqXmlLbliLDpnZ5qc29u5raI5oGvOiIrIG1lc3NhZ2VTdHIpOw0KfQ==', '非json消息处理函数	', 'no_json_message_exec', 1);
            INSERT INTO da_frida_function (children_function, function_name, function_context, remark, function_key, is_system_fun) VALUES('', '所有账号角色开启GM权限', 'Ly/miYDmnInotKblj7fop5LoibLlvIDlkK9HTeadg+mZkA0KZnVuY3Rpb24gaG9va19jaGVja19nbSgpIHsNCiAgICBjb25zb2xlLmxvZygiPT09PT09PT09PT09PT09PT09PT09PT7lvIDlkK9HTeadg+mZkCIpDQogICAgLy9HTei0puaItw0KICAgIC8vV29uZ1dvcms6OkNHTUFjY291bnRzOjppc0dNDQogICAgSW50ZXJjZXB0b3IuYXR0YWNoKHB0cigweDgxMDkzNDYpLCB7DQoNCiAgICAgICAgb25FbnRlcjogZnVuY3Rpb24gKGFyZ3MpIHsNCiAgICAgICAgfSwNCiAgICAgICAgb25MZWF2ZTogZnVuY3Rpb24gKHJldHZhbCkgew0KICAgICAgICAgICAgLy/lvLrliLbov5Tlm550cnVlDQogICAgICAgICAgICByZXR2YWwucmVwbGFjZSgxKTsNCiAgICAgICAgfQ0KICAgIH0pOw0KDQogICAgLy9HTeinkuiJsg0KICAgIC8vQ1VzZXI6OmlzR01Vc2VyDQogICAgSW50ZXJjZXB0b3IuYXR0YWNoKHB0cigweDgxNDU4OUMpLCB7DQoNCiAgICAgICAgb25FbnRlcjogZnVuY3Rpb24gKGFyZ3MpIHsNCiAgICAgICAgfSwNCiAgICAgICAgb25MZWF2ZTogZnVuY3Rpb24gKHJldHZhbCkgew0KICAgICAgICAgICAgLy/lvLrliLbov5Tlm550cnVlDQogICAgICAgICAgICByZXR2YWwucmVwbGFjZSgxKTsNCiAgICAgICAgfQ0KICAgIH0pOw0KfQ==', '所有账号角色开启GM权限', 'hook_check_gm', 0);
            INSERT INTO da_frida_function (children_function, function_name, function_context, remark, function_key, is_system_fun) VALUES('', '解除每日创建角色数量限制', 'DQovL+ino+mZpOavj+aXpeWIm+W7uuinkuiJsuaVsOmHj+mZkOWItg0KZnVuY3Rpb24gZGlzYWJsZV9jaGVja19jcmVhdGVfY2hhcmFjdGVyX2xpbWl0KCkgew0KICAgIGNvbnNvbGUubG9nKCI9PT09PT09PT09PT09PT09PT09PT09Puino+mZpOavj+aXpeWIm+W7uuinkuiJsuaVsOmHj+mZkOWItiIpDQogICAgLy9EQl9DcmVhdGVDaGFyYWM6OkNoZWNrTGltaXRDcmVhdGVOZXdDaGFyYWMNCiAgICBJbnRlcmNlcHRvci5hdHRhY2gocHRyKDB4ODQwMTkyMiksIHsNCiAgICAgICAgb25FbnRlcjogZnVuY3Rpb24gKGFyZ3MpIHsNCiAgICAgICAgfSwNCiAgICAgICAgb25MZWF2ZTogZnVuY3Rpb24gKHJldHZhbCkgew0KICAgICAgICAgICAgLy/lvLrliLbov5Tlm57lhYHorrjliJvlu7oNCiAgICAgICAgICAgIHJldHZhbC5yZXBsYWNlKDEpOw0KICAgICAgICB9DQogICAgfSk7DQp9', '解除每日创建角色数量限制', 'disable_check_create_character_limit', 0);
            INSERT INTO da_frida_function (children_function, function_name, function_context, remark, function_key, is_system_fun) VALUES('', '允许赛利亚房间的人互相可见', 'DQovL+WFgeiuuOi1m+WIqeS6muaIv+mXtOeahOS6uuS6kuebuOWPr+ingQ0KZnVuY3Rpb24gc2hhcmVfc2VyaWFfcm9vbSgpIHsNCiAgICBjb25zb2xlLmxvZygiPT09PT09PT09PT09PT09PT09PT09PT7lhYHorrjotZvliKnkuprmiL/pl7TnmoTkurrkupLnm7jlj6/op4EiKQ0KICAgIC8vSG9vayBBcmVhOjppbnNlcnRfdXNlcg0KICAgIEludGVyY2VwdG9yLmF0dGFjaChwdHIoMHg4NkMyNUE2KSwgew0KDQogICAgICAgIG9uRW50ZXI6IGZ1bmN0aW9uIChhcmdzKSB7DQogICAgICAgICAgICAvL+S/ruaUueagh+W/l+S9jSwg6K6p5pyN5Yqh5Zmo5bm/5pKt6LWb5Yip5Lqa5peF6aaG5raI5oGvDQogICAgICAgICAgICBhcmdzWzBdLmFkZCgweDY4KS53cml0ZUludCgwKTsNCiAgICAgICAgfSwNCiAgICAgICAgb25MZWF2ZTogZnVuY3Rpb24gKHJldHZhbCkgew0KICAgICAgICB9DQogICAgfSk7DQp9', '允许赛利亚房间的人互相可见', 'share_seria_room', 0);
            INSERT INTO da_frida_function (children_function, function_name, function_context, remark, function_key, is_system_fun) VALUES('', '忽略副本门口禁止摆摊', 'Ly/lv73nlaXlia/mnKzpl6jlj6PnpoHmraLmkYbmkYoNCmZ1bmN0aW9uIFByaXZhdGVzdG9yZV9JZ25vcmVOZWFyRHVuZ2VvbigpIHsNCiAgICBjb25zb2xlLmxvZygiPT09PT09PT09PT09PT09PT09PT09PT7lv73nlaXlia/mnKzpl6jlj6PnpoHmraLmkYbmkYoiKQ0KICAgIEludGVyY2VwdG9yLmF0dGFjaChwdHIoMHgwODVDNTA4MiksIHsNCiAgICAgICAgb25FbnRlcjogZnVuY3Rpb24gKGFyZ3MpIHsNCiAgICAgICAgfSwNCiAgICAgICAgb25MZWF2ZTogZnVuY3Rpb24gKHJldHZhbCkgew0KICAgICAgICAgICAgLy/ojrflj5bov5Tlm57lgLwNCiAgICAgICAgICAgIHZhciByZXR1cm5WYWx1ZSA9IHJldHZhbC50b0ludDMyKCk7DQogICAgICAgICAgICBjb25zb2xlLmxvZygnUmV0dXJuIFZhbHVlOicgKyByZXR1cm5WYWx1ZSk7DQogICAgICAgICAgICAvL+W8uuWItui/lOWbnjENCiAgICAgICAgICAgIHJldHZhbC5yZXBsYWNlKDEpOw0KICAgICAgICB9DQogICAgfSk7DQp9', '忽略副本门口禁止摆摊', 'Privatestore_IgnoreNearDungeon', 0);
            INSERT INTO da_frida_function (children_function, function_name, function_context, remark, function_key, is_system_fun) VALUES('load_json_config', '客户端临时提升技能等级', 'Ly/lrqLmiLfnq6/kuLTml7bmj5DljYfmioDog73nrYnnuqcNCg0KSW50ZXJjZXB0b3IuYXR0YWNoKHB0cigweDg2NkM0NkEpLCB7DQogICAgb25FbnRlcjogZnVuY3Rpb24gKGFyZ3MpIHsNCiAgICAgICAgLy/op5LoibLmioDog73kv6Hmga8NCiAgICAgICAgdGhpcy5za2lsbF9wdHIgPSBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjU2tpbGxSKGFyZ3NbMF0pOw0KICAgICAgICAvL+S/neWtmOWOn+Wni+aKgOiDveS/oeaBrw0KICAgICAgICB0aGlzLm9sZF9za2lsbF9pbmZvID0gdGhpcy5za2lsbF9wdHIucmVhZEJ5dGVBcnJheSgyMDMgKiAzMik7DQogICAgICAgIGlmIChnbG9iYWxfY29uZmlnWydnYW1lX2NvbmZpZyddWydza2lsbFVwZ3JhZGluZyddID4gMCkgew0KICAgICAgICAgICAgY29uc29sZS5sb2coIj09PT09PT09PT09PT09PT09PT09PT0+5a6i5oi356uv5Li05pe25o+Q5Y2H5oqA6IO9562J57qnIiArICc9PT4nICsgZ2FtZV9jb25maWdbJ3NraWxsVXBncmFkaW5nJ10pDQogICAgICAgICAgICAvL+S4tOaXtuS/ruaUueaKgOiDveetiee6pw0KICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPD0gMjAzOyArK2kpIHsNCiAgICAgICAgICAgICAgICBpZiAodGhpcy5za2lsbF9wdHIuYWRkKDIgKiAoaSArIDMyKSArIDYpLnJlYWRVOCgpKSB7DQogICAgICAgICAgICAgICAgICAgIHZhciBvbGRfc2tpbGxfbGV2ZWwgPSB0aGlzLnNraWxsX3B0ci5hZGQoMiAqIChpICsgMzIpICsgNykucmVhZFU4KCk7DQogICAgICAgICAgICAgICAgICAgIC8v5omA5pyJ5oqA6IO9562J57qnKzUNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5za2lsbF9wdHIuYWRkKDIgKiAoaSArIDMyKSArIDcpLndyaXRlVTgob2xkX3NraWxsX2xldmVsICsgNSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfSwNCiAgICBvbkxlYXZlOiBmdW5jdGlvbiAocmV0dmFsKSB7DQogICAgICAgIC8v6L+Y5Y6f5oqA6IO9562J57qnDQogICAgICAgIHRoaXMuc2tpbGxfcHRyLndyaXRlQnl0ZUFycmF5KHRoaXMub2xkX3NraWxsX2luZm8pOw0KICAgIH0NCn0pOw0K', '客户端临时提升技能等级', 'skillUpgrading', 0);
            INSERT INTO da_frida_function (children_function, function_name, function_context, remark, function_key, is_system_fun) VALUES('', '取消新账号送成长契约', 'Ly/lj5bmtojmlrDotKblj7fpgIHmiJDplb/lpZHnuqYNCmZ1bmN0aW9uIEludGVyY2VwdG9yX0ludGVyU2VsZWN0TW9iaWxlQXV0aFJld2FyZCgpIHsNCiAgICBjb25zb2xlLmxvZygiPT09PT09PT09PT09PT09PT09PT09PT7lj5bmtojmlrDotKblj7fpgIHmiJDplb/lpZHnuqYiKQ0KICAgIC8v6L+Y5Y6fIEludGVyU2VsZWN0TW9iaWxlQXV0aFJld2FyZDo6ZGlzcGF0Y2hfc2lnIOWHveaVsA0KICAgIHZhciBEZWZwdHIgPSBwdHIoMHgwODE2MTM4NCk7DQogICAgdmFyIHZhbHVlID0gRGVmcHRyLnJlYWRVOCgpDQogICAgaWYgKHZhbHVlICE9IDB4MEYpIHsNCg0KICAgICAgICBNZW1vcnkucHJvdGVjdChEZWZwdHIsIDEwLCAncnd4Jyk7DQogICAgICAgIERlZnB0ci53cml0ZVNob3J0KDB4ODQwRik7DQogICAgfQ0KICAgIC8v6YeN5YaZSW50ZXJTZWxlY3RNb2JpbGVBdXRoUmV3YXJkOjpkaXNwYXRjaF9zaWcg5Ye95pWwDQogICAgdmFyIEludGVyX0Rpc3BhdGNoUHIgPSBwdHIoMHgwODE2MTMyQSk7DQogICAgdmFyIEludGVyX0Rpc3BhdGNoID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKEludGVyX0Rpc3BhdGNoUHIsICdpbnQnLCBbJ3BvaW50ZXInLCAncG9pbnRlcicsICdwb2ludGVyJ10sIHsgImFiaSI6ICJzeXN2IiB9KTsNCiAgICBJbnRlcmNlcHRvci5yZXBsYWNlKEludGVyX0Rpc3BhdGNoUHIsIG5ldyBOYXRpdmVDYWxsYmFjayhmdW5jdGlvbiAoSW50ZXJTZWxlY3RNb2JpbGVBdXRoUmV3YXJkLCBDVXNlciwgYTMpIHsNCg0KICAgICAgICAvL3ZhciBJbnRlcl9EaXNwYXRjaE9wZW4gPSB0cnVlOw0KICAgICAgICB2YXIgSW50ZXJfRGlzcGF0Y2hPcGVuID0gZmFsc2U7DQogICAgICAgIGlmIChJbnRlcl9EaXNwYXRjaE9wZW4pIHsNCg0KICAgICAgICAgICAgYTMuYWRkKDQpLndyaXRlSW50KDApOw0KICAgICAgICAgICAgcmV0dXJuIEludGVyX0Rpc3BhdGNoKEludGVyU2VsZWN0TW9iaWxlQXV0aFJld2FyZCwgQ1VzZXIsIGEzKTsgLy/miafooYzljp/lh73mlbDlj5HpgIHmiJDplb/lpZHnuqYNCg0KICAgICAgICB9DQoNCiAgICAgICAgcmV0dXJuIDA7IC8v5Y+W5raI5paw6LSm5Y+36YCB5oiQ6ZW/5aWR57qmICAgIOi/lOWbnjDooajnpLrmraPluLjov5Tlm54gDQoNCiAgICB9LCAnaW50JywgWydwb2ludGVyJywgJ3BvaW50ZXInLCAncG9pbnRlciddKSk7DQp9', '取消新账号送成长契约', 'Interceptor_InterSelectMobileAuthReward', 0);
            INSERT INTO da_frida_function (children_function, function_name, function_context, remark, function_key, is_system_fun) VALUES('api_GameWorld_SendNotiPacketMessage,api_recharge_cash_cera_point,sever_base_funcation,load_json_config', '副本捡东西喊喇叭给点券', 'Ly/lia/mnKzmjaHkuJzopb/llorlloflj63nu5nngrnliLgNCiANCi8v5Ymv5pys5o2h5Lic6KW/5ZaK5ZaH5Y+t57uZ54K55Yi4DQpmdW5jdGlvbiBwcm9jZXNzaW5nX2RhdGEoaXRlbV9pZCwgdXNlcikgew0KICAgIGlmIChnbG9iYWxfY29uZmlnWydnYW1lX2NvbmZpZyddWydkdW5nZW9uc19hZGRfaXRlbV9ub3RpY2UnXSA9PT0gJ3RydWUnKSB7DQogICAgICAgIHZhciBpdGVtRGF0YSA9IENEYXRhTWFuYWdlcl9maW5kX2l0ZW0oR19DRGF0YU1hbmFnZXIoKSwgaXRlbV9pZCk7DQogICAgICAgIHZhciBlcXVSYXJpdHkgPSBDSXRlbV9HZXRSYXJpdHkoaXRlbURhdGEpOyAvLyDnqIDmnInluqYgID49MyDnsonoibLku6XkuIoNCiAgICAgICAgLy/lpJrlsJHnqIDmnInluqbmiY3kvJrop6blj5ENCiAgICAgICAgaWYgKGVxdVJhcml0eSA+PSBnbG9iYWxfY29uZmlnWydnYW1lX2NvbmZpZyddWydkdW5nZW9uc19hZGRfaXRlbV9ub3RpY2VfZXF1UmFyaXR5J10pIHsNCiAgICAgICAgICAgIHZhciBjaGFyYWNOYW1lID0gYXBpX0NVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNOYW1lKHVzZXIpOw0KICAgICAgICAgICAgY29uc3QgaXRlbU5hbWUgPSBhcGlfQ0l0ZW1fR2V0SXRlbU5hbWUoaXRlbV9pZCk7DQogICAgICAgICAgICAvL+aSreaKpeWGheWuuQ0KICAgICAgICAgICAgdmFyIHRleHQgPSBnbG9iYWxfY29uZmlnWydnYW1lX2NvbmZpZyddWydkdW5nZW9uc19hZGRfaXRlbV9ub3RpY2VfdGV4dCddOw0KICAgICAgICAgICAgLy/lpZblirHngrnliLjmlrnlvI8NCiAgICAgICAgICAgIHZhciB0eXBlID0gZ2xvYmFsX2NvbmZpZ1snZ2FtZV9jb25maWcnXVsnZHVuZ2VvbnNfYWRkX2l0ZW1fbm90aWNlX2Nhc2hfY2VyYSddOw0KICAgICAgICAgICAgaWYgKHR5cGUgPT0gMCkgew0KICAgICAgICAgICAgICAgIC8v5Y+q5pKt5oql5LiN5aWW5Yqx54K55Yi4DQogICAgICAgICAgICAgICAgdGV4dCA9IHRleHQucmVwbGFjZSgiPzEiLCBjaGFyYWNOYW1lKS5yZXBsYWNlKCI/MiIsIGl0ZW1OYW1lKS5yZXBsYWNlKCI/MyIsIHR5cGUpOw0KICAgICAgICAgICAgICAgIGFwaV9HYW1lV29ybGRfU2VuZE5vdGlQYWNrZXRNZXNzYWdlKHRleHQsIDE0KTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmICh0eXBlID09IDEpIHsNCiAgICAgICAgICAgICAgICAvL+WlluWKsemaj+acuueCueWIuA0KICAgICAgICAgICAgICAgIGFwaV9HYW1lV29ybGRfU2VuZE5vdGlQYWNrZXRNZXNzYWdlKHRleHQsIDE0KTsNCiAgICAgICAgICAgICAgICAvL+acgOWwj+eCueWIuOaVsOmHjw0KICAgICAgICAgICAgICAgIHZhciBtaW4gPSAxOw0KICAgICAgICAgICAgICAgIC8v5pyA5aSn54K55Yi45pWw6YePDQogICAgICAgICAgICAgICAgdmFyIG1heCA9IDg4ODsNCiAgICAgICAgICAgICAgICB0eXBlID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbikpICsgbWluOw0KICAgICAgICAgICAgICAgIHRleHQgPSB0ZXh0LnJlcGxhY2UoIj8xIiwgY2hhcmFjTmFtZSkucmVwbGFjZSgiPzIiLCBpdGVtTmFtZSkucmVwbGFjZSgiPzMiLCB0eXBlKTsNCiAgICAgICAgICAgICAgICBhcGlfcmVjaGFyZ2VfY2FzaF9jZXJhKHVzZXIsIHR5cGUpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYgKHR5cGUgPiAxKSB7DQogICAgICAgICAgICAgICAgdGV4dCA9IHRleHQucmVwbGFjZSgiPzEiLCBjaGFyYWNOYW1lKS5yZXBsYWNlKCI/MiIsIGl0ZW1OYW1lKS5yZXBsYWNlKCI/MyIsIHR5cGUpOw0KICAgICAgICAgICAgICAgIC8v5aWW5Yqx6K6+572u55qE54K55Yi45pWw6YePDQogICAgICAgICAgICAgICAgYXBpX0dhbWVXb3JsZF9TZW5kTm90aVBhY2tldE1lc3NhZ2UodGV4dCwgMTQpOw0KICAgICAgICAgICAgICAgIGFwaV9yZWNoYXJnZV9jYXNoX2NlcmEodXNlciwgdHlwZSk7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCg0KDQogICAgfQ0KICAgIENVc2VyX3NlbmRfaXRlbXNwYWNlKHVzZXIsIElOVkVOVE9SWV9UWVBFX0lURU0pOw0KfSAg', '副本捡东西喊喇叭给点券', 'processing_data', 0);
            INSERT INTO da_frida_function (children_function, function_name, function_context, remark, function_key, is_system_fun) VALUES('sever_base_funcation', '修复绝望之塔', 'DQovL+S/ruWkjee7neacm+S5i+WhlA0KLy9za2lwX3VzZXJfYXBjOiDkuLp0cnVl5pe2LCDot7Pov4fmr48xMOWxgueahFVzZXJBUEMNCmZ1bmN0aW9uIGZpeF9UT0Qoc2tpcF91c2VyX2FwYykgew0KICAgIGNvbnNvbGUubG9nKCI9PT09PT09PT09PT09PT09PT09PT09PuS/ruWkjee7neacm+S5i+WhlCIpDQogICAgLy/mr4/ml6Xov5vlhaXmrKHmlbDpmZDliLYNCiAgICAvL1RPRF9Vc2VyU3RhdGU6OmdldEVudGVyQ291bnQNCiAgICBJbnRlcmNlcHRvci5hdHRhY2gocHRyKDB4MDg2NDM4NzIpLCB7DQoNCiAgICAgICAgb25FbnRlcjogZnVuY3Rpb24gKGFyZ3MpIHsNCiAgICAgICAgICAgIC8v5LuK5pel5bey6L+b5YWl5qyh5pWw5by65Yi25riF6Zu2DQogICAgICAgICAgICBhcmdzWzBdLmFkZCgweDEwKS53cml0ZUludCgwKTsNCiAgICAgICAgfSwNCiAgICAgICAgb25MZWF2ZTogZnVuY3Rpb24gKHJldHZhbCkgew0KICAgICAgICB9DQogICAgfSk7DQoNCiAgICAvL+avjzEw5bGC5oyR5oiY546p5a62QVBDIOacjeWKoeWZqOWGheinkuiJsuS4jei2szEw5Liq5peg5rOV6L+b5YWlDQogICAgaWYgKHNraXBfdXNlcl9hcGMpIHsNCiAgICAgICAgLy/ot7Pov4cxMC8yMC8uLi4vOTDlsYINCiAgICAgICAgLy9UT0RfVXNlclN0YXRlOjpnZXRUb2RheUVudGVyTGF5ZXINCiAgICAgICAgSW50ZXJjZXB0b3IuYXR0YWNoKHB0cigweDA4NjQzODNFKSwgew0KDQogICAgICAgICAgICBvbkVudGVyOiBmdW5jdGlvbiAoYXJncykgew0KICAgICAgICAgICAgICAgIC8v57ud5pyb5LmL5aGU5b2T5YmN5bGC5pWwDQogICAgICAgICAgICAgICAgdmFyIHRvZGF5X2VudGVyX2xheWVyID0gYXJnc1sxXS5hZGQoMHgxNCkucmVhZFNob3J0KCk7DQoNCiAgICAgICAgICAgICAgICBpZiAoKCh0b2RheV9lbnRlcl9sYXllciAlIDEwKSA9PSA5KSAmJiAodG9kYXlfZW50ZXJfbGF5ZXIgPiAwKSAmJiAodG9kYXlfZW50ZXJfbGF5ZXIgPCAxMDApKSB7DQogICAgICAgICAgICAgICAgICAgIC8v5b2T5YmN5bGC5pWw5Li6MTDnmoTlgI3mlbDml7YgIOebtOaOpei/m+WFpeS4i+S4gOWxgg0KICAgICAgICAgICAgICAgICAgICBhcmdzWzFdLmFkZCgweDE0KS53cml0ZVNob3J0KHRvZGF5X2VudGVyX2xheWVyICsgMSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIG9uTGVhdmU6IGZ1bmN0aW9uIChyZXR2YWwpIHsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSk7DQogICAgfQ0KDQoNCg0KICAgIC8v5L+u5aSN6YeR5biB5byC5bi4DQogICAgLy9DUGFydHk6OlVzZUFuY2llbnREdW5nZW9uSXRlbXMNCiAgICB2YXIgQ1BhcnR5X1VzZUFuY2llbnREdW5nZW9uSXRlbXNfcHRyID0gcHRyKDB4ODU5RUFDMik7DQogICAgdmFyIENQYXJ0eV9Vc2VBbmNpZW50RHVuZ2Vvbkl0ZW1zID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKENQYXJ0eV9Vc2VBbmNpZW50RHVuZ2Vvbkl0ZW1zX3B0ciwgJ2ludCcsIFsncG9pbnRlcicsICdwb2ludGVyJywgJ3BvaW50ZXInLCAncG9pbnRlciddLCB7ICJhYmkiOiAic3lzdiIgfSk7DQogICAgSW50ZXJjZXB0b3IucmVwbGFjZShDUGFydHlfVXNlQW5jaWVudER1bmdlb25JdGVtc19wdHIsIG5ldyBOYXRpdmVDYWxsYmFjayhmdW5jdGlvbiAocGFydHksIGR1bmdlb24sIGludmVuX2l0ZW0sIGE0KSB7DQoNCiAgICAgICAgLy/lvZPliY3ov5vlhaXnmoTlnLDkuIvln45pZA0KICAgICAgICB2YXIgZHVuZ2Vvbl9pbmRleCA9IENEdW5nZW9uX2dldF9pbmRleChkdW5nZW9uKTsNCg0KICAgICAgICAvL+agueaNruWcsOS4i+Wfjmlk5Yik5pat5piv5ZCm5Li657ud5pyb5LmL5aGUDQogICAgICAgIGlmICgoZHVuZ2Vvbl9pbmRleCA+PSAxMTAwOCkgJiYgKGR1bmdlb25faW5kZXggPD0gMTExMDcpKSB7DQogICAgICAgICAgICAvL+e7neacm+S5i+WhlCDkuI3lho3miaPpmaTph5HluIENCiAgICAgICAgICAgIHJldHVybiAxOw0KICAgICAgICB9DQoNCiAgICAgICAgLy/lhbbku5blia/mnKzmiafooYzljp/lp4vmiaPpmaTpgZPlhbfpgLvovpENCiAgICAgICAgcmV0dXJuIENQYXJ0eV9Vc2VBbmNpZW50RHVuZ2Vvbkl0ZW1zKHBhcnR5LCBkdW5nZW9uLCBpbnZlbl9pdGVtLCBhNCk7DQogICAgfSwgJ2ludCcsIFsncG9pbnRlcicsICdwb2ludGVyJywgJ3BvaW50ZXInLCAncG9pbnRlciddKSk7DQp9', '修复绝望之塔', 'fix_TOD', 0);
            INSERT INTO da_frida_function (children_function, function_name, function_context, remark, function_key, is_system_fun) VALUES('', '史诗免确认', 'Ly/lj7Lor5flhY3noa7orqQNCmZ1bmN0aW9uIGNhbmNlbF9lcGljX29rKCkgew0KICAgIGNvbnNvbGUubG9nKCI9PT09PT09PT09PT09PT09PT09PT09PiDlj7Lor5flhY3noa7orqQiKQ0KICAgIE1lbW9yeS5wYXRjaENvZGUocHRyKDB4MDg1QTU2Q0UpLmFkZCgyKSwgMSwgZnVuY3Rpb24gKGNvZGUpIHsNCiAgICAgICAgdmFyIGN3ID0gbmV3IFg4NldyaXRlcihjb2RlLCB7IHBjOiBwdHIoMHgwODVBNTZDRSkuYWRkKDIpIH0pOw0KICAgICAgICBjdy5wdXRVOCg5KTsNCiAgICAgICAgY3cuZmx1c2goKTsNCiAgICB9KTsNCiAgICBJbnRlcmNlcHRvci5hdHRhY2gocHRyKDB4MDgxNTBmMTgpLCB7DQogICAgICAgIG9uTGVhdmU6IGZ1bmN0aW9uIChyZXR2YWwpIHsNCiAgICAgICAgICAgIHJldHZhbC5yZXBsYWNlKDApOw0KICAgICAgICB9DQogICAgfSk7DQp9', '史诗免确认', 'cancel_epic_ok', 0);
            INSERT INTO da_frida_function (children_function, function_name, function_context, remark, function_key, is_system_fun) VALUES('', '开启创建缔造', 'Ly/lvIDlkK/liJvlu7rnvJTpgKANCmZ1bmN0aW9uIGVuYWJsZV9jcmVhdGVDcmVhdG9yKCl7DQogICAgY29uc29sZS5sb2coIj09PT09PT09PT09PT09PT09PT09PT0+IOW8gOWQr+WIm+W7uue8lOmAoCIpDQogICAgTWVtb3J5LnBhdGNoQ29kZShwdHIoMHgwODFDMDI5RSkuYWRkKDEpLCAxLCBmdW5jdGlvbiAoY29kZSkgew0KICAgICAgICB2YXIgY3cgPSBuZXcgWDg2V3JpdGVyKGNvZGUsIHsgcGM6IHB0cigweDA4MUMwMjlFKS5hZGQoMSkgfSk7DQogICAgICAgIGN3LnB1dFU4KDExKTsNCiAgICAgICAgY3cuZmx1c2goKTsNCiAgICB9KTsNCn0=', '开启创建缔造', 'enable_createCreator', 0);
            INSERT INTO da_frida_function (children_function, function_name, function_context, remark, function_key, is_system_fun) VALUES('load_json_config', '强制开启深渊模式', 'IC8v5byA5ZCv5rex5riK5qih5byPDQpJbnRlcmNlcHRvci5hdHRhY2gocHRyKDB4MDg1YTA5NTQpLCB7DQogICAgb25FbnRlcjogZnVuY3Rpb24gKGFyZ3MpIHsNCiAgICAgICAgaWYgKGdsb2JhbF9jb25maWdbJ2dhbWVfY29uZmlnJ11bJ3N0YXJ0SGVsbFBhcnR5J10gPT09ICd0cnVlJykgew0KICAgICAgICAgICAgYXJnc1szXSA9IHB0cigxKTsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCI9PT09PT09PT09PT09PT09PT09PT09PiDlvLrliLblvIDlkK/mt7HmuIrmqKHlvI8iKQ0KICAgICAgICB9DQogICAgfQ0KfSk7DQo=', '强制开启深渊模式', 'startHellParty', 0);
            INSERT INTO da_frida_function (children_function, function_name, function_context, remark, function_key, is_system_fun) VALUES('sever_base_funcation', '+13以上强化券无需小退', 'Ly8rMTPku6XkuIrlvLrljJbliLjml6DpnIDlsI/pgIANCg0KZnVuY3Rpb24gZW5oYW5jZW1lbnRfbGV2ZWxfMTNfbm9fZXhpdCgpIHsNCiAgICBJbnRlcmNlcHRvci5hdHRhY2gocHRyKDB4MDgwRkM4NTApLCB7DQogICAgICAgIG9uRW50ZXI6IGZ1bmN0aW9uIChhcmdzKSB7DQogICAgICAgICAgICB0aGlzLmVxdWlQb3MgPSBhcmdzWzJdLmFkZCgyNykucmVhZFUxNigpOw0KICAgICAgICAgICAgdGhpcy51c2VyID0gYXJnc1sxXTsNCiAgICAgICAgfSwNCiAgICAgICAgb25MZWF2ZTogZnVuY3Rpb24gKHJldHZhbCkgew0KICAgICAgICAgICAgQ1VzZXJfU2VuZFVwZGF0ZUl0ZW1MaXN0KHRoaXMudXNlciwgMSwgMCwgdGhpcy5lcXVpUG9zKTsNCiAgICAgICAgfQ0KICAgIH0pOw0KfQ==', '+13以上强化券无需小退', 'up_13_no_exit', 0);
            INSERT INTO da_frida_function (children_function, function_name, function_context, remark, function_key, is_system_fun) VALUES('sever_base_funcation,setMaxCAccountCargoSolt', '装备跨界', 'DQovKioNCiAqIOi3qOeVjOefs++8miDlsIboo4XlpIfmoI/nmoTnrKzkuIDkuKrmoLzlrZDnmoToo4XlpIfnp7vlhaXliLDotKblj7fph5HlupPvvIzoh6rliqjmib7nqbrnmoTmoLzlrZDvvIzmiYDku6Xlj6/ku6XlkIzml7bnp7vlhaXlpJrku7YNCiAqIEBwYXJhbSB1c2VyDQogKi8NCmZ1bmN0aW9uIGNyb3Nzb3Zlcih1c2VyKXsNCiAgICAvLyDot6jnlYwgIOWwhuijheWkh+enu+WFpeWIsOi0puWPt+mHkeW6kw0KICAgIHZhciBhY2NvdW50Q2FyZ28gPSBDVXNlcl9HZXRBY2NvdW50Q2FyZ28odXNlcik7DQogICAgY29uc29sZS5sb2coJ2FjY291bnRDYXJnb++8micrYWNjb3VudENhcmdvKTsNCiAgICB2YXIgZW1wdHlJbmRleCA9IENBY2NvdW50Q2FyZ29fR2V0RW1wdHlTbG90X05FVyhhY2NvdW50Q2FyZ28pOw0KICAgIGNvbnNvbGUubG9nKCdhY2NvdW50Q2FyZ28gZW1wdHlJbmRleDonK2VtcHR5SW5kZXgpDQogICAgaWYoZW1wdHlJbmRleD09LTEpew0KICAgICAgICBhcGlfQ1VzZXJfU2VuZE5vdGlQYWNrZXRNZXNzYWdlKHVzZXIsIui3qOeVjOWksei0pe+8mui0puWPt+mHkeW6k+ayoeacieepuueahOagvOWtkO+8ge+8ge+8gSIsMCk7DQogICAgfQ0KICAgIHZhciBpbnZlbiA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNJbnZlblcodXNlcik7DQogICAgdmFyIGVxdSA9IENJbnZlbnRvcnlfR2V0SW52ZW5SZWYoaW52ZW4sIElOVkVOVE9SWV9UWVBFX0lURU0sIDkpOw0KICAgIHZhciBpdGVtSWQgPSBJbnZlbl9JdGVtX2dldEtleShlcXUpOw0KICAgIGlmKGl0ZW1JZCl7DQogICAgICAgIHZhciB0YWcgPSBDQWNjb3VudENhcmdvX0luc2VydEl0ZW1fTkVXKGFjY291bnRDYXJnbyxlcXUsZW1wdHlJbmRleCk7DQogICAgICAgIGlmKHRhZz09LTEpew0KICAgICAgICAgICAgY29uc29sZS5sb2coJ2ZhaWwhISEnKTsNCiAgICAgICAgICAgIGFwaV9DVXNlcl9TZW5kTm90aVBhY2tldE1lc3NhZ2UodXNlciwi6Leo55WM5aSx6LSl77ya56e75YWl6KOF5aSHZXJyb3IiLDApOw0KICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgIEludmVuX0l0ZW1fcmVzZXQoZXF1KTsNCiAgICAgICAgICAgIENVc2VyX1NlbmRVcGRhdGVJdGVtTGlzdCh1c2VyLCAxLCAwLCA5KTsNCiAgICAgICAgICAgIENBY2NvdW50Q2FyZ29fU2VuZEl0ZW1MaXN0X05FVyhhY2NvdW50Q2FyZ28pOw0KICAgICAgICAgICAgY29uc29sZS5sb2coJ3N1Y2Nlc3MhISEnKTsNCiAgICAgICAgICAgIGFwaV9DVXNlcl9TZW5kTm90aVBhY2tldE1lc3NhZ2UodXNlciwi6Leo55WM5oiQ5Yqf77ya5bey5a2Y5YWl56ysICIrKGVtcHR5SW5kZXgrMSkrIiDkuKrmoLzlrZDvvIEiLDApOw0KICAgICAgICB9DQogICAgfQ0KfQ==', '将装备栏的第一个格子的装备移入到账号金库，自动找空的格子，所以可以同时移入多件', 'crossover', 0);
            INSERT INTO da_frida_function (children_function, function_name, function_context, remark, function_key, is_system_fun) VALUES('sever_base_funcation', '设置最大等级', 'LyoqDQogKiDorr7nva7mnIDlpKfnrYnnuqcNCiAqIEBwYXJhbSBtYXhMZXZlbA0KICovDQpmdW5jdGlvbiBzZXRVc2VyTWF4TGV2ZWwobWF4TGV2ZWwpew0KICAgIEludGVyY2VwdG9yLnJlcGxhY2UocHRyKDB4MDg2OGZlYzgpLCBuZXcgTmF0aXZlQ2FsbGJhY2soZnVuY3Rpb24gKGluZm8sIGxldmVsKSB7DQogICAgICAgIHZhciB3cml0ZUxldmVsID0gbWF4TGV2ZWw7DQogICAgICAgIGlmIChsZXZlbCA8PSBtYXhMZXZlbCkgew0KICAgICAgICAgICAgaWYgKGxldmVsID4gMCkgew0KICAgICAgICAgICAgICAgIHdyaXRlTGV2ZWwgPSBsZXZlbDsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgd3JpdGVMZXZlbCA9IDE7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgLy8gNTg0NjY0DQogICAgICAgIGluZm8uYWRkKDB4OEVCRDgpLndyaXRlSW50KHdyaXRlTGV2ZWwpOw0KICAgICAgICByZXR1cm4gaW5mbzsNCiAgICB9LCAncG9pbnRlcicsIFsncG9pbnRlcicsICdpbnQnXSkpOw0KfQ0KDQovKioNCiAqIOmHjeaWsOiuoeeul+etiee6pw0KICogQHBhcmFtIG1heExldmVsDQogKi8NCmZ1bmN0aW9uIGNhbGN1cmF0ZVVzZXJNYXhMZXZlbChtYXhMZXZlbCl7DQogICAgSW50ZXJjZXB0b3IucmVwbGFjZShwdHIoMHgwODY4ZmYwNCksIG5ldyBOYXRpdmVDYWxsYmFjayhmdW5jdGlvbiAoYTEpIHsNCiAgICAgICAgdmFyIGluZm8gPSBhMTsNCiAgICAgICAgdmFyIGNhbE1heExldmVsID0gMDsNCiAgICAgICAgLy8g6I635Y+W6KeS6Imy5pWw6YePDQogICAgICAgIHZhciBpbmZvU2l6ZSA9IHN0ZF92ZWN0b3JfY2hhcmFjX2luZm9fc2l6ZShpbmZvLmFkZCgweDc5NkU4KSk7DQogICAgICAgIGZvcih2YXIgaT0wO2k8aW5mb1NpemU7aSsrKXsNCiAgICAgICAgICAgIC8vIOivu+WPluavj+S4quinkuiJsueahOetiee6pw0KICAgICAgICAgICAgdmFyIHJlYWRMZXZlbCA9IHB0cihzdGRfdmVjdG9yX0NoYXJhY19pbmZvX29wZXJhdG9yQXJyKGluZm8uYWRkKDQ5NzM4NCksaSkpLmFkZCgzOSkucmVhZFUxNigpOw0KICAgICAgICAgICAgaWYocmVhZExldmVsID4gY2FsTWF4TGV2ZWwpew0KICAgICAgICAgICAgICAgIGNhbE1heExldmVsID0gcmVhZExldmVsOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIGlmKGNhbE1heExldmVsID4gbWF4TGV2ZWwpew0KICAgICAgICAgICAgY2FsTWF4TGV2ZWwJPSBtYXhMZXZlbDsNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gQ1VzZXJfU2V0VXNlck1heExldmVsKGluZm8sY2FsTWF4TGV2ZWwpOw0KICAgIH0sICdwb2ludGVyJywgWydwb2ludGVyJ10pKTsNCn0NCg0KLyoqDQogKiB0b2RvIOavj+aXpeeahOaXpeW4uOS7u+WKoQ0KICogQHBhcmFtIG1heExldmVsDQogKi8NCmZ1bmN0aW9uIGlzVGhlcmVEYWlseVRyYWluaW5nUXVlc3RMaXN0KG1heExldmVsKXsNCiAgICBJbnRlcmNlcHRvci5yZXBsYWNlKHB0cigweDA4MzY0MTFlKSwgbmV3IE5hdGl2ZUNhbGxiYWNrKGZ1bmN0aW9uIChpbmZvLCBhMSwgYTIpIHsNCiAgICAgICAgdmFyIGxldmVsID0gYTE7DQogICAgICAgIGlmKGxldmVsPD0wIHx8IGxldmVsID4gbWF4TGV2ZWwpew0KICAgICAgICAgICAgcmV0dXJuIDA7DQogICAgICAgIH0NCiAgICAgICAgdmFyIHF1ZXJzdCA9IGEyOw0KICAgICAgICAvLyBjb25zb2xlLmxvZygidXNlciBhbmQgbGV2ZWwgOiIraW5mbysiICwiK2xldmVsKycgLCcrcXVlcnN0KTsNCiAgICAgICAgdmFyIHF1ZXN0TGlzdCA9IENEYXRhTWFuYWdlcl9nZXREYWlseVRyYWluaW5nUXVlc3QoaW5mbyxsZXZlbCk7DQoNCiAgICAgICAgdmFyIGkgPSAwOw0KICAgICAgICBmb3IgKGkgPSAwOyBpIDwgNjsgaSsrKSB7DQogICAgICAgICAgICB2YXIgdmFsID0gcXVlc3RMaXN0LmFkZChpKjIpLnJlYWRVMTYoKTsNCiAgICAgICAgICAgIGlmKHF1ZXJzdCA9PSB2YWwpew0KICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdpc1RoZXJlRGFpbHlUcmFpbmluZ1F1ZXN0TGlzdCAgdmFsOicrdmFsKycgICcraSk7DQogICAgICAgICAgICAgICAgcmV0dXJuIDE7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIDA7DQogICAgfSwgJ2ludCcsIFsncG9pbnRlcicsICdpbnQnLCAnaW50J10pKTsNCn0NCg0KDQpmdW5jdGlvbiBnZXRSZXR1cm5Vc2VyTGV2ZWxLZXkobWF4TGV2ZWwpew0KICAgIEludGVyY2VwdG9yLnJlcGxhY2UocHRyKDB4MDg2OTIzMGEpLCBuZXcgTmF0aXZlQ2FsbGJhY2soZnVuY3Rpb24gKHN0Tm90aWZ5SW5nYW1lQURJbmZvLCBhMiwgYTMpIHsNCiAgICAgICAgY29uc29sZS5sb2coJ2dldFJldHVyblVzZXJMZXZlbEtleSAnK3N0Tm90aWZ5SW5nYW1lQURJbmZvKycgJythMisnICcrYTMpOw0KICAgICAgICBpZihhMyE9MCl7DQogICAgICAgICAgICBpZihhMiA8PTE5KXsNCiAgICAgICAgICAgICAgICByZXR1cm4gMTU7DQogICAgICAgICAgICB9DQogICAgICAgIH1lbHNlew0KICAgICAgICAgICAgaWYoYTIgPD05KXsNCiAgICAgICAgICAgICAgICByZXR1cm4gNTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmKGEyIDw9MTQpew0KICAgICAgICAgICAgICAgIHJldHVybiAxMDsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmKGEyIDw9MTkpew0KICAgICAgICAgICAgICAgIHJldHVybiAxNTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICBpZihhMiA8PTI5KXsNCiAgICAgICAgICAgIHJldHVybiAyMDsNCiAgICAgICAgfQ0KICAgICAgICBpZihhMiA8PTM5KXsNCiAgICAgICAgICAgIHJldHVybiAzMDsNCiAgICAgICAgfQ0KICAgICAgICBpZihhMiA8PTQ5KXsNCiAgICAgICAgICAgIHJldHVybiA0MDsNCiAgICAgICAgfQ0KICAgICAgICBpZihhMiA8PTU5KXsNCiAgICAgICAgICAgIHJldHVybiA1MDsNCiAgICAgICAgfQ0KICAgICAgICBpZihhMiA8PTY5KXsNCiAgICAgICAgICAgIHJldHVybiA2MDsNCiAgICAgICAgfQ0KICAgICAgICBpZihhMiA8PTc5KXsNCiAgICAgICAgICAgIHJldHVybiA3MDsNCiAgICAgICAgfQ0KICAgICAgICBpZihhMiA8PTg2KXsNCiAgICAgICAgICAgIHJldHVybiA4MDsNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gNjA7DQogICAgfSwgJ2ludCcsIFsncG9pbnRlcicsICdpbnQnLCAnaW50J10pKTsNCn0NCg0KLyoqDQogKiDojrflj5bnrYnnuqfmrrXnu4/pqowg77yM5Yqg6L295Yiw5LqGMjAwDQogKi8NCmZ1bmN0aW9uIGdldExldmVsU2VjdGlvbkV4cCgpew0KICAgIC8vIDA4MzYwNEI2DQogICAgSW50ZXJjZXB0b3IucmVwbGFjZShwdHIoMHgwODM2MDRCNiksIG5ldyBOYXRpdmVDYWxsYmFjayhmdW5jdGlvbiAoY2hhcmFjQWR2YW5jZUFsdGFyTWFuYWdlciwgZXhwKSB7DQogICAgICAgIGlmKGV4cCA+MSAmJiBleHAgPD0gMjAwKXsNCiAgICAgICAgICAgIC8vIOi/lOWbnuS7gOS5iOi1nuaYr+S4jeeciw0KICAgICAgICAgICAgdmFyIGV4cFNlY3Rpb24gPSBjaGFyYWNBZHZhbmNlQWx0YXJNYW5hZ2VyLmFkZCgoZXhwKzEwOTEyKSo0KS5yZWFkVTMyKCktY2hhcmFjQWR2YW5jZUFsdGFyTWFuYWdlci5hZGQoKGV4cCsxMDkxMSkqNCkucmVhZFUzMigpDQogICAgICAgICAgICByZXR1cm4gZXhwU2VjdGlvbjsNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gMDsNCiAgICB9LCAnaW50JywgWydwb2ludGVyJywgJ2ludCddKSk7DQp9DQoNCi8qKg0KICog5qOA5p+l5piv5ZCm5piv5Y2H57qn6aG5IOS+i+WmguWNh+e6p+WIuCznlKjlpITkuI3lpKcNCiAqIEBwYXJhbSBtYXhMZXZlbA0KICovDQpmdW5jdGlvbiBjYWxMZXZlbFVwSXRlbUNoZWNrKG1heExldmVsKXsNCiAgICBJbnRlcmNlcHRvci5yZXBsYWNlKHB0cigweDA4Njg5ZDA2KSwgbmV3IE5hdGl2ZUNhbGxiYWNrKGZ1bmN0aW9uICh1c2VyLCBpdGVtX2lkKSB7DQogICAgICAgIGNvbnNvbGUubG9nKCJjYWxMZXZlbFVwSXRlbUNoZWNrIGV4ZWMiKQ0KICAgICAgICB2YXIgY2hhcmFjX2xldmVsID0gQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfbGV2ZWwodXNlcik7DQogICAgICAgIGlmKGEyPT0yNjc1Mzg4KXsNCiAgICAgICAgICAgIHJldHVybiBjaGFyYWNfbGV2ZWwgPiAwICYmIGNoYXJhY19sZXZlbCA8PSA2OTsNCiAgICAgICAgfQ0KICAgICAgICBpZihpdGVtX2lkID4gMHgyOEQyQkMpew0KICAgICAgICAgICAgaWYgKCBpdGVtX2lkICE9IDEwMDAwOTE1ICYmIGl0ZW1faWQgIT0gNjkwMDAwMDk3ICkNCiAgICAgICAgICAgICAgICByZXR1cm4gMDsNCiAgICAgICAgICAgIHJldHVybiBjaGFyYWNfbGV2ZWwgPiAwICYmIGNoYXJhY19sZXZlbCA8PSBtYXhMZXZlbDsNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gaXRlbV9pZCA9PSA4MDQ5ICYmIGNoYXJhY19sZXZlbCA+IDE4ICYmIGNoYXJhY19sZXZlbCA8PSA1OTsNCiAgICB9LCAnaW50JywgWydwb2ludGVyJywgJ2ludCddKSk7DQp9DQoNCg0KDQovKioNCiAqIHNw54K5IOWSjHB2ZuacieWFs+ezuw0KICogQHBhcmFtIG1heExldmVsDQogKi8NCmZ1bmN0aW9uIGdldFNwQXRMZXZlbFVwKG1heExldmVsKXsNCiAgICBJbnRlcmNlcHRvci5yZXBsYWNlKHB0cigweDA4MzYwY2I4KSwgbmV3IE5hdGl2ZUNhbGxiYWNrKGZ1bmN0aW9uIChjaGFyYWNBZHZhbmNlQWx0YXJNYW5hZ2VyLCBsZXZlbCkgew0KICAgICAgICBpZihsZXZlbCA+MCAmJiBsZXZlbCA8PSBtYXhMZXZlbCl7DQogICAgICAgICAgICB2YXIgcmVzID0gY2hhcmFjQWR2YW5jZUFsdGFyTWFuYWdlci5hZGQoKGxldmVsKzEzOTg4KSo0KS5yZWFkVTE2KCk7DQogICAgICAgICAgICByZXR1cm4gcmVzOw0KICAgICAgICB9DQogICAgICAgIHJldHVybiAwOw0KICAgIH0sICdpbnQnLCBbJ3BvaW50ZXInLCAnaW50J10pKTsNCn0NCg0KLyoqDQogKiDmnKrnn6UNCiAqIEBwYXJhbSBtYXhMZXZlbA0KICovDQpmdW5jdGlvbiBzZXRMZXZlbEV4cChtYXhMZXZlbCl7DQogICAgLy8gSW50ZXJjZXB0b3IucmVwbGFjZShwdHIoMHgwODM2MDQwMCksIG5ldyBOYXRpdmVDYWxsYmFjayhmdW5jdGlvbiAoY2hhcmFjQWR2YW5jZUFsdGFyTWFuYWdlcikgew0KICAgIC8vICAgICBjb25zb2xlLmxvZygic2V0TGV2ZWxFeHAgZXhlYyIpDQogICAgLy8gICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMjAwOyBpKyspIHsNCiAgICAvLyAgICAgICAgIGNoYXJhY0FkdmFuY2VBbHRhck1hbmFnZXIuYWRkKChpKzEwOTEzKSo0KS53cml0ZVVJbnQoMTAwMDAwK2kpOw0KICAgIC8vICAgICB9DQogICAgLy8gICAgIHJldHVybiAxOw0KICAgIC8vIH0sICdpbnQnLCBbJ3BvaW50ZXInXSkpOw0KfQ0KDQovKioNCiAqIOiuvue9ruavj+S4quetiee6p+mAgeeahHNwICzku47mlofku7bkuK3or7vlj5blh7rmnaXvvIzlpKfmpoLmnIDlpJrliLAyMDANCiAqIEBwYXJhbSBtYXhMZXZlbA0KICovDQpmdW5jdGlvbiBzZXRSZXdhcmRTcChtYXhMZXZlbCl7DQogICAgSW50ZXJjZXB0b3IucmVwbGFjZShwdHIoMHgwODM2MGJkZSksIG5ldyBOYXRpdmVDYWxsYmFjayhmdW5jdGlvbiAoY2hhcmFjQWR2YW5jZUFsdGFyTWFuYWdlcikgew0KICAgICAgICB2YXIgcmVzOw0KICAgICAgICB2YXIgcmVmTGlzdCA9IE1lbW9yeS5hbGxvYygxMik7DQogICAgICAgIHN0U3BQZXJMZXZlbFRhYmxlKHJlZkxpc3QpOw0KICAgICAgICB2YXIgbXNnID0gTWVtb3J5LmFsbG9jVXRmOFN0cmluZygiRXRjL3NwVGFibGUuZXRjIik7DQogICAgICAgIGlmKEltcG9ydFNwUGVyTGV2ZWxSZWZlcmVuY2VUYWJsZShtc2cscmVmTGlzdCkhPTApew0KICAgICAgICAgICAgcmVzID0gMDsNCiAgICAgICAgfWVsc2V7DQogICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8PW1heExldmVsOyBpKyspIHsNCiAgICAgICAgICAgICAgICBjaGFyYWNBZHZhbmNlQWx0YXJNYW5hZ2VyLmFkZCgoaSsxMzk4OCkqNCkud3JpdGVVSW50KDApOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZm9yICh2YXIgaT0wO2k8PW1heExldmVsO2krKyl7DQogICAgICAgICAgICAgICAgdmFyIHJlYWRWYWwgPSB2ZWN0b3JfdW5zaWduZWRfaW50X29wZXJhdG9yKHJlZkxpc3QsaSkucmVhZFVJbnQoKTsNCiAgICAgICAgICAgICAgICBjaGFyYWNBZHZhbmNlQWx0YXJNYW5hZ2VyLmFkZCgoaSsxMzk4OCkqNCkud3JpdGVVSW50KHJlYWRWYWwpDQogICAgICAgICAgICB9DQogICAgICAgICAgICByZXMgPSAxOw0KICAgICAgICB9DQogICAgICAgIHJldHVybiByZXM7DQogICAgfSwgJ2ludCcsIFsncG9pbnRlciddKSk7DQp9DQoNCi8qKg0KICog5qOA5p+l562J57qn5Y2H57qnDQogKiBmbGFnIDAg57uP6aqM5Lmm5Y2H57qnICAxIOadgOaAquWNh+e6pyAyIOmAmuWFsyAgMTMg5Lu75YqhDQogKiByZXR1cm4gIOWNh+e6pzEg5LiN5Y2H57qnMA0KICovDQpmdW5jdGlvbiBjaGVja0xldmVsVXAobWF4TGV2ZWwpew0KICAgIEludGVyY2VwdG9yLnJlcGxhY2UocHRyKDB4MDg2NjJhZWEpLCBuZXcgTmF0aXZlQ2FsbGJhY2soZnVuY3Rpb24gKHN0Tm90aWZ5SW5nYW1lQURJbmZvLGFkZEV4cCxhcmdzQSxhcmdzQixmbGFnKSB7DQogICAgICAgIHZhciBhcmdzMiA9IHB0cihhcmdzQSk7DQogICAgICAgIHZhciBhcmdzMyA9IHB0cihhcmdzQik7DQogICAgICAgIHZhciB2bG9nID0gTWVtb3J5LmFsbG9jKDE2KTsNCiAgICAgICAgdmFyIHZsb2cyID0gTWVtb3J5LmFsbG9jKDE2KTsNCiAgICAgICAgdmFyIHZsb2czID0gTWVtb3J5LmFsbG9jKDE2KTsNCiAgICAgICAgdmFyIHZsb2c0ID0gTWVtb3J5LmFsbG9jKDE2KTsNCiAgICAgICAgdmFyIHY0MSA9IE1lbW9yeS5hbGxvYygxMCk7DQogICAgICAgIC8vIGNvbnNvbGUubG9nKCdjaGVja0xldmVsVXAgYXJnczonKyAgc3ROb3RpZnlJbmdhbWVBREluZm8rJywnK2FkZEV4cCsnLCcrYXJnc0ErJywnK2FyZ3NCKycsJytmbGFnKQ0KICAgICAgICB2YXIgbmV4dExldmVsID0gQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfbGV2ZWwoc3ROb3RpZnlJbmdhbWVBREluZm8pKzE7DQogICAgICAgIHZhciByZXNWYWwgPSAwOw0KICAgICAgICBpZihDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjUihzdE5vdGlmeUluZ2FtZUFESW5mbykhPTApew0KICAgICAgICAgICAgaWYoQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfbGV2ZWwoc3ROb3RpZnlJbmdhbWVBREluZm8pID4gMCl7DQogICAgICAgICAgICAgICAgd2hpbGUgKCBhZGRFeHAgPjAgJiYgbmV4dExldmVsIDw9IG1heExldmVsICl7DQogICAgICAgICAgICAgICAgICAgIHZhciBub3dMZXZlbEV4cCA9IENEYXRhTWFuYWdlcl9nZXRfbGV2ZWxfZXhwKEdfQ0RhdGFNYW5hZ2VyKCksQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfbGV2ZWwoc3ROb3RpZnlJbmdhbWVBREluZm8pKTsNCiAgICAgICAgICAgICAgICAgICAgdmFyIG5leHRMZXZlbEV4cCA9IENEYXRhTWFuYWdlcl9nZXRfbGV2ZWxfZXhwKEdfQ0RhdGFNYW5hZ2VyKCksbmV4dExldmVsKTsNCiAgICAgICAgICAgICAgICAgICAgdmFyIGNoYXJhY0V4cCA9IENVc2VyQ2hhcmFjSW5mb19nZXRfY2hhcmFjX2V4cChzdE5vdGlmeUluZ2FtZUFESW5mbyk7DQogICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCJ1c2VyIG5vd0xldmVsIG5leHRMZXZlbCBub3dFeHAgbm93TGV2ZWxFeHAgbmV4dExldmVsRXhwIDoiICsgQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfbGV2ZWwoc3ROb3RpZnlJbmdhbWVBREluZm8pDQogICAgICAgICAgICAgICAgICAgIC8vICAgICArJywnK25leHRMZXZlbCsnLCcrY2hhcmFjRXhwKycsJytub3dMZXZlbEV4cCsnLCcrbmV4dExldmVsRXhwKTsNCiAgICAgICAgICAgICAgICAgICAgLy8g6ZmN57qn5oiW5Y2H57qnDQogICAgICAgICAgICAgICAgICAgIGlmKGNoYXJhY0V4cDxub3dMZXZlbEV4cCB8fCBjaGFyYWNFeHA+bmV4dExldmVsRXhwKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIOWSjOW9k+WJjee7j+mqjOS4jeWMuemFjSDku47mlrDorr7nva7nu4/pqowNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjaGFyY05hbWUgPSAnJzsNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjaGFyY05hbWVWYWwgPSBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjTmFtZShzdE5vdGlmeUluZ2FtZUFESW5mbyk7DQogICAgICAgICAgICAgICAgICAgICAgICBpZighY2hhcmNOYW1lVmFsLmlzTnVsbCgpKQ0KICAgICAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYXJjTmFtZSA9ICBjaGFyY05hbWVWYWwucmVhZFV0ZjhTdHJpbmcoLTEpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgY015VHJhY2VfY015VHJhY2UodmxvZzMsTWVtb3J5LmFsbG9jVXRmOFN0cmluZygiYm9vbCBDVXNlcjo6X2NoZWNrX2xldmVsX3VwKGludCwgaW50JiwgaW50JiwgZUV4cEFkZFJlYXNvbiwgaW50KSIpLDE2NDQzLDUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgY015VHJhY2Vfb3BlcmF0b3IodmxvZzMudG9JbnQzMigpLE1lbW9yeS5hbGxvY1V0ZjhTdHJpbmcoIiVzIGlzIExldmVsKCVkKSBhbmQgRXhwKCVkKSBJbmNvbnNpc3RlbmN5KGJvdHRvbSglZCksIHRvcCglZCkpIiksTWVtb3J5LmFsbG9jVXRmOFN0cmluZyhjaGFyY05hbWUpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIOi/meW6lOivpeWwseaYr+S4uuS7gOS5iOWHuueOsOWNh+e6p+WQjue7j+mqjOeZvuWIhuavlOS4ujANCiAgICAgICAgICAgICAgICAgICAgICAgIENVc2VyQ2hhcmFjSW5mb19zZXRDdXJDaGFyYWNFeHAoc3ROb3RpZnlJbmdhbWVBREluZm8sbm93TGV2ZWxFeHApOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGlmKCBuZXh0TGV2ZWxFeHAtIG5vd0xldmVsRXhwIDw9MCl7DQogICAgICAgICAgICAgICAgICAgICAgICAvLyDmu6HnuqfkuoYg5LiL5Liq562J57qn5pyJ6Zeu6aKYDQogICAgICAgICAgICAgICAgICAgICAgICBjTXlUcmFjZV9jTXlUcmFjZSh2bG9nNCxNZW1vcnkuYWxsb2NVdGY4U3RyaW5nKCJib29sIENVc2VyOjpfY2hlY2tfbGV2ZWxfdXAoaW50LCBpbnQmLCBpbnQmLCBlRXhwQWRkUmVhc29uLCBpbnQpIiksMTY0NTQsNSk7DQogICAgICAgICAgICAgICAgICAgICAgICBjTXlUcmFjZV9vcGVyYXRvcih2bG9nNC50b0ludDMyKCksTWVtb3J5LmFsbG9jVXRmOFN0cmluZygiQ1VzZXI6Ol9jaGVja19sZXZlbF91cCwgTEVWRUw6JWQgVE9QOiVkIEJPVFRPTTolZCIpLE1lbW9yeS5hbGxvY1V0ZjhTdHJpbmcobmV4dExldmVsKycnKSk7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMDsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBjaGFyYWNFeHAgPSBDVXNlckNoYXJhY0luZm9fZ2V0X2NoYXJhY19leHAoc3ROb3RpZnlJbmdhbWVBREluZm8pOw0KICAgICAgICAgICAgICAgICAgICAvLyDnu4/pqozlgLzliKTmlq0NCiAgICAgICAgICAgICAgICAgICAgaWYoIE51bWJlcihhZGRFeHArY2hhcmFjRXhwKSA8IG5leHRMZXZlbEV4cCApew0KICAgICAgICAgICAgICAgICAgICAgICAgQ1VzZXJDaGFyYWNJbmZvX2FkZEN1ckNoYXJhY0V4cChzdE5vdGlmeUluZ2FtZUFESW5mbywgYWRkRXhwKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGZsYWcgIT0gMCl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGhhZGVzID0gQ1VzZXJfZ2V0SGFkZXMoc3ROb3RpZnlJbmdhbWVBREluZm8pOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIFhOdWNsZWFyX0NIYWRlc19FeHBVcChoYWRlcyxhZGRFeHApOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgYWRkRXhwID0gMDsNCiAgICAgICAgICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgICAgICAgICAgICAvLyDljYfnuqfkuoYNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2MTQgPSBhcmdzMi5yZWFkVTE2KCk7DQogICAgICAgICAgICAgICAgICAgICAgICAvLyDojrflj5bnrYnnuqfmj5DljYfnmoQgc3DngrkNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzcEF0TGV2ZWxVcCA9IENEYXRhTWFuYWdlcl9HZXRTcEF0TGV2ZWxVcChHX0NEYXRhTWFuYWdlcigpLG5leHRMZXZlbCk7DQogICAgICAgICAgICAgICAgICAgICAgICAvLyDorr7nva7lvZPliY3nrYnnuqfnmoRzcOeCuQ0KICAgICAgICAgICAgICAgICAgICAgICAgYXJnczIud3JpdGVVMTYodjE0K3NwQXRMZXZlbFVwKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIOWmguaenOetiee6p+WcqDQ557qn5Lul5LiKDQogICAgICAgICAgICAgICAgICAgICAgICBpZihuZXh0TGV2ZWw+NDkpew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3MzID0gYXJnczMuYWRkKDQpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRpZmZFeHAgID0gbmV4dExldmVsRXhwIC0gQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfZXhwKHN0Tm90aWZ5SW5nYW1lQURJbmZvKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICsrbmV4dExldmVsOw0KICAgICAgICAgICAgICAgICAgICAgICAgQ1VzZXJDaGFyYWNJbmZvX2luY0N1ckNoYXJhY0xldmVsKHN0Tm90aWZ5SW5nYW1lQURJbmZvKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGFkZEV4cCA9IGFkZEV4cCArIChDVXNlckNoYXJhY0luZm9fZ2V0X2NoYXJhY19leHAoc3ROb3RpZnlJbmdhbWVBREluZm8pLW5leHRMZXZlbEV4cCk7DQogICAgICAgICAgICAgICAgICAgICAgICBpZihDVXNlckNoYXJhY0luZm9fZ2V0X2NoYXJhY19sZXZlbChzdE5vdGlmeUluZ2FtZUFESW5mbykgPjkgJiYgQ1VzZXJfR2V0VHV0b3JpYWxTa2lwYWJsZShzdE5vdGlmeUluZ2FtZUFESW5mbykhPTApew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIENVc2VyX1VwZGF0ZVR1dG9yaWFsU2tpcGFibGUoc3ROb3RpZnlJbmdhbWVBREluZm8pOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgQ1VzZXJDaGFyYWNJbmZvX3NldEN1ckNoYXJhY0V4cChzdE5vdGlmeUluZ2FtZUFESW5mbyxuZXh0TGV2ZWxFeHApOw0KICAgICAgICAgICAgICAgICAgICAgICAgQ1VzZXJfdXBkYXRlX2NoYXJhY19zdGF0KHN0Tm90aWZ5SW5nYW1lQURJbmZvLDEpOw0KICAgICAgICAgICAgICAgICAgICAgICAgcmVzVmFsID0gMTsNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRvZG8g6K6w5b2V5pel5b+XICDmlofku7bmjIfpkogg5YWz5rOo5piv5ZCm5Y+v5Lul5q2j5bi4DQogICAgICAgICAgICAgICAgICAgICAgICBIaXN0b3J5TG9nX1dyaXRlTGV2ZWxVcChzdE5vdGlmeUluZ2FtZUFESW5mby5hZGQoNCoxMjQzNTApLHB0cihDVXNlckNoYXJhY0luZm9fZ2V0X2NoYXJhY19leHAoc3ROb3RpZnlJbmdhbWVBREluZm8pKSk7DQogICAgICAgICAgICAgICAgICAgICAgICB2YXIgZ29sZEJvbnVzID0gIFdvbmdXb3JrX0NVc2VyUHJlbWl1bV9HZXRHb2xkQm9udXMoc3ROb3RpZnlJbmdhbWVBREluZm8uYWRkKDQ2MzM4OCksQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfbGV2ZWwoc3ROb3RpZnlJbmdhbWVBREluZm8pKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGdvbGRCb251cyE9MCl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIEN1ckNoYXJhY0ludmVuVyA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNJbnZlblcoc3ROb3RpZnlJbmdhbWVBREluZm8pOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIENJbnZlbnRvcnlfZ2Fpbl9tb25leShDdXJDaGFyYWNJbnZlblcsZ29sZEJvbnVzLDEzLDEsMCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgQ1VzZXJfU2VuZFVwZGF0ZUl0ZW1MaXN0KHN0Tm90aWZ5SW5nYW1lQURJbmZvLDEsMCwwKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiQ0ludmVudG9yeV9nYWluX21vbmV5IGlzIHN1Y2Nlc3MhISEiKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIFdvbmdXb3JrX0NVc2VyUHJlbWl1bV9SZWNhbGNBZGRpdGlvbmFsSW5mbyhzdE5vdGlmeUluZ2FtZUFESW5mby5hZGQoNDYzMzg4KSxzdE5vdGlmeUluZ2FtZUFESW5mbyk7DQogICAgICAgICAgICAgICAgICAgICAgICBpZihmbGFnICE9IDApew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBoYWRlcyA9IENVc2VyX2dldEhhZGVzKHN0Tm90aWZ5SW5nYW1lQURJbmZvKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBYTnVjbGVhcl9DSGFkZXNfRXhwVXAoaGFkZXMsZGlmZkV4cCk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICBjVXNlckhpc3RvcnlMb2dfTGV2ZWxVcChzdE5vdGlmeUluZ2FtZUFESW5mby5hZGQoNDk3NDA4KSxDVXNlckNoYXJhY0luZm9fZ2V0X2NoYXJhY19sZXZlbChzdE5vdGlmeUluZ2FtZUFESW5mbyksQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfbGV2ZWwoc3ROb3RpZnlJbmdhbWVBREluZm8pKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKENVc2VyQ2hhcmFjSW5mb19nZXRfY2hhcmFjX2xldmVsKHN0Tm90aWZ5SW5nYW1lQURJbmZvKSA+IDU5KXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0b2RvIDYw57qnICDlvILnlYwgICAg6L+Y5pyJ5aSp55WMPw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIENVc2VyX0RpbWVuc2lvbklub3V0VXBkYXRlKHN0Tm90aWZ5SW5nYW1lQURJbmZvLDEsMSk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICBpZihDVXNlckNoYXJhY0luZm9fZ2V0X2NoYXJhY19sZXZlbChzdE5vdGlmeUluZ2FtZUFESW5mbykgPT0gbWF4TGV2ZWwpew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKFdvbmdXb3JrX0NHTUFjY291bnRzX2lzR00ocHRyKHB0cigweDA5NDFGNzEwKS5yZWFkVTMyKCkpLENVc2VyX2dldF9hY2NfaWQoc3ROb3RpZnlJbmdhbWVBREluZm8pKSE9MCl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBhY2tldF9Nb25pdG9yX01heF9MZXZlbF9Ccm9hZENhc3RfUGFja2V0X01vbml0b3JfTWF4X0xldmVsX0Jyb2FkQ2FzdCh2NDEpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2VydmVyUHJveHkgPSBDU2VydmVyUHJveHlNZ3JfQ01vbml0b3JTZXJ2ZXJQcm94eV9HZXRTZXJ2ZXJQcm94eShwdHIocHRyKDB4MDk0MEJFMjgpLnJlYWRVMzIoKSksQ1VzZXJfR2V0U2VydmVyR3JvdXAoc3ROb3RpZnlJbmdhbWVBREluZm8pKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ01vbml0b3JTZXJ2ZXJQcm94eV9TZW5kUGFja2V0KHNlcnZlclByb3h5LHY0MSw0MCk7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICBpZihDVXNlckNoYXJhY0luZm9fZ2V0X2NoYXJhY19sZXZlbChzdE5vdGlmeUluZ2FtZUFESW5mbykgPT0gR2FtZVdvcmxkX2dldER1bmdlb25NaW5pbXVtUmVxdWlyZWRMZXZlbChHX0dhbWVXb3JsZCgpLDI1NSkpew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKFNlcnZlclBhcmFtZXRlclNjcmlwdF9pc0R1bmdlb25PcGVuKCkhPTApew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBHYW1lV29ybGRfc2VuZF91c2VyX2R1bmdlb25faW5vdXRfbWVzc2FnZShHX0dhbWVXb3JsZCgpLHN0Tm90aWZ5SW5nYW1lQURJbmZvLDExMDA3LDEpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBHYW1lV29ybGRfc2VuZF91c2VyX2R1bmdlb25faW5vdXRfbWVzc2FnZShHX0dhbWVXb3JsZCgpLHN0Tm90aWZ5SW5nYW1lQURJbmZvLDExMDA3LDApOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIENVc2VyX21ha2VHdWlsZExldmVsVXBNZXNzYWdlKHN0Tm90aWZ5SW5nYW1lQURJbmZvLENVc2VyQ2hhcmFjSW5mb19nZXRfY2hhcmFjX2xldmVsKHN0Tm90aWZ5SW5nYW1lQURJbmZvKSk7DQogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygndXNlciBsZXZlbCBzdWNjZXNzJyk7DQogICAgICAgICAgICAgICAgICAgICAgICAvLyDliLDov5nph4zlt7Lnu4/ljYfnuqflrozmiJDkuoYgIOaJp+ihjOWNh+e6p+S6i+S7tg0KICAgICAgICAgICAgICAgICAgICAgICAgQ1VzZXJfb25MZXZlbFVwKHN0Tm90aWZ5SW5nYW1lQURJbmZvKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAvL0NVc2VyX1NlbmROb3RpUGFja2V0KHN0Tm90aWZ5SW5nYW1lQURJbmZvLDEsMzcsMCk7DQogICAgICAgICAgICAgICAgcmV0dXJuIHJlc1ZhbDsNCiAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgIGNNeVRyYWNlX2NNeVRyYWNlKHZsb2cyLE1lbW9yeS5hbGxvY1V0ZjhTdHJpbmcoImJvb2wgQ1VzZXI6Ol9jaGVja19sZXZlbF91cChpbnQsIGludCYsIGludCYsIGVFeHBBZGRSZWFzb24sIGludCkiKSwxNjQxOCw1KTsNCiAgICAgICAgICAgICAgICBjTXlUcmFjZV9vcGVyYXRvcih2bG9nMi50b0ludDMyKCksTWVtb3J5LmFsbG9jVXRmOFN0cmluZygiQ1VzZXI6Ol9jaGVja19sZXZlbF91cCBtX3NlbGVjdGVkLT5tX2xldmVsIGlzIDAiKSwnVTAwMDAnKTsNCiAgICAgICAgICAgICAgICByZXR1cm4gMDsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfWVsc2V7DQogICAgICAgICAgICBjTXlUcmFjZV9jTXlUcmFjZSh2bG9nLE1lbW9yeS5hbGxvY1V0ZjhTdHJpbmcoImJvb2wgQ1VzZXI6Ol9jaGVja19sZXZlbF91cChpbnQsIGludCYsIGludCYsIGVFeHBBZGRSZWFzb24sIGludCkiKSwxNjQxMSw1KTsNCiAgICAgICAgICAgIGNNeVRyYWNlX29wZXJhdG9yKHZsb2csTWVtb3J5LmFsbG9jVXRmOFN0cmluZygiQ1VzZXI6Ol9jaGVja19sZXZlbF91cCBtX3NlbGVjdGVkIGlzIE5VTEwiKSwnVTAwMDAnKTsNCiAgICAgICAgICAgIHJldHVybiAwOw0KICAgICAgICB9DQogICAgfSwgJ2ludCcsIFsncG9pbnRlcicsJ2ludCcsJ2ludCcsJ2ludCcsJ2ludCddKSk7DQp9DQoNCi8qKg0KICog6I635b6X57uP6aqM5ZKMc3DngrkNCiAqIGE2IOaAqueJqWlkICBhMyBzcOeCuQ0KICogQHBhcmFtIG1heExldmVsDQogKi8NCmZ1bmN0aW9uIGdhaW5FeHBTcChtYXhMZXZlbCl7DQogICAgSW50ZXJjZXB0b3IucmVwbGFjZShwdHIoMHgwODY2YTNmZSksIG5ldyBOYXRpdmVDYWxsYmFjayhmdW5jdGlvbiAodXNlckluZm8sYWRkRXhwLGEzLGE0LHNvdXJjZVR5cGUsYTYsYTcpIHsNCiAgICAgICAgLy8gY29uc29sZS5sb2coJ2dhaW5FeHBTcCBhcmdzOicrdXNlckluZm8rJywnK2FkZEV4cCsnLCcrYTMrJywnK2E0KycsJytzb3VyY2VUeXBlKycsJythNisnLCcrYTcpDQogICAgICAgIHZhciBvbm1lbnQgPSBHX0NFbnZpcm9ubWVudCgpLmFkZCg0MjQqNCkucmVhZFUxNigpOw0KICAgICAgICBpZihvbm1lbnQgPT0gMiAmJiBDVXNlckNoYXJhY0luZm9fZ2V0X2NoYXJhY19sZXZlbCh1c2VySW5mbykgPiA0OSl7DQogICAgICAgICAgICBhZGRFeHAgPSAwOw0KICAgICAgICB9DQogICAgICAgIGlmKCAoYWRkRXhwICYgMHg4MDAwMDAwMCkgIT0wICl7DQogICAgICAgICAgICBhZGRFeHAgPSAwOw0KICAgICAgICB9DQogICAgICAgIHZhciBhZGRWYWxUZW1wID0gdXNlckluZm8uYWRkKDE0NTQzNCo0KTsNCiAgICAgICAgaWYoc291cmNlVHlwZT09MSB8fCBzb3VyY2VUeXBlPT0yKXsNCiAgICAgICAgICAgIHZhciBhZGRWYWwgPSBhZGRWYWxUZW1wLnJlYWRVMTYoKTsNCiAgICAgICAgICAgIHVzZXJJbmZvLmFkZCgxNDU0MzQqNCkud3JpdGVVMTYoYWRkVmFsK2FkZEV4cCk7DQogICAgICAgIH0NCiAgICAgICAgdmFyIGFkZFZhbCA9IGFkZFZhbFRlbXAucmVhZFUxNigpOw0KICAgICAgICB1c2VySW5mby5hZGQoMTQ1NDMxKjQpLndyaXRlVTE2KGFkZFZhbCthZGRFeHApOw0KICAgICAgICBDVXNlcl9pbmNQbGF5RXhwQWRkKHVzZXJJbmZvLGFkZEV4cCk7DQogICAgICAgIHZhciB1cExldmVsVGFnID0gMDsNCiAgICAgICAgaWYoQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfbGV2ZWwodXNlckluZm8pIDw9IG1heExldmVsLTEpew0KICAgICAgICAgICAgdXBMZXZlbFRhZyA9IENVc2VyX2NoZWNrX2xldmVsX3VwKHVzZXJJbmZvLCBhZGRFeHAsIGEzLGE0LHNvdXJjZVR5cGUpOw0KICAgICAgICAgICAgdmFyIGN1ckNoYXJhY1NraWxsUiA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNTa2lsbFIodXNlckluZm8pOw0KICAgICAgICAgICAgdmFyIHJlYW1pblNwQXRJbmRleCA9IFNraWxsU2xvdF9nZXRfcmVtYWluX3NwX2F0X2luZGV4KGN1ckNoYXJhY1NraWxsUixNZW1vcnkuYWxsb2NVdGY4U3RyaW5nKCcwJykpOw0KICAgICAgICAgICAgdmFyIGEzVmFsID0gcHRyKGEzKS5yZWFkVUludCgpOw0KICAgICAgICAgICAgQ1VzZXJfZ2Fpbl9zcCh1c2VySW5mbyxhM1ZhbCk7DQogICAgICAgICAgICBDVXNlcl9oaXN0b3J5X2xvZ19zcCh1c2VySW5mbyxyZWFtaW5TcEF0SW5kZXgsYTMsMCk7DQogICAgICAgICAgICBjdXJDaGFyYWNTa2lsbFIgPSBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjU2tpbGxSKHVzZXJJbmZvKTsNCiAgICAgICAgICAgIHZhciByZWFtaW5TdHBBdEluZGV4ID0gU2tpbGxTbG90X2dldF9yZW1haW5fc2ZwX2F0X2luZGV4KGN1ckNoYXJhY1NraWxsUixNZW1vcnkuYWxsb2NVdGY4U3RyaW5nKCcyJykpOw0KICAgICAgICAgICAgdmFyIGE0VmFsID0gcHRyKGE0KS5yZWFkVUludCgpOw0KICAgICAgICAgICAgQ1VzZXJfZ2Fpbl9zZnAodXNlckluZm8sYTRWYWwpOw0KICAgICAgICAgICAgQ1VzZXJfaGlzdG9yeV9sb2dfc2ZwKHVzZXJJbmZvLHJlYW1pblN0cEF0SW5kZXgsYTQsMCk7DQogICAgICAgIH0NCiAgICAgICAgdmFyIHYzMyA9IE1lbW9yeS5hbGxvYygxMik7DQogICAgICAgIFBhY2tldEd1YXJkX1BhY2tldEd1YXJkKHYzMyk7DQogICAgICAgIC8vIOiuvue9ruinkuiJsuWPr+mXr+WIsOetiee6pw0KICAgICAgICBpZih1cExldmVsVGFnPT0xKXsNCiAgICAgICAgICAgIENVc2VyX0NhbGN1cmF0ZVVzZXJNYXhMZXZlbCh1c2VySW5mbyk7DQogICAgICAgICAgICBpZihDVXNlckNoYXJhY0luZm9fR2V0Q3VyQ2hhcmFjTWF4RXF1aXBMZXZlbCh1c2VySW5mbykgIT0wKXsNCiAgICAgICAgICAgICAgICB2YXIgdXNlckN1ckxldmVsID0gQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfbGV2ZWwodXNlckluZm8pOw0KICAgICAgICAgICAgICAgIGlmKHVzZXJDdXJMZXZlbCA9PSBDVXNlckNoYXJhY0luZm9fR2V0Q3VyQ2hhcmFjTWF4RXF1aXBMZXZlbCh1c2VySW5mbykpew0KICAgICAgICAgICAgICAgICAgICBDVXNlckNoYXJhY0luZm9fU2V0Q3VyQ2hhcmFjTWF4RXF1aXBMZXZlbCh1c2VySW5mbywwKTsNCiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0NVc2VyQ2hhcmFjSW5mb19TZXRDdXJDaGFyYWNNYXhFcXVpcExldmVsIGlzIDAnKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICB2YXIgY3VyQ2hhcmFjUXVlc3RXID0gQ1VzZXJfZ2V0Q3VyQ2hhcmFjUXVlc3RXKHVzZXJJbmZvKTsNCiAgICAgICAgICAgIFVzZXJRdWVzdF9SZXNldFVyZ2VudFF1ZXN0V2FpdGluZ0xpc3QoY3VyQ2hhcmFjUXVlc3RXKTsNCiAgICAgICAgICAgIHZhciBjdXJDaGFyYWNRdWVzdFIgPUNVc2VyX2dldEN1ckNoYXJhY1F1ZXN0Uih1c2VySW5mbyk7DQogICAgICAgICAgICBVc2VyUXVlc3RfZ2V0X3F1ZXN0X2luZm8oY3VyQ2hhcmFjUXVlc3RSLHYzMyk7DQogICAgICAgICAgICBDQ2hhcmFjdGVyVmlld19lbmFibGVTYXZlQ2hhcmFjVmlldyh1c2VySW5mby5hZGQoNDk3Mzk2KSk7DQogICAgICAgICAgICBDVXNlcl9TZW5kKHVzZXJJbmZvLHYzMyk7DQogICAgICAgICAgICBpZihDVXNlckNoYXJhY0luZm9fZ2V0X2NoYXJhY19sZXZlbCh1c2VySW5mbykgPT0gbWF4TGV2ZWwpew0KICAgICAgICAgICAgICAgIENVc2VyQ2hhcmFjSW5mb19yZXNldENoYXJhY0ZhdGlndWVHcm93blVwQnVmZih1c2VySW5mbyk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBDVXNlcl9VcGRhdGVVc2VySW5mbzRHdWlsZCh1c2VySW5mbyk7DQogICAgICAgICAgICB2YXIgY3VyQ2hhcmFHcm93VHlwZSA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNHcm93VHlwZSh1c2VySW5mbyk7DQogICAgICAgICAgICB2YXIgY3VyQ2hhcmFMZXZlbCA9IENVc2VyQ2hhcmFjSW5mb19nZXRfY2hhcmFjX2xldmVsKHVzZXJJbmZvKTsNCiAgICAgICAgICAgIHZhciBjaGFyYWNObyA9IENVc2VyX2dldF9jaGFyYWNfbm8odXNlckluZm8sLTEpOw0KICAgICAgICAgICAgdmFyIGFjY0lkID0gQ1VzZXJfZ2V0X2FjY19pZCh1c2VySW5mbyk7DQogICAgICAgICAgICB2YXIgc2VydmVyR3JvdXAgPSBDVXNlcl9HZXRTZXJ2ZXJHcm91cCh1c2VySW5mbyk7DQogICAgICAgICAgICB2YXIgc2VydmVyUHJveHkgPSBDU2VydmVyUHJveHlNZ3JfQ0d1aWxkU2VydmVyUHJveHlfR2V0U2VydmVyUHJveHkocHRyKHB0cigweDA5NDBCRTJDKS5yZWFkVTMyKCkpLHNlcnZlckdyb3VwKTsNCiAgICAgICAgICAgIENHdWlsZFNlcnZlclByb3h5X1NlbmRDaGFyTGV2ZWxHcm93VHlwZShzZXJ2ZXJQcm94eSxhY2NJZCxjaGFyYWNObyxjdXJDaGFyYUxldmVsLGN1ckNoYXJhR3Jvd1R5cGUpOw0KICAgICAgICAgICAgc2VydmVyUHJveHkgPSBDU2VydmVyUHJveHlNZ3JfQ01vbml0b3JTZXJ2ZXJQcm94eV9HZXRTZXJ2ZXJQcm94eShwdHIocHRyKDB4MDk0MEJFMjgpLnJlYWRVMzIoKSksc2VydmVyR3JvdXApOw0KICAgICAgICAgICAgQ01vbml0b3JTZXJ2ZXJQcm94eV9TZW5kQ2hhckxldmVsR3Jvd1R5cGUoc2VydmVyUHJveHksYWNjSWQsY2hhcmFjTm8sY3VyQ2hhcmFMZXZlbCxjdXJDaGFyYUdyb3dUeXBlKTsNCiAgICAgICAgICAgIHZhciB2ZXJpZnkgPSBDVXNlcl9WZXJpZnlQcmVzZW50QXZlbmdlclRpdGxlKHVzZXJJbmZvKTsNCiAgICAgICAgICAgIGlmKHZlcmlmeSAhPSAxKXsNCiAgICAgICAgICAgICAgICB2YXIgdjM0ID0gTWVtb3J5LmFsbG9jKDE2KTsNCiAgICAgICAgICAgICAgICB2YXIgYWNjSWQgPSBDVXNlcl9nZXRfYWNjX2lkKHVzZXJJbmZvKTsNCiAgICAgICAgICAgICAgICBjTXlUcmFjZV9jTXlUcmFjZSh2MzQsTWVtb3J5LmFsbG9jVXRmOFN0cmluZygiYm9vbCBDVXNlcjo6Z2Fpbl9leHBfc3AoaW50LCBpbnQmLCBpbnQmLCBlRXhwQWRkUmVhc29uLCBpbnQsIGJvb2wpIiksMjA1NTAsMCk7DQogICAgICAgICAgICAgICAgY015VHJhY2Vfb3BlcmF0b3IodjM0LnRvSW50MzIoKSxNZW1vcnkuYWxsb2NVdGY4U3RyaW5nKCJDVXNlcjo6VmVyaWZ5UHJlc2VudEF2ZW5nZXJUaXRsZSgpIG1faWQoJXMpLCBjaGFyYWNfbm8oJXUpIiksTWVtb3J5LmFsbG9jVXRmOFN0cmluZyhhY2NJZCsnJykpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgQ1VzZXJfQWRkQ3VyQ2hhcmFjTWVyY2VuYXJ5SW5mbyh1c2VySW5mbyk7DQogICAgICAgIH0NCiAgICAgICAgdmFyIHJlYWRUZW1wVmFsID0gdXNlckluZm8uYWRkKDE0NDM2OSo0KS5yZWFkVTE2KCk7DQogICAgICAgIGlmKHJlYWRUZW1wVmFsPT01IHx8IHJlYWRUZW1wVmFsPT04IHx8IHJlYWRUZW1wVmFsPT03IHx8IHJlYWRUZW1wVmFsPT0xMCB8fCByZWFkVGVtcFZhbD09MTIgKXsNCiAgICAgICAgICAgIGlmKGE3ICE9IDEpew0KICAgICAgICAgICAgICAgIENVc2VyX1NlbmROb3RpUGFja2V0KHVzZXJJbmZvLDEsMzcsMCk7DQogICAgICAgICAgICAgICAgQ1VzZXJDaGFyYWNJbmZvX3NldF9jaGFyYWNfZmF0aWd1ZV9idWZfYm9udXNfZXhwKHVzZXJJbmZvLDApOw0KICAgICAgICAgICAgfWVsc2UgaWYodXBMZXZlbFRhZyA9PTEpew0KICAgICAgICAgICAgICAgIENVc2VyX1NlbmROb3RpUGFja2V0KHVzZXJJbmZvLDEsMzcsMCk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZih1cExldmVsVGFnPT0xKXsNCiAgICAgICAgICAgICAgICBDVXNlcl9kZWNpZGVfZ3Jvd3RoX3Bvd2VyX3Jld2FyZF9zeXN0ZW0odXNlckluZm8pOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIGlmKHVwTGV2ZWxUYWcgPT0gMSl7DQogICAgICAgICAgICB2YXIgcGxheUNvdW50ID0gQ1VzZXJDaGFyYWNJbmZvX0dldEN1ckNoYXJhY0R1bmdlb25QbGF5Q291bnQodXNlckluZm8pOw0KICAgICAgICAgICAgdmFyIGN1ckNoYXJhTGV2ZWwgPSBDVXNlckNoYXJhY0luZm9fZ2V0X2NoYXJhY19sZXZlbCh1c2VySW5mbyk7DQogICAgICAgICAgICBDTGV2ZWxEdW5nZW9uUGxheVN0YXRpc3RpY19JbmNyZWFzZUxldmVsRHVuZ2VvblBsYXkocHRyKHB0cigweDA5NDFGNzY0KS5yZWFkVTMyKCkpLGN1ckNoYXJhTGV2ZWwscGxheUNvdW50KTsNCiAgICAgICAgICAgIENVc2VyQ2hhcmFjSW5mb19SZXNldEN1ckNoYXJhY0R1bmdlb25QbGF5Q291bnQodXNlckluZm8pOw0KICAgICAgICAgICAgLy8g5Ymv6IGM5LiaDQogICAgICAgICAgICB2YXIgZXhwZXJ0Sm9iRXhwID0gQ1VzZXJDaGFyYWNJbmZvX0dldEN1ckNoYXJhY0V4cGVydEpvYkV4cCh1c2VySW5mbyk7DQogICAgICAgICAgICBleHBlcnRfam9iX0NFeHBlcnRKb2JfSW5jcmVhc2VFeHBlcnRKb2JFeHAodXNlckluZm8scHRyKGV4cGVydEpvYkV4cCkpOw0KICAgICAgICAgICAgQ1VzZXJfUmVDYWxjQ2hhdHRpbmdFbW90aWNvbih1c2VySW5mbyk7DQogICAgICAgICAgICBDVXNlcl9TZW5kQ2hhdHRpbmdFbW90aWNvbih1c2VySW5mbyk7DQogICAgICAgIH0NCiAgICAgICAgaWYodXBMZXZlbFRhZyA9PSAxKXsNCiAgICAgICAgICAgIGlmKENVc2VyQ2hhcmFjSW5mb19nZXRfY2hhcmFjX2xldmVsKHVzZXJJbmZvKSA9PSBtYXhMZXZlbCl7DQogICAgICAgICAgICAgICAgQVBTeXN0ZW1fQ1VzZXJQcm9jX0NsZWFyQWN0aW9uQW5kU2VuZHRvVXNlcih1c2VySW5mbywzMywwLDApOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIENVc2VyX1NlbmROb3RpUGFja2V0KHVzZXJJbmZvLDEsMzcsMCk7DQogICAgICAgIC8vIOmHiuaUviB2MzM7DQogICAgICAgIHJldHVybiB1cExldmVsVGFnOw0KICAgIH0sICdpbnQnLCBbJ3BvaW50ZXInLCdpbnQnLCdpbnQnLCdpbnQnLCdpbnQnLCdpbnQnLCdpbnQnXSkpOw0KfQ0KDQovKioNCiAqIOinkuiJsuWNh+e6p+WkhOeQhg0KICog5Y6f5pyJ55qE5pa55byP5pqC5pe25rKh5pyJ5a6e546wIOOAguOAguOAgiDlj6rog73mm7Lnur/mlZHlm70NCiAqIEBwYXJhbSBtYXhMZXZlbA0KICovDQpmdW5jdGlvbiBvbkxldmVsVXAobWF4TGV2ZWwpew0KICAgIEludGVyY2VwdG9yLnJlcGxhY2UocHRyKDB4MDg2NjMxMWEpLCBuZXcgTmF0aXZlQ2FsbGJhY2soZnVuY3Rpb24gKHVzZXJJbmZvKSB7DQogICAgICAgIHZhciBjdXJMZXZlbCA9IENVc2VyQ2hhcmFjSW5mb19nZXRfY2hhcmFjX2xldmVsKHVzZXJJbmZvKTsNCiAgICAgICAgdmFyIGNyZWF0ZVRpbWUgPSBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjQ3JlYXRlVGltZSh1c2VySW5mbyk7DQogICAgICAgIHZhciBjdXJTZWMgPSBDU3lzdGVtVGltZV9nZXRDdXJTZWMocHRyKDB4MDk0MUY3MTQpKTsNCiAgICAgICAgY29uc29sZS5sb2coIm9uTGV2ZWxVcCBhcmdzOiIrY3VyTGV2ZWwrJywnK2NyZWF0ZVRpbWUrJywnK2N1clNlYyk7DQogICAgICAgIC8vIDIwMjQtMTItMTEgMTE6MDY6NDkNCiAgICAgICAgaWYoY3VyTGV2ZWw9PTE1ICYmIGNyZWF0ZVRpbWU+MTIwMzU0MTE5OSAmJiBjdXJTZWM8PSAxNzMzODg2NDA5KXsNCiAgICAgICAgICAgIHZhciBjaGFyY05hbWUgPSAnJzsNCiAgICAgICAgICAgIHZhciBjaGFyY05hbWVWYWwgPSBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjTmFtZSh1c2VySW5mbyk7DQogICAgICAgICAgICBpZighY2hhcmNOYW1lVmFsLmlzTnVsbCgpKQ0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgIGNoYXJjTmFtZSA9ICBjaGFyY05hbWVWYWwucmVhZFV0ZjhTdHJpbmcoLTEpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdmFyIGNoYXJjTm8gPSBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjTm8odXNlckluZm8pOw0KICAgICAgICAgICAgdmFyIGFjY0lkID0gQ1VzZXJfZ2V0X2FjY19pZCh1c2VySW5mbyk7DQogICAgICAgICAgICBEQl9JbnNlcnRVbmxpbWl0U3VwcG9ydExvZ19tYWtlUmVxdWVzdChNZW1vcnkuYWxsb2NVdGY4U3RyaW5nKGFjY0lkKycnKSxjaGFyY05vLE1lbW9yeS5hbGxvY1V0ZjhTdHJpbmcoY2hhcmNOYW1lKSkNCiAgICAgICAgfQ0KICAgICAgICB2YXIgY2hhcmNKb2IgPSBDVXNlckNoYXJhY0luZm9fZ2V0X2NoYXJhY19qb2IodXNlckluZm8pOw0KICAgICAgICB2YXIgY2hhcmNObyA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNObyh1c2VySW5mbyk7DQogICAgICAgIENVc2VyX3Byb2Nlc3NMZXZlbFJld2FyZCh1c2VySW5mbyxjdXJMZXZlbCxjaGFyY05vLGNoYXJjSm9iKTsNCiAgICAgICAgdmFyIGZpbmRTdHJpbmdMZW5ndGggPSAwOw0KICAgICAgICB2YXIgaXNBZmZlY3RlZFByZW1pdW0gPSBDVXNlcl9pc0FmZmVjdGVkUHJlbWl1bSh1c2VySW5mby50b0ludDMyKCksMTYpOw0KICAgICAgICBpZihpc0FmZmVjdGVkUHJlbWl1bSE9MCAmJiBDU3lzdGVtVGltZV9nZXRDdXJTZWMocHRyKDB4MDk0MUY3MTQpKSA8PSB1aW50NjQoMHg0NzhFNzA1MCkpew0KDQogICAgICAgIH0NCiAgICAgICAgQ1VzZXJfcHJvY2Vzc05QQ0dpZnRPbkxldmVsVXAodXNlckluZm8pOw0KICAgICAgICBDVXNlcl9wcm9jZXNzTGV2ZWxVcEV2ZW50UmV3YXJkKHVzZXJJbmZvLDApOw0KICAgICAgICBDVXNlcl9wcm9jZXNzTGV2ZWxVcEV2ZW50KHVzZXJJbmZvKTsNCiAgICAgICAgaWYoQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfbGV2ZWwodXNlckluZm8pID09IG1heExldmVsKXsNCg0KICAgICAgICB9DQogICAgICAgIGlmKENVc2VyQ2hhcmFjSW5mb19nZXRfY2hhcmFjX2xldmVsKHVzZXJJbmZvKSA8PSBtYXhMZXZlbCl7DQogICAgICAgICAgICBjb25zb2xlLmxvZygicXVlcnktLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLTc2MTYiKQ0KICAgICAgICAgICAgdmFyIGl0ZW1JZCA9IDc2MTY7DQogICAgICAgICAgICB2YXIgaXRlbU51bSA9IDEwOw0KICAgICAgICAgICAgdmFyIGl0ZW1fc3BhY2UgPSBNZW1vcnkuYWxsb2MoNCk7DQogICAgICAgICAgICB2YXIgaXRlbSA9IENEYXRhTWFuYWdlcl9maW5kX2l0ZW0oR19DRGF0YU1hbmFnZXIoKSw3NjE2KTsNCiAgICAgICAgICAgIGlmKCFpdGVtLmlzTnVsbCgpKXsNCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiZmluZCBpdGVtIDc2MTYiKTsNCiAgICAgICAgICAgICAgICB2YXIgaXRlbUFkZHIgPSBNZW1vcnkuYWxsb2MoMTE2KTsNCiAgICAgICAgICAgICAgICAvLyDpgIHpgoDor7flh70NCiAgICAgICAgICAgICAgICBJbnZlbl9JdGVtX0ludmVuX0l0ZW0oaXRlbUFkZHIpOw0KICAgICAgICAgICAgICAgIHZhciBpbnZlblJlZiA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNJbnZlblIodXNlckluZm8pOw0KICAgICAgICAgICAgICAgIC8vIC8vIGludmVuRGFUQSDmmK/moLzlrZDnmoTkvY3nva4NCiAgICAgICAgICAgICAgICB2YXIgaW52ZW5EYXRhID0gQ0ludmVudG9yeV9HZXRJbnZlbkRhdGEoaW52ZW5SZWYsNzYxNixpdGVtQWRkcik7DQogICAgICAgICAgICAgICAgY29uc29sZS5sb2coImludmVuRGF0YSA6IitpbnZlbkRhdGEpOw0KICAgICAgICAgICAgICAgIGlmKGludmVuRGF0YSA+PTApew0KICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiaW52ZW4gdXNlciBoYXZlIGl0ZW0gIDc2MTYiKTsNCiAgICAgICAgICAgICAgICAgICAgLy8g6IOM5YyF5pyJ5YC8IOmihOiuoeaYr+aVsOmHjw0KICAgICAgICAgICAgICAgICAgICB2YXIgcmVhZHZhbCA9IGl0ZW1BZGRyLmFkZCg3KS5yZWFkVTE2KCk7DQogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJyZWFkVmFsIDoiK3JlYWR2YWwpOw0KICAgICAgICAgICAgICAgICAgICBpZihyZWFkdmFsIDwgaXRlbU51bSl7DQogICAgICAgICAgICAgICAgICAgICAgICBpbnZlbkRhdGEgPSBDVXNlcl9BZGRJdGVtKHVzZXJJbmZvLCBpdGVtSWQsIGl0ZW1OdW0tcmVhZHZhbCwgNiwgaXRlbV9zcGFjZSwgMCk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICAgICAgaW52ZW5EYXRhID0gQ1VzZXJfQWRkSXRlbSh1c2VySW5mbywgaXRlbUlkLCBpdGVtTnVtLCA2LCBpdGVtX3NwYWNlLCAwKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgaWYoaW52ZW5EYXRhID49MCApew0KICAgICAgICAgICAgICAgICAgICAvL+mAmuefpeWuouaIt+err+aciea4uOaIj+mBk+WFt+abtOaWsA0KICAgICAgICAgICAgICAgICAgICBDVXNlcl9TZW5kVXBkYXRlSXRlbUxpc3QodXNlckluZm8sIDEsIGl0ZW1fc3BhY2UucmVhZEludCgpLCBpbnZlbkRhdGEpOw0KICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygic2VuZCBzdWNjZXNzIikNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgdmFyIGV2ZW50X3NjcmlwdF9tbmcgPSBDRGF0YU1hbmFnZXJfZ2V0X2V2ZW50X3NjcmlwdF9tbmcoR19DRGF0YU1hbmFnZXIoKSk7DQogICAgICAgIEV2ZW50Q2xhc3NpZnlfQ0V2ZW50U2NyaXB0TW5nX3Byb2Nlc3NfbGV2ZWxfdXBfcmV3YXJkKGV2ZW50X3NjcmlwdF9tbmcsdXNlckluZm8sMCk7DQogICAgfSwgJ3ZvaWQnLCBbJ3BvaW50ZXInXSkpOw0KfQ0KDQovKioNCiAqIOeJqeWTgeS9v+eUqOeKtuaAgSAgMTIwNQnog4zliLronJjom5sNCiAqLw0KZnVuY3Rpb24gaW5jcmVhc2VTdGF0dXMobWF4TGV2ZWwpew0KDQogICAgSW50ZXJjZXB0b3IucmVwbGFjZShwdHIoMHgwODY2NTdmYyksIG5ldyBOYXRpdmVDYWxsYmFjayhmdW5jdGlvbiAodXNlciwgc2xvZikgew0KICAgICAgICBjb25zb2xlLmxvZygiaW5jcmVhc2VTdGF0dXM6Iit1c2VyKycsJytzbG9mKTsNCiAgICAgICAgdmFyIGJ1ZmYgPSAgTWVtb3J5LmFsbG9jKDEyKTsNCiAgICAgICAgUGFja2V0R3VhcmRfUGFja2V0R3VhcmQoYnVmZik7DQogICAgICAgIGNvbnNvbGUubG9nKCdDVXNlcl9DaGVja0luVHJhZGUodXNlcik6JytDVXNlcl9DaGVja0luVHJhZGUodXNlcikpDQogICAgICAgIGlmKENVc2VyX0NoZWNrSW5UcmFkZSh1c2VyKSE9MCl7DQogICAgICAgICAgICBDVXNlcl9TZW5kQ21kRXJyb3JQYWNrZXQodXNlciwgMzIsIDE5LCBidWZmKTsNCiAgICAgICAgICAgIFBhY2tldEd1YXJkX2ZyZWVfUGFja2V0R3VhcmQoYnVmZik7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCiAgICAgICAgdmFyIHVzZXJJdGVtID0gIE1lbW9yeS5hbGxvYygxMjgpOw0KICAgICAgICB2YXIgY3VyQ2hhcmFjSW52ZW5SZWYgPSBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjSW52ZW5SKHVzZXIpOw0KICAgICAgICBDSW52ZW50b3J5X0dldEludmVuU2xvdCh1c2VySXRlbSxjdXJDaGFyYWNJbnZlblJlZi50b0ludDMyKCksMSxwYXJzZUludChzbG9mKSk7DQogICAgICAgIHZhciBpdGVtSWQgPSB1c2VySXRlbS5hZGQoMikucmVhZFUzMigpOw0KICAgICAgICAvLyDmoIflv5fnsbvlnosNCiAgICAgICAgdmFyIHYxODQgPSAtMTsNCiAgICAgICAgLy8g6KaB5Yqg55qE5YC8DQogICAgICAgIHZhciBndWlsZEV4cEJvb2sgPSAwOw0KDQogICAgICAgIGlmKGl0ZW1JZCA9PSAxMjA1KXsNCiAgICAgICAgICAgIHYxODQgPSAxNzsNCiAgICAgICAgICAgIGd1aWxkRXhwQm9vayA9IDU7DQogICAgICAgICAgICBnb3RvMTkxKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCiAgICAgICAgaWYoaXRlbUlkIDw9IDEyMDUpew0KICAgICAgICAgICAgaWYoaXRlbUlkID09IDEwMzYpew0KICAgICAgICAgICAgICAgIHYxODQgPSAxOw0KICAgICAgICAgICAgICAgIGd1aWxkRXhwQm9vayA9IDEwMDAwOw0KICAgICAgICAgICAgICAgIGdvdG8xOTEodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKTsNCiAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZihpdGVtSWQgPD0gMTAzNil7DQogICAgICAgICAgICAgICAgaWYoaXRlbUlkIT0gMjAxKXsNCiAgICAgICAgICAgICAgICAgICAgaWYoaXRlbUlkID4gMjAxKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGl0ZW1JZCA9PSA5NjMpew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdvdG8xMjUodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICBpZihpdGVtSWQgPiA5NjMpew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGl0ZW1JZCA9PSAxMDM0KXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdjE4NCA9IDE7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGd1aWxkRXhwQm9vayA9IDEwMDsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ290bzE5MSh1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGl0ZW1JZD4xMDM0KXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdjE4NCA9IDE7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGd1aWxkRXhwQm9vayA9IDEwMDA7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdvdG8xOTEodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihpdGVtSWQgPT0gMTAzMSl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYxODQgPSAwOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBndWlsZEV4cEJvb2sgPSA1Ow0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnb3RvMTkxKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZ290bzE3OCh1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGl0ZW1JZD09OTE2IHx8IGl0ZW1JZD09OTYwKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnb3RvMTI1KHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgZ290bzE3OCh1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpOw0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGlmKGl0ZW1JZCE9NDIpew0KICAgICAgICAgICAgICAgICAgICAgICAgaWYoaXRlbUlkPD00Mil7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoaXRlbUlkIT0zICYmIGl0ZW1JZCE9Mjgpew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnb3RvMTc4KHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZ290bzEyNSh1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGl0ZW1JZD09MTA5IHx8IGl0ZW1JZD49MTA5ICYmIGl0ZW1JZC0xNjE8PTEpew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdvdG8xMjUodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICBnb3RvMTc4KHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgdjE4NCA9IDIxOw0KICAgICAgICAgICAgICAgICAgICBndWlsZEV4cEJvb2sgPSAxOw0KICAgICAgICAgICAgICAgICAgICBnb3RvMTkxKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgdmFyIHJlcGVhdEV2ZW50ID0gQ0V2ZW50TWFuYWdlcl9HZXRSZXBlYXRFdmVudChwdHIocHRyKDB4MDk0MUY3MzApLnJlYWRVMzIoKSksMTUpOw0KICAgICAgICAgICAgICAgIHZhciB0ZW1wTWV0aG9kID0gIG5ldyBOYXRpdmVGdW5jdGlvbihyZXBlYXRFdmVudC5hZGQoNTIqNCksICdpbnQnLCBbJ3BvaW50ZXInLCdpbnQnXSwgeyJhYmkiOiJzeXN2In0pOw0KICAgICAgICAgICAgICAgIGlmKHJlcGVhdEV2ZW50IT0wICYmIHRlbXBNZXRob2QocmVwZWF0RXZlbnQsMCkhPTApew0KICAgICAgICAgICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfY2xlYXIoYnVmZik7DQogICAgICAgICAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfaGVhZGVyKGJ1ZmYsMSwzMik7DQogICAgICAgICAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfYnl0ZShidWZmLDApOw0KICAgICAgICAgICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2J5dGUoYnVmZiwxOSk7DQogICAgICAgICAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9maW5hbGl6ZShidWZmLDEpOw0KICAgICAgICAgICAgICAgICAgICBDVXNlcl9TZW5kKHVzZXIsYnVmZik7DQogICAgICAgICAgICAgICAgICAgIFBhY2tldEd1YXJkX2ZyZWVfUGFja2V0R3VhcmQoYnVmZik7DQogICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgaWYoQ1VzZXJfZ2V0Q3VyQ2hhcmFjVG90YWxGYXRpZ3VlKHVzZXIpIT0wKXsNCiAgICAgICAgICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX2NsZWFyKGJ1ZmYpOw0KICAgICAgICAgICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2hlYWRlcihidWZmLDEsMzIpOw0KICAgICAgICAgICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2J5dGUoYnVmZiwwKTsNCiAgICAgICAgICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9ieXRlKGJ1ZmYsNjcpOw0KICAgICAgICAgICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfZmluYWxpemUoYnVmZiwxKTsNCiAgICAgICAgICAgICAgICAgICAgQ1VzZXJfU2VuZCh1c2VyLGJ1ZmYpOw0KICAgICAgICAgICAgICAgICAgICBQYWNrZXRHdWFyZF9mcmVlX1BhY2tldEd1YXJkKGJ1ZmYpOw0KICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHYxODQgPSAxNDsNCiAgICAgICAgICAgICAgICBndWlsZEV4cEJvb2sgPSAwOw0KICAgICAgICAgICAgICAgIGdvdG8xOTEodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKTsNCiAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZihpdGVtSWQgPT0gMTA0Myl7DQogICAgICAgICAgICAgICAgdjE4NCA9IDI7DQogICAgICAgICAgICAgICAgZ3VpbGRFeHBCb29rID0gMjUwOw0KICAgICAgICAgICAgICAgIGdvdG8xOTEodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKTsNCiAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZihpdGVtSWQgPD0gMTA0Myl7DQogICAgICAgICAgICAgICAgaWYoaXRlbUlkID09IDEwMzkpew0KICAgICAgICAgICAgICAgICAgICB2MTg0ID0gNDsNCiAgICAgICAgICAgICAgICAgICAgZ3VpbGRFeHBCb29rID0gNTA7DQogICAgICAgICAgICAgICAgfWVsc2UgaWYoaXRlbUlkID4gMTAzOSl7DQogICAgICAgICAgICAgICAgICAgIGlmKGl0ZW1JZCA9PSAxMDQxKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIHYxODQgPSA1Ow0KICAgICAgICAgICAgICAgICAgICAgICAgZ3VpbGRFeHBCb29rID0gNTA7DQogICAgICAgICAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgICAgICAgICAgaWYoaXRlbUlkID4gMTA0MSl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjE4NCA9IDc7DQogICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MTg0ID0gNjsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIGd1aWxkRXhwQm9vayA9IDUwOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfWVsc2UgaWYoaXRlbUlkID09IDEwMzcpew0KICAgICAgICAgICAgICAgICAgICB2MTg0ID0gMTsNCiAgICAgICAgICAgICAgICAgICAgZ3VpbGRFeHBCb29rID0gMTAwMDAwOw0KICAgICAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgICAgICB2MTg0ID0gMDsNCiAgICAgICAgICAgICAgICAgICAgZ3VpbGRFeHBCb29rID0yMDsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgZ290bzE5MSh1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpOw0KICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmKGl0ZW1JZCA9PSAxMDQ2KXsNCiAgICAgICAgICAgICAgICAvLyDmipfmgKfkuYvnn7MNCiAgICAgICAgICAgICAgICB2MTg0ID0gOTsNCiAgICAgICAgICAgICAgICBndWlsZEV4cEJvb2sgPSAxMDsNCiAgICAgICAgICAgICAgICBnb3RvMTkxKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYoaXRlbUlkIDw9IDEwNDYpew0KICAgICAgICAgICAgICAgIC8vIHRvZG8g6a2U5Yqb5LmL55+zDQogICAgICAgICAgICAgICAgaWYoaXRlbUlkID09IDEwNDQpew0KICAgICAgICAgICAgICAgICAgICB2MTg0ID0gMzsNCiAgICAgICAgICAgICAgICAgICAgZ3VpbGRFeHBCb29rID0gMjUwOw0KICAgICAgICAgICAgICAgIH1lbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgdjE4NCA9IDg7DQogICAgICAgICAgICAgICAgICAgIGd1aWxkRXhwQm9vayA9IDEwOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBnb3RvMTkxKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYoaXRlbUlkIDwgMTIwMCl7DQogICAgICAgICAgICAgICAgZ290bzE3OCh1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpOw0KICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmKGl0ZW1JZCA+IDEyMDIpew0KICAgICAgICAgICAgICAgIGlmKGl0ZW1JZCA9PSAxMjA0KXsNCiAgICAgICAgICAgICAgICAgICAgdjE4NCA9IDE3Ow0KICAgICAgICAgICAgICAgICAgICBndWlsZEV4cEJvb2sgPSAxOw0KICAgICAgICAgICAgICAgICAgICBnb3RvMTkxKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgZ290bzE3OCh1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpOw0KICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGdvdG8xNzEodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfQ0KICAgICAgICBpZihpdGVtSWQgPD0gODI2OCl7DQogICAgICAgICAgICBpZihpdGVtSWQgPCA4MjY3KXsNCiAgICAgICAgICAgICAgICBpZihpdGVtSWQgPT0gNzEwMSl7DQogICAgICAgICAgICAgICAgICAgIGlmKENVc2VyX2dldF9zdGF0ZSh1c2VyKSE9Myl7DQogICAgICAgICAgICAgICAgICAgICAgICBDVXNlcl9TZW5kQ21kRXJyb3JQYWNrZXQodXNlciwzMiwxOSxidWZmKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIFBhY2tldEd1YXJkX2ZyZWVfUGFja2V0R3VhcmQoYnVmZik7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgdjE4NCA9IDEzOw0KICAgICAgICAgICAgICAgICAgICBndWlsZEV4cEJvb2sgPSA4Ow0KICAgICAgICAgICAgICAgICAgICBnb3RvMTkxKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgaWYoaXRlbUlkIDw9IDcxMDEpew0KICAgICAgICAgICAgICAgICAgICBpZihpdGVtSWQ9PTEyMzIpew0KICAgICAgICAgICAgICAgICAgICAgICAgdjE4NCA9IDE7DQogICAgICAgICAgICAgICAgICAgICAgICBndWlsZEV4cEJvb2sgPSAxMDAwMDAwMDsNCiAgICAgICAgICAgICAgICAgICAgICAgIGdvdG8xOTEodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBpZihpdGVtSWQgPD0gMTIzMil7DQogICAgICAgICAgICAgICAgICAgICAgICBpZihpdGVtSWQhPTEyMDYpew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGl0ZW1JZD09MTIzMSl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYxODQgPSAxOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBndWlsZEV4cEJvb2sgPSAxMDAwMDAwOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnb3RvMTkxKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZ290bzE3OCh1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIGdvdG8xMjUodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBpZihpdGVtSWQgPT0gMTI1Myl7DQogICAgICAgICAgICAgICAgICAgICAgICBnb3RvMTI1KHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgaWYoaXRlbUlkICE9MzIwNCl7DQogICAgICAgICAgICAgICAgICAgICAgICBpZihpdGVtSWQ9PTEyNDcpew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYxODQgPSAxOTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBndWlsZEV4cEJvb2sgPSAxMDsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnb3RvMTkxKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgZ290bzE3OCh1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpOw0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGlmKENVc2VyQ2hhcmFjSW5mb19nZXRfY2hhcmFjX2d1aWxka2V5KHVzZXIpIT0wKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIHYxODQgPSAxMTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGd1aWxkRXhwQm9vayA9IDEwOw0KICAgICAgICAgICAgICAgICAgICAgICAgZ290bzE5MSh1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpOw0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIENVc2VyX1NlbmRDbWRFcnJvclBhY2tldCh1c2VyLDMyLDY0LGJ1ZmYpOw0KICAgICAgICAgICAgICAgICAgICBQYWNrZXRHdWFyZF9mcmVlX1BhY2tldEd1YXJkKGJ1ZmYpOw0KICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGlmKGl0ZW1JZD09NzE4MSl7DQogICAgICAgICAgICAgICAgICAgIHYxODQgPSAxMzsNCiAgICAgICAgICAgICAgICAgICAgZ3VpbGRFeHBCb29rID0gNTsNCiAgICAgICAgICAgICAgICAgICAgZ290bzE5MSh1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpOw0KICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGlmKGl0ZW1JZCA8PSA3MTgxKXsNCiAgICAgICAgICAgICAgICAgICAgaWYoaXRlbUlkICE9IDcxMDUpew0KICAgICAgICAgICAgICAgICAgICAgICAgaWYoaXRlbUlkID09IDcxODApew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYxODQgPSAxMzsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBndWlsZEV4cEJvb2sgPSAxOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdvdG8xOTEodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICBnb3RvMTc4KHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgaWYoQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfZ3VpbGRrZXkodXNlcikpew0KICAgICAgICAgICAgICAgICAgICAgICAgdjE4NCA9IDExOw0KICAgICAgICAgICAgICAgICAgICAgICAgZ3VpbGRFeHBCb29rID0gNTA7DQogICAgICAgICAgICAgICAgICAgICAgICBnb3RvMTkxKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgQ1VzZXJfU2VuZENtZEVycm9yUGFja2V0KHVzZXIsMzIsNjQsYnVmZik7DQogICAgICAgICAgICAgICAgICAgIFBhY2tldEd1YXJkX2ZyZWVfUGFja2V0R3VhcmQoYnVmZik7DQogICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgaWYoaXRlbUlkID09IDc5NTgpew0KICAgICAgICAgICAgICAgICAgICB2MTg0ID0gMjA7DQogICAgICAgICAgICAgICAgICAgIGd1aWxkRXhwQm9vayA9IDA7DQogICAgICAgICAgICAgICAgICAgIGdvdG8xOTEodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKTsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBpZihpdGVtSWQhPTgwNDkpew0KICAgICAgICAgICAgICAgICAgICBpZihpdGVtSWQgIT0gNzI5OCl7DQogICAgICAgICAgICAgICAgICAgICAgICBnb3RvMTc4KHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgaWYoQ1VzZXJfZ2V0X3N0YXRlKHVzZXIpIT0zKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIENVc2VyX1NlbmRDbWRFcnJvclBhY2tldCh1c2VyLDMyLDE5LGJ1ZmYpOw0KICAgICAgICAgICAgICAgICAgICAgICAgUGFja2V0R3VhcmRfZnJlZV9QYWNrZXRHdWFyZChidWZmKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB2MTg0ID0gMTM7DQogICAgICAgICAgICAgICAgICAgIGd1aWxkRXhwQm9vayA9IDI7DQogICAgICAgICAgICAgICAgICAgIGdvdG8xOTEodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKTsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGdvdG85Nih1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQogICAgICAgIGlmKGl0ZW1JZD09MjY3MDAwOCl7DQogICAgICAgICAgICB2YXIgcmVwZWF0RXZlbnQgPSBDRXZlbnRNYW5hZ2VyX0dldFJlcGVhdEV2ZW50KHB0cihwdHIoMHgwOTQxRjczMCkucmVhZFUzMigpKSwxNSk7DQogICAgICAgICAgICB2YXIgdGVtcE1ldGhvZCA9ICBuZXcgTmF0aXZlRnVuY3Rpb24ocmVwZWF0RXZlbnQuYWRkKDUyKjQpLCAnaW50JywgWydwb2ludGVyJywnaW50J10sIHsiYWJpIjoic3lzdiJ9KTsNCiAgICAgICAgICAgIGlmKHJlcGVhdEV2ZW50IT0wICYmIHRlbXBNZXRob2QocmVwZWF0RXZlbnQsMCkhPTApew0KICAgICAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9jbGVhcihidWZmKTsNCiAgICAgICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2hlYWRlcihidWZmLDEsMzIpOw0KICAgICAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfYnl0ZShidWZmLDApOw0KICAgICAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfYnl0ZShidWZmLDE5KTsNCiAgICAgICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfZmluYWxpemUoYnVmZiwxKTsNCiAgICAgICAgICAgICAgICBDVXNlcl9TZW5kKHVzZXIsYnVmZik7DQogICAgICAgICAgICAgICAgUGFja2V0R3VhcmRfZnJlZV9QYWNrZXRHdWFyZChidWZmKTsNCiAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZihDVXNlcl9nZXRDdXJDaGFyYWNUb3RhbEZhdGlndWUodXNlcikhPTApew0KICAgICAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9jbGVhcihidWZmKTsNCiAgICAgICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2hlYWRlcihidWZmLDEsMzIpOw0KICAgICAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfYnl0ZShidWZmLDApOw0KICAgICAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfYnl0ZShidWZmLDY3KTsNCiAgICAgICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfZmluYWxpemUoYnVmZiwxKTsNCiAgICAgICAgICAgICAgICBDVXNlcl9TZW5kKHVzZXIsYnVmZik7DQogICAgICAgICAgICAgICAgUGFja2V0R3VhcmRfZnJlZV9QYWNrZXRHdWFyZChidWZmKTsNCiAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICB9DQogICAgICAgICAgICB2MTg0ID0gMTQ7DQogICAgICAgICAgICBndWlsZEV4cEJvb2sgPSAwOw0KICAgICAgICAgICAgZ290bzE5MSh1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQogICAgICAgIGlmKGl0ZW1JZD4yNjcwMDA4KXsNCiAgICAgICAgICAgIGlmKGl0ZW1JZCE9MTAwMDA5MTUpew0KICAgICAgICAgICAgICAgIGlmKGl0ZW1JZDw9MTAwMDA5MTUpew0KICAgICAgICAgICAgICAgICAgICBpZihpdGVtSWQ9PTI2NzUwMjEpew0KICAgICAgICAgICAgICAgICAgICAgICAgdjE4NCA9IDIxOw0KICAgICAgICAgICAgICAgICAgICAgICAgZ3VpbGRFeHBCb29rID0gMTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGdvdG8xOTEodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBpZihpdGVtSWQhPTI2NzUzODgpew0KICAgICAgICAgICAgICAgICAgICAgICAgZ290bzE3OCh1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpOw0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGdvdG85Nih1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpOw0KICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGlmICggaXRlbUlkID09IDY5MDAwMDIyMCApew0KICAgICAgICAgICAgICAgICAgICBnb3RvMTcxKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgaWYgKCBpdGVtSWQgPT0gNjkwMDAwMzAxICkNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIHYxODQgPSAyNTsNCiAgICAgICAgICAgICAgICAgICAgZ3VpbGRFeHBCb29rID0gMTsNCiAgICAgICAgICAgICAgICAgICAgZ290bzE5MSh1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpOw0KICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGlmICggaXRlbUlkICE9IDY5MDAwMDA5NyApew0KICAgICAgICAgICAgICAgICAgICBnb3RvMTc4KHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICB2YXIgdGVtcFYxODRUYWcgPSBNZW1vcnkuYWxsb2MoMSk7DQogICAgICAgICAgICB0ZW1wVjE4NFRhZy53cml0ZVU4KHYxODQpOw0KICAgICAgICAgICAgdmFyIHRlbXBHdWlsZEV4cEJvb2tUYWcgPSBNZW1vcnkuYWxsb2MoNCk7DQogICAgICAgICAgICB0ZW1wR3VpbGRFeHBCb29rVGFnLndyaXRlVTMyKGd1aWxkRXhwQm9vayk7DQogICAgICAgICAgICBpZihDVXNlcl9DYWxMZXZlbFVwSXRlbVN0YXRlKHVzZXIsdGVtcFYxODRUYWcsdGVtcEd1aWxkRXhwQm9va1RhZywxLDY5KSE9MSl7DQogICAgICAgICAgICAgICAgdjE4NCA9IHRlbXBWMTg0VGFnLnJlYWRVOCgpOw0KICAgICAgICAgICAgICAgIGd1aWxkRXhwQm9vayA9IHRlbXBHdWlsZEV4cEJvb2tUYWcucmVhZFUzMigpOw0KICAgICAgICAgICAgICAgIENVc2VyX1NlbmRDbWRFcnJvclBhY2tldCh1c2VyLDMyLDE5LGJ1ZmYpOw0KICAgICAgICAgICAgICAgIFBhY2tldEd1YXJkX2ZyZWVfUGFja2V0R3VhcmQoYnVmZik7DQogICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdjE4NCA9IHRlbXBWMTg0VGFnLnJlYWRVOCgpOw0KICAgICAgICAgICAgZ3VpbGRFeHBCb29rID0gdGVtcEd1aWxkRXhwQm9va1RhZy5yZWFkVTMyKCk7DQogICAgICAgICAgICBnb3RvMTkxKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCiAgICAgICAgaWYoaXRlbUlkICE9IDI2NjAxNzEpew0KICAgICAgICAgICAgaWYoaXRlbUlkPD0yNjYwMTcxKXsNCiAgICAgICAgICAgICAgICBpZihpdGVtSWQtODI3MD4xKXsNCiAgICAgICAgICAgICAgICAgICAgZ290bzE3OCh1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpOw0KICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGdvdG85Nih1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpOw0KICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmKGl0ZW1JZCE9MjY2MDIzMil7DQogICAgICAgICAgICAgICAgaWYoaXRlbUlkIT0yNjYwMzk2KXsNCiAgICAgICAgICAgICAgICAgICAgaWYoaXRlbUlkIT0yNjYwMTcyKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIGdvdG8xNzgodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBpZihHYW1lV29ybGRfSXNQdlBTa2lsVHJlZUNoYW5uZWwoR19HYW1lV29ybGQpIT0xKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIENVc2VyX1NlbmRDbWRFcnJvclBhY2tldCh1c2VyLDMyLDIzLGJ1ZmYpOw0KICAgICAgICAgICAgICAgICAgICAgICAgUGFja2V0R3VhcmRfZnJlZV9QYWNrZXRHdWFyZChidWZmKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB2YXIgY2hlY2sgPSBDU2VjdV9Qcm90ZWN0aW9uRmllbGRfQ2hlY2socHRyKHB0cigweDA5NDFGN0NDKS5yZWFkVTMyKCkpLHVzZXIsNDQpOw0KICAgICAgICAgICAgICAgICAgICBpZihjaGVjayE9MCl7DQogICAgICAgICAgICAgICAgICAgICAgICBDVXNlcl9TZW5kQ21kRXJyb3JQYWNrZXQodXNlciwzMixjaGVjayxidWZmKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIFBhY2tldEd1YXJkX2ZyZWVfUGFja2V0R3VhcmQoYnVmZik7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgaWYoQ1VzZXJfaXNBZmZlY3RlZFByZW1pdW0odXNlci50b0ludDMyKCksMzMpPT0xKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIGd1aWxkRXhwQm9vayA9IDA7DQogICAgICAgICAgICAgICAgICAgICAgICB2MTg0ID0gMjM7DQogICAgICAgICAgICAgICAgICAgICAgICBnb3RvMTkxKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgQ1VzZXJfU2VuZENtZEVycm9yUGFja2V0KHVzZXIsMzIsMjE2LGJ1ZmYpOw0KICAgICAgICAgICAgICAgICAgICBQYWNrZXRHdWFyZF9mcmVlX1BhY2tldEd1YXJkKGJ1ZmYpOw0KICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGdvdG8xMjUodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKTsNCiAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgaWYoR2FtZVdvcmxkX0lzUHZQU2tpbFRyZWVDaGFubmVsKEdfR2FtZVdvcmxkKCkpIT0xKXsNCiAgICAgICAgICAgIENVc2VyX1NlbmRDbWRFcnJvclBhY2tldCh1c2VyLDMyLDIzLGJ1ZmYpOw0KICAgICAgICAgICAgUGFja2V0R3VhcmRfZnJlZV9QYWNrZXRHdWFyZChidWZmKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfQ0KICAgICAgICB2YXIgY2hlY2sgPSBDU2VjdV9Qcm90ZWN0aW9uRmllbGRfQ2hlY2socHRyKHB0cigweDA5NDFGN0NDKS5yZWFkVTMyKCkpLHVzZXIsNDQpOw0KICAgICAgICBpZihjaGVjayE9MCl7DQogICAgICAgICAgICBDVXNlcl9TZW5kQ21kRXJyb3JQYWNrZXQodXNlciwzMixjaGVjayxidWZmKTsNCiAgICAgICAgICAgIFBhY2tldEd1YXJkX2ZyZWVfUGFja2V0R3VhcmQoYnVmZik7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCiAgICAgICAgaWYoV29uZ1dvcmtfQ1NraWxsQ2hhbmdlcl9DaGVja0NvbmRpdGlvbih1c2VyKSE9MSl7DQogICAgICAgICAgICBDVXNlcl9TZW5kQ21kRXJyb3JQYWNrZXQodXNlciwzMiwxLGJ1ZmYpOw0KICAgICAgICAgICAgUGFja2V0R3VhcmRfZnJlZV9QYWNrZXRHdWFyZChidWZmKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfQ0KICAgICAgICBndWlsZEV4cEJvb2sgPSAwOw0KICAgICAgICB2MTg0ID0gMjI7DQogICAgICAgIGlmKGl0ZW1JZCA9PSAyNjYwMjMyKXsNCiAgICAgICAgICAgIGd1aWxkRXhwQm9vayA9IDE7DQogICAgICAgIH0NCiAgICAgICAgLy8g5qC55o2u57G75Z6L5aSE55CG5pWw5o2uIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiAgICAgICAgZ290bzE5MSh1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpOw0KICAgICAgICByZXR1cm47DQogICAgfSwgJ3ZvaWQnLCBbJ3BvaW50ZXInLCAnaW50J10pKTsNCn0NCg0KZnVuY3Rpb24gZ290bzE3MSh1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpew0KICAgIGlmKGl0ZW1JZCA9PSA2OTAwMDAyMjAgJiYgQ1VzZXJfSXNHdWlsZE1hc3Rlcih1c2VyKSE9MSl7DQogICAgICAgIENVc2VyX1NlbmRDbWRFcnJvclBhY2tldCh1c2VyLDMyLDIxOSxidWZmKTsNCiAgICAgICAgUGFja2V0R3VhcmRfZnJlZV9QYWNrZXRHdWFyZChidWZmKTsNCiAgICAgICAgcmV0dXJuOw0KICAgIH0NCiAgICB2YXIgZ3VpbGRWYWwgPSB1c2VyLmFkZCg1Nzc1OTUpLnJlYWRVMzIoKSArMTsNCiAgICB2YXIgZ3VpbGRMZXZlbFVwUGFyYW0gPSBHdWlsZFBhcmFtZXRlclNjcmlwdF9nZXRHdWlsZExldmVsVXBQYXJhbShHX0NEYXRhTWFuYWdlcigpLmFkZCg0MjI1MiksZ3VpbGRWYWwpOw0KICAgIHZhciBndWlsZERCSW5mbyA9IENVc2VyX0dldEd1aWxkREJJbmZvKHVzZXIpOw0KICAgIGlmKGd1aWxkTGV2ZWxVcFBhcmFtIT0wIHx8IGd1aWxkREJJbmZvLmFkZCg0MSkucmVhZFUzMigpID49Z3VpbGRMZXZlbFVwUGFyYW0uYWRkKDQpLnJlYWRVMzIoKSl7DQogICAgICAgIENVc2VyX1NlbmRDbWRFcnJvclBhY2tldCh1c2VyLDMyLDIxMCxidWZmKTsNCiAgICAgICAgUGFja2V0R3VhcmRfZnJlZV9QYWNrZXRHdWFyZChidWZmKTsNCiAgICAgICAgcmV0dXJuOw0KICAgIH0NCiAgICB2MTg0ID0gMTY7DQogICAgZ3VpbGRFeHBCb29rID0gR3VpbGRQYXJhbWV0ZXJTY3JpcHRfZ2V0R3VpbGRFeHBCb29rKEdfQ0RhdGFNYW5hZ2VyKCkuYWRkKDQyMjUyKSxpdGVtSWQpOw0KICAgIGdvdG8xOTEodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKTsNCn0NCg0KZnVuY3Rpb24gZ290bzk2KHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCl7DQogICAgdmFyIHRlbXBWMTg0VGFnID0gTWVtb3J5LmFsbG9jKDEpOw0KICAgIHRlbXBWMTg0VGFnLndyaXRlVTgodjE4NCk7DQogICAgdmFyIHRlbXBHdWlsZEV4cEJvb2tUYWcgPSBNZW1vcnkuYWxsb2MoNCk7DQogICAgdGVtcEd1aWxkRXhwQm9va1RhZy53cml0ZVUzMihndWlsZEV4cEJvb2spOw0KICAgIGlmKENVc2VyX0NhbExldmVsVXBJdGVtQ2hlY2sodXNlcixpdGVtX2lkKSE9MCAmJiBDVXNlcl9DYWxMZXZlbFVwSXRlbVN0YXRlKHVzZXIsdGVtcFYxODRUYWcsdGVtcEd1aWxkRXhwQm9va1RhZywxOSw1OSkhPTEpew0KICAgICAgICB2MTg0ID0gdGVtcFYxODRUYWcucmVhZFU4KCk7DQogICAgICAgIGd1aWxkRXhwQm9vayA9IHRlbXBHdWlsZEV4cEJvb2tUYWcucmVhZFUzMigpOw0KICAgICAgICBDVXNlcl9TZW5kQ21kRXJyb3JQYWNrZXQodXNlciwzMiwxOSxidWZmKTsNCiAgICAgICAgUGFja2V0R3VhcmRfZnJlZV9QYWNrZXRHdWFyZChidWZmKTsNCiAgICAgICAgcmV0dXJuOw0KICAgIH0NCiAgICB2MTg0ID0gdGVtcFYxODRUYWcucmVhZFU4KCk7DQogICAgZ3VpbGRFeHBCb29rID0gdGVtcEd1aWxkRXhwQm9va1RhZy5yZWFkVTMyKCk7DQogICAgZ290bzE5MSh1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZixpdGVtSWQsbWF4TGV2ZWwpOw0KfQ0KDQpmdW5jdGlvbiBnb3RvMTI1KHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCl7DQogICAgdmFyIGNoZWNrID0gQ1NlY3VfUHJvdGVjdGlvbkZpZWxkX0NoZWNrKHB0cihwdHIoMHgwOTQxRjdDQykucmVhZFUzMigpKSx1c2VyLDQ0KTsNCiAgICBpZihjaGVjayE9MCl7DQogICAgICAgIENVc2VyX1NlbmRDbWRFcnJvclBhY2tldCh1c2VyLDMyLGNoZWNrLGJ1ZmYpOw0KICAgICAgICBQYWNrZXRHdWFyZF9mcmVlX1BhY2tldEd1YXJkKGJ1ZmYpOw0KICAgICAgICByZXR1cm47DQogICAgfQ0KICAgIGlmKEdhbWVXb3JsZF9Jc1B2UFNraWxUcmVlQ2hhbm5lbChHX0dhbWVXb3JsZCgpKSE9MCl7DQogICAgICAgIENVc2VyX1NlbmRDbWRFcnJvclBhY2tldCh1c2VyLDMyLDIzLGJ1ZmYpOw0KICAgICAgICBQYWNrZXRHdWFyZF9mcmVlX1BhY2tldEd1YXJkKGJ1ZmYpOw0KICAgICAgICByZXR1cm47DQogICAgfQ0KICAgIGlmKENVc2VyX0NoZWNrSXRlbUxvY2sodXNlciwxLHNsb2YpIT0wKXsNCiAgICAgICAgQ1VzZXJfU2VuZENtZEVycm9yUGFja2V0KHVzZXIsMzIsMjEzLGJ1ZmYpOw0KICAgICAgICBQYWNrZXRHdWFyZF9mcmVlX1BhY2tldEd1YXJkKGJ1ZmYpOw0KICAgICAgICByZXR1cm47DQogICAgfQ0KICAgIGlmKFdvbmdXb3JrX0NTa2lsbENoYW5nZXJfQ2hlY2tDb25kaXRpb24odXNlcikhPTEpew0KICAgICAgICB2YXIgbGV2ZWxFeHAgPSBDRGF0YU1hbmFnZXJfZ2V0X2xldmVsX2V4cChHX0NEYXRhTWFuYWdlcigpLENVc2VyQ2hhcmFjSW5mb19nZXRfY2hhcmFjX2xldmVsKHVzZXIpKTsNCiAgICAgICAgQ1VzZXJDaGFyYWNJbmZvX3NldEN1ckNoYXJhY0V4cCh1c2VyLGxldmVsRXhwKTsNCiAgICB9DQogICAgaWYoaXRlbUlkIT0xMjA2ICYmIGl0ZW1JZCE9MTI1Myl7DQogICAgICAgIGlmKGl0ZW1JZD09OTE2KXsNCiAgICAgICAgICAgIGd1aWxkRXhwQm9vayA9IDE7DQogICAgICAgICAgICB2MTg0ID0gMTA7DQogICAgICAgIH1lbHNlIGlmKGl0ZW1JZCA9PSA5NjApew0KICAgICAgICAgICAgZ3VpbGRFeHBCb29rID0gIDE7DQogICAgICAgICAgICB2MTg0ID0gMjQ7DQogICAgICAgICAgICB2YXIgZXhwYW5kRGF0YSA9IENVc2VyX0dldENoYXJhY0V4cGFuZERhdGEodXNlciwxMSk7DQogICAgICAgICAgICBpZihleHBhbmREYXRhKXsNCiAgICAgICAgICAgICAgICBDUXVlc3RTaG9wX2NsZWFyUVAoZXhwYW5kRGF0YSx1c2VyKTsNCiAgICAgICAgICAgICAgICBDUXVlc3RTaG9wX3NlbmRDaGFyYWNRcChleHBhbmREYXRhLHVzZXIsMCk7DQogICAgICAgICAgICB9DQogICAgICAgIH1lbHNlew0KICAgICAgICAgICAgZ3VpbGRFeHBCb29rICA9IGl0ZW1JZD09OTYzIHx8IGl0ZW1JZD09MjY2MDM5NjsNCiAgICAgICAgICAgIHYxODQgPSAxMDsNCiAgICAgICAgfQ0KICAgICAgICBnb3RvMTkxKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgIHJldHVybjsNCiAgICB9DQogICAgaWYoQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfbGV2ZWwodXNlcikgPD00OSl7DQogICAgICAgIFBhY2tldEd1YXJkX2ZyZWVfUGFja2V0R3VhcmQoYnVmZik7DQogICAgICAgIHJldHVybjsNCiAgICB9DQogICAgaWYoQ1VzZXJfaXNBZmZlY3RlZFByZW1pdW0odXNlci50b0ludDMyKCksMzMpPT0wKXsNCiAgICAgICAgZ3VpbGRFeHBCb29rID0gMTsNCiAgICAgICAgdjE4NCA9IDE4Ow0KICAgICAgICBnb3RvMTkxKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCk7DQogICAgICAgIHJldHVybjsNCiAgICB9DQogICAgQ1VzZXJfU2VuZENtZEVycm9yUGFja2V0KHVzZXIsMzIsMjE2LGJ1ZmYpOw0KICAgIFBhY2tldEd1YXJkX2ZyZWVfUGFja2V0R3VhcmQoYnVmZik7DQogICAgcmV0dXJuOw0KfQ0KDQpmdW5jdGlvbiBnb3RvMTc4KHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mLGl0ZW1JZCxtYXhMZXZlbCl7DQogICAgdmFyIGl0ZW1JZFZhbCA9IEdfQ0RhdGFNYW5hZ2VyKCkuYWRkKDIwNjg0KS5yZWFkVTMyKCk7DQogICAgY29uc29sZS5sb2coJ2l0ZW1JZFZhbCA6ICcraXRlbUlkVmFsKTsNCiAgICBpZihpdGVtSWQgPT0gaXRlbUlkVmFsKXsNCiAgICAgICAgdmFyIGl0ZW0gPSBDRGF0YU1hbmFnZXJfZmluZF9pdGVtKEdfQ0RhdGFNYW5hZ2VyKCksaXRlbUlkVmFsKTsNCiAgICAgICAgaWYoaXRlbUlkVmFsPT0wKXsNCiAgICAgICAgICAgIENVc2VyX1NlbmRDbWRFcnJvclBhY2tldCh1c2VyLDMyLDE3LGJ1ZmYpOw0KICAgICAgICAgICAgUGFja2V0R3VhcmRfZnJlZV9QYWNrZXRHdWFyZChidWZmKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfQ0KICAgICAgICBpZihDSXRlbV9pc19zdGFja2FibGUoaXRlbSkhPTEpew0KICAgICAgICAgICAgQ1VzZXJfU2VuZENtZEVycm9yUGFja2V0KHVzZXIsMzIsMTcsYnVmZik7DQogICAgICAgICAgICBQYWNrZXRHdWFyZF9mcmVlX1BhY2tldEd1YXJkKGJ1ZmYpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQogICAgICAgIHZhciBjaGFyYWNMZXZlbCA9IENVc2VyQ2hhcmFjSW5mb19nZXRfY2hhcmFjX2xldmVsKHVzZXIpOw0KICAgICAgICB2YXIgdXNhYmxlTGV2ZWwgPUNJdGVtX0dldFVzYWJsZUxldmVsKGl0ZW0pOw0KICAgICAgICBpZihjaGFyYWNMZXZlbCA8IHVzYWJsZUxldmVsKXsNCiAgICAgICAgICAgIENVc2VyX1NlbmRDbWRFcnJvclBhY2tldCh1c2VyLDMyLDE3LGJ1ZmYpOw0KICAgICAgICAgICAgUGFja2V0R3VhcmRfZnJlZV9QYWNrZXRHdWFyZChidWZmKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfQ0KICAgICAgICBpZihjaGFyYWNMZXZlbCA+IG1heExldmVsKzEpew0KICAgICAgICAgICAgQ1VzZXJfU2VuZENtZEVycm9yUGFja2V0KHVzZXIsMzIsMTcsYnVmZik7DQogICAgICAgICAgICBQYWNrZXRHdWFyZF9mcmVlX1BhY2tldEd1YXJkKGJ1ZmYpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQogICAgICAgIHYxODQgPTE7DQogICAgICAgIHZhciBhbGxvYyA9IE1lbW9yeS5hbGxvYyg0KTsNCiAgICAgICAgaWYoQ0l0ZW1fR2V0SW5jcmVhc2VTdGF0dXNJbnREYXRhKGl0ZW0sMCxhbGxvYykhPTEpew0KICAgICAgICAgICAgQ1VzZXJfU2VuZENtZEVycm9yUGFja2V0KHVzZXIsMzIsMTcsYnVmZik7DQogICAgICAgICAgICBQYWNrZXRHdWFyZF9mcmVlX1BhY2tldEd1YXJkKGJ1ZmYpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQogICAgICAgIGd1aWxkRXhwQm9vayA9IGFsbG9jLnJlYWRVMzIoKTsNCiAgICB9ZWxzZXsNCiAgICAgICAgdmFyIGl0ZW0gPSBDRGF0YU1hbmFnZXJfZmluZF9pdGVtKEdfQ0RhdGFNYW5hZ2VyKCksaXRlbUlkKTsNCiAgICAgICAgaWYoaXRlbSE9MCl7DQogICAgICAgICAgICBpZihDSXRlbV9HZXRJbmNyZWFzZVN0YXR1c1R5cGUoaXRlbSkgPT0xKXsNCiAgICAgICAgICAgICAgICB2YXIgYWxsb2MgPSBNZW1vcnkuYWxsb2MoNCk7DQogICAgICAgICAgICAgICAgQ0l0ZW1fR2V0SW5jcmVhc2VTdGF0dXNJbnREYXRhKGl0ZW0sMCxhbGxvYyk7DQogICAgICAgICAgICAgICAgZ3VpbGRFeHBCb29rID0gYWxsb2MucmVhZFUzMigpOw0KICAgICAgICAgICAgICAgIHYxODQgPSAxOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfQ0KICAgIGdvdG8xOTEodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKTsNCiAgICByZXR1cm47DQp9DQoNCmZ1bmN0aW9uIGdvdG8xOTEodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YsaXRlbUlkLG1heExldmVsKXsNCiAgICBpZih2MTg0PT0tMSl7DQogICAgICAgIENVc2VyX1NlbmRDbWRFcnJvclBhY2tldCh1c2VyLDMyLDE3LGJ1ZmYpOw0KICAgICAgICBQYWNrZXRHdWFyZF9mcmVlX1BhY2tldEd1YXJkKGJ1ZmYpOw0KICAgICAgICByZXR1cm47DQogICAgfQ0KICAgIGlmKHYxODQ9PTE1KXsNCiAgICAgICAgaWYoQ1VzZXJfZ2V0X3N0YXRlKHVzZXIpPT0zKXsNCiAgICAgICAgICAgIHZhciBjdXJDaGFyYWNGYXRpZ3VlID0gQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY0ZhdGlndWUodXNlcik7DQogICAgICAgICAgICBpZihjdXJDaGFyYWNGYXRpZ3VlIDwgZ3VpbGRFeHBCb29rKXsNCiAgICAgICAgICAgICAgICBDVXNlcl9TZW5kQ21kRXJyb3JQYWNrZXQodXNlciwzMiw5NSxidWZmKTsNCiAgICAgICAgICAgICAgICBQYWNrZXRHdWFyZF9mcmVlX1BhY2tldEd1YXJkKGJ1ZmYpOw0KICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfWVsc2V7DQogICAgICAgICAgICBDVXNlcl9TZW5kQ21kRXJyb3JQYWNrZXQodXNlciwzMiwxOSxidWZmKTsNCiAgICAgICAgICAgIFBhY2tldEd1YXJkX2ZyZWVfUGFja2V0R3VhcmQoYnVmZik7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCiAgICB9DQogICAgaWYodjE4NCE9MCB8fCB2MTg0PT0xNyB8fCB2MTg0PT0xKXsNCiAgICAgICAgaWYoR2FtZVdvcmxkX0lzUHZQU2tpbFRyZWVDaGFubmVsKEdfR2FtZVdvcmxkKCkpIT0wKXsNCiAgICAgICAgICAgIENVc2VyX1NlbmRDbWRFcnJvclBhY2tldCh1c2VyLDMyLDE5LGJ1ZmYpOw0KICAgICAgICAgICAgUGFja2V0R3VhcmRfZnJlZV9QYWNrZXRHdWFyZChidWZmKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfQ0KICAgIH0NCiAgICB2YXIgaXRlbSA9IENEYXRhTWFuYWdlcl9maW5kX2l0ZW0oR19DRGF0YU1hbmFnZXIoKSxpdGVtSWQpOw0KICAgIGlmKGl0ZW09PTApew0KICAgICAgICBQYWNrZXRHdWFyZF9mcmVlX1BhY2tldEd1YXJkKGJ1ZmYpOw0KICAgICAgICByZXR1cm47DQogICAgfQ0KICAgIHZhciB1c2FibGVQdnBSYW5rID0gQ0l0ZW1fR2V0VXNhYmxlUHZQUmFuayhpdGVtKTsNCiAgICBpZih1c2FibGVQdnBSYW5rPkNVc2VyQ2hhcmFjSW5mb19nZXRfcHZwX2dyYWRlKHVzZXIpKXsNCiAgICAgICAgQ1VzZXJfU2VuZENtZEVycm9yUGFja2V0KHVzZXIsMzIsMSxidWZmKTsNCiAgICAgICAgUGFja2V0R3VhcmRfZnJlZV9QYWNrZXRHdWFyZChidWZmKTsNCiAgICAgICAgcmV0dXJuOw0KICAgIH0NCiAgICB2YXIgdGVtcE1ldGhvZCA9ICBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKGl0ZW0ucmVhZFUzMigpKS5hZGQoMTIqNCkucmVhZFBvaW50ZXIoKSwgJ2ludCcsIFsncG9pbnRlciddLCB7ImFiaSI6InN5c3YifSk7DQogICAgaWYodGVtcE1ldGhvZChpdGVtKSAhPTIxKXsNCiAgICAgICAgdmFyIGN1ckNoYXJhY0ludmVuVyA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNJbnZlblcodXNlcik7DQogICAgICAgIGlmKCBDSW52ZW50b3J5X2RlbGV0ZV9pdGVtKGN1ckNoYXJhY0ludmVuVywxLHNsb2YsMSwxMCwxKSAhPTEgKXsNCiAgICAgICAgICAgIENVc2VyX1NlbmRDbWRFcnJvclBhY2tldCh1c2VyLDMyLDE3LGJ1ZmYpOw0KICAgICAgICAgICAgUGFja2V0R3VhcmRfZnJlZV9QYWNrZXRHdWFyZChidWZmKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfQ0KICAgIH0NCiAgICB2YXIgdjE3MiA9IE1lbW9yeS5hbGxvYygxNTEpOw0KICAgIGNvbnNvbGUubG9nKCJpdGVtIGFsbCBoYW5kbGUgc3VjY2VzczogIit2MTg0KyIgLCIrZ3VpbGRFeHBCb29rKTsNCiAgICBzd2l0Y2ggKHYxODQpew0KICAgICAgICBjYXNlIDA6DQogICAgICAgICAgICBDVXNlcl9nYWluX3NwKHVzZXIsZ3VpbGRFeHBCb29rKTsNCiAgICAgICAgICAgIENVc2VyX2hpc3RvcnlfbG9nX3NwKHVzZXIsLTEsZ3VpbGRFeHBCb29rLDEpOw0KICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX2NsZWFyKGJ1ZmYpOw0KICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9oZWFkZXIoYnVmZiwgMSwgMzIpOw0KICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9ieXRlKGJ1ZmYsIDEpOw0KICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9zaG9ydChidWZmLCBzbG9mKTsNCiAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfYnl0ZShidWZmLCB2MTg0KTsNCiAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfaW50KGJ1ZmYsIGd1aWxkRXhwQm9vayk7DQogICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X3Nob3J0KGJ1ZmYsIDApOw0KICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9zaG9ydChidWZmLCAwKTsNCiAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9maW5hbGl6ZShidWZmLCAxKTsNCiAgICAgICAgICAgIENVc2VyX1NlbmQodXNlciwgYnVmZik7DQogICAgICAgICAgICBQYWNrZXRHdWFyZF9mcmVlX1BhY2tldEd1YXJkKGJ1ZmYpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICBjYXNlIDE6DQogICAgICAgICAgICBpZihDVXNlckNoYXJhY0luZm9fZ2V0X2NoYXJhY19sZXZlbCh1c2VyKT5tYXhMZXZlbC0xKXsNCiAgICAgICAgICAgICAgICBndWlsZEV4cEJvb2sgPSAwOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdmFyIHYxODAgPSBNZW1vcnkuYWxsb2MoNCk7DQogICAgICAgICAgICB2MTgwLndyaXRlVTMyKDApOw0KICAgICAgICAgICAgdmFyIHYxNzkgPSBNZW1vcnkuYWxsb2MoNCk7DQogICAgICAgICAgICB2MTc5LndyaXRlVTMyKDApOw0KICAgICAgICAgICAgdmFyIHYxODEgPSBNZW1vcnkuYWxsb2MoNCk7DQogICAgICAgICAgICB2MTgxLndyaXRlVTMyKDApOw0KICAgICAgICAgICAgdmFyIHNwVmFsID0gTWVtb3J5LmFsbG9jKDQpOw0KICAgICAgICAgICAgc3BWYWwud3JpdGVVMzIoMCk7DQogICAgICAgICAgICBpZihpdGVtSWQgPT0gR19DRGF0YU1hbmFnZXIoKS5hZGQoMjA2ODQpLnJlYWRVMzIoKSl7DQogICAgICAgICAgICAgICAgQ1VzZXJfcmV3YXJkRXhwKHVzZXIsZ3VpbGRFeHBCb29rLHNwVmFsLnRvSW50MzIoKSx2MTgxLnRvSW50MzIoKSx2MTgwLHYxNzksMywxKTsNCiAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgIENVc2VyX3Jld2FyZEV4cCh1c2VyLGd1aWxkRXhwQm9vayxzcFZhbC50b0ludDMyKCksdjE4MS50b0ludDMyKCksdjE4MCx2MTc5LDAsMSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBjb25zb2xlLmxvZygnMTExMTExMTExMTExMScpDQogICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfY2xlYXIoYnVmZik7DQogICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2hlYWRlcihidWZmLCAxLCAzMik7DQogICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2J5dGUoYnVmZiwgMSk7DQogICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X3Nob3J0KGJ1ZmYsIHNsb2YpOw0KICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9ieXRlKGJ1ZmYsIHYxODQpOw0KICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9pbnQoYnVmZiwgZ3VpbGRFeHBCb29rKTsNCiAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfc2hvcnQoYnVmZiwgdjE3OS5yZWFkVTMyKCktdjE4MC5yZWFkVTMyKCkpOw0KICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9zaG9ydChidWZmLCB2MTgxLnJlYWRVMzIoKSk7DQogICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfZmluYWxpemUoYnVmZiwgMSk7DQogICAgICAgICAgICBDVXNlcl9TZW5kKHVzZXIsIGJ1ZmYpOw0KICAgICAgICAgICAgUGFja2V0R3VhcmRfZnJlZV9QYWNrZXRHdWFyZChidWZmKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgY2FzZSAyOg0KICAgICAgICAgICAgdmFyIHVzZXJBZGRJbmZvID0gQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY0FkZEluZm9SZWZXKHVzZXIpOw0KICAgICAgICAgICAgcHRyKHVzZXJBZGRJbmZvKS53cml0ZVUzMihwdHIodXNlckFkZEluZm8pLnJlYWRVMzIoKStndWlsZEV4cEJvb2spOw0KICAgICAgICAgICAgZ290bzMyKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgY2FzZSAzOg0KICAgICAgICAgICAgdmFyIHVzZXJBZGRJbmZvID0gQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY0FkZEluZm9SZWZXKHVzZXIpOw0KICAgICAgICAgICAgdXNlckFkZEluZm8gPSB1c2VyQWRkSW5mby5hZGQoNCk7DQogICAgICAgICAgICBwdHIodXNlckFkZEluZm8pLndyaXRlVTMyKHB0cih1c2VyQWRkSW5mbykucmVhZFUzMigpK2d1aWxkRXhwQm9vayk7DQogICAgICAgICAgICBnb3RvMzIodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICBjYXNlIDQ6DQogICAgICAgICAgICB2YXIgdXNlckFkZEluZm8gPSBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjQWRkSW5mb1JlZlcodXNlcik7DQogICAgICAgICAgICB1c2VyQWRkSW5mbyA9IHVzZXJBZGRJbmZvLmFkZCg4KTsNCiAgICAgICAgICAgIHB0cih1c2VyQWRkSW5mbykud3JpdGVVMTYocHRyKHVzZXJBZGRJbmZvKS5yZWFkVTE2KCkrZ3VpbGRFeHBCb29rKTsNCiAgICAgICAgICAgIGdvdG8zMih1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZik7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIGNhc2UgNToNCiAgICAgICAgICAgIHZhciB1c2VyQWRkSW5mbyA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNBZGRJbmZvUmVmVyh1c2VyKTsNCiAgICAgICAgICAgIHVzZXJBZGRJbmZvID0gdXNlckFkZEluZm8uYWRkKDEwKTsNCiAgICAgICAgICAgIHB0cih1c2VyQWRkSW5mbykud3JpdGVVMTYocHRyKHVzZXJBZGRJbmZvKS5yZWFkVTE2KCkrZ3VpbGRFeHBCb29rKTsNCiAgICAgICAgICAgIGdvdG8zMih1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZik7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIGNhc2UgNjoNCiAgICAgICAgICAgIHZhciB1c2VyQWRkSW5mbyA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNBZGRJbmZvUmVmVyh1c2VyKTsNCiAgICAgICAgICAgIHVzZXJBZGRJbmZvID0gdXNlckFkZEluZm8uYWRkKDEyKTsNCiAgICAgICAgICAgIHB0cih1c2VyQWRkSW5mbykud3JpdGVVMTYocHRyKHVzZXJBZGRJbmZvKS5yZWFkVTE2KCkrZ3VpbGRFeHBCb29rKTsNCiAgICAgICAgICAgIGdvdG8zMih1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZik7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIGNhc2UgNzoNCiAgICAgICAgICAgIHZhciB1c2VyQWRkSW5mbyA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNBZGRJbmZvUmVmVyh1c2VyKTsNCiAgICAgICAgICAgIHVzZXJBZGRJbmZvID0gdXNlckFkZEluZm8uYWRkKDE0KTsNCiAgICAgICAgICAgIHB0cih1c2VyQWRkSW5mbykud3JpdGVVMTYocHRyKHVzZXJBZGRJbmZvKS5yZWFkVTE2KCkrZ3VpbGRFeHBCb29rKTsNCiAgICAgICAgICAgIGdvdG8zMih1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZik7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIGNhc2UgODoNCiAgICAgICAgICAgIHZhciB1c2VyQWRkSW5mbyA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNBZGRJbmZvUmVmVyh1c2VyKTsNCiAgICAgICAgICAgIHVzZXJBZGRJbmZvID0gdXNlckFkZEluZm8uYWRkKDY2KTsNCiAgICAgICAgICAgIHB0cih1c2VyQWRkSW5mbykud3JpdGVVMzIocHRyKHVzZXJBZGRJbmZvKS5yZWFkVTMyKCkrZ3VpbGRFeHBCb29rKTsNCiAgICAgICAgICAgIGdvdG8zMih1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZik7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIGNhc2UgOToNCiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMzsgaSsrKSB7DQogICAgICAgICAgICAgICAgdmFyIHVzZXJBZGRJbmZvID0gQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY0FkZEluZm9SZWZXKHVzZXIpOw0KICAgICAgICAgICAgICAgIHVzZXJBZGRJbmZvID0gdXNlckFkZEluZm8uYWRkKDIqKGkqOCkpOw0KICAgICAgICAgICAgICAgIHB0cih1c2VyQWRkSW5mbykud3JpdGVVMTYocHRyKHVzZXJBZGRJbmZvKS5yZWFkVTE2KCkrZ3VpbGRFeHBCb29rKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGdvdG8zMih1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZik7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIGNhc2UgMTA6DQogICAgICAgIGNhc2UgMjQ6DQogICAgICAgICAgICBpZihndWlsZEV4cEJvb2sgPT0xKXsNCiAgICAgICAgICAgICAgICB2YXIgY3VyQ2hhcmFjU2tpbGxXID0gQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY1NraWxsVyh1c2VyKTsNCiAgICAgICAgICAgICAgICBTa2lsbFNsb3RfY2xlYXJfYWxsX3NraWxsc19ib3RoKGN1ckNoYXJhY1NraWxsVyk7DQogICAgICAgICAgICAgICAgY3VyQ2hhcmFjU2tpbGxXID0gQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY1NraWxsVyh1c2VyKTsNCiAgICAgICAgICAgICAgICBTa2lsbFNsb3Rfc2V0X3BhcmVudChjdXJDaGFyYWNTa2lsbFcsdXNlcik7DQogICAgICAgICAgICAgICAgdmFyIGNoYXJjSm9iID0gQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfam9iKHVzZXIpOw0KICAgICAgICAgICAgICAgIGN1ckNoYXJhY1NraWxsVyA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNTa2lsbFcodXNlcik7DQogICAgICAgICAgICAgICAgYWRkU2tpbGxPbkNyZWF0ZUNoYXJhY3RlcihjdXJDaGFyYWNTa2lsbFcrNzAsY2hhcmNKb2IpOw0KICAgICAgICAgICAgICAgIGNoYXJjSm9iID0gQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfam9iKHVzZXIpOw0KICAgICAgICAgICAgICAgIGN1ckNoYXJhY1NraWxsVyA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNTa2lsbFcodXNlcik7DQogICAgICAgICAgICAgICAgYWRkU2tpbGxPbkNyZWF0ZUNoYXJhY3RlcihjdXJDaGFyYWNTa2lsbFcrNDc4LGNoYXJjSm9iKTsNCiAgICAgICAgICAgICAgICAvLyDov5nlupTor6XmmK/mioDog73lj6rog70xMuS4quWOn+WboA0KICAgICAgICAgICAgICAgIHZhciBza2lsbExpc3QgPSBNZW1vcnkuYWxsb2MoMTIpOw0KICAgICAgICAgICAgICAgIHN0ZF92ZWN0b3Jfc3RkX3BhaXJfaW50X2ludF92ZWN0b3Ioc2tpbGxMaXN0KTsNCg0KICAgICAgICAgICAgICAgIHZhciBjdXJDaGFyU2Vjb25kR3Jvd1R5cGUgPSBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhclNlY29uZEdyb3dUeXBlKHVzZXIpOw0KICAgICAgICAgICAgICAgIHZhciBjdXJDaGFyRmlyc3RHcm93VHlwZSA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyRmlyc3RHcm93VHlwZSh1c2VyKTsNCiAgICAgICAgICAgICAgICB2YXIgZGF0YU1hbmFnZSA9IEdfQ0RhdGFNYW5hZ2VyKCkuYWRkKDIwKS5yZWFkVTMyKCk7DQogICAgICAgICAgICAgICAgdmFyIGdpdmVTa2lsbCA9IENDaGFyYWN0ZXJfZ2V0X2dpdmVfc2tpbGwoZGF0YU1hbmFnZSsyMDEyKkNVc2VyQ2hhcmFjSW5mb19nZXRfY2hhcmFjX2pvYih1c2VyKSxjdXJDaGFyRmlyc3RHcm93VHlwZSxjdXJDaGFyU2Vjb25kR3Jvd1R5cGUsc2tpbGxMaXN0LnRvSW50MzIoKSwwKTsNCiAgICAgICAgICAgICAgICB2YXIgdjgwOw0KICAgICAgICAgICAgICAgIGlmKGdpdmVTa2lsbCAhPTEpew0KICAgICAgICAgICAgICAgICAgICB2YXIgY2hhcmNOYW1lID0gJyc7DQogICAgICAgICAgICAgICAgICAgIHZhciBjaGFyY05hbWVWYWwgPSBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjTmFtZSh1c2VySW5mbyk7DQogICAgICAgICAgICAgICAgICAgIGlmKCFjaGFyY05hbWVWYWwuaXNOdWxsKCkpDQogICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNoYXJjTmFtZSA9ICBjaGFyY05hbWVWYWwucmVhZFV0ZjhTdHJpbmcoLTEpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIHZhciB2MTg0QWRyciA9IE1lbW9yeS5hbGxvYygxKTsNCiAgICAgICAgICAgICAgICAgICAgdjE4NEFkcnIud3JpdGVVOCh2MTg0KTsNCiAgICAgICAgICAgICAgICAgICAgTG9nTWFuYWdlcl9sb2dGb3JtYXQoTWVtb3J5LmFsbG9jKDEpLE1lbW9yeS5hbGxvY1V0ZjhTdHJpbmcoInVzZXIuY3BwIikudG9JbnQzMigpDQogICAgICAgICAgICAgICAgICAgICAgICAsTWVtb3J5LmFsbG9jVXRmOFN0cmluZygndm9pZCBDVXNlcjo6aW5jcmVhc2Vfc3RhdHVzKHNob3J0IGludCknKSxwdHIoMHg0YWVlKQ0KICAgICAgICAgICAgICAgICAgICAgICAgLE1lbW9yeS5hbGxvY1V0ZjhTdHJpbmcoJ1VzZXIgJXMgLSBDVXNlcjo6c2V0X2dyb3dfdHlwZSAlZCcpLE1lbW9yeS5hbGxvY1V0ZjhTdHJpbmcoY2hhcmNOYW1lKSx2MTg0QWRycik7DQogICAgICAgICAgICAgICAgICAgIHY4MCA9IDA7DQogICAgICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOzsgaSsrKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBpZihzdGRfdmVjdG9yX3N0ZF9wYWlyX2ludF9pbnRfc2l6ZShza2lsbExpc3QpIDw9aSl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2tpbGwgPSBzdGRfdmVjdG9yX3N0ZF9wYWlyX2ludF9pbnRfb3BlcmF0b3Ioc2tpbGxMaXN0LGkpOw0KICAgICAgICAgICAgICAgICAgICAgICAgU2tpbGxTbG90X2dyb3d0eXBlX3NraWxsKENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNTa2lsbFcodXNlciksQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfam9iKHVzZXIpLHNraWxsLnJlYWRVOCgpLHNraWxsLmFkZCgxKS5yZWFkVTgoKSwwKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIFNraWxsU2xvdF9ncm93dHlwZV9za2lsbChDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjU2tpbGxXKHVzZXIpLENVc2VyQ2hhcmFjSW5mb19nZXRfY2hhcmFjX2pvYih1c2VyKSxza2lsbC5yZWFkVTgoKSxza2lsbC5hZGQoMSkucmVhZFU4KCksMSk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgdmFyIGN1ckNoYXJhY0V4cGVydEpvYlR5cGUgPUNVc2VyQ2hhcmFjSW5mb19HZXRDdXJDaGFyYWNFeHBlcnRKb2JUeXBlKHVzZXIpOw0KICAgICAgICAgICAgICAgICAgICB2YXIgZXhwZXJ0Sm9iU2NyaXB0ID0gQ0RhdGFNYW5hZ2VyX0dldEV4cGVydEpvYlNjcmlwdChHX0NEYXRhTWFuYWdlcigpLGN1ckNoYXJhY0V4cGVydEpvYlR5cGUpOw0KICAgICAgICAgICAgICAgICAgICBpZihleHBlcnRKb2JTY3JpcHQhPTApew0KICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IDsgaSsrKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoc3RkX3ZlY3Rvcl9zdGRfcGFpcl9pbnRfaW50X3NpemUoZXhwZXJ0Sm9iU2NyaXB0LmFkZCgxMikpIDw9aSl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VyQ2hhcmFjRXhwZXJ0Sm9iRXhwID0gQ1VzZXJDaGFyYWNJbmZvX0dldEN1ckNoYXJhY0V4cGVydEpvYkV4cCh1c2VyKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VyRXhwZXJ0Sm9iTGV2ZWwgPSBDVXNlcl9HZXRDdXJFeHBlcnRKb2JMZXZlbCh1c2VyLCBjdXJDaGFyYWNFeHBlcnRKb2JFeHApOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBleHBlcnRKb2IgPSBzdGRfdmVjdG9yX3N0ZF9wYWlyX2ludF9pbnRfb3BlcmF0b3IoZXhwZXJ0Sm9iU2NyaXB0LmFkZCgxMiksaSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgU2tpbGxTbG90X2dyb3d0eXBlX3NraWxsKENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNTa2lsbFcodXNlciksQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfam9iKHVzZXIpLGV4cGVydEpvYi5yZWFkVTE2KCksY3VyRXhwZXJ0Sm9iTGV2ZWwsMCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgU2tpbGxTbG90X2dyb3d0eXBlX3NraWxsKENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNTa2lsbFcodXNlciksQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfam9iKHVzZXIpLGV4cGVydEpvYi5yZWFkVTE2KCksY3VyRXhwZXJ0Sm9iTGV2ZWwsMSk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgV29uZ1dvcmtfQ1NraWxsQ2hhbmdlcl9DU2tpbGxDaGFuZ2VyKHYxNzIpOw0KICAgICAgICAgICAgICAgICAgICBXb25nV29ya19DU2tpbGxDaGFuZ2VyX1NraWxsSW5pdGlhbGl6ZSh2MTcyLHVzZXIsMCwwKTsNCiAgICAgICAgICAgICAgICAgICAgQ1VzZXJfc2VuZF9za2lsbF9pbmZvKHVzZXIpOw0KICAgICAgICAgICAgICAgICAgICB2YXIgcHJlbWl1bUxldGhlTWFuYWdlciA9IENHYW1lTWFuYWdlcl9HZXRQcmVtaXVtTGV0aGVNYW5hZ2VyKEdfQ0dhbWVNYW5hZ2VyKCkpOw0KICAgICAgICAgICAgICAgICAgICBpZihDVXNlcl9pc0FmZmVjdGVkUHJlbWl1bSh1c2VyLnRvSW50MzIoKSwzMykhPTApew0KICAgICAgICAgICAgICAgICAgICAgICAgaWYocHJlbWl1bUxldGhlTWFuYWdlciE9MCAmJiBDVXNlcl9pc0FmZmVjdGVkUHJlbWl1bSh1c2VyLnRvSW50MzIoKSwzMykhPTApew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIENQcmVtaXVtTGV0aGVNYW5hZ2VyX0luaXRMZXRoZVNraWxsKHByZW1pdW1MZXRoZU1hbmFnZXIsIHVzZXIsIDApOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIENQcmVtaXVtTGV0aGVNYW5hZ2VyX0luaXRMZXRoZVNraWxsKHByZW1pdW1MZXRoZU1hbmFnZXIsIHVzZXIsIDEpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9ZWxzZSBpZihwcmVtaXVtTGV0aGVNYW5hZ2VyIT0wKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIENQcmVtaXVtTGV0aGVNYW5hZ2VyX1VwZGF0ZUJhY2t1cFNraWxsRmxhZyhwcmVtaXVtTGV0aGVNYW5hZ2VyLHVzZXIsMCk7DQogICAgICAgICAgICAgICAgICAgICAgICBDUHJlbWl1bUxldGhlTWFuYWdlcl9VcGRhdGVCYWNrdXBTa2lsbEZsYWcocHJlbWl1bUxldGhlTWFuYWdlcix1c2VyLDEpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIFdvbmdXb3JrX0NTa2lsbENoYW5nZXJfZF9DU2tpbGxDaGFuZ2VyKHYxNzIpOw0KICAgICAgICAgICAgICAgICAgICB2ODAgPSAxOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBzdGRfdmVjdG9yX3N0ZF9wYWlyX2ludF9pbnRfZF92ZWN0b3Ioc2tpbGxMaXN0KTsNCiAgICAgICAgICAgICAgICBpZih2ODA9PTEpew0KICAgICAgICAgICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfY2xlYXIoYnVmZik7DQogICAgICAgICAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfaGVhZGVyKGJ1ZmYsIDEsIDMyKTsNCiAgICAgICAgICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9ieXRlKGJ1ZmYsIDEpOw0KICAgICAgICAgICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X3Nob3J0KGJ1ZmYsIHNsb2YpOw0KICAgICAgICAgICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2J5dGUoYnVmZiwgdjE4NCk7DQogICAgICAgICAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfaW50KGJ1ZmYsIGd1aWxkRXhwQm9vayk7DQogICAgICAgICAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfc2hvcnQoYnVmZiwgMCk7DQogICAgICAgICAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfc2hvcnQoYnVmZiwgMCk7DQogICAgICAgICAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9maW5hbGl6ZShidWZmLCAxKTsNCiAgICAgICAgICAgICAgICAgICAgQ1VzZXJfU2VuZCh1c2VyLCBidWZmKTsNCiAgICAgICAgICAgICAgICAgICAgaWYodXNlci5hZGQoMTQ0MzY5KjQpLnJlYWRVMzIoKSA9PSA1KXsNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwYXJ0eSA9IENVc2VyX0dldFBhcnR5KHVzZXIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgaWYocGFydHkhPTApew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9jbGVhcihidWZmKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2hlYWRlcihidWZmLCAwLCAyKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2J5dGUoYnVmZiwgMSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9zaG9ydChidWZmLCAxKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBDVXNlcl9tYWtlX2Jhc2ljX2luZm8odXNlciwgYnVmZiwgMSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX2ZpbmFsaXplKGJ1ZmYsIDEpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIENQYXJ0eV9zZW5kX3RvX3BhcnR5KHBhcnR5LCBidWZmKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfWVsc2UgaWYodXNlci5hZGQoMTQ0MzY5KjQpLnJlYWRVMzIoKSA9PSA4KXsNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB3YXJSb29tID0gQ1VzZXJfR2V0V2FyUm9vbSh1c2VyKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHdhclJvb20hPTApew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9jbGVhcihidWZmKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2hlYWRlcihidWZmLCAwLCAyKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2J5dGUoYnVmZiwgMSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9zaG9ydChidWZmLCAxKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBDVXNlcl9tYWtlX2Jhc2ljX2luZm8odXNlciwgYnVmZiwgMSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX2ZpbmFsaXplKGJ1ZmYsIDEpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIFdhclJvb21fU2VuZFRvUm9vbSh3YXJSb29tLCBidWZmKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH1lbHNlIHsNCiAgICAgICAgICAgICAgICB2YXIgY3VyQ2hhcmFjU2tpbGxUcmVlSW5kZXggPSBDVXNlckNoYXJhY0luZm9fR2V0Q3VyQ2hhcmFjU2tpbGxUcmVlSW5kZXgodXNlcik7DQogICAgICAgICAgICAgICAgdmFyIGN1ckNoYXJhY1NraWxsVyA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNTa2lsbFcodXNlcik7DQogICAgICAgICAgICAgICAgU2tpbGxTbG90X2NsZWFyX2FsbF9za2lsbHMoY3VyQ2hhcmFjU2tpbGxXLHVzZXIpOw0KICAgICAgICAgICAgICAgIGN1ckNoYXJhY1NraWxsVyA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNTa2lsbFcodXNlcik7DQogICAgICAgICAgICAgICAgU2tpbGxTbG90X3NldF9wYXJlbnQoY3VyQ2hhcmFjU2tpbGxXLHVzZXIpOw0KICAgICAgICAgICAgICAgIGN1ckNoYXJhY1NraWxsVHJlZUluZGV4ID0gQ1VzZXJDaGFyYWNJbmZvX0dldEN1ckNoYXJhY1NraWxsVHJlZUluZGV4KHVzZXIpOw0KICAgICAgICAgICAgICAgIGlmKGN1ckNoYXJhY1NraWxsVHJlZUluZGV4PT0tMSB8fCBjdXJDaGFyYWNTa2lsbFRyZWVJbmRleCE9MCl7DQogICAgICAgICAgICAgICAgICAgIGN1ckNoYXJhY1NraWxsVyA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNTa2lsbFcodXNlcik7DQogICAgICAgICAgICAgICAgICAgIGFkZFNraWxsT25DcmVhdGVDaGFyYWN0ZXIoY3VyQ2hhcmFjU2tpbGxXLmFkZCg3MCksQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfam9iKHVzZXIpKTsNCiAgICAgICAgICAgICAgICB9ZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIGN1ckNoYXJhY1NraWxsVyA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNTa2lsbFcodXNlcik7DQogICAgICAgICAgICAgICAgICAgIGFkZFNraWxsT25DcmVhdGVDaGFyYWN0ZXIoY3VyQ2hhcmFjU2tpbGxXLmFkZCg0NzgpLENVc2VyQ2hhcmFjSW5mb19nZXRfY2hhcmFjX2pvYih1c2VyKSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIC8vIOi/meW6lOivpeaYr+aKgOiDveWPquiDvTEy5Liq5Y6f5ZugDQogICAgICAgICAgICAgICAgdmFyIHNraWxsTGlzdCA9IE1lbW9yeS5hbGxvYygxMik7DQogICAgICAgICAgICAgICAgc3RkX3ZlY3Rvcl9zdGRfcGFpcl9pbnRfaW50X3ZlY3Rvcihza2lsbExpc3QpOw0KDQogICAgICAgICAgICAgICAgdmFyIGN1ckNoYXJTZWNvbmRHcm93VHlwZSA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyU2Vjb25kR3Jvd1R5cGUodXNlcik7DQogICAgICAgICAgICAgICAgdmFyIGN1ckNoYXJGaXJzdEdyb3dUeXBlID0gQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJGaXJzdEdyb3dUeXBlKHVzZXIpOw0KICAgICAgICAgICAgICAgIHZhciBkYXRhTWFuYWdlID0gR19DRGF0YU1hbmFnZXIoKS5hZGQoMjApLnJlYWRVMzIoKTsNCiAgICAgICAgICAgICAgICB2YXIgZ2l2ZVNraWxsID0gQ0NoYXJhY3Rlcl9nZXRfZ2l2ZV9za2lsbChkYXRhTWFuYWdlKzIwMTIqQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfam9iKHVzZXIpLGN1ckNoYXJGaXJzdEdyb3dUeXBlLGN1ckNoYXJTZWNvbmRHcm93VHlwZSxza2lsbExpc3QudG9JbnQzMigpLDApOw0KICAgICAgICAgICAgICAgIHZhciB2ODA7DQogICAgICAgICAgICAgICAgaWYoZ2l2ZVNraWxsICE9MSl7DQogICAgICAgICAgICAgICAgICAgIHZhciBjaGFyY05hbWUgPSAnJzsNCiAgICAgICAgICAgICAgICAgICAgdmFyIGNoYXJjTmFtZVZhbCA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNOYW1lKHVzZXJJbmZvKTsNCiAgICAgICAgICAgICAgICAgICAgaWYoIWNoYXJjTmFtZVZhbC5pc051bGwoKSkNCiAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgY2hhcmNOYW1lID0gIGNoYXJjTmFtZVZhbC5yZWFkVXRmOFN0cmluZygtMSk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgdmFyIHYxODRBZHJyID0gTWVtb3J5LmFsbG9jKDEpOw0KICAgICAgICAgICAgICAgICAgICB2MTg0QWRyci53cml0ZVU4KHYxODQpOw0KICAgICAgICAgICAgICAgICAgICBMb2dNYW5hZ2VyX2xvZ0Zvcm1hdChNZW1vcnkuYWxsb2MoMSksTWVtb3J5LmFsbG9jVXRmOFN0cmluZygidXNlci5jcHAiKS50b0ludDMyKCkNCiAgICAgICAgICAgICAgICAgICAgICAgICxNZW1vcnkuYWxsb2NVdGY4U3RyaW5nKCd2b2lkIENVc2VyOjppbmNyZWFzZV9zdGF0dXMoc2hvcnQgaW50KScpLHB0cigweDRCNDgpDQogICAgICAgICAgICAgICAgICAgICAgICAsTWVtb3J5LmFsbG9jVXRmOFN0cmluZygnVXNlciAlcyAtIENVc2VyOjpzZXRfZ3Jvd190eXBlICVkJyksTWVtb3J5LmFsbG9jVXRmOFN0cmluZyhjaGFyY05hbWUpLHYxODRBZHJyKTsNCiAgICAgICAgICAgICAgICAgICAgdjgwID0gMDsNCiAgICAgICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7OyBpKyspIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHN0ZF92ZWN0b3Jfc3RkX3BhaXJfaW50X2ludF9zaXplKHNraWxsTGlzdCkgPD1pKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBza2lsbCA9IHN0ZF92ZWN0b3Jfc3RkX3BhaXJfaW50X2ludF9vcGVyYXRvcihza2lsbExpc3QsaSk7DQogICAgICAgICAgICAgICAgICAgICAgICBTa2lsbFNsb3RfZ3Jvd3R5cGVfc2tpbGwoQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY1NraWxsVyh1c2VyKSxDVXNlckNoYXJhY0luZm9fZ2V0X2NoYXJhY19qb2IodXNlciksc2tpbGwucmVhZFU4KCksc2tpbGwuYWRkKDEpLnJlYWRVOCgpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLENVc2VyQ2hhcmFjSW5mb19HZXRDdXJDaGFyYWNTa2lsbFRyZWVJbmRleCh1c2VyKSk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgdmFyIGN1ckNoYXJhY0V4cGVydEpvYlR5cGUgPUNVc2VyQ2hhcmFjSW5mb19HZXRDdXJDaGFyYWNFeHBlcnRKb2JUeXBlKHVzZXIpOw0KICAgICAgICAgICAgICAgICAgICB2YXIgZXhwZXJ0Sm9iU2NyaXB0ID0gQ0RhdGFNYW5hZ2VyX0dldEV4cGVydEpvYlNjcmlwdChHX0NEYXRhTWFuYWdlcigpLGN1ckNoYXJhY0V4cGVydEpvYlR5cGUpOw0KICAgICAgICAgICAgICAgICAgICBpZihleHBlcnRKb2JTY3JpcHQhPTApew0KICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IDsgaSsrKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoc3RkX3ZlY3Rvcl9zdGRfcGFpcl9pbnRfaW50X3NpemUoZXhwZXJ0Sm9iU2NyaXB0LmFkZCgxMikpIDw9aSl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VyQ2hhcmFjRXhwZXJ0Sm9iRXhwID0gQ1VzZXJDaGFyYWNJbmZvX0dldEN1ckNoYXJhY0V4cGVydEpvYkV4cCh1c2VyKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VyRXhwZXJ0Sm9iTGV2ZWwgPSBDVXNlcl9HZXRDdXJFeHBlcnRKb2JMZXZlbCh1c2VyLCBjdXJDaGFyYWNFeHBlcnRKb2JFeHApOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBleHBlcnRKb2IgPSBzdGRfdmVjdG9yX3N0ZF9wYWlyX2ludF9pbnRfb3BlcmF0b3IoZXhwZXJ0Sm9iU2NyaXB0LmFkZCgxMiksaSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgU2tpbGxTbG90X2dyb3d0eXBlX3NraWxsKENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNTa2lsbFcodXNlciksQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfam9iKHVzZXIpLGV4cGVydEpvYi5yZWFkVTE2KCksY3VyRXhwZXJ0Sm9iTGV2ZWwsMCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgU2tpbGxTbG90X2dyb3d0eXBlX3NraWxsKENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNTa2lsbFcodXNlciksQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfam9iKHVzZXIpLGV4cGVydEpvYi5yZWFkVTE2KCksY3VyRXhwZXJ0Sm9iTGV2ZWwsMSk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgV29uZ1dvcmtfQ1NraWxsQ2hhbmdlcl9DU2tpbGxDaGFuZ2VyKHYxNzIpOw0KICAgICAgICAgICAgICAgICAgICB2YXIgdjIxOSA9IDA7DQogICAgICAgICAgICAgICAgICAgIGN1ckNoYXJhY1NraWxsVHJlZUluZGV4ID0gQ1VzZXJDaGFyYWNJbmZvX0dldEN1ckNoYXJhY1NraWxsVHJlZUluZGV4KHVzZXIpOw0KICAgICAgICAgICAgICAgICAgICBpZihjdXJDaGFyYWNTa2lsbFRyZWVJbmRleD09LTEgfHwgY3VyQ2hhcmFjU2tpbGxUcmVlSW5kZXghPTApew0KICAgICAgICAgICAgICAgICAgICAgICAgdjIxOSA9IDE7DQogICAgICAgICAgICAgICAgICAgIH1lbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHYyMTkgPSAyOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIFdvbmdXb3JrX0NTa2lsbENoYW5nZXJfU2tpbGxJbml0aWFsaXplKHYxNzIsdXNlcix2MjE5LDApOw0KICAgICAgICAgICAgICAgICAgICBDVXNlcl9zZW5kX3NraWxsX2luZm8odXNlcik7DQogICAgICAgICAgICAgICAgICAgIHZhciBwcmVtaXVtTGV0aGVNYW5hZ2VyID0gQ0dhbWVNYW5hZ2VyX0dldFByZW1pdW1MZXRoZU1hbmFnZXIoR19DR2FtZU1hbmFnZXIoKSk7DQogICAgICAgICAgICAgICAgICAgIGlmKENVc2VyX2lzQWZmZWN0ZWRQcmVtaXVtKHVzZXIudG9JbnQzMigpLDMzKSE9MCl7DQogICAgICAgICAgICAgICAgICAgICAgICBpZihwcmVtaXVtTGV0aGVNYW5hZ2VyIT0wICYmIENVc2VyX2lzQWZmZWN0ZWRQcmVtaXVtKHVzZXIudG9JbnQzMigpLDMzKSE9MCl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VyQ2hhcmFjU2tpbGxUcmVlSW5kZXggPSBDVXNlckNoYXJhY0luZm9fR2V0Q3VyQ2hhcmFjU2tpbGxUcmVlSW5kZXgodXNlcik7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgQ1ByZW1pdW1MZXRoZU1hbmFnZXJfSW5pdExldGhlU2tpbGwocHJlbWl1bUxldGhlTWFuYWdlciwgdXNlciwgY3VyQ2hhcmFjU2tpbGxUcmVlSW5kZXgpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9ZWxzZSBpZihwcmVtaXVtTGV0aGVNYW5hZ2VyIT0wKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIGN1ckNoYXJhY1NraWxsVHJlZUluZGV4ID0gQ1VzZXJDaGFyYWNJbmZvX0dldEN1ckNoYXJhY1NraWxsVHJlZUluZGV4KHVzZXIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgQ1ByZW1pdW1MZXRoZU1hbmFnZXJfVXBkYXRlQmFja3VwU2tpbGxGbGFnKHByZW1pdW1MZXRoZU1hbmFnZXIsdXNlcixjdXJDaGFyYWNTa2lsbFRyZWVJbmRleCk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgV29uZ1dvcmtfQ1NraWxsQ2hhbmdlcl9kX0NTa2lsbENoYW5nZXIodjE3Mik7DQogICAgICAgICAgICAgICAgICAgIHY4MCA9IDE7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHN0ZF92ZWN0b3Jfc3RkX3BhaXJfaW50X2ludF9kX3ZlY3Rvcihza2lsbExpc3QpOw0KICAgICAgICAgICAgICAgIGlmKHY4MD09MSl7DQogICAgICAgICAgICAgICAgICAgIGdvdG8zMih1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZik7DQogICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICBQYWNrZXRHdWFyZF9mcmVlX1BhY2tldEd1YXJkKGJ1ZmYpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICBjYXNlIDExOg0KICAgICAgICAgICAgaWYoQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfZ3VpbGRrZXkodXNlcikhPTApew0KICAgICAgICAgICAgICAgIENVc2VyQ2hhcmFjSW5mb19hZGRfZ3VpbGRfZXhwKHVzZXIsZ3VpbGRFeHBCb29rKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGdvdG8zMih1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZik7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIGNhc2UgMTI6DQogICAgICAgICAgICBDVXNlckNoYXJhY0luZm9fc2V0Q3VyQ2hhcmFjU3RhbWluYSh1c2VyLGd1aWxkRXhwQm9vayk7DQogICAgICAgICAgICBnb3RvMzIodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICBjYXNlIDEzOg0KICAgICAgICAgICAgdmFyIGludmVuUiA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNJbnZlblIodXNlcik7DQogICAgICAgICAgICB2YXIgY29pbiA9IENJbnZlbnRvcnlfR2V0RXZlbnRDb2luKGludmVuUik7DQogICAgICAgICAgICB2YXIgYWxsQ29pbiA9IGNvaW4rZ3VpbGRFeHBCb29rOw0KICAgICAgICAgICAgdmFyIGludmVuVyA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNJbnZlblcodXNlcik7DQogICAgICAgICAgICBDSW52ZW50b3J5X1NldEV2ZW50Q29pbihpbnZlblcsYWxsQ29pbik7DQogICAgICAgICAgICBpbnZlblIgPSBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjSW52ZW5SKHVzZXIpOw0KICAgICAgICAgICAgY29pbiA9IENJbnZlbnRvcnlfR2V0RXZlbnRDb2luKGludmVuUik7DQogICAgICAgICAgICBjVXNlckhpc3RvcnlMb2dfRXZlbnRDb2luQWRkKHVzZXIuYWRkKDQ5NzQwOCksY29pbixndWlsZEV4cEJvb2ssMik7DQogICAgICAgICAgICBDVXNlcl9TZW5kVXBkYXRlSXRlbUxpc3QodXNlciwxLDAsMSk7DQogICAgICAgICAgICBnb3RvMzIodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICBjYXNlIDE0Og0KICAgICAgICAgICAgQ1VzZXJfUmVjb3ZlckZhdGlndWUodXNlcixndWlsZEV4cEJvb2spOw0KICAgICAgICAgICAgQ1VzZXJfU2VuZEZhdGlndWUodXNlcik7DQogICAgICAgICAgICBnb3RvMzIodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICBjYXNlIDE1Og0KICAgICAgICAgICAgdmFyIGN1ckNoYXJhY0ZhdGlndWUgPSBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjRmF0aWd1ZSh1c2VyKTsNCiAgICAgICAgICAgIHZhciB2YWwgPSBjdXJDaGFyYWNGYXRpZ3VlIC0gZ3VpbGRFeHBCb29rIDwwID8wOmN1ckNoYXJhY0ZhdGlndWUgLSBndWlsZEV4cEJvb2sNCiAgICAgICAgICAgIENVc2VyQ2hhcmFjSW5mb19zZXRDdXJDaGFyYWNGYXRpZ3VlKHVzZXIsdmFsKTsNCiAgICAgICAgICAgIENVc2VyX1NlbmRGYXRpZ3VlKHVzZXIpOw0KICAgICAgICAgICAgZ290bzMyKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgY2FzZSAxNjoNCiAgICAgICAgICAgIGlmKENVc2VyQ2hhcmFjSW5mb19nZXRfY2hhcmFjX2d1aWxka2V5KHVzZXIpIT0wKXsNCiAgICAgICAgICAgICAgICB2YXIgY2hhcmNObyA9IENVc2VyX2dldF9jaGFyYWNfbm8odXNlciwtMSk7DQogICAgICAgICAgICAgICAgdmFyIGNoYXJjR3VpbGRLZXkgPSBDVXNlckNoYXJhY0luZm9fZ2V0X2NoYXJhY19ndWlsZGtleSh1c2VyKTsNCiAgICAgICAgICAgICAgICB2YXIgc2VydmVyR3JvdXAgPSBDVXNlcl9HZXRTZXJ2ZXJHcm91cCh1c2VyKTsNCiAgICAgICAgICAgICAgICB2YXIgc2VydmVyUHJveHkgPSBDU2VydmVyUHJveHlNZ3JfQ0d1aWxkU2VydmVyUHJveHlfR2V0U2VydmVyUHJveHkocHRyKHB0cigweDA5NDBCRTJDKS5yZWFkVTMyKCkpLHNlcnZlckdyb3VwKTsNCiAgICAgICAgICAgICAgICBDR3VpbGRTZXJ2ZXJQcm94eV9TZW5kSW5jcmVhc2VHdWlsZEV4cChzZXJ2ZXJQcm94eSxjaGFyY0d1aWxkS2V5LGNoYXJjTm8sZ3VpbGRFeHBCb29rLDEpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZ290bzMyKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgY2FzZSAxNzoNCiAgICAgICAgICAgIENVc2VyX2dhaW5fc2ZwKHVzZXIsIGd1aWxkRXhwQm9vayk7DQogICAgICAgICAgICBDVXNlcl9oaXN0b3J5X2xvZ19zZnAodXNlciwgLTEsIGd1aWxkRXhwQm9vaywgMSk7DQogICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfY2xlYXIoYnVmZik7DQogICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2hlYWRlcihidWZmLCAxLCAzMik7DQogICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2J5dGUoYnVmZiwgMSk7DQogICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X3Nob3J0KGJ1ZmYsIHNsb2YpOw0KICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9ieXRlKGJ1ZmYsIHYxODQpOw0KICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9pbnQoYnVmZiwgZ3VpbGRFeHBCb29rKTsNCiAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfc2hvcnQoYnVmZiwgMCk7DQogICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X3Nob3J0KGJ1ZmYsIDApOw0KICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX2ZpbmFsaXplKGJ1ZmYsIDEpOw0KICAgICAgICAgICAgQ1VzZXJfU2VuZCh1c2VyLCBidWZmKTsNCiAgICAgICAgICAgIFBhY2tldEd1YXJkX2ZyZWVfUGFja2V0R3VhcmQoYnVmZik7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIGNhc2UgMTg6DQogICAgICAgICAgICBTa2lsbFNsb3RfY2xlYXJfc2ZwX3NraWxscyhDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjU2tpbGxXKHVzZXIpLnRvSW50MzIoKSxDVXNlckNoYXJhY0luZm9fZ2V0X2NoYXJhY19qb2IodXNlcikscHRyKENVc2VyQ2hhcmFjSW5mb19HZXRDdXJDaGFyYWNTa2lsbFRyZWVJbmRleCh1c2VyKSkpOw0KICAgICAgICAgICAgU2tpbGxTbG90X3NldF9wYXJlbnQoQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY1NraWxsVyh1c2VyKSx1c2VyKTsNCiAgICAgICAgICAgIHZhciB2MjAyID0gMDsNCiAgICAgICAgICAgIGlmICggQ1VzZXJDaGFyYWNJbmZvX0dldEN1ckNoYXJhY1NraWxsVHJlZUluZGV4KHVzZXIpID09IC0xIHx8IENVc2VyQ2hhcmFjSW5mb19HZXRDdXJDaGFyYWNTa2lsbFRyZWVJbmRleCh1c2VyKSE9MCApew0KICAgICAgICAgICAgICAgIHYyMDIgPSAzOw0KICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgICAgdjIwMiA9IDQ7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBXb25nV29ya19DU2tpbGxDaGFuZ2VyX0NTa2lsbENoYW5nZXIodjE3Mik7DQogICAgICAgICAgICBXb25nV29ya19DU2tpbGxDaGFuZ2VyX1NraWxsSW5pdGlhbGl6ZSh2MTcyLCB1c2VyLCB2MjAyLCAwKTsNCiAgICAgICAgICAgIENVc2VyX3NlbmRfc2tpbGxfaW5mbyh1c2VyKTsNCiAgICAgICAgICAgIFdvbmdXb3JrX0NTa2lsbENoYW5nZXJfZF9DU2tpbGxDaGFuZ2VyKHYxNzIpOw0KICAgICAgICAgICAgZ290bzMyKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgY2FzZSAxOToNCiAgICAgICAgICAgIENVc2VyQ2hhcmFjSW5mb19JbmNyZWFzZVBvd2VyV2FyUG9pbnQodXNlcixndWlsZEV4cEJvb2spOw0KICAgICAgICAgICAgZ290bzMyKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgY2FzZSAyMDoNCiAgICAgICAgICAgIENVc2VyX2FkanVzdF9jaGFyYWNfc3RhdCh1c2VyKTsNCiAgICAgICAgICAgIGlmKHVzZXIuYWRkKDE0NDM2OSkucmVhZFUzMigpPT0zKXsNCiAgICAgICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfY2xlYXIoYnVmZik7DQogICAgICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9oZWFkZXIoYnVmZiwgMCwgMik7DQogICAgICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9ieXRlKGJ1ZmYsIDEpOw0KICAgICAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfc2hvcnQoYnVmZiwgMSk7DQogICAgICAgICAgICAgICAgQ1VzZXJfbWFrZV9iYXNpY19pbmZvKHVzZXIsIGJ1ZmYsIDEpOw0KICAgICAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9maW5hbGl6ZShidWZmLCAxKTsNCiAgICAgICAgICAgICAgICBDVXNlcl9TZW5kKHVzZXIsIGJ1ZmYpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZ290bzMyKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgY2FzZSAyMToNCiAgICAgICAgICAgIHZhciBjb2luID0gQ0ludmVudG9yeV9HZXRDb2luKENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNJbnZlblIodXNlcikpOw0KICAgICAgICAgICAgQ0ludmVudG9yeV9TZXRDb2luKENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNJbnZlblcodXNlciksY29pbitndWlsZEV4cEJvb2spOw0KICAgICAgICAgICAgY29pbiA9IENJbnZlbnRvcnlfR2V0Q29pbihDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjSW52ZW5SKHVzZXIpKTsNCiAgICAgICAgICAgIGNVc2VySGlzdG9yeUxvZ19Db2luQWRkKHVzZXIuYWRkKDQ5NzQwOCksY29pbixndWlsZEV4cEJvb2ssMyk7DQogICAgICAgICAgICBDVXNlcl9TZW5kVXBkYXRlSXRlbUxpc3QodXNlciwxLDAsMSk7DQogICAgICAgICAgICBnb3RvMzIodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICBjYXNlIDIyOg0KICAgICAgICAgICAgaWYoZ3VpbGRFeHBCb29rPT0xKXsNCiAgICAgICAgICAgICAgICB2YXIgc2tpbGxXID0gQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY1NraWxsVyh1c2VyKTsNCiAgICAgICAgICAgICAgICBTa2lsbFNsb3RfY2xlYXJfYWxsX3NraWxsc19ib3RoKHNraWxsVyk7DQogICAgICAgICAgICAgICAgc2tpbGxXID0gQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY1NraWxsVyh1c2VyKTsNCiAgICAgICAgICAgICAgICBTa2lsbFNsb3Rfc2V0X3BhcmVudChza2lsbFcsdXNlcik7DQogICAgICAgICAgICAgICAgQ1VzZXJfZ2l2ZVB2UFNraWxsVHJlZSh1c2VyLDAsMSwzKTsNCiAgICAgICAgICAgICAgICB2YXIgcHZwR3JhZGUgPSBDVXNlckNoYXJhY0luZm9fZ2V0X3B2cF9ncmFkZSh1c2VyKTsNCiAgICAgICAgICAgICAgICB2YXIgcHZQU2tpbGxQb2ludCA9IFB2UFNraWxsVHJlZVBhcmFtZXRlclNjcmlwdF9nZXRQdlBTa2lsbFBvaW50KA0KICAgICAgICAgICAgICAgICAgICBHX0NEYXRhTWFuYWdlcigpLmFkZCg0MzAwOCksQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfam9iKHVzZXIpDQogICAgICAgICAgICAgICAgICAgICxDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhckZpcnN0R3Jvd1R5cGUodXNlcikNCiAgICAgICAgICAgICAgICAgICAgLENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyU2Vjb25kR3Jvd1R5cGUodXNlcikNCiAgICAgICAgICAgICAgICAgICAgLHB2cEdyYWRlLDANCiAgICAgICAgICAgICAgICApOw0KICAgICAgICAgICAgICAgIHNraWxsVyA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNTa2lsbFcodXNlcik7DQogICAgICAgICAgICAgICAgU2tpbGxTbG90X3NldF9yZW1haW5fc3BfYXRfaW5kZXgoc2tpbGxXLnRvSW50MzIoKSxwdlBTa2lsbFBvaW50LDApOw0KICAgICAgICAgICAgICAgIHNraWxsVyA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNTa2lsbFcodXNlcik7DQogICAgICAgICAgICAgICAgU2tpbGxTbG90X3NldF9yZW1haW5fc3BfYXRfaW5kZXgoc2tpbGxXLnRvSW50MzIoKSxwdlBTa2lsbFBvaW50LDEpOw0KICAgICAgICAgICAgICAgIENVc2VyX3NlbmRfc2tpbGxfaW5mbyh1c2VyKTsNCiAgICAgICAgICAgICAgICB2YXIgcHJlbWl1bUxldGhlTWFuYWdlciA9IENHYW1lTWFuYWdlcl9HZXRQcmVtaXVtTGV0aGVNYW5hZ2VyKEdfQ0dhbWVNYW5hZ2VyKCkpOw0KICAgICAgICAgICAgICAgIGlmKENVc2VyX2lzQWZmZWN0ZWRQcmVtaXVtKHVzZXIudG9JbnQzMigpLDMzKSE9MCl7DQogICAgICAgICAgICAgICAgICAgIGlmKHByZW1pdW1MZXRoZU1hbmFnZXIhPTAgJiYgQ1VzZXJfaXNBZmZlY3RlZFByZW1pdW0odXNlci50b0ludDMyKCksMzMpIT0wKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIENQcmVtaXVtTGV0aGVNYW5hZ2VyX0luaXRMZXRoZVNraWxsKHByZW1pdW1MZXRoZU1hbmFnZXIsIHVzZXIsIDApOw0KICAgICAgICAgICAgICAgICAgICAgICAgQ1ByZW1pdW1MZXRoZU1hbmFnZXJfSW5pdExldGhlU2tpbGwocHJlbWl1bUxldGhlTWFuYWdlciwgdXNlciwgMSk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9ZWxzZSBpZihwcmVtaXVtTGV0aGVNYW5hZ2VyIT0wKXsNCiAgICAgICAgICAgICAgICAgICAgQ1ByZW1pdW1MZXRoZU1hbmFnZXJfVXBkYXRlQmFja3VwU2tpbGxGbGFnKHByZW1pdW1MZXRoZU1hbmFnZXIsdXNlciwwKTsNCiAgICAgICAgICAgICAgICAgICAgQ1ByZW1pdW1MZXRoZU1hbmFnZXJfVXBkYXRlQmFja3VwU2tpbGxGbGFnKHByZW1pdW1MZXRoZU1hbmFnZXIsdXNlciwxKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICB2YXIgY3VyQ2hhcmFjU2tpbGxUcmVlSW5kZXggPSBDVXNlckNoYXJhY0luZm9fR2V0Q3VyQ2hhcmFjU2tpbGxUcmVlSW5kZXgodXNlcik7DQogICAgICAgICAgICAgICAgdmFyIHNraWxsVyA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNTa2lsbFcodXNlcik7DQogICAgICAgICAgICAgICAgU2tpbGxTbG90X2NsZWFyX2FsbF9za2lsbHMoc2tpbGxXLGN1ckNoYXJhY1NraWxsVHJlZUluZGV4KTsNCiAgICAgICAgICAgICAgICBza2lsbFcgPSBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjU2tpbGxXKHVzZXIpOw0KICAgICAgICAgICAgICAgIFNraWxsU2xvdF9zZXRfcGFyZW50KHNraWxsVyx1c2VyKTsNCiAgICAgICAgICAgICAgICB2YXIgdjIxOSA9IDA7DQogICAgICAgICAgICAgICAgY3VyQ2hhcmFjU2tpbGxUcmVlSW5kZXggPSBDVXNlckNoYXJhY0luZm9fR2V0Q3VyQ2hhcmFjU2tpbGxUcmVlSW5kZXgodXNlcik7DQogICAgICAgICAgICAgICAgaWYoY3VyQ2hhcmFjU2tpbGxUcmVlSW5kZXg9PS0xIHx8IGN1ckNoYXJhY1NraWxsVHJlZUluZGV4IT0wKXsNCiAgICAgICAgICAgICAgICAgICAgdjIxOSA9IDE7DQogICAgICAgICAgICAgICAgfWVsc2Ugew0KICAgICAgICAgICAgICAgICAgICB2MjE5ID0gMjsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgQ1VzZXJfZ2l2ZVB2UFNraWxsVHJlZSh1c2VyLDAsMSx2MjE5KTsNCiAgICAgICAgICAgICAgICB2YXIgcHZwR3JhZGUgPSBDVXNlckNoYXJhY0luZm9fZ2V0X3B2cF9ncmFkZSh1c2VyKTsNCiAgICAgICAgICAgICAgICB2YXIgcHZQU2tpbGxQb2ludCA9IFB2UFNraWxsVHJlZVBhcmFtZXRlclNjcmlwdF9nZXRQdlBTa2lsbFBvaW50KA0KICAgICAgICAgICAgICAgICAgICBHX0NEYXRhTWFuYWdlcigpLmFkZCg0MzAwOCksQ1VzZXJDaGFyYWNJbmZvX2dldF9jaGFyYWNfam9iKHVzZXIpDQogICAgICAgICAgICAgICAgICAgICxDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhckZpcnN0R3Jvd1R5cGUodXNlcikNCiAgICAgICAgICAgICAgICAgICAgLENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyU2Vjb25kR3Jvd1R5cGUodXNlcikNCiAgICAgICAgICAgICAgICAgICAgLHB2cEdyYWRlLDANCiAgICAgICAgICAgICAgICApOw0KICAgICAgICAgICAgICAgIHNraWxsVyA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNTa2lsbFcodXNlcik7DQogICAgICAgICAgICAgICAgU2tpbGxTbG90X3NldF9yZW1haW5fc3BfYXRfaW5kZXgoc2tpbGxXLnRvSW50MzIoKSxwdlBTa2lsbFBvaW50LENVc2VyQ2hhcmFjSW5mb19HZXRDdXJDaGFyYWNTa2lsbFRyZWVJbmRleCh1c2VyKSk7DQogICAgICAgICAgICAgICAgQ1VzZXJfc2VuZF9za2lsbF9pbmZvKHVzZXIpOw0KICAgICAgICAgICAgICAgIHZhciBwcmVtaXVtTGV0aGVNYW5hZ2VyID0gQ0dhbWVNYW5hZ2VyX0dldFByZW1pdW1MZXRoZU1hbmFnZXIoR19DR2FtZU1hbmFnZXIoKSk7DQogICAgICAgICAgICAgICAgaWYoQ1VzZXJfaXNBZmZlY3RlZFByZW1pdW0odXNlci50b0ludDMyKCksMzMpIT0wKXsNCiAgICAgICAgICAgICAgICAgICAgaWYocHJlbWl1bUxldGhlTWFuYWdlciE9MCAmJiBDVXNlcl9pc0FmZmVjdGVkUHJlbWl1bSh1c2VyLnRvSW50MzIoKSwzMykhPTApew0KICAgICAgICAgICAgICAgICAgICAgICAgY3VyQ2hhcmFjU2tpbGxUcmVlSW5kZXggPSBDVXNlckNoYXJhY0luZm9fR2V0Q3VyQ2hhcmFjU2tpbGxUcmVlSW5kZXgodXNlcik7DQogICAgICAgICAgICAgICAgICAgICAgICBDUHJlbWl1bUxldGhlTWFuYWdlcl9Jbml0TGV0aGVTa2lsbChwcmVtaXVtTGV0aGVNYW5hZ2VyLCB1c2VyLCBjdXJDaGFyYWNTa2lsbFRyZWVJbmRleCk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9ZWxzZSBpZihwcmVtaXVtTGV0aGVNYW5hZ2VyIT0wKXsNCiAgICAgICAgICAgICAgICAgICAgY3VyQ2hhcmFjU2tpbGxUcmVlSW5kZXggPSBDVXNlckNoYXJhY0luZm9fR2V0Q3VyQ2hhcmFjU2tpbGxUcmVlSW5kZXgodXNlcik7DQogICAgICAgICAgICAgICAgICAgIENQcmVtaXVtTGV0aGVNYW5hZ2VyX1VwZGF0ZUJhY2t1cFNraWxsRmxhZyhwcmVtaXVtTGV0aGVNYW5hZ2VyLHVzZXIsY3VyQ2hhcmFjU2tpbGxUcmVlSW5kZXgpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGdvdG8zMih1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZik7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIGNhc2UgMjM6DQogICAgICAgICAgICB2YXIgdmxvZzMgPSBNZW1vcnkuYWxsb2MoMTYpOw0KICAgICAgICAgICAgdmFyIGNoYXJjTmFtZSA9ICcnOw0KICAgICAgICAgICAgdmFyIGNoYXJjTmFtZVZhbCA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNOYW1lKHN0Tm90aWZ5SW5nYW1lQURJbmZvKTsNCiAgICAgICAgICAgIGlmKCFjaGFyY05hbWVWYWwuaXNOdWxsKCkpDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgY2hhcmNOYW1lID0gIGNoYXJjTmFtZVZhbC5yZWFkVXRmOFN0cmluZygtMSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBjTXlUcmFjZV9jTXlUcmFjZSh2bG9nMyxNZW1vcnkuYWxsb2NVdGY4U3RyaW5nKCJ2b2lkIENVc2VyOjppbmNyZWFzZV9zdGF0dXMoc2hvcnQgaW50KSIpLDE5NDY2LDApOw0KICAgICAgICAgICAgY015VHJhY2Vfb3BlcmF0b3IodmxvZzMudG9JbnQzMigpLE1lbW9yeS5hbGxvY1V0ZjhTdHJpbmcoIk9ORV9EQVlfTEVUSEUgOiBCVVlfU0tJTExfQ09ORklSTV9USUNLRVQsIGNoYXIoJXMpLCBjaGFyX25vKCVkKSwgc3R5bGUoJWQpIiksTWVtb3J5LmFsbG9jVXRmOFN0cmluZyhjaGFyY05hbWUpKTsNCiAgICAgICAgICAgIHZhciBwcmVtaXVtTGV0aGVNYW5hZ2VyID0gQ0dhbWVNYW5hZ2VyX0dldFByZW1pdW1MZXRoZU1hbmFnZXIoR19DR2FtZU1hbmFnZXIoKSk7DQogICAgICAgICAgICBpZihwcmVtaXVtTGV0aGVNYW5hZ2VyIT0wKXsNCiAgICAgICAgICAgICAgICBDUHJlbWl1bUxldGhlTWFuYWdlcl9Db25maXJtU2tpbGxSZXEocHJlbWl1bUxldGhlTWFuYWdlcix1c2VyKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGdvdG8zMih1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZik7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIGNhc2UgMjU6DQogICAgICAgICAgICB2YXIgaXZlblcgPSBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjSW52ZW5XKHVzZXIpOw0KICAgICAgICAgICAgQXZhdGFyQ29pbl9BZGQoaXZlblcuYWRkKDE2MjQpLGd1aWxkRXhwQm9vayk7DQogICAgICAgICAgICBBdmF0YXJDb2luX1NhdmVUb0RCKHVzZXIpOw0KICAgICAgICAgICAgQXZhdGFyQ29pbl9TZW5kU3luY1BhY2tldCh1c2VyKTsNCiAgICAgICAgICAgIEF2YXRhckNvaW5fSGlzdG9yeUxvZ19BZGRMb2codXNlcixwdHIoZ3VpbGRFeHBCb29rKSk7DQogICAgICAgICAgICBnb3RvMzIodXNlcixidWZmLHYxODQsZ3VpbGRFeHBCb29rLHNsb2YpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICBkZWZhdWx0Og0KICAgICAgICAgICAgZ290bzMyKHVzZXIsYnVmZix2MTg0LGd1aWxkRXhwQm9vayxzbG9mKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICB9DQp9DQoNCmZ1bmN0aW9uIGdvdG8zMih1c2VyLGJ1ZmYsdjE4NCxndWlsZEV4cEJvb2ssc2xvZil7DQogICAgSW50ZXJmYWNlUGFja2V0QnVmX2NsZWFyKGJ1ZmYpOw0KICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfaGVhZGVyKGJ1ZmYsIDEsIDMyKTsNCiAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2J5dGUoYnVmZiwgMSk7DQogICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9zaG9ydChidWZmLCBzbG9mKTsNCiAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2J5dGUoYnVmZiwgdjE4NCk7DQogICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9pbnQoYnVmZiwgZ3VpbGRFeHBCb29rKTsNCiAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X3Nob3J0KGJ1ZmYsIDApOw0KICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfc2hvcnQoYnVmZiwgMCk7DQogICAgSW50ZXJmYWNlUGFja2V0QnVmX2ZpbmFsaXplKGJ1ZmYsIDEpOw0KICAgIENVc2VyX1NlbmQodXNlciwgYnVmZik7DQogICAgaWYodXNlci5hZGQoMTQ0MzY5KjQpLnJlYWRVMzIoKSA9PSA1KXsNCiAgICAgICAgdmFyIHBhcnR5ID0gQ1VzZXJfR2V0UGFydHkodXNlcik7DQogICAgICAgIGlmKHBhcnR5IT0wKXsNCiAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9jbGVhcihidWZmKTsNCiAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfaGVhZGVyKGJ1ZmYsIDAsIDIpOw0KICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9ieXRlKGJ1ZmYsIDEpOw0KICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9zaG9ydChidWZmLCAxKTsNCiAgICAgICAgICAgIENVc2VyX21ha2VfYmFzaWNfaW5mbyh1c2VyLCBidWZmLCAxKTsNCiAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9maW5hbGl6ZShidWZmLCAxKTsNCiAgICAgICAgICAgIENQYXJ0eV9zZW5kX3RvX3BhcnR5KHBhcnR5LCBidWZmKTsNCiAgICAgICAgfQ0KICAgIH1lbHNlIGlmKHVzZXIuYWRkKDE0NDM2OSo0KS5yZWFkVTMyKCkgPT0gOCl7DQogICAgICAgIHZhciB3YXJSb29tID0gQ1VzZXJfR2V0V2FyUm9vbSh1c2VyKTsNCiAgICAgICAgaWYod2FyUm9vbSE9MCl7DQogICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfY2xlYXIoYnVmZik7DQogICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2hlYWRlcihidWZmLCAwLCAyKTsNCiAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfYnl0ZShidWZmLCAxKTsNCiAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfc2hvcnQoYnVmZiwgMSk7DQogICAgICAgICAgICBDVXNlcl9tYWtlX2Jhc2ljX2luZm8odXNlciwgYnVmZiwgMSk7DQogICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfZmluYWxpemUoYnVmZiwgMSk7DQogICAgICAgICAgICBXYXJSb29tX1NlbmRUb1Jvb20od2FyUm9vbSwgYnVmZik7DQogICAgICAgIH0NCiAgICB9DQogICAgUGFja2V0R3VhcmRfZnJlZV9QYWNrZXRHdWFyZChidWZmKTsNCn0NCg0KLy/orr7nva7mnIDlpKfnrYnnuqcNCmZ1bmN0aW9uIHNldE1heFVwR3JhZGUobWF4TGV2ZWwpew0KICAgIGNvbnNvbGUubG9nKCI9PT09PT09PT09PT09PT09PT09PT09PiDorr7nva7mnIDlpKfnrYnnuqciICsgbWF4TGV2ZWwpDQogICAgaWYobWF4TGV2ZWwpIHsNCiAgICAgICAgY2FsY3VyYXRlVXNlck1heExldmVsKG1heExldmVsKTsNCiAgICAgICAgc2V0VXNlck1heExldmVsKG1heExldmVsKTsNCiAgICAgICAgaXNUaGVyZURhaWx5VHJhaW5pbmdRdWVzdExpc3QobWF4TGV2ZWwpOw0KICAgICAgICBjYWxMZXZlbFVwSXRlbUNoZWNrKG1heExldmVsKTsNCiAgICAgICAgZ2V0TGV2ZWxTZWN0aW9uRXhwKCk7DQogICAgICAgIGdldFNwQXRMZXZlbFVwKG1heExldmVsKTsNCiAgICAgICAgc2V0TGV2ZWxFeHAobWF4TGV2ZWwpOw0KICAgICAgICBzZXRSZXdhcmRTcChtYXhMZXZlbCk7DQogICAgICAgIGNoZWNrTGV2ZWxVcChtYXhMZXZlbCk7DQogICAgICAgIGdhaW5FeHBTcChtYXhMZXZlbCk7DQogICAgICAgIG9uTGV2ZWxVcChtYXhMZXZlbCk7DQogICAgICAgIGluY3JlYXNlU3RhdHVzKG1heExldmVsKTsNCiAgICAgICAgZ2V0UmV0dXJuVXNlckxldmVsS2V5KG1heExldmVsKQ0KICAgIH0NCn0=', '设置最大等级', 'setUserMaxLevel', 0);
            INSERT INTO da_frida_function (children_function, function_name, function_context, remark, function_key, is_system_fun) VALUES('api_GameWorld_SendNotiPacketMessage,sever_base_funcation,load_json_config', '角色登入登出处理', 'Ly/op5LoibLnmbvlhaXnmbvlh7rlpITnkIYNCiANCi8v6KeS6Imy55m75YWl55m75Ye65aSE55CGDQpmdW5jdGlvbiBob29rX3VzZXJfaW5vdXRfZ2FtZV93b3JsZCgpIHsNCiAgICBjb25zb2xlLmxvZygiPT09PT09PT09PT09PT09PT09PT09PT4g5byA5ZCv6KeS6Imy55m75YWl55m75Ye65aSE55CGIik7DQogICAgLy/pgInmi6nop5LoibLlpITnkIblh73mlbAgSG9vayBHYW1lV29ybGQ6OnJlYWNoX2dhbWVfd29ybGQNCiAgICBJbnRlcmNlcHRvci5hdHRhY2gocHRyKDB4ODZDNEU1MCksIHsNCiAgICAgICAgLy/lh73mlbDlhaXlj6MsIOaLv+WIsOWHveaVsOWPguaVsGFyZ3MNCiAgICAgICAgb25FbnRlcjogZnVuY3Rpb24gKGFyZ3MpIHsNCiAgICAgICAgICAgIC8v5L+d5a2Y5Ye95pWw5Y+C5pWwDQogICAgICAgICAgICB0aGlzLnVzZXIgPSBhcmdzWzFdOyAgICAgICAgICANCiAgICAgICAgICAgIHZhciBjaGFyYWNfbm8gPSBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjTm8odGhpcy51c2VyKTsNCiAgICAgICAgICAgIHZhciBjaGFyYWNfTmFtZSA9IGFwaV9DVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjTmFtZSh0aGlzLnVzZXIpOw0KICAgICAgICAgICAgY29uc29sZS5sb2coJ+inkuiJsjwnK2NoYXJhY19OYW1lKyc6JytjaGFyYWNfbm8rJz7nmbvlvZXmuLjmiI8nKTsNCiAgICAgICAgICAgIHZhciBnYW1lX2NvbmZpZyA9IGdsb2JhbF9jb25maWdbJ2dhbWVfY29uZmlnJ107DQogICAgICAgICAgICBpZihnYW1lX2NvbmZpZ1snZW5hYmxlX3VzZXJfbG9naW5fd2VsY29tZSddID09PSAndHJ1ZScpew0KICAgICAgICAgICAgIC8v57uZ6KeS6Imy5Y+R5raI5oGv6Zeu5YCZDQogICAgICAgICAgICAgYXBpX0NVc2VyX1NlbmROb3RpUGFja2V0TWVzc2FnZSh0aGlzLnVzZXIsIGdhbWVfY29uZmlnWydlbmFibGVfdXNlcl9sb2dpbl93ZWxjb21lX3RleHQnXS5yZXBsYWNlKCclcycsIGNoYXJhY19OYW1lKSwgMSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICAvL+mikemBk+WFrOWRig0KICAgICAgICAgICAgaWYoZ2FtZV9jb25maWdbJ2VuYWJsZV91c2VyX2xvZ2luX25vdGljZSddID09PSAndHJ1ZScpew0KICAgICAgICAgICAgIHB1c2hTZW5kTm90aVBhY2tldE1lc3NhZ2UoZ2FtZV9jb25maWdbJ2VuYWJsZV91c2VyX2xvZ2luX25vdGljZV90ZXh0J10ucmVwbGFjZSgnJXMnLCBjaGFyYWNfTmFtZSksMTYpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdmFyIHVzZXJEdG89ew0KICAgICAgICAgICAgICAgICd0eXBlJzonZ2FtZV91c2VyX2xvZ2luJywNCiAgICAgICAgICAgICAgICAnZGF0YSc6IGNoYXJhY19ubw0KICAgICAgICAgICAgfTsNCiAgICAgICAgICAgIHNlbmQoSlNPTi5zdHJpbmdpZnkodXNlckR0bykpOw0KICAgICAgICB9LA0KICAgICAgICAvL+WOn+WHveaVsOaJp+ihjOWujOavlSwg6L+Z6YeM5Y+v5Lul5b6X5Yiw5bm25L+u5pS56L+U5Zue5YC8cmV0dmFsDQogICAgICAgIG9uTGVhdmU6IGZ1bmN0aW9uIChyZXR2YWwpIHsNCiAgICAgICAgfQ0KICAgIH0pOw0KDQogICAgLy/op5LoibLpgIDlh7rml7blpITnkIblh73mlbAgSG9vayBHYW1lV29ybGQ6OmxlYXZlX2dhbWVfd29ybGQNCiAgICBJbnRlcmNlcHRvci5hdHRhY2gocHRyKDB4ODZDNTI4OCksIHsNCiAgICAgICAgb25FbnRlcjogZnVuY3Rpb24gKGFyZ3MpIHsNCiAgICAgICAgICAgIHZhciB1c2VyID0gYXJnc1sxXTsNCiAgICAgICAgICAgIHRoaXMudXNlciA9IHVzZXI7DQogICAgICAgIH0NCiAgICB9KTsNCiAgICAvL+inkuiJsumAgOWHuuaXtuWkhOeQhuWHveaVsCBIb29rIENHYW1lTWFuYWdlcjo6dXNlcl9leGl0DQogICAgSW50ZXJjZXB0b3IuYXR0YWNoKHB0cigweDA4Mjk4NWE4KSwgew0KDQogICAgICAgIG9uRW50ZXI6IGZ1bmN0aW9uIChhcmdzKSB7DQogICAgICAgICAgICB2YXIgdXNlciA9IGFyZ3NbMV07DQogICAgICAgICAgICB0aGlzLnVzZXIgPSB1c2VyOw0KICAgICAgICAgICAgdmFyIGNoYXJhY19ubyA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNObyh0aGlzLnVzZXIpOw0KICAgICAgICAgICAgdmFyIGNoYXJhY19OYW1lID0gYXBpX0NVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNOYW1lKHRoaXMudXNlcik7DQogICAgICAgICAgICBjb25zb2xlLmxvZygn6KeS6ImyPCcrY2hhcmFjX05hbWUrJzonK2NoYXJhY19ubysnPumAgOWHuua4uOaIjycpOw0KICAgICAgICAgICAgLy/popHpgZPlhazlkYoNCiAgICAgICAgICAgIGlmKGdhbWVfY29uZmlnWydlbmFibGVfdXNlcl9leGl0X25vdGljZSddID09PSAndHJ1ZScpew0KICAgICAgICAgICAgIHB1c2hTZW5kTm90aVBhY2tldE1lc3NhZ2UoZ2FtZV9jb25maWdbJ2VuYWJsZV91c2VyX2V4aXRfbm90aWNlX3RleHQnXS5yZXBsYWNlKCclcycsIGNoYXJhY19OYW1lKSwxNik7DQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIG9uTGVhdmU6IGZ1bmN0aW9uIChyZXR2YWwpIHsNCiAgICAgICAgICAgIC8vIHZhciBhY2NJZCA9IENVc2VyX2dldF9hY2NfaWQodGhpcy51c2VyKTsNCiAgICAgICAgfQ0KICAgIH0pOw0KfQ==', '角色登入登出处理', 'hook_user_inout_game_world', 0);
            INSERT INTO da_frida_function (children_function, function_name, function_context, remark, function_key, is_system_fun) VALUES('sever_base_funcation', '魔法封印自动解封', 'Ly/prZTms5XlsIHljbDoh6rliqjop6PlsIENCmZ1bmN0aW9uIGF1dG9fdW5zZWFsX3JhbmRvbV9vcHRpb25fZXF1aXBtZW50KCkgew0KICAgIC8vQ0ludmVudG9yeTo6aW5zZXJ0SXRlbUludG9JbnZlbnRvcnkNCiAgICBjb25zb2xlLmxvZygiPT09PT09PT09PT09PT09PT09PT09PT4g6a2U5rOV5bCB5Y2w6Ieq5Yqo6Kej5bCBIik7DQogICAgSW50ZXJjZXB0b3IuYXR0YWNoKHB0cigweDg1MDJEODYpLCB7DQogICAgICAgIG9uRW50ZXI6IGZ1bmN0aW9uIChhcmdzKSB7DQogICAgICAgICAgICB0aGlzLnVzZXIgPSBhcmdzWzBdLnJlYWRQb2ludGVyKCk7DQogICAgICAgIH0sDQogICAgICAgIG9uTGVhdmU6IGZ1bmN0aW9uIChyZXR2YWwpIHsNCg0KICAgICAgICAgICAgLy/nianlk4HmoI/mlrDlop7nianlk4HnmoTkvY3nva4NCiAgICAgICAgICAgIHZhciBzbG90ID0gcmV0dmFsLnRvSW50MzIoKTsNCiAgICAgICAgICAgIGlmIChzbG90ID4gMCkgew0KICAgICAgICAgICAgICAgIC8v6I635Y+W6YGT5YW355qE6KeS6ImyDQogICAgICAgICAgICAgICAgdmFyIHVzZXIgPSB0aGlzLnVzZXI7DQoNCiAgICAgICAgICAgICAgICAvL+inkuiJsuiDjOWMhQ0KICAgICAgICAgICAgICAgIHZhciBpbnZlbiA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNJbnZlblcodXNlcik7DQoNCiAgICAgICAgICAgICAgICAvL+iDjOWMheS4reaWsOWinueahOmBk+WFtw0KICAgICAgICAgICAgICAgIHZhciBpbnZlbl9pdGVtID0gQ0ludmVudG9yeV9HZXRJbnZlblJlZihpbnZlbiwgSU5WRU5UT1JZX1RZUEVfSVRFTSwgc2xvdCk7DQoNCiAgICAgICAgICAgICAgICAvL+i/h+a7pOmBk+WFt+exu+Weiw0KICAgICAgICAgICAgICAgIGlmICghSW52ZW5fSXRlbV9pc0VxdWlwYWJsZUl0ZW1UeXBlKGludmVuX2l0ZW0pKQ0KICAgICAgICAgICAgICAgICAgICByZXR1cm47DQoNCiAgICAgICAgICAgICAgICAvL+ijheWkh2lkDQogICAgICAgICAgICAgICAgdmFyIGl0ZW1faWQgPSBJbnZlbl9JdGVtX2dldEtleShpbnZlbl9pdGVtKTsNCg0KICAgICAgICAgICAgICAgIC8vcHZm5Lit6I635Y+W6KOF5aSH5pWw5o2uDQogICAgICAgICAgICAgICAgdmFyIGNpdGVtID0gQ0RhdGFNYW5hZ2VyX2ZpbmRfaXRlbShHX0NEYXRhTWFuYWdlcigpLCBpdGVtX2lkKTsNCg0KICAgICAgICAgICAgICAgIC8v5qOA5p+l6KOF5aSH5piv5ZCm5Li66a2U5rOV5bCB5Y2w57G75Z6LDQogICAgICAgICAgICAgICAgaWYgKCFDRXF1aXBJdGVtX0lzUmFuZG9tT3B0aW9uKGNpdGVtKSkNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KDQogICAgICAgICAgICAgICAgLy/mmK/lkKblt7Looqvop6PpmaTprZTms5XlsIHljbDvvIjprZTms5XlsIHljbDliY0xMOS4quWtl+iKguaYr+WQpuS4ujDvvIkNCiAgICAgICAgICAgICAgICB2YXIgcmFuZG9tX29wdGlvbiA9IGludmVuX2l0ZW0uYWRkKDM3KTsNCiAgICAgICAgICAgICAgICBpZiAocmFuZG9tX29wdGlvbi5yZWFkVTMyKCkgfHwgcmFuZG9tX29wdGlvbi5hZGQoNCkucmVhZFUzMigpIHx8IHJhbmRvbV9vcHRpb24uYWRkKDgpLnJlYWRTaG9ydCgpKSB7DQogICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAvL+Wwneivleino+mZpOmtlOazleWwgeWNsA0KICAgICAgICAgICAgICAgIHZhciByZXQgPSByYW5kb21fb3B0aW9uX0NSYW5kb21PcHRpb25JdGVtSGFuZGxlX2dpdmVfb3B0aW9uKHB0cigweDk0MUY4MjApLnJlYWRQb2ludGVyKCksIGl0ZW1faWQsIENJdGVtX0dldFJhcml0eShjaXRlbSksIENJdGVtX0dldFVzYWJsZUxldmVsKGNpdGVtKQ0KICAgICAgICAgICAgICAgICAgICAsIENJdGVtX0dldEl0ZW1Hcm91cE5hbWUoY2l0ZW0pLCBDRXF1aXBJdGVtX0dldFJhbmRvbU9wdGlvbkdyYWRlKGNpdGVtKSwgaW52ZW5faXRlbS5hZGQoMzcpKTsNCiAgICAgICAgICAgICAgICBpZiAocmV0KSB7DQogICAgICAgICAgICAgICAgICAgIC8v6YCa55+l5a6i5oi356uv5pyJ6KOF5aSH5pu05pawDQogICAgICAgICAgICAgICAgICAgIENVc2VyX1NlbmRVcGRhdGVJdGVtTGlzdCh1c2VyLCAxLCAwLCBzbG90KTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9KTsNCn0=', '魔法封印自动解封', 'auto_unseal_random_option_equipment', 0);
            INSERT INTO da_frida_function (children_function, function_name, function_context, remark, function_key, is_system_fun) VALUES('sever_base_funcation', '发送邮件', 'DQoNCg0KLy/lj5Hns7vnu5/pgq7ku7Yo5aSa6YGT5YW3KSjop5LoibJjaGFyYWNfbm8sIOmCruS7tuagh+mimCwg6YKu5Lu25q2j5paHLCDph5HluIHmlbDph48sIOmBk+WFt+WIl+ihqCkNCmZ1bmN0aW9uIGFwaV9Xb25nV29ya19DTWFpbEJveEhlbHBlcl9SZXFEQlNlbmROZXdTeXN0ZW1NdWx0aU1haWwodGFyZ2V0X2NoYXJhY19ubywgdGl0bGUsIHRleHQsIGdvbGQsIGl0ZW1fbGlzdCkgew0KICAgIGNvbnNvbGUubG9nKCI9PT09PT09PT09PT09PT09PT09PT09PiDlj5Hns7vnu5/pgq7ku7Yo5aSa6YGT5YW3KSIpDQogICAgLy/mt7vliqDpgZPlhbfpmYTku7YNCiAgICB2YXIgdmVjdG9yID0gTWVtb3J5LmFsbG9jKDEwMCk7DQogICAgc3RkX3ZlY3Rvcl9zdGRfcGFpcl9pbnRfaW50X3ZlY3Rvcih2ZWN0b3IpOw0KICAgIHN0ZF92ZWN0b3Jfc3RkX3BhaXJfaW50X2ludF9jbGVhcih2ZWN0b3IpOw0KDQogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpdGVtX2xpc3QubGVuZ3RoOyArK2kpIHsNCiAgICAgICAgdmFyIGl0ZW1faWQgPSBNZW1vcnkuYWxsb2MoNCk7ICAgICAgICAgIC8v6YGT5YW3aWQNCiAgICAgICAgdmFyIGl0ZW1fY250ID0gTWVtb3J5LmFsbG9jKDQpOyAgICAgICAgIC8v6YGT5YW35pWw6YePDQoNCiAgICAgICAgaXRlbV9pZC53cml0ZUludChpdGVtX2xpc3RbaV1bMF0pOw0KICAgICAgICBpdGVtX2NudC53cml0ZUludChpdGVtX2xpc3RbaV1bMV0pOw0KDQogICAgICAgIHZhciBwYWlyID0gTWVtb3J5LmFsbG9jKDEwMCk7DQogICAgICAgIHN0ZF9tYWtlX3BhaXJfaW50X2ludChwYWlyLCBpdGVtX2lkLCBpdGVtX2NudCk7DQoNCiAgICAgICAgc3RkX3ZlY3Rvcl9zdGRfcGFpcl9pbnRfaW50X3B1c2hfYmFjayh2ZWN0b3IsIHBhaXIpOw0KICAgIH0NCg0KICAgIC8v6YKu5Lu25pSv5oyBMTDkuKrpgZPlhbfpmYTku7bmoLzlrZANCiAgICB2YXIgYWRkaXRpb25fc2xvdHMgPSBNZW1vcnkuYWxsb2MoMTAwMCk7DQogICAgZm9yICh2YXIgaSA9IDA7IGkgPCAxMDsgKytpKSB7DQogICAgICAgIEludmVuX0l0ZW1fSW52ZW5fSXRlbShhZGRpdGlvbl9zbG90cy5hZGQoaSAqIDYxKSk7DQogICAgfQ0KICAgIFdvbmdXb3JrX0NNYWlsQm94SGVscGVyX01ha2VTeXN0ZW1NdWx0aU1haWxQb3N0YWwodmVjdG9yLCBhZGRpdGlvbl9zbG90cywgMTApOw0KDQoNCiAgICB2YXIgdGl0bGVfcHRyID0gTWVtb3J5LmFsbG9jVXRmOFN0cmluZyh0aXRsZSk7ICAgICAgLy/pgq7ku7bmoIfpopgNCiAgICB2YXIgdGV4dF9wdHIgPSBNZW1vcnkuYWxsb2NVdGY4U3RyaW5nKHRleHQpOyAgICAgICAgLy/pgq7ku7bmraPmlocNCiAgICB2YXIgdGV4dF9sZW4gPSBzdHJsZW4odGV4dF9wdHIpOyAgICAgICAgICAgICAgICAgICAgLy/pgq7ku7bmraPmlofplb/luqYNCg0KICAgIC8v5Y+R6YKu5Lu257uZ6KeS6ImyDQogICAgV29uZ1dvcmtfQ01haWxCb3hIZWxwZXJfUmVxREJTZW5kTmV3U3lzdGVtTXVsdGlNYWlsKHRpdGxlX3B0ciwgYWRkaXRpb25fc2xvdHMsIGl0ZW1fbGlzdC5sZW5ndGgsIGdvbGQsIHRhcmdldF9jaGFyYWNfbm8sIHRleHRfcHRyLCB0ZXh0X2xlbiwgMCwgOTksIDEpOw0KfQ==', '发送邮件', 'send_mail_api', 0);
            INSERT INTO da_frida_function (children_function, function_name, function_context, remark, function_key, is_system_fun) VALUES('hook_TimerDispatcher_dispatch', '世界广播(频道内公告)', 'DQoNCi8v5Y+R6YCB5a2X56ym5Liy57uZ5a6i5oi356uvDQpmdW5jdGlvbiBhcGlfSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9zdHJpbmcocGFja2V0X2d1YXJkLCBzKQ0Kew0KICAgIHZhciBwID0gTWVtb3J5LmFsbG9jVXRmOFN0cmluZyhzKTsNCiAgICB2YXIgbGVuID0gc3RybGVuKHApOw0KICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfaW50KHBhY2tldF9ndWFyZCwgbGVuKTsNCiAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2JpbmFyeShwYWNrZXRfZ3VhcmQsIHAsIGxlbik7DQoNCiAgICByZXR1cm47DQp9DQoNCiAvL+S4lueVjOW5v+aSrSjpopHpgZPlhoXlhazlkYopDQpmdW5jdGlvbiBhcGlfR2FtZVdvcmxkX1NlbmROb3RpUGFja2V0TWVzc2FnZShtc2csIG1zZ190eXBlKQ0Kew0KICAgIHZhciBwYWNrZXRfZ3VhcmQgPSBhcGlfUGFja2V0R3VhcmRfUGFja2V0R3VhcmQoKTsNCiAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2hlYWRlcihwYWNrZXRfZ3VhcmQsIDAsIDEyKTsNCiAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2J5dGUocGFja2V0X2d1YXJkLCBtc2dfdHlwZSk7DQogICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9zaG9ydChwYWNrZXRfZ3VhcmQsIDApOw0KICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfYnl0ZShwYWNrZXRfZ3VhcmQsIDApOw0KICAgIGFwaV9JbnRlcmZhY2VQYWNrZXRCdWZfcHV0X3N0cmluZyhwYWNrZXRfZ3VhcmQsIG1zZyk7DQogICAgSW50ZXJmYWNlUGFja2V0QnVmX2ZpbmFsaXplKHBhY2tldF9ndWFyZCwgMSk7DQogICAgR2FtZVdvcmxkX3NlbmRfYWxsX3dpdGhfc3RhdGUoR19HYW1lV29ybGQoKSwgcGFja2V0X2d1YXJkLCAzKTsgIC8v5Y+q57uZc3RhdGUgPj0gMyDnmoTnjqnlrrblj5HlhazlkYoNCiAgICBEZXN0cm95X1BhY2tldEd1YXJkX1BhY2tldEd1YXJkKHBhY2tldF9ndWFyZCk7DQp9DQoNCi8v5ZCR5a6a5pe25Lu75Yqh5YiX6KGo5re75Yqg5LiA5Liq5Y+R6YCB5YWs5ZGK55qE5a6a5pe25Lu75YqhDQpmdW5jdGlvbiBwdXNoU2VuZE5vdGlQYWNrZXRNZXNzYWdlKG1zZywgbXNnX3R5cGUpew0KICB2YXIgYXJncyA9IFtdOw0KICBhcmdzLnB1c2gobXNnKTsNCiAgYXJncy5wdXNoKG1zZ190eXBlKTsNCiAgYXBpX3NjaGVkdWxlT25NYWluVGhyZWFkKGFwaV9HYW1lV29ybGRfU2VuZE5vdGlQYWNrZXRNZXNzYWdlLCBhcmdzKTsNCn0NCg==', '世界广播(频道内公告)', 'api_GameWorld_SendNotiPacketMessage', 0);
            INSERT INTO da_frida_function (children_function, function_name, function_context, remark, function_key, is_system_fun) VALUES('sever_base_funcation', '点券或代币券充值', 'Ly/ngrnliLjlhYXlgLwgKOemgeatouebtOaOpeS/ruaUuWJpbGxpbmflupPmiYDmnInooajlrZfmrrUsIOeCueWIuOebuOWFs+aTjeS9nOWKoeW/heiwg+eUqOaVsOaNruW6k+WtmOWCqOi/h+eoiyEpDQpmdW5jdGlvbiBhcGlfcmVjaGFyZ2VfY2FzaF9jZXJhKHVzZXIsIGFtb3VudCkNCnsNCiAgICAvL+WFheWAvA0KICAgIFdvbmdXb3JrX0lQR19DSVBHSGVscGVyX0lQR0lucHV0KHB0cigweDk0MUY3MzQpLnJlYWRQb2ludGVyKCksIHVzZXIsIDUsIGFtb3VudCwgcHRyKDB4OEM3RkEyMCksIHB0cigweDhDN0ZBMjApLA0KICAgICAgICBNZW1vcnkuYWxsb2NVdGY4U3RyaW5nKCdHTScpLCBwdHIoMCksIHB0cigwKSwgcHRyKDApKTsNCg0KICAgIC8v6YCa55+l5a6i5oi356uv5YWF5YC857uT5p6cDQogICAgV29uZ1dvcmtfSVBHX0NJUEdIZWxwZXJfSVBHUXVlcnkocHRyKDB4OTQxRjczNCkucmVhZFBvaW50ZXIoKSwgdXNlcik7DQp9DQoNCi8v5Luj5biB5YWF5YC8ICjnpoHmraLnm7TmjqXkv67mlLliaWxsaW5n5bqT5omA5pyJ6KGo5a2X5q61LCDngrnliLjnm7jlhbPmk43kvZzliqHlv4XosIPnlKjmlbDmja7lupPlrZjlgqjov4fnqIshKQ0KZnVuY3Rpb24gYXBpX3JlY2hhcmdlX2Nhc2hfY2VyYV9wb2ludCh1c2VyLCBhbW91bnQpDQp7DQogICAgLy/lhYXlgLwNCiAgICBXb25nV29ya19JUEdfQ0lQR0hlbHBlcl9JUEdJbnB1dFBvaW50KHB0cigweDk0MUY3MzQpLnJlYWRQb2ludGVyKCksIHVzZXIsIGFtb3VudCwgNCwgcHRyKDApLCBwdHIoMCkpOw0KDQogICAgLy/pgJrnn6XlrqLmiLfnq6/lhYXlgLznu5PmnpwNCiAgICBXb25nV29ya19JUEdfQ0lQR0hlbHBlcl9JUEdRdWVyeShwdHIoMHg5NDFGNzM0KS5yZWFkUG9pbnRlcigpLCB1c2VyKTsNCn0=', '点券或代币券充值', 'api_recharge_cash_cera_point', 0);
            INSERT INTO da_frida_function (children_function, function_name, function_context, remark, function_key, is_system_fun) VALUES('sever_base_funcation', '挂接消息分发线程', 'DQoNCg0KLy/pnIDopoHlnKhkaXNwYXRjaGVy57q/56iL5omn6KGM55qE5Lu75Yqh6Zif5YiXKOeDreWKoOi9veWQjuS8muiiq+a4heepuikNCnZhciB0aW1lcl9kaXNwYXRjaGVyX2xpc3QgPSBbXTsNCg0KLy/lnKhkaXNwYXRjaGVy57q/56iL5omn6KGMKGFyZ3PkuLrlh73mlbBm55qE5Y+C5pWw57uE5oiQ55qE5pWw57uELCDoi6Vm5peg5Y+C5pWwYXJnc+WPr+S4um51bGwpDQpmdW5jdGlvbiBhcGlfc2NoZWR1bGVPbk1haW5UaHJlYWQoZiwgYXJncykNCnsNCiAgICAvL+e6v+eoi+WuieWFqA0KICAgIHZhciBndWFyZCA9IGFwaV9HdWFyZF9NdXRleF9HdWFyZCgpOw0KDQogICAgdGltZXJfZGlzcGF0Y2hlcl9saXN0LnB1c2goW2YsIGFyZ3NdKTsNCg0KICAgIERlc3Ryb3lfR3VhcmRfTXV0ZXhfR3VhcmQoZ3VhcmQpOw0KDQogICAgcmV0dXJuOw0KfQ0KDQovL+iuvue9ruWumuaXtuWZqCDliLDmnJ/lkI7lnKhkaXNwYXRjaGVy57q/56iL5omn6KGMDQpmdW5jdGlvbiBhcGlfc2NoZWR1bGVPbk1haW5UaHJlYWRfZGVsYXkoZiwgYXJncywgZGVsYXkpDQp7DQogICAgc2V0VGltZW91dChhcGlfc2NoZWR1bGVPbk1haW5UaHJlYWQsIGRlbGF5LCBmLCBhcmdzKTsNCn0NCg0KDQovL+eUs+ivt+mUgSjnlLPor7flkI7liqHlv4XmiYvliqjph4rmlL4hISEpDQpmdW5jdGlvbiBhcGlfR3VhcmRfTXV0ZXhfR3VhcmQoKQ0Kew0KICAgIHZhciBhMSA9IE1lbW9yeS5hbGxvYygxMDApOw0KICAgIEd1YXJkX011dGV4X0d1YXJkKGExLCBHX1RpbWVyUXVldWUoKS5hZGQoMTYpKTsNCg0KICAgIHJldHVybiBhMTsNCn0NCg0KLy/lpITnkIbliLDmnJ/nmoToh6rlrprkuYnlrprml7blmagNCmZ1bmN0aW9uIGRvX3RpbWVyX2Rpc3BhdGNoKCkNCnsNCiAgICAvL+W9k+WJjeW+heWkhOeQhueahOWumuaXtuWZqOS7u+WKoeWIl+ihqA0KICAgIHZhciB0YXNrX2xpc3QgPSBbXTsNCg0KICAgIC8v57q/56iL5a6J5YWoDQogICAgdmFyIGd1YXJkID0gYXBpX0d1YXJkX011dGV4X0d1YXJkKCk7DQoNCiAgICAvL+S+neasoeWPluWHuumYn+WIl+S4reeahOS7u+WKoQ0KICAgIHdoaWxlKHRpbWVyX2Rpc3BhdGNoZXJfbGlzdC5sZW5ndGggPiAwKQ0KICAgIHsNCiAgICAgICAgLy/lhYjlhaXlhYjlh7oNCiAgICAgICAgdmFyIHRhc2sgPSB0aW1lcl9kaXNwYXRjaGVyX2xpc3Quc2hpZnQoKTsNCiAgICAgICAgdGFza19saXN0LnB1c2godGFzayk7DQogICAgfQ0KDQogICAgRGVzdHJveV9HdWFyZF9NdXRleF9HdWFyZChndWFyZCk7DQoNCiAgICAvL+aJp+ihjOS7u+WKoQ0KICAgIGZvcih2YXIgaT0wOyBpPHRhc2tfbGlzdC5sZW5ndGg7ICsraSkNCiAgICB7DQogICAgICAgIHZhciB0YXNrID0gdGFza19saXN0W2ldOw0KDQogICAgICAgIHZhciBmID0gdGFza1swXTsNCiAgICAgICAgdmFyIGFyZ3MgPSB0YXNrWzFdOw0KDQogICAgICAgIGYuYXBwbHkobnVsbCwgYXJncyk7DQogICAgfQ0KfQ0KDQoNCi8v5oyC5o6l5raI5oGv5YiG5Y+R57q/56iLIOehruS/neS7o+eggee6v+eoi+WuieWFqA0KZnVuY3Rpb24gaG9va19UaW1lckRpc3BhdGNoZXJfZGlzcGF0Y2goKQ0Kew0KICAgIC8vaG9vayBUaW1lckRpc3BhdGNoZXI6OmRpc3BhdGNoDQogICAgLy/mnI3liqHlmajlhoXnva7lrprml7blmagg5q+P56eS6Iez5bCR5omn6KGM5LiA5qyhDQogICAgSW50ZXJjZXB0b3IuYXR0YWNoKHB0cigweDg2MzJBMTgpLCB7DQoNCiAgICAgICAgb25FbnRlcjogZnVuY3Rpb24gKGFyZ3MpIHsNCiAgICAgICAgfSwNCiAgICAgICAgb25MZWF2ZTogZnVuY3Rpb24gKHJldHZhbCkgew0KDQogICAgICAgICAgICAvL+a4heepuuetieW+heaJp+ihjOeahOS7u+WKoemYn+WIlw0KICAgICAgICAgICAgZG9fdGltZXJfZGlzcGF0Y2goKTsNCiAgICAgICAgfQ0KICAgIH0pOw0KfQ==', '挂接消息分发线程 执行需要在主线程运行的代码', 'hook_TimerDispatcher_dispatch', 0);
            INSERT INTO da_frida_function (children_function, function_name, function_context, remark, function_key, is_system_fun) VALUES('load_json_config', '深渊强制非常困难', 'DQoNCkludGVyY2VwdG9yLmF0dGFjaChwdHIoMHgwODJGRkEyRSksIHsNCiAgICBvbkxlYXZlOiBmdW5jdGlvbiAocmV0dmFsKSB7DQogICAgICAgIGlmIChnbG9iYWxfY29uZmlnWydnYW1lX2NvbmZpZyddWydzdGFydEhlbGxQYXJ0eVZlcnltaXNlcmFibGUnXSA9PT0gJ3RydWUnKSB7DQogICAgICAgICAgICByZXR2YWwucmVwbGFjZSgxKTsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCI9PT09PT09PT09PT09PT09PT09PT09PiDmt7HmuIrlvLrliLbpnZ7luLjlm7Dpmr4iKQ0KICAgICAgICB9DQogICAgfQ0KfSkNCg0K', '深渊强制非常困难', 'startHellPartyVerymiserable', 0);
            INSERT INTO da_frida_function (children_function, function_name, function_context, remark, function_key, is_system_fun) VALUES('use_item_handler,processing_data', '捕获玩家游戏事件', 'Ly/mjZXojrfnjqnlrrbmuLjmiI/kuovku7YNCmZ1bmN0aW9uIGhvb2tfaGlzdG9yeV9sb2coKSB7DQogICAgLy9jSGlzdG9yeVRyYWNlOjpvcGVyYXRvcigpDQogICAgSW50ZXJjZXB0b3IuYXR0YWNoKHB0cigweDg1NEY5OTApLCB7DQoNCiAgICAgICAgb25FbnRlcjogZnVuY3Rpb24gKGFyZ3MpIHsNCg0KICAgICAgICAgICAgLy/op6PmnpDml6Xlv5flhoXlrrk6ICIxODAwMDAwOCIsMTgwMDAwMDgsRCwxNDU2MzYsIm5pY2tuYW1lIiwxLDcyLDgsMCwxOTIuMTY4LjIwMC4xLDE5Mi4xNjguMjAwLjEsNTA5NjMsMTEsIER1bmdlb25MZWF2ZSwi6b6N5Lq65LmL5aGUIiwwLDAsImFhYmIiLCJhYWJiIiwiTi9BIiwiTi9BIiwiTi9BIg0KICAgICAgICAgICAgdmFyIGhpc3RvcnlfbG9nID0gYXJnc1sxXS5yZWFkVXRmOFN0cmluZygtMSk7DQogICAgICAgICAgICB2YXIgZ3JvdXAgPSBoaXN0b3J5X2xvZy5zcGxpdCgnLCcpOw0KDQogICAgICAgICAgICAvL+inkuiJsuS/oeaBrw0KICAgICAgICAgICAgdmFyIGFjY291bnRfaWQgPSBwYXJzZUludChncm91cFsxXSk7DQogICAgICAgICAgICB2YXIgdGltZV9oaF9tbV9zcyA9IGdyb3VwWzNdOw0KICAgICAgICAgICAgdmFyIGNoYXJhY19uYW1lID0gZ3JvdXBbNF07DQogICAgICAgICAgICB2YXIgY2hhcmFjX25vID0gZ3JvdXBbNV07DQogICAgICAgICAgICB2YXIgY2hhcmFjX2xldmVsID0gZ3JvdXBbNl07DQogICAgICAgICAgICB2YXIgY2hhcmFjX2pvYiA9IGdyb3VwWzddOw0KICAgICAgICAgICAgdmFyIGNoYXJhY19ncm93dHlwZSA9IGdyb3VwWzhdOw0KICAgICAgICAgICAgdmFyIHVzZXJfd2ViX2FkZHJlc3MgPSBncm91cFs5XTsNCiAgICAgICAgICAgIHZhciB1c2VyX3BlZXJfaXAyID0gZ3JvdXBbMTBdOw0KICAgICAgICAgICAgdmFyIHVzZXJfcG9ydCA9IGdyb3VwWzExXTsNCiAgICAgICAgICAgIHZhciBjaGFubmVsX2luZGV4ID0gZ3JvdXBbMTJdOyAgICAgICAgICAgICAgLy/lvZPliY3popHpgZNpZA0KDQogICAgICAgICAgICAvL+eOqeWutua4uOaIj+S6i+S7tg0KICAgICAgICAgICAgdmFyIGdhbWVfZXZlbnQgPSBncm91cFsxM10uc2xpY2UoMSk7ICAgICAgICAvL+WIoOmZpOWkmuS9meepuuagvA0KDQogICAgICAgICAgICAvL+inpuWPkea4uOaIj+S6i+S7tueahOinkuiJsg0KICAgICAgICAgICAgdmFyIHVzZXIgPSBHYW1lV29ybGRfZmluZF91c2VyX2Zyb21fd29ybGRfYnlhY2NpZChHX0dhbWVXb3JsZCgpLCBhY2NvdW50X2lkKTsNCg0KICAgICAgICAgICAgaWYgKHVzZXIuaXNOdWxsKCkpDQogICAgICAgICAgICAgICAgcmV0dXJuOw0KDQogICAgICAgICAgICAvL+mBk+WFt+WHj+WwkTogIEl0ZW0tLDEsMTAwMDAxMTMsNjMsMSwzLDYzLDAsMCwwLDAsMCwwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwLDAsMCwwMDAwMDAwMDAwMDAwMDAwMDAwMA0KICAgICAgICAgICAgaWYgKGdhbWVfZXZlbnQgPT0gJ0l0ZW0tJykgew0KICAgICAgICAgICAgICAgIHZhciBpdGVtX2lkID0gcGFyc2VJbnQoZ3JvdXBbMTVdKTsgICAgICAgICAgICAgICAgLy/mnKzmrKHmk43kvZzpgZPlhbdpZA0KICAgICAgICAgICAgICAgIHZhciBpdGVtX2NudCA9IHBhcnNlSW50KGdyb3VwWzE3XSk7ICAgICAgICAgICAgICAgLy/mnKzmrKHmk43kvZzpgZPlhbfmlbDph48NCiAgICAgICAgICAgICAgICB2YXIgcmVhc29uID0gcGFyc2VJbnQoZ3JvdXBbMThdKTsgICAgICAgICAgICAgICAgIC8v5pys5qyh5pON5L2c5Y6f5ZugDQoNCg0KICAgICAgICAgICAgICAgIC8vbG9nKCfnjqnlrrZbJyArIGNoYXJhY19uYW1lICsgJ13pgZPlhbflh4/lsJEsIOWOn+WboDonICsgcmVhc29uICsgJyjpgZPlhbdpZD0nICsgaXRlbV9pZCArICcsIOS9v+eUqOaVsOmHjz0nICsgaXRlbV9jbnQpOw0KDQogICAgICAgICAgICAgICAgaWYgKDUgPT0gcmVhc29uKSB7DQogICAgICAgICAgICAgICAgICAgIC8v5Lii5byD6YGT5YW3DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGVsc2UgaWYgKDMgPT0gcmVhc29uKSB7DQogICAgICAgICAgICAgICAgICAgIC8v5L2/55So6YGT5YW3DQogICAgICAgICAgICAgICAgICAgIC8v6L+Z6YeM5bm25pyq5pS55Y+Y6YGT5YW35Y6f5aeL5pWI5p6cIOWOn+Wni+aViOaenOaIkOWKn+aJp+ihjOWQjuinpuWPkeS4i+mdoueahOS7o+eggQ0KICAgICAgICAgICAgICAgICAgICB1c2VfaXRlbV9oYW5kbGVyKHVzZXIsaXRlbV9pZCkNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgZWxzZSBpZiAoOSA9PSByZWFzb24pIHsNCiAgICAgICAgICAgICAgICAgICAgLy/liIbop6PpgZPlhbcNCiAgICAgICAgICAgICAgICAgICAgLy9kaXNpbnRlZ3JhdGVfaXRlbV9oYW5kbGVyKGl0ZW1faWQpDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGVsc2UgaWYgKDEwID09IHJlYXNvbikgew0KICAgICAgICAgICAgICAgICAgICAvL+S9v+eUqOWxnuaAp+efs+WktA0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGVsc2UgaWYgKGdhbWVfZXZlbnQgPT0gJ0tpbGxNb2InKSB7DQogICAgICAgICAgICAgICAgLy/mnYDmrbvmgKrniakNCiAgICAgICAgICAgICAgICAvL+mtlOazleWwgeWNsOijheWkh+ivjeadoeWNh+e6pw0KICAgICAgICAgICAgICAgIC8vYm9vc3RfcmFuZG9tX29wdGlvbl9lcXUodXNlcik7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBlbHNlIGlmIChnYW1lX2V2ZW50ID09ICdNb25leSsnKSB7DQogICAgICAgICAgICAgICAgdmFyIGN1cl9tb25leSA9IHBhcnNlSW50KGdyb3VwWzE0XSk7ICAgICAgICAgICAgICAgIC8v5b2T5YmN5oyB5pyJ55qE6YeR5biB5pWw6YePDQogICAgICAgICAgICAgICAgdmFyIGFkZF9tb25leSA9IHBhcnNlSW50KGdyb3VwWzE1XSk7ICAgICAgICAgICAgICAgIC8v5pys5qyh6I635b6X6YeR5biB5pWw6YePDQogICAgICAgICAgICAgICAgdmFyIHJlYXNvbiA9IHBhcnNlSW50KGdyb3VwWzE2XSk7ICAgICAgICAgICAgICAgICAgIC8v5pys5qyh6I635b6X6YeR5biB5Y6f5ZugDQoNCiAgICAgICAgICAgICAgICAvL2xvZygn546p5a62WycgKyBjaGFyYWNfbmFtZSArICdd6I635Y+W6YeR5biBLCDljp/lm6A6JyArIHJlYXNvbiArICco5b2T5YmN5oyB5pyJ6YeR5biBPScgKyBjdXJfbW9uZXkgKyAnLCDmnKzmrKHojrflvpfph5HluIHmlbDph489JyArIGFkZF9tb25leSk7DQoNCiAgICAgICAgICAgICAgICBpZiAoNCA9PSByZWFzb24pIHsNCiAgICAgICAgICAgICAgICAgICAgLy/lia/mnKzmi77lj5YNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgZWxzZSBpZiAoNSA9PSByZWFzb24pIHsNCiAgICAgICAgICAgICAgICAgICAgLy/lia/mnKzpgJrlhbPnv7vniYzojrflj5bph5HluIENCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICBlbHNlIGlmIChnYW1lX2V2ZW50ID09ICdEdW5nZW9uTGVhdmUnKSB7DQogICAgICAgICAgICAgICAgLy/nprvlvIDlia/mnKwNCiAgICAgICAgICAgICAgICAvL+WIt+WujOWJr+acrOWQjiwg6YeN572u5byC55WMK+aegemZkOelreWdm+asoeaVsA0KICAgICAgICAgICAgICAgIC8vQ1VzZXJfRGltZW5zaW9uSW5vdXRVcGRhdGUodXNlciwgMSwgMSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBlbHNlIGlmIChnYW1lX2V2ZW50ID09ICdJdGVtKycpIHsNCiAgICAgICAgICAgICAgICB2YXIgaXRlbV9pZCA9IHBhcnNlSW50KGdyb3VwWzE1XSk7DQogICAgICAgICAgICAgICAgdmFyIGdyb3VwXzE4ID0gcGFyc2VJbnQoZ3JvdXBbMThdKTsNCiAgICAgICAgICAgICAgICBpZiAoZ3JvdXBfMTggPT0gNCkgew0KICAgICAgICAgICAgICAgICAgICAvL+WJr+acrOaNoeS4nOilv+WWiuWWh+WPree7meeCueWIuA0KICAgICAgICAgICAgICAgICAgICBwcm9jZXNzaW5nX2RhdGEoaXRlbV9pZCwgdXNlcik7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KDQogICAgICAgIH0sDQogICAgICAgIG9uTGVhdmU6IGZ1bmN0aW9uIChyZXR2YWwpIHsNCg0KICAgICAgICB9DQogICAgfSk7DQp9DQo=', '捕获玩家游戏事件', 'hook_user_history_log', 0);
            INSERT INTO da_frida_function (children_function, function_name, function_context, remark, function_key, is_system_fun) VALUES('chhc_fun,decompose,equInherit,finish_quest_fun,load_json_config,ssfmfybh,crossover', '玩家使用道具回调', 'DQoNCi8v546p5a625L2/55So6YGT5YW35Zue6LCDDQpmdW5jdGlvbiB1c2VfaXRlbV9oYW5kbGVyKHVzZXIsIGl0ZW1faWQpIHsNCiAgICBpZiAoaXRlbV9pZCA9PSBnbG9iYWxfY29uZmlnWydnYW1lX2NvbmZpZyddWydjbGVhcl9hbGxfcXVlc3RfYnlfY2hhcmFjdGVyX2xldmVsJ10pIHsNCiAgICAgICAgLy/miYDmnInnmoTku7vliqHlrozmiJDliLgNCiAgICAgICAgY2xlYXJfYWxsX3F1ZXN0X2J5X2NoYXJhY3Rlcl9sZXZlbCh1c2VyKTsNCiAgICB9DQogICAgaWYgKGl0ZW1faWQgPT0gZ2xvYmFsX2NvbmZpZ1snZ2FtZV9jb25maWcnXVsnYXBpX2ZvcmNlX2NsZWFyX3F1ZXN0X2xpc3QnXSkgew0KICAgICAgICAvLyDlrozmiJDmjIflrprku7vliqEg5L6L5aaC6Ieq5bex5a6a5LmJ5q+P5pel5Lu75YqhDQogICAgICAgIGFwaV9mb3JjZV9jbGVhcl9xdWVzdF9saXN0KHVzZXIsIHF1ZXN0X2xpc3QpDQogICAgfQ0KICAgIGlmIChpdGVtX2lkID09IGdsb2JhbF9jb25maWdbJ2dhbWVfY29uZmlnJ11bJ2NsZWFyX2RvaW5nX3F1ZXN0J10pIHsNCiAgICAgICAgLy/lt7LmjqXku7vliqHlrozmiJDliLgNCiAgICAgICAgY2xlYXJfZG9pbmdfcXVlc3QodXNlcik7DQogICAgfQ0KICAgIGlmIChpdGVtX2lkID09IGdsb2JhbF9jb25maWdbJ2dhbWVfY29uZmlnJ11bJ2VxdUluaGVyaXQnXSkgew0KICAgICAgICAvLyDoo4XlpIfnu6fmib8gIOWujOe+jue7p+aJv+W8uuWMlu+8jOWinuW5hSDvvIzlrp3nj6Ag77yM6ZS76YCg77yI6L+Y5Y+v5Lul5a6e546wICtu55qE6ZS76YCg5Yi477yJDQogICAgICAgIGVxdUluaGVyaXQodXNlcik7DQogICAgfQ0KICAgIGlmKGl0ZW1faWQgPT0gZ2xvYmFsX2NvbmZpZ1snZ2FtZV9jb25maWcnXVsnY3Jvc3NvdmVyJ10pew0KICAgICAgICAvLyDoo4XlpIfot6jnlYwNCiAgICAgICAgY3Jvc3NvdmVyKHVzZXIpOw0KICAgIH0NCiAgICBpZiAoaXRlbV9pZCA9PSBnbG9iYWxfY29uZmlnWydnYW1lX2NvbmZpZyddWydkZWNvbXBvc2UnXSkgew0KICAgICAgICAvLyDliIbop6MNCiAgICAgICAgZGVjb21wb3NlKHVzZXIpOw0KICAgIH0NCiAgICBpZiAoaXRlbV9pZCA9PSBnbG9iYWxfY29uZmlnWydnYW1lX2NvbmZpZyddWydzc2ZtZnliaCddKSB7DQogICAgICAgIC8vIOmtlOazleWwgeWNsOmHjee9rg0KICAgICAgICBzc2ZtZnliaCh1c2VyKQ0KICAgIH0NCiAgICBpZiAoaXRlbV9pZCA9PSBnbG9iYWxfY29uZmlnWydnYW1lX2NvbmZpZyddWydjaGhjZnVuJ10pIHsNCiAgICAgICAgLy8g56ew5Y+35ZCI5oiQDQogICAgICAgIGNoaGNmdW4odXNlcikNCiAgICB9DQogICAgaWYgKGl0ZW1faWQgPT0gZ2xvYmFsX2NvbmZpZ1snZ2FtZV9jb25maWcnXVsncmVzZXRSZXNldERpbWVuc2lvbklub3V0XzEnXSkgew0KICAgICAgICAvLyAgICAgLy8g5Yid6Zi25byC55WM5YWl5Zy66YeN572uDQogICAgICAgIHJlc2V0UmVzZXREaW1lbnNpb25Jbm91dCh1c2VyLCAwKQ0KICAgICAgICByZXNldFJlc2V0RGltZW5zaW9uSW5vdXQodXNlciwgMSkNCiAgICAgICAgcmVzZXRSZXNldERpbWVuc2lvbklub3V0KHVzZXIsIDIpDQogICAgfQ0KICAgIGlmIChpdGVtX2lkID09IGdsb2JhbF9jb25maWdbJ2dhbWVfY29uZmlnJ11bJ3Jlc2V0UmVzZXREaW1lbnNpb25Jbm91dF8yJ10pIHsNCiAgICAgICAgLy8gICAgIC8vIOmrmOmYtuW8gueVjOWFpeWcuumHjee9rg0KICAgICAgICByZXNldFJlc2V0RGltZW5zaW9uSW5vdXQodXNlciwgMykNCiAgICAgICAgcmVzZXRSZXNldERpbWVuc2lvbklub3V0KHVzZXIsIDQpDQogICAgICAgIHJlc2V0UmVzZXREaW1lbnNpb25Jbm91dCh1c2VyLCA1KQ0KICAgIH0NCn0NCg0K', '玩家使用道具回调', 'use_item_handler', 0);
            INSERT INTO da_frida_function (children_function, function_name, function_context, remark, function_key, is_system_fun) VALUES('debug_message_handler,fix_TOD,hook_TimerDispatcher_dispatch,hook_user_inout_game_world,init_for_game_config,json_message_exec,load_json_config,no_json_message_exec,skillUpgrading,startHellParty,startHellPartyVerymiserable,hook_user_history_log', 'dnf-admin的firda主函数', 'DQoNCg0KLy/liJ3lp4vljJbliqDovb3lh73mlbANCmZ1bmN0aW9uIHN0YXJ0KGNoYW5uZWwpIHsNCiAgICBjb25zb2xlLmxvZygiPT09PT09PT09PT09PT09PT09PT09PT09PnN0YXJ0IGluaXQgZnJpZGEiKTsNCiAgICAvL+aMguaOpea2iOaBr+WIhuWPkee6v+eoiyDmiafooYzpnIDopoHlnKjkuLvnur/nqIvov5DooYznmoTku6PnoIENCiAgICBob29rX1RpbWVyRGlzcGF0Y2hlcl9kaXNwYXRjaCgpOw0KICAgIGxvYWRfY29uZmlnKGNoYW5uZWwpOw0KICAgIGluaXRGb3JDb25maWcoKTsNCiAgICAvL+S/ruWkjee7neacm+S5i+WhlA0KICAgIGZpeF9UT0QoKTsNCiAgICAvL+inkuiJsueZu+WFpeeZu+WHuuWkhOeQhg0KICAgIGhvb2tfdXNlcl9pbm91dF9nYW1lX3dvcmxkKCkNCiAgICAvL+aNleiOt+eOqeWutua4uOaIj+S6i+S7tg0KICAgIGhvb2tfaGlzdG9yeV9sb2coKTsNCiAgICAvL+mHkeW6k+aJqeWuuTEyMOagvA0KICAgIHNldE1heENBY2NvdW50Q2FyZ29Tb2x0KDEyMCk7DQogICAgY29uc29sZS5sb2coIj09PT09PT09PT09PT09PT09PT09PT09PT5mcmlkYSBzdGFydCBzdWNjZXNzIik7DQp9DQoNCg0KLy/lh73mlbDlr7zlh7rjgIHlj4LmlbDosIPor5UNCnJwYy5leHBvcnRzID0gew0KICAgIHN0YXJ0OiBmdW5jdGlvbiAoY2hhbm5lbCkgew0KICAgICAgICBzdGFydChjaGFubmVsKTsNCiAgICB9LA0KICAgIGhhbmRsZXJGY01lc3NhZ2U6IGZ1bmN0aW9uIChwYXJhbSkgew0KICAgICAgICB2YXIgcGFyYW1Kc29uID0gdW5kZWZpbmVkOw0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgcGFyYW1Kc29uID0gSlNPTi5wYXJzZShwYXJhbSk7DQogICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7DQogICAgICAgICAgICAvL+mdnmpzb27moLzlvI/nmoTmtojmga8NCiAgICAgICAgICAgIGV4ZWNOb0pzb25NZXNzYWdlKHBhcmFtKTsNCiAgICAgICAgfQ0KICAgICAgICBpZiAocGFyYW1Kc29uICE9PSB1bmRlZmluZWQpIHsNCiAgICAgICAgICAgIGlmIChwYXJhbUpzb24udHlwZSA9PT0gJ2RlYnVnJykgew0KICAgICAgICAgICAgICAgIGRlYnVnZnJpZGEocGFyYW1Kc29uLmRhdGEpDQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIGV4ZWNKc29uTWVzc2FnZShwYXJhbUpzb24pDQogICAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgIH0sDQp9Ow==', '使用配套服务端和firda必选', 'da_frida_main', 0);
            INSERT INTO da_frida_function (children_function, function_name, function_context, remark, function_key, is_system_fun) VALUES('sever_base_funcation,load_json_config', '完成任务函数', 'DQoNCi8v5peg5p2h5Lu25a6M5oiQ5oyH5a6a5Lu75Yqh5bm26aKG5Y+W5aWW5YqxDQpmdW5jdGlvbiBhcGlfZm9yY2VfY2xlYXJfcXVlc3QodXNlciwgcXVlc3RfaWQpIHsNCiAgICAvL+iuvue9rkdN5a6M5oiQ5Lu75Yqh5qih5byPKOaXoOadoeS7tuWujOaIkOS7u+WKoSkNCiAgICBDVXNlcl9zZXRHbVF1ZXN0RmxhZyh1c2VyLCAxKTsNCg0KICAgIC8v5o6l5Y+X5Lu75YqhDQogICAgQ1VzZXJfcXVlc3RfYWN0aW9uKHVzZXIsIDMzLCBxdWVzdF9pZCwgMCwgMCk7DQoNCiAgICAvL+WujOaIkOS7u+WKoQ0KICAgIENVc2VyX3F1ZXN0X2FjdGlvbih1c2VyLCAzNSwgcXVlc3RfaWQsIDAsIDApOw0KDQogICAgLy/pooblj5bku7vliqHlpZblirEo5YCS5pWw56ys5LqM5Liq5Y+C5pWw6KGo56S66aKG5Y+W5aWW5Yqx55qE57yW5Y+3LCAtMT3pooblj5bkuI3pnIDopoHpgInmi6nnmoTlpZblirE7IDA96aKG5Y+W5Y+v6YCJ5aWW5Yqx5Lit55qE56ysMeS4quWlluWKsTsgMT3pooblj5blj6/pgInlpZblirHkuK3nmoTnrKzkuozkuKrlpZblirEpDQogICAgQ1VzZXJfcXVlc3RfYWN0aW9uKHVzZXIsIDM2LCBxdWVzdF9pZCwgLTEsIDEpOw0KDQogICAgLy/mnI3liqHnq6/mnInlj43kvZzlvIrmnLrliLY6IOS7u+WKoeWujOaIkOaXtumXtOmXtOmalOS4jeiDveWwj+S6jjHnp5IuICDov5nph4zlsIbkuIrmrKHku7vliqHlrozmiJDml7bpl7TmuIXpm7Yg5Y+v5Lul6L+e57ut5o+Q5Lqk5Lu75YqhDQogICAgdXNlci5hZGQoMHg3OTY0NCkud3JpdGVJbnQoMCk7DQoNCiAgICAvL+WFs+mXrUdN5a6M5oiQ5Lu75Yqh5qih5byPKOS4jemcgOimgeadkOaWmeebtOaOpeWujOaIkCkNCiAgICBDVXNlcl9zZXRHbVF1ZXN0RmxhZyh1c2VyLCAwKTsNCg0KICAgIHJldHVybjsNCn0NCg0KLy/ph43nva7miYDmnInku7vliqEo6ZyA6KaB5bCP6YCA6YeN5paw6YCJ5oup6KeS6Imy5Yi35pawKQ0KZnVuY3Rpb24gYXBpX3Jlc2V0X2FsbF9xdWVzdCh1c2VyKSB7DQogICAgdmFyIHVzZXJfcXVlc3QgPSBDVXNlcl9nZXRDdXJDaGFyYWNRdWVzdFcodXNlcik7DQogICAgLy/muIXnqbrlt7LmjqXku7vliqHliJfooagNCiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDIwOyBpKyspIHsNCiAgICAgICAgdXNlcl9xdWVzdC5hZGQoNCAqIChpICsgNzUwMCArIDIpKS53cml0ZUludCgwKTsNCiAgICB9DQogICAgLy/miYDmnInku7vliqHorr7nva7mnKrlrozmiJDnirbmgIENCiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDI5OTk5OyBpKyspIHsNCiAgICAgICAgV29uZ1dvcmtfQ1F1ZXN0Q2xlYXJfcmVzZXRDbGVhcmVkUXVlc3RzKHVzZXJfcXVlc3QuYWRkKDQpLCBpKTsNCiAgICB9DQoNCiAgICBhcGlfQ1VzZXJfU2VuZE5vdGlQYWNrZXRNZXNzYWdlKHVzZXIsICfmiYDmnInku7vliqHlt7Lph43nva4sIOivt+mHjeaWsOmAieaLqeinkuiJsuWIt+aWsOS7u+WKoeWIl+ihqCEnLCAxNCk7DQp9DQoNCi8v5a6M5oiQ5b2T5YmN5bey5o6l5Lu75Yqh5bm26aKG5Y+W5aWW5YqxDQpmdW5jdGlvbiBjbGVhcl9kb2luZ19xdWVzdCh1c2VyKSB7DQogICAgLy/njqnlrrbku7vliqHkv6Hmga8NCiAgICB2YXIgdXNlcl9xdWVzdCA9IENVc2VyX2dldEN1ckNoYXJhY1F1ZXN0Vyh1c2VyKTsNCg0KICAgIC8v6YGN5Y6GMjDkuKrlt7LmjqXku7vliqENCiAgICAvL+S7u+WKoeWIl+ihqCjkv53lrZjku7vliqFpZCk6IHVzZXJfcXVlc3QuYWRkKDQgKiAoaSArIDc1MDAgKyAyKSkNCiAgICAvL+S7u+WKoeWujOaIkOeKtuaAgSgwPeW3sua7oei2s+S7u+WKoeadoeS7tik6IHVzZXJfcXVlc3QuYWRkKDQgKiAoaSArIDc1MjAgKyAyKSkNCiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDIwOyBpKyspIHsNCiAgICAgICAgLy/ku7vliqFpZA0KICAgICAgICB2YXIgcXVlc3RfaWQgPSB1c2VyX3F1ZXN0LmFkZCg0ICogKGkgKyA3NTAwICsgMikpLnJlYWRJbnQoKTsNCg0KICAgICAgICBpZiAocXVlc3RfaWQgPiAwKSB7DQogICAgICAgICAgICAvL+aXoOadoeS7tuWujOaIkOS7u+WKoeW5tumihuWPluWlluWKsQ0KICAgICAgICAgICAgYXBpX2ZvcmNlX2NsZWFyX3F1ZXN0KHVzZXIsIHF1ZXN0X2lkKTsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIC8v6YCa55+l5a6i5oi356uv5pu05paw5bey5a6M5oiQ5Lu75Yqh5YiX6KGoDQogICAgQ1VzZXJfc2VuZF9jbGVhcl9xdWVzdF9saXN0KHVzZXIpOw0KDQogICAgLy/pgJrnn6XlrqLmiLfnq6/mm7TmlrDku7vliqHliJfooagNCiAgICB2YXIgcGFja2V0X2d1YXJkID0gYXBpX1BhY2tldEd1YXJkX1BhY2tldEd1YXJkKCk7DQogICAgVXNlclF1ZXN0X2dldF9xdWVzdF9pbmZvKHVzZXJfcXVlc3QsIHBhY2tldF9ndWFyZCk7DQogICAgQ1VzZXJfU2VuZCh1c2VyLCBwYWNrZXRfZ3VhcmQpOw0KICAgIERlc3Ryb3lfUGFja2V0R3VhcmRfUGFja2V0R3VhcmQocGFja2V0X2d1YXJkKTsNCn0NCg0KLy/lrozmiJDop5LoibLlvZPliY3lj6/mjqXnmoTmiYDmnInku7vliqEo5LuF5Y+R6YCB6YeR5biBL+e7j+mqjC9RUOetieWfuuehgOWlluWKsSDml6DpgZPlhbflpZblirEpDQp2YXIgUVVFU1RfR1JBREVfQ09NTU9OX1VOSVFVRSA9IDU7ICAgICAgICAgICAgICAgICAgLy/ku7vliqHohJrmnKzkuK1bZ3JhZGVd5a2X5q615a+55bqU55qE5bi46YeP5a6a5LmJIOWPr+S7peWcqGltcG9ydFF1ZXN0U2NyaXB05Ye95pWw5Lit5om+5YiwDQp2YXIgUVVFU1RfR1JBREVfTk9STUFMWV9SRVBFQVQgPSA0OyAgICAgICAgICAgICAgICAgLy/lj6/ph43lpI3mj5DkuqTnmoTph43lpI3ku7vliqENCnZhciBRVUVTVF9HUkFERV9EQUlMWSA9IDM7ICAgICAgICAgICAgICAgICAgICAgICAgICAvL+avj+aXpeS7u+WKoQ0KdmFyIFFVRVNUX0dSQURFX0VQSUMgPSAwOyAgICAgICAgICAgICAgICAgICAgICAgICAgIC8v5Y+y6K+X5Lu75YqhDQpmdW5jdGlvbiBjbGVhcl9hbGxfcXVlc3RfYnlfY2hhcmFjdGVyX2xldmVsKHVzZXIpIHsNCiAgICAvL2xvZygnY2xlYXJfYWxsX3F1ZXN0X2J5X2NoYXJhY3Rlcl9sZXZlbCBzdGFydCEnKTsNCg0KICAgIC8v546p5a625Lu75Yqh5L+h5oGvDQogICAgdmFyIHVzZXJfcXVlc3QgPSBDVXNlcl9nZXRDdXJDaGFyYWNRdWVzdFcodXNlcik7DQogICAgLy/njqnlrrblt7LlrozmiJDku7vliqHkv6Hmga8NCiAgICB2YXIgV29uZ1dvcmtfQ1F1ZXN0Q2xlYXIgPSB1c2VyX3F1ZXN0LmFkZCg0KTsNCiAgICAvL+eOqeWutuW9k+WJjeetiee6pw0KICAgIHZhciBjaGFyYWNfbHYgPSBDVXNlckNoYXJhY0luZm9fZ2V0X2NoYXJhY19sZXZlbCh1c2VyKTsNCg0KICAgIC8v5pys5qyh5a6M5oiQ5Lu75Yqh5pWw6YePDQogICAgdmFyIGNsZWFyX3F1ZXN0X2NudCA9IDA7DQoNCiAgICAvL3B2ZuaVsOaNrg0KICAgIHZhciBkYXRhX21hbmFnZXIgPSBHX0NEYXRhTWFuYWdlcigpOw0KDQogICAgLy/pppblhYjlrozmiJDlvZPliY3lt7LmjqXku7vliqENCiAgICBjbGVhcl9kb2luZ19xdWVzdCh1c2VyKTsNCg0KICAgIC8v5a6M5oiQ5b2T5YmN562J57qn5omA5pyJ5Lu75Yqh5oC757uP6aqM5aWW5YqxDQogICAgdmFyIHRvdGFsX2V4cF9ib251cyA9IDA7DQogICAgLy/lrozmiJDlvZPliY3nrYnnuqfmiYDmnInku7vliqHmgLvph5HluIHlpZblirENCiAgICB2YXIgdG90YWxfZ29sZF9ib251cyA9IDA7DQogICAgLy/ku7vliqHngrnlpZblirENCiAgICB2YXIgdG90YWxfcXVlc3RfcG9pbnRfYm9udXMgPSAwOw0KICAgIHZhciB0b3RhbF9xdWVzdF9waWVjZV9ib251cyA9IDA7DQoNCiAgICAvL+S7u+WKoeacgOWkp+e8luWPtzogMjk5OTkNCiAgICBmb3IgKHZhciBxdWVzdF9pZCA9IDE7IHF1ZXN0X2lkIDwgMzAwMDA7IHF1ZXN0X2lkKyspIHsNCiAgICAgICAgLy/ot7Pov4flt7LlrozmiJDnmoTku7vliqENCiAgICAgICAgaWYgKFdvbmdXb3JrX0NRdWVzdENsZWFyX2lzQ2xlYXJlZFF1ZXN0KFdvbmdXb3JrX0NRdWVzdENsZWFyLCBxdWVzdF9pZCkpDQogICAgICAgICAgICBjb250aW51ZTsNCg0KICAgICAgICAvL+iOt+WPluS7u+WKoeaVsOaNrg0KICAgICAgICB2YXIgcXVlc3QgPSBDRGF0YU1hbmFnZXJfZmluZF9xdWVzdChkYXRhX21hbmFnZXIsIHF1ZXN0X2lkKTsNCiAgICAgICAgaWYgKCFxdWVzdC5pc051bGwoKSkgew0KICAgICAgICAgICAgLy/ku7vliqHnsbvlnosNCiAgICAgICAgICAgIHZhciBxdWVzdF9ncmFkZSA9IHF1ZXN0LmFkZCg4KS5yZWFkSW50KCk7DQoNCiAgICAgICAgICAgIC8v6Lez6L+HZ3JhZGXkuLpbY29tbW9uIHVuaXF1ZV3nsbvlnovnmoTku7vliqEo6L2s6IGM562J5Lu75YqhKQ0KICAgICAgICAgICAgLy/ot7Pov4flj6/ph43lpI3mj5DkuqTnmoTku7vliqENCiAgICAgICAgICAgIC8v6Lez6L+H5q+P5pel5Lu75YqhDQogICAgICAgICAgICBpZiAoKHF1ZXN0X2dyYWRlICE9IFFVRVNUX0dSQURFX0NPTU1PTl9VTklRVUUpICYmIChxdWVzdF9ncmFkZSAhPSBRVUVTVF9HUkFERV9OT1JNQUxZX1JFUEVBVCkgJiYgKHF1ZXN0X2dyYWRlICE9IFFVRVNUX0dSQURFX0RBSUxZKSkgew0KICAgICAgICAgICAgICAgIC8v5Yik5pat5Lu75Yqh5b2T5YmN5piv5ZCm5Y+v5o6lDQogICAgICAgICAgICAgICAgLy92YXIgc3RTZWxlY3RRdWVzdFBhcmFtID0gTWVtb3J5LmFsbG9jKDEwMCk7DQogICAgICAgICAgICAgICAgLy9zdFNlbGVjdFF1ZXN0UGFyYW1fc3RTZWxlY3RRdWVzdFBhcmFtKHN0U2VsZWN0UXVlc3RQYXJhbSwgdXNlcik7DQogICAgICAgICAgICAgICAgLy9pZihRdWVzdF9jaGVja19wb3NzaWJsZShxdWVzdCwgc3RTZWxlY3RRdWVzdFBhcmFtKSkNCg0KICAgICAgICAgICAgICAgIC8v5Y+q5Yik5pat5Lu75Yqh5pyA5L2O562J57qn6KaB5rGCIOW/veeVpSDogYzkuJov5YmN572uIOetieS7u+WKoeimgeaxgiDlj6/kuIDmrKHmgKflrozmiJDlvZPliY3nrYnnuqfmiYDmnInku7vliqENCiAgICAgICAgICAgICAgICB2YXIgcXVlc3RfbWluX2x2ID0gcXVlc3QuYWRkKDB4MjApLnJlYWRJbnQoKTsNCiAgICAgICAgICAgICAgICBpZiAocXVlc3RfbWluX2x2IDw9IGNoYXJhY19sdikgew0KICAgICAgICAgICAgICAgICAgICAvL+iOt+WPluivpeS7u+WKoeeahOWfuuehgOWlluWKsQ0KICAgICAgICAgICAgICAgICAgICB2YXIgZXhwX2JvbnVzID0gTWVtb3J5LmFsbG9jKDQpOw0KICAgICAgICAgICAgICAgICAgICB2YXIgZ29sZF9ib251cyA9IE1lbW9yeS5hbGxvYyg0KTsNCiAgICAgICAgICAgICAgICAgICAgdmFyIHF1ZXN0X3BvaW50X2JvbnVzID0gTWVtb3J5LmFsbG9jKDQpOw0KICAgICAgICAgICAgICAgICAgICB2YXIgcXVlc3RfcGllY2VfYm9udXMgPSBNZW1vcnkuYWxsb2MoNCk7DQogICAgICAgICAgICAgICAgICAgIC8vUVDlpZblirHlt7Lnm7TmjqXlj5HpgIHliLDop5LoibIg57uP6aqML+mHkeW4geWPqui/lOWbnue7k+aenCAg6ZyA6KaB5omL5Yqo5Y+R6YCBDQogICAgICAgICAgICAgICAgICAgIENVc2VyX3F1ZXN0X2Jhc2ljX3Jld2FyZCh1c2VyLCBxdWVzdCwgZXhwX2JvbnVzLCBnb2xkX2JvbnVzLCBxdWVzdF9wb2ludF9ib251cywgcXVlc3RfcGllY2VfYm9udXMsIDEpOw0KDQogICAgICAgICAgICAgICAgICAgIC8v57uf6K6h5pys5qyh6Ieq5Yqo5a6M5oiQ5Lu75Yqh55qE5Z+656GA5aWW5YqxDQogICAgICAgICAgICAgICAgICAgIHZhciBleHAgPSBleHBfYm9udXMucmVhZEludCgpOw0KICAgICAgICAgICAgICAgICAgICB2YXIgZ29sZCA9IGdvbGRfYm9udXMucmVhZEludCgpOw0KICAgICAgICAgICAgICAgICAgICB2YXIgcXVlc3RfcG9pbnQgPSBxdWVzdF9wb2ludF9ib251cy5yZWFkSW50KCk7DQogICAgICAgICAgICAgICAgICAgIHZhciBxdWVzdF9waWVjZSA9IHF1ZXN0X3BpZWNlX2JvbnVzLnJlYWRJbnQoKTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKGV4cCA+IDApDQogICAgICAgICAgICAgICAgICAgICAgICB0b3RhbF9leHBfYm9udXMgKz0gZXhwOw0KICAgICAgICAgICAgICAgICAgICBpZiAoZ29sZCA+IDApDQogICAgICAgICAgICAgICAgICAgICAgICB0b3RhbF9nb2xkX2JvbnVzICs9IGdvbGQ7DQogICAgICAgICAgICAgICAgICAgIGlmIChxdWVzdF9wb2ludCA+IDApDQogICAgICAgICAgICAgICAgICAgICAgICB0b3RhbF9xdWVzdF9wb2ludF9ib251cyArPSBxdWVzdF9wb2ludDsgICAgIC8v5rKh5pyJW3F1ZXN0IHBvaW50XeWtl+auteeahOS7u+WKoXF1ZXN0X3BvaW50PTEwMDAwDQogICAgICAgICAgICAgICAgICAgIGlmIChxdWVzdF9waWVjZSA+IDApDQogICAgICAgICAgICAgICAgICAgICAgICB0b3RhbF9xdWVzdF9waWVjZV9ib251cyArPSBxdWVzdF9waWVjZTsNCg0KICAgICAgICAgICAgICAgICAgICAvL+WwhuivpeS7u+WKoeiuvue9ruS4uuW3suWujOaIkOeKtuaAgQ0KICAgICAgICAgICAgICAgICAgICBXb25nV29ya19DUXVlc3RDbGVhcl9zZXRDbGVhcmVkUXVlc3QodXNlcl9xdWVzdC5hZGQoNCksIHF1ZXN0X2lkKTsNCg0KICAgICAgICAgICAgICAgICAgICAvL+acrOasoeiHquWKqOWujOaIkOS7u+WKoeiuoeaVsA0KICAgICAgICAgICAgICAgICAgICBjbGVhcl9xdWVzdF9jbnQrKzsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9DQoNCiAgICAvL+mAmuefpeWuouaIt+err+abtOaWsA0KICAgIGlmIChjbGVhcl9xdWVzdF9jbnQgPiAwKSB7DQogICAgICAgIC8v5Y+R6YCB5Lu75Yqh57uP6aqM5aWW5YqxDQogICAgICAgIGlmICh0b3RhbF9leHBfYm9udXMgPiAwKQ0KICAgICAgICAgICAgYXBpX0NVc2VyX2dhaW5fZXhwX3NwKHVzZXIsIHRvdGFsX2V4cF9ib251cyk7DQogICAgICAgIC8v5Y+R6YCB5Lu75Yqh6YeR5biB5aWW5YqxDQogICAgICAgIGlmICh0b3RhbF9nb2xkX2JvbnVzID4gMCkNCiAgICAgICAgICAgIENJbnZlbnRvcnlfZ2Fpbl9tb25leShDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjSW52ZW5XKHVzZXIpLCB0b3RhbF9nb2xkX2JvbnVzLCAwLCAwLCAwKTsNCg0KICAgICAgICAvL+mAmuefpeWuouaIt+err+abtOaWsOWlluWKseaVsOaNrg0KICAgICAgICBpZiAoQ1VzZXJfZ2V0X3N0YXRlKHVzZXIpID09IDMpIHsNCiAgICAgICAgICAgIENVc2VyX1NlbmROb3RpUGFja2V0KHVzZXIsIDAsIDIsIDApOw0KICAgICAgICAgICAgQ1VzZXJfU2VuZE5vdGlQYWNrZXQodXNlciwgMSwgMiwgMSk7DQoNCiAgICAgICAgICAgIENVc2VyX1NlbmRVcGRhdGVJdGVtTGlzdCh1c2VyLCAxLCAwLCAwKTsNCiAgICAgICAgICAgIENVc2VyX3NlbmRDaGFyYWNRcCh1c2VyKTsNCiAgICAgICAgICAgIENVc2VyX3NlbmRDaGFyYWNRdWVzdFBpZWNlKHVzZXIpOw0KICAgICAgICB9DQoNCiAgICAgICAgLy/pgJrnn6XlrqLmiLfnq6/mm7TmlrDlt7LlrozmiJDku7vliqHliJfooagNCiAgICAgICAgQ1VzZXJfc2VuZF9jbGVhcl9xdWVzdF9saXN0KHVzZXIpOw0KDQogICAgICAgIC8v6YCa55+l5a6i5oi356uv5pu05paw5Lu75Yqh5YiX6KGoDQogICAgICAgIHZhciBwYWNrZXRfZ3VhcmQgPSBhcGlfUGFja2V0R3VhcmRfUGFja2V0R3VhcmQoKTsNCiAgICAgICAgVXNlclF1ZXN0X2dldF9xdWVzdF9pbmZvKHVzZXJfcXVlc3QsIHBhY2tldF9ndWFyZCk7DQogICAgICAgIENVc2VyX1NlbmQodXNlciwgcGFja2V0X2d1YXJkKTsNCiAgICAgICAgRGVzdHJveV9QYWNrZXRHdWFyZF9QYWNrZXRHdWFyZChwYWNrZXRfZ3VhcmQpOw0KDQogICAgICAgIC8v5YWs5ZGK6YCa55+l5a6i5oi356uv5pys5qyh6Ieq5Yqo5a6M5oiQ5Lu75Yqh5pWw5o2uDQogICAgICAgIGFwaV9DVXNlcl9TZW5kTm90aVBhY2tldE1lc3NhZ2UodXNlciwgJ+W3suiHquWKqOWujOaIkOW9k+WJjeetiee6p+S7u+WKoeaVsOmHjzogJyArIGNsZWFyX3F1ZXN0X2NudCwgMTQpOw0KICAgICAgICBhcGlfQ1VzZXJfU2VuZE5vdGlQYWNrZXRNZXNzYWdlKHVzZXIsICfku7vliqHnu4/pqozlpZblirE6ICcgKyB0b3RhbF9leHBfYm9udXMsIDE0KTsNCiAgICAgICAgYXBpX0NVc2VyX1NlbmROb3RpUGFja2V0TWVzc2FnZSh1c2VyLCAn5Lu75Yqh6YeR5biB5aWW5YqxOiAnICsgdG90YWxfZ29sZF9ib251cywgMTQpOw0KICAgICAgICBhcGlfQ1VzZXJfU2VuZE5vdGlQYWNrZXRNZXNzYWdlKHVzZXIsICfku7vliqFRdWVzdFBvaW505aWW5YqxOiAnICsgdG90YWxfcXVlc3RfcG9pbnRfYm9udXMsIDE0KTsNCiAgICAgICAgYXBpX0NVc2VyX1NlbmROb3RpUGFja2V0TWVzc2FnZSh1c2VyLCAn5Lu75YqhUXVlc3RQaWVjZeWlluWKsTogJyArIHRvdGFsX3F1ZXN0X3BpZWNlX2JvbnVzLCAxNCk7DQogICAgfQ0KDQoNCiAgICAvL2xvZygnY2xlYXJfYWxsX3F1ZXN0X2J5X2NoYXJhY3Rlcl9sZXZlbCBlbmQhJyk7DQoNCiAgICByZXR1cm47DQp9DQoNCg0KZnVuY3Rpb24gYXBpX2ZvcmNlX2NsZWFyX3F1ZXN0X2xpc3QodXNlciwgcXVlc3RfbGlzdCkgew0KICAgIC8v6ZyA6KaB5a6M5oiQ55qE5Lu75Yqh5YiX6KGoDQogICAgdmFyIHF1ZXN0X2xpc3QgPSBnbG9iYWxfY29uZmlnWydnYW1lX2NvbmZpZyddWydhcGlfZm9yY2VfY2xlYXJfcXVlc3RfbGlzdCddLnNwbGl0KCIsIik7DQogICAgLy8g5b6q546v6YGN5Y6G5Lu75Yqh5YiX6KGoDQogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBxdWVzdF9saXN0Lmxlbmd0aDsgaSsrKSB7DQogICAgICAgIHZhciBxdWVzdF9pZCA9IHF1ZXN0X2xpc3RbaV07DQogICAgICAgIGFwaV9mb3JjZV9jbGVhcl9xdWVzdCh1c2VyLCBxdWVzdF9pZCk7IC8v5a6M5oiQ5a+55bqU55qE5Lu75YqhDQogICAgfQ0KfQ==', '完成任务函数', 'finish_quest_fun', 0);
            INSERT INTO da_frida_function (children_function, function_name, function_context, remark, function_key, is_system_fun) VALUES('sever_base_funcation', '装备继承', 'DQoNCi8qKg0KICog6KOF5aSH57un5om/IOWwhueyieiJsuS7peS4iuetiee6p+Wkp+S6juetieS6jjU155qE6KOF5aSH57un5om/IOW8uuWMliDlop7luYUg6ZS76YCgIOmZhOmtlO+8jCDljp/oo4XlpIfkvJrlvZIwDQogKiDmrablmajpnIDopoHlkIzmupAgIOWNsyDlpKrliIAt44CL5aSq5YiADQogKiDpmLLlhbfpnIDopoHlkIznsbvlnosgICDljbPnmq7nlLLkuIrooaMgLeOAi+adv+eUsuS4iuihow0KICogQHBhcmFtIHVzZXINCiAqLw0KZnVuY3Rpb24gZXF1SW5oZXJpdCh1c2VyKXsNCiAgICB2YXIgaW52ZW4gPSBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjSW52ZW5XKHVzZXIpOw0KICAgIHZhciBlcXUgPSBDSW52ZW50b3J5X0dldEludmVuUmVmKGludmVuLCBJTlZFTlRPUllfVFlQRV9JVEVNLCA5KTsNCiAgICB2YXIgaXRlbUlkID0gSW52ZW5fSXRlbV9nZXRLZXkoZXF1KQ0KICAgIGlmKEludmVuX0l0ZW1fZ2V0S2V5KGVxdSkpew0KICAgICAgICAvL+ivu+WPluijheWkh+W8uuWMluetiee6pw0KICAgICAgICB2YXIgdXBncmFkZV9sZXZlbCA9IGVxdS5hZGQoNikucmVhZFU4KCk7DQogICAgICAgIHZhciBpdGVtRGF0YSA9IENEYXRhTWFuYWdlcl9maW5kX2l0ZW0oR19DRGF0YU1hbmFnZXIoKSxpdGVtSWQpOw0KICAgICAgICB2YXIgZXF1X3R5cGUgPSBpdGVtRGF0YS5hZGQoMTQxKjQpLnJlYWRVMzIoKTsgLy8g6KOF5aSH57G75Z6LDQogICAgICAgIHZhciBzdWJfdHlwZSA9IENFcXVpcEl0ZW1fR2V0U3ViVHlwZShpdGVtRGF0YSk7DQogICAgICAgIHZhciBlcXVSYXJpdHkgPSBDSXRlbV9HZXRSYXJpdHkoaXRlbURhdGEpOyAvLyDnqIDmnInluqYgID49MyAg57KJ6Imy5Lul5LiKDQogICAgICAgIHZhciBuZWVkTGV2ZWwgPSBDSXRlbV9HZXRVc2FibGVMZXZlbChpdGVtRGF0YSk7ICAvL+etiee6pw0KICAgICAgICBjb25zb2xlLmxvZygiZXF1X3R5cGUgOiIrZXF1X3R5cGUpDQogICAgICAgIGNvbnNvbGUubG9nKCJzdWJfdHlwZSA6IitzdWJfdHlwZSkNCg0KICAgICAgICB2YXIgdXNlSm9iID0gIiI7DQogICAgICAgIGZvciAodmFyIGkgPSA2MDsgaSA8PTcwOyBpKyspIHsNCiAgICAgICAgICAgIHVzZUpvYiArPSBpdGVtRGF0YS5hZGQoaSkucmVhZFU4KCk7DQogICAgICAgIH0NCiAgICAgICAgY29uc29sZS5sb2coZXF1X3R5cGUgKyAiICAiK3VzZUpvYik7DQoNCiAgICAgICAgaWYoZXF1UmFyaXR5IDwgMyl7DQogICAgICAgICAgICAvLyDoo4XlpIflk4Hnuqflv4XpobvopoHmsYLnsonoibLku6XkuIrvvIznu6fmib/oo4XlpIfkuI3mu6HotrPopoHmsYINCiAgICAgICAgICAgIGFwaV9DVXNlcl9TZW5kTm90aVBhY2tldE1lc3NhZ2UodXNlciwi57un5om/5aSx6LSl77ya6KOF5aSH5ZOB57qn5b+F6aG76KaB5rGC57KJ6Imy5Lul5LiK77yM57un5om/6KOF5aSH5LiN5ruh6Laz6KaB5rGCIiwwKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfQ0KICAgICAgICBpZihuZWVkTGV2ZWwgPCA1NSl7DQogICAgICAgICAgICAvLyDoo4XlpIfnrYnnuqfopoHlpKfkuo41MOe6p+S7peS4iu+8jOe7p+aJv+ijheWkh+S4jea7oei2s+imgeaxgg0KICAgICAgICAgICAgYXBpX0NVc2VyX1NlbmROb3RpUGFja2V0TWVzc2FnZSh1c2VyLCLnu6fmib/lpLHotKXvvJroo4XlpIfnrYnnuqfopoHlpKfkuo7nrYnkuo41Nee6p+S7peS4iu+8jOe7p+aJv+ijheWkh+S4jea7oei2s+imgeaxgigiK25lZWRMZXZlbCsiKSIsMCk7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCiAgICAgICAgdmFyIHN1Y2Nlc3NUYWcgPSBmYWxzZTsNCiAgICAgICAgZm9yICh2YXIgaSA9IDEwOyBpIDw9MjE7IGkrKykgew0KICAgICAgICAgICAgdmFyIGVxdUluID0gQ0ludmVudG9yeV9HZXRJbnZlblJlZihpbnZlbiwgSU5WRU5UT1JZX1RZUEVfQk9EWSwgaSk7DQogICAgICAgICAgICBpZihJbnZlbl9JdGVtX2dldEtleShlcXVJbikpew0KICAgICAgICAgICAgICAgIHZhciBpbkl0ZW1JZCA9IEludmVuX0l0ZW1fZ2V0S2V5KGVxdUluKQ0KICAgICAgICAgICAgICAgIHZhciBpbkl0ZW1EYXRhID0gQ0RhdGFNYW5hZ2VyX2ZpbmRfaXRlbShHX0NEYXRhTWFuYWdlcigpLGluSXRlbUlkKTsNCiAgICAgICAgICAgICAgICB2YXIgaW5FcXVfdHlwZSA9IGluSXRlbURhdGEuYWRkKDE0MSo0KS5yZWFkVTMyKCk7IC8vIOijheWkh+exu+Weiw0KICAgICAgICAgICAgICAgIHZhciBpbkVxdVJhcml0eSA9IENJdGVtX0dldFJhcml0eShpbkl0ZW1EYXRhKTsgLy8g56iA5pyJ5bqmICA+PTMgIOeyieiJsuS7peS4ig0KICAgICAgICAgICAgICAgIHZhciBpbk5lZWRMZXZlbCA9IENJdGVtX0dldFVzYWJsZUxldmVsKGluSXRlbURhdGEpOyAgLy/nrYnnuqcNCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnZXF1X3R5cGUgYe+8micrZXF1X3R5cGUrJywnK2luRXF1X3R5cGUrJywnK2luSXRlbURhdGEuYWRkKDE0OCkucmVhZFU4KCkpDQogICAgICAgICAgICAgICAgaWYoaW5FcXVfdHlwZT09ZXF1X3R5cGUpew0KICAgICAgICAgICAgICAgICAgICBpZihpbkVxdV90eXBlPT0xMCl7DQogICAgICAgICAgICAgICAgICAgICAgICAvLyDmrablmajpnIDopoHlkIzogYzkuJoNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1c2VKb2IgPSAiIjsNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpblVzZUpvYiA9ICIiOw0KICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDYwOyBpIDw9NzA7IGkrKykgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZUpvYiArPSBpdGVtRGF0YS5hZGQoaSkucmVhZFU4KCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5Vc2VKb2IgKz0gaW5JdGVtRGF0YS5hZGQoaSkucmVhZFU4KCk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICBpZih1c2VKb2IgIT0gaW5Vc2VKb2Ipew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwaV9DVXNlcl9TZW5kTm90aVBhY2tldE1lc3NhZ2UodXNlciwi57un5om/5aSx6LSl77ya5q2m5Zmo6KOF5aSH6ZyA6KaB5b2T5YmN6IGM5Lia5LiU5ZCM57G75Z6L77yM56m/5oi06KOF5aSH5LiN5ruh6Laz6KaB5rGCIiwwKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5TdWJUeXBlID0gQ0VxdWlwSXRlbV9HZXRTdWJUeXBlKGluSXRlbURhdGEpOw0KICAgICAgICAgICAgICAgICAgICAgICAgaWYoc3ViX3R5cGUhPWluU3ViVHlwZSl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBpX0NVc2VyX1NlbmROb3RpUGFja2V0TWVzc2FnZSh1c2VyLCLnu6fmib/lpLHotKXvvJrmrablmajoo4XlpIfpnIDopoHlvZPliY3ogYzkuJrkuJTlkIznsbvlnovvvIznqb/miLToo4XlpIfkuI3mu6HotrPopoHmsYIiLDApOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAvLyDnsbvlnovkuIDnm7Qg5omN6IO957un5om/DQogICAgICAgICAgICAgICAgICAgIGlmKGluRXF1UmFyaXR5PDMpew0KICAgICAgICAgICAgICAgICAgICAgICAgLy8g57un5om/5aSx6LSl77ya6KOF5aSH5ZOB57qn5b+F6aG76KaB5rGC57KJ6Imy5Lul5LiK77yM56m/5oi06KOF5aSH5LiN5ruh6Laz6KaB5rGCDQogICAgICAgICAgICAgICAgICAgICAgICBhcGlfQ1VzZXJfU2VuZE5vdGlQYWNrZXRNZXNzYWdlKHVzZXIsIue7p+aJv+Wksei0pe+8muijheWkh+WTgee6p+W/hemhu+imgeaxgueyieiJsuS7peS4iu+8jOepv+aItOijheWkh+S4jea7oei2s+imgeaxgiIsMCk7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgaWYoaW5OZWVkTGV2ZWwgPCA1NSl7DQogICAgICAgICAgICAgICAgICAgICAgICAvLyDoo4XlpIfnrYnnuqfopoHlpKfkuo41MOe6p+S7peS4iu+8jOepv+aItOijheWkh+S4jea7oei2s+imgeaxgg0KICAgICAgICAgICAgICAgICAgICAgICAgYXBpX0NVc2VyX1NlbmROb3RpUGFja2V0TWVzc2FnZSh1c2VyLCLnu6fmib/lpLHotKXvvJroo4XlpIfnrYnnuqfopoHlpKfkuo7nrYnkuo41Nee6p+S7peS4iu+8jOepv+aItOijheWkh+S4jea7oei2s+imgeaxgiIsMCk7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgLy8g5by65YyWDQogICAgICAgICAgICAgICAgICAgIHZhciBpblVwZ3JhZGVfbGV2ZWwgPSBlcXVJbi5hZGQoNikucmVhZFU4KCk7DQogICAgICAgICAgICAgICAgICAgIC8vIOWinuW5hQ0KICAgICAgICAgICAgICAgICAgICB2YXIgemVuZ2Z1ID0gZXF1LmFkZCgxNykucmVhZFUxNigpOw0KICAgICAgICAgICAgICAgICAgICAvLyDplLvpgKANCiAgICAgICAgICAgICAgICAgICAgdmFyIGR1YW56YW8gPSBlcXUuYWRkKDUxKS5yZWFkVTgoKTsNCiAgICAgICAgICAgICAgICAgICAgLy8g5a6d54+gDQogICAgICAgICAgICAgICAgICAgIHZhciBiYW96aHUgPSBlcXUuYWRkKDEzKS5yZWFkVTMyKCk7DQogICAgICAgICAgICAgICAgICAgIC8v6a2U5rOV5bCB5Y2wDQogICAgICAgICAgICAgICAgICAgIHZhciBzZWFsMV9sdiA9IGVxdS5hZGQoMzcpLnJlYWRVOCgpOyANCiAgICAgICAgICAgICAgICAgICAgdmFyIHNlYWwyX2x2ID0gZXF1LmFkZCgzOCkucmVhZFU4KCk7DQogICAgICAgICAgICAgICAgICAgIHZhciBzZWFsM19sdiA9IGVxdS5hZGQoMzkpLnJlYWRVOCgpOw0KICAgICAgICAgICAgICAgICAgICB2YXIgc2VhbDRfbHYgPSBlcXUuYWRkKDQwKS5yZWFkVTgoKTsNCiAgICAgICAgICAgICAgICAgICAgdmFyIHNlYWw1X2x2ID0gZXF1LmFkZCg0MSkucmVhZFU4KCk7DQogICAgICAgICAgICAgICAgICAgIHZhciBzZWFsNl9sdiA9IGVxdS5hZGQoNDIpLnJlYWRVOCgpOw0KICAgICAgICAgICAgICAgICAgICB2YXIgc2VhbDdfbHYgPSBlcXUuYWRkKDQzKS5yZWFkVTgoKTsNCiAgICAgICAgICAgICAgICAgICAgdmFyIHNlYWw4X2x2ID0gZXF1LmFkZCg0NCkucmVhZFU4KCk7DQogICAgICAgICAgICAgICAgICAgIHZhciBzZWFsOV9sdiA9IGVxdS5hZGQoNDUpLnJlYWRVOCgpOw0KICAgICAgICAgICAgICAgICAgICB2YXIgc2VhbDEwX2x2ID0gZXF1LmFkZCg0NikucmVhZFU4KCk7DQogICAgICAgICAgICAgICAgICAgIHZhciBzZWFsMTFfbHYgPSBlcXUuYWRkKDQ3KS5yZWFkVTgoKTsNCiAgICAgICAgICAgICAgICAgICAgdmFyIHNlYWwxMl9sdiA9IGVxdS5hZGQoNDgpLnJlYWRVOCgpOw0KICAgICAgICAgICAgICAgICAgICB2YXIgc2VhbDEzX2x2ID0gZXF1LmFkZCg0OSkucmVhZFU4KCk7DQogICAgICAgICAgICAgICAgICAgIHZhciBzZWFsMTRfbHYgPSBlcXUuYWRkKDUwKS5yZWFkVTgoKTsNCgkJCQkNCiAgICAgICAgICAgICAgICAgICAgaWYoaW5VcGdyYWRlX2xldmVsIDw9IHVwZ3JhZGVfbGV2ZWwpew0KICAgICAgICAgICAgICAgICAgICAgICAgLy/mj5DljYflvLrljJYv5aKe5bmF562J57qnDQogICAgICAgICAgICAgICAgICAgICAgICBlcXVJbi5hZGQoNikud3JpdGVVOCh1cGdyYWRlX2xldmVsKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGVxdUluLmFkZCgxNykud3JpdGVVMTYoemVuZ2Z1KTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGVxdUluLmFkZCg1MSkud3JpdGVVOChkdWFuemFvKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGVxdUluLmFkZCgxMykud3JpdGVVMzIoYmFvemh1KTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGVxdUluLmFkZCgzNykud3JpdGVVOChzZWFsMV9sdik7DQogICAgICAgICAgICAgICAgICAgICAgICBlcXVJbi5hZGQoMzgpLndyaXRlVTgoc2VhbDJfbHYpOw0KICAgICAgICAgICAgICAgICAgICAgICAgZXF1SW4uYWRkKDM5KS53cml0ZVU4KHNlYWwzX2x2KTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGVxdUluLmFkZCg0MCkud3JpdGVVOChzZWFsNF9sdik7DQogICAgICAgICAgICAgICAgICAgICAgICBlcXVJbi5hZGQoNDEpLndyaXRlVTgoc2VhbDVfbHYpOw0KICAgICAgICAgICAgICAgICAgICAgICAgZXF1SW4uYWRkKDQyKS53cml0ZVU4KHNlYWw2X2x2KTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGVxdUluLmFkZCg0Mykud3JpdGVVOChzZWFsN19sdik7DQogICAgICAgICAgICAgICAgICAgICAgICBlcXVJbi5hZGQoNDQpLndyaXRlVTgoc2VhbDhfbHYpOw0KICAgICAgICAgICAgICAgICAgICAgICAgZXF1SW4uYWRkKDQ1KS53cml0ZVU4KHNlYWw5X2x2KTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGVxdUluLmFkZCg0Nikud3JpdGVVOChzZWFsMTBfbHYpOw0KICAgICAgICAgICAgICAgICAgICAgICAgZXF1SW4uYWRkKDQ3KS53cml0ZVU4KHNlYWwxMV9sdik7DQogICAgICAgICAgICAgICAgICAgICAgICBlcXVJbi5hZGQoNDgpLndyaXRlVTgoc2VhbDEyX2x2KTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGVxdUluLmFkZCg0OSkud3JpdGVVOChzZWFsMTNfbHYpOw0KICAgICAgICAgICAgICAgICAgICAgICAgZXF1SW4uYWRkKDUwKS53cml0ZVU4KHNlYWwxNF9sdik7DQogICAgICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIOWwhuWOn+ijheWkh+a4hemZpA0KICAgICAgICAgICAgICAgICAgICAgICAgZXF1LmFkZCg2KS53cml0ZVU4KDApOw0KICAgICAgICAgICAgICAgICAgICAgICAgZXF1LmFkZCgxNykud3JpdGVVMTYoMCk7DQogICAgICAgICAgICAgICAgICAgICAgICBlcXUuYWRkKDUxKS53cml0ZVU4KDApOw0KICAgICAgICAgICAgICAgICAgICAgICAgZXF1LmFkZCgxMykud3JpdGVVMzIoMCk7DQogICAgICAgICAgICAgICAgICAgICAgICBlcXUuYWRkKDM3KS53cml0ZVU4KDApOw0KICAgICAgICAgICAgICAgICAgICAgICAgZXF1LmFkZCgzOCkud3JpdGVVOCgwKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGVxdS5hZGQoMzkpLndyaXRlVTgoMCk7DQogICAgICAgICAgICAgICAgICAgICAgICBlcXUuYWRkKDQwKS53cml0ZVU4KDApOw0KICAgICAgICAgICAgICAgICAgICAgICAgZXF1LmFkZCg0MSkud3JpdGVVOCgwKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGVxdS5hZGQoNDIpLndyaXRlVTgoMCk7DQogICAgICAgICAgICAgICAgICAgICAgICBlcXUuYWRkKDQzKS53cml0ZVU4KDApOw0KICAgICAgICAgICAgICAgICAgICAgICAgZXF1LmFkZCg0NCkud3JpdGVVOCgwKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGVxdS5hZGQoNDUpLndyaXRlVTgoMCk7DQogICAgICAgICAgICAgICAgICAgICAgICBlcXUuYWRkKDQ2KS53cml0ZVU4KDApOw0KICAgICAgICAgICAgICAgICAgICAgICAgZXF1LmFkZCg0Nykud3JpdGVVOCgwKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGVxdS5hZGQoNDgpLndyaXRlVTgoMCk7DQogICAgICAgICAgICAgICAgICAgICAgICBlcXUuYWRkKDQ5KS53cml0ZVU4KDApOw0KICAgICAgICAgICAgICAgICAgICAgICAgZXF1LmFkZCg1MCkud3JpdGVVOCgwKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIC8v6YCa55+l5a6i5oi356uv5pu05paw6KOF5aSHDQogICAgICAgICAgICAgICAgICAgICAgICBDVXNlcl9TZW5kVXBkYXRlSXRlbUxpc3QodXNlciwgMSwgMCwgOSk7DQogICAgICAgICAgICAgICAgICAgICAgICBDVXNlcl9TZW5kVXBkYXRlSXRlbUxpc3QodXNlciwgMSwgMywgaSk7DQogICAgICAgICAgICAgICAgICAgICAgICBDVXNlcl9TZW5kVXBkYXRlSXRlbUxpc3QodXNlciwgMSwgMywgMTApOw0KICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2Vzc1RhZyA9IHRydWU7DQogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygic3VjY2Vzc++8ge+8ge+8gSIpDQogICAgICAgICAgICAgICAgICAgICAgICBhcGlfQ1VzZXJfU2VuZE5vdGlQYWNrZXRNZXNzYWdlKHVzZXIsIue7p+aJv+aIkOWKn++8ge+8ge+8gSIsMCk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIGlmKCFzdWNjZXNzVGFnKXsNCiAgICAgICAgICAgIC8vIOWksei0pSDmsqHmnInlkIjpgILnmoToo4XlpIfvvIzkuI3nrKblkIjoo4XlpIcNCiAgICAgICAgICAgIGFwaV9DVXNlcl9TZW5kTm90aVBhY2tldE1lc3NhZ2UodXNlciwi57un5om/5aSx6LSl77ya5rKh5pyJ5ZCI6YCC55qE6KOF5aSHIiwwKTsNCiAgICAgICAgfQ0KICAgIH0NCn0=', '装备继承', 'equInherit', 0);
            INSERT INTO da_frida_function (children_function, function_name, function_context, remark, function_key, is_system_fun) VALUES('sever_base_funcation', '史诗魔法封印变换', 'DQoNCiAgLy/lj7Lor5fprZTms5XlsIHljbDlj5jmjaINCiBmdW5jdGlvbiBzc2ZtZnliaCh1c2VyKQ0KIHsgICAgDQogICAgIHZhciBpbnZlbiA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNJbnZlblcodXNlcik7DQogICAgIC8v6YGN5Y6G6KOF5aSHDQogICAgIGZvcih2YXIgaSA9IDk7IGkgPD0xNjsgaSsrKQ0KICAgICB7DQogICAgICAgICAvL+iOt+WPlueJqeWTgeagj+esrOS4gOaOkueahOijheWkhw0KICAgICAgICAgdmFyIGVxdUluID0gQ0ludmVudG9yeV9HZXRJbnZlblJlZihpbnZlbiwgSU5WRU5UT1JZX1RZUEVfSVRFTSwgaSk7IC8v6YGN5Y6G57G75Z6L5Li654mp5ZOB5qCPDQogICAgICAgICB2YXIgaW5JdGVtSWQgPSBJbnZlbl9JdGVtX2dldEtleShlcXVJbikgLy/pgZPlhbdpZA0KICAgICAgICAgdmFyIGluSXRlbURhdGEgPSBDRGF0YU1hbmFnZXJfZmluZF9pdGVtKEdfQ0RhdGFNYW5hZ2VyKCksaW5JdGVtSWQpOyAvL+iOt+WPlnB2ZuaVsOaNrg0KICAgICAgICAgdmFyIGVxdVJhcml0eSA9IENJdGVtX0dldFJhcml0eShpbkl0ZW1EYXRhKTsgLy8g56iA5pyJ5bqmICA+PTMgIOeyieiJsuS7peS4ig0KICAgICAgICAgaWYoZXF1UmFyaXR5ID09IDQpew0KICAgICAgICAgICAgIHZhciBpbkVxdV90eXBlID0gaW5JdGVtRGF0YS5hZGQoMTQxKjQpLnJlYWRVMzIoKTsgLy8g6KOF5aSH57G75Z6LMTDmrablmaggMTHnp7Dlj7cJICAgICAgIA0KICAgICAgICAgICAgIC8v5riF56m65omA5pyJ6a2U5rOV5bCB5Y2w5a2X6IqCDQogICAgICAgICAgICAgaWYoaW5FcXVfdHlwZSE9MTEpew0KICAgICAgICAgICAgICAgICBlcXVJbi5hZGQoMzcpLndyaXRlVTgoMCk7DQogICAgICAgICAgICAgICAgIGVxdUluLmFkZCgzOCkud3JpdGVVOCgwKTsgICAgCQkJDQogICAgICAgICAgICAgICAgIGVxdUluLmFkZCgzOSkud3JpdGVVOCgwKTsgICAgCQkJDQogICAgICAgICAgICAgICAgIGVxdUluLmFkZCg0MCkud3JpdGVVOCgwKTsgICAJCQkNCiAgICAgICAgICAgICAgICAgZXF1SW4uYWRkKDQxKS53cml0ZVU4KDApOyAgICAJCQkNCiAgICAgICAgICAgICAgICAgZXF1SW4uYWRkKDQyKS53cml0ZVU4KDApOyAgICAJCQkNCiAgICAgICAgICAgICAgICAgZXF1SW4uYWRkKDQzKS53cml0ZVU4KDApOyAgICANCiAgICAgICAgICAgICAgICAgZXF1SW4uYWRkKDQ0KS53cml0ZVU4KDApOyAgICANCiAgICAgICAgICAgICAgICAgZXF1SW4uYWRkKDQ1KS53cml0ZVU4KDApOyAgICANCiAgICAgICAgICAgICAgICAgZXF1SW4uYWRkKDQ2KS53cml0ZVU4KDApOyAJCQkNCiAgICAgICAgICAgICAgICAgZXF1SW4uYWRkKDQ3KS53cml0ZVU4KDApOyAgICANCiAgICAgICAgICAgICAgICAgZXF1SW4uYWRkKDQ4KS53cml0ZVU4KDApOyAgICANCiAgICAgICAgICAgICAgICAgZXF1SW4uYWRkKDQ5KS53cml0ZVU4KDApOyAgICANCiAgICAgICAgICAgICAgICAgZXF1SW4uYWRkKDUwKS53cml0ZVU4KDApOyANCiAgICAgICAgICAgICAgICAgLy/lsJ3or5Xop6PpmaTprZTms5XlsIHljbANCiAgICAgICAgICAgICAgICAgdmFyIHJldCA9IHJhbmRvbV9vcHRpb25fQ1JhbmRvbU9wdGlvbkl0ZW1IYW5kbGVfZ2l2ZV9vcHRpb24ocHRyKDB4OTQxRjgyMCkucmVhZFBvaW50ZXIoKSwgaW5JdGVtSWQsIENJdGVtX0dldFJhcml0eShpbkl0ZW1EYXRhKSwgQ0l0ZW1fR2V0VXNhYmxlTGV2ZWwoaW5JdGVtRGF0YSkNCiAgICAgICAgICAgICAgICAgICAgICwgQ0l0ZW1fR2V0SXRlbUdyb3VwTmFtZShpbkl0ZW1EYXRhKSwgQ0VxdWlwSXRlbV9HZXRSYW5kb21PcHRpb25HcmFkZShpbkl0ZW1EYXRhKSwgZXF1SW4uYWRkKDM3KSk7DQogICAgICAgICAgICAgICAgIGlmKHJldCkNCiAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgLy/pgJrnn6XlrqLmiLfnq6/mnInoo4XlpIfmm7TmlrANCiAgICAgICAgICAgICAgICAgICAgIENVc2VyX1NlbmRVcGRhdGVJdGVtTGlzdCh1c2VyLCAxLCAwLCBpKTsNCiAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgIH0JCQkNCiAgICAgICAgIH0NCiAgICAgfQkNCiB9', '史诗魔法封印变换券', 'ssfmfybh', 0);
            INSERT INTO da_frida_function (children_function, function_name, function_context, remark, function_key, is_system_fun) VALUES('sever_base_funcation', '称号合成', 'Ly/np7Dlj7flkIjmiJANCg0KLy/np7Dlj7flkIjmiJANCmZ1bmN0aW9uIGNoaGNmdW4odXNlcil7DQogICAgdmFyIGludmVuID0gQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY0ludmVuVyh1c2VyKTsgLy8g6I635Y+W5b2T5YmN6KeS6Imy55qE6IOM5YyF5a+56LGhDQogICAgdmFyIGl0ZW0xID0gQ0ludmVudG9yeV9HZXRJbnZlblJlZihpbnZlbiwgSU5WRU5UT1JZX1RZUEVfSVRFTSwgOSk7IC8vIOiOt+WPluesrDnkuKroo4XlpIfnianlk4HnmoTlr7nosaENCiAgICB2YXIgaXRlbUlkMSA9IEludmVuX0l0ZW1fZ2V0S2V5KGl0ZW0xKTsgLy8g6I635Y+W6K+l54mp5ZOB55qESUQNCiAgICB2YXIgaXRlbTIgPSBDSW52ZW50b3J5X0dldEludmVuUmVmKGludmVuLCBJTlZFTlRPUllfVFlQRV9JVEVNLCAxMCk7IC8vIOiOt+WPluesrDEw5Liq6KOF5aSH54mp5ZOB55qE5a+56LGhDQogICAgdmFyIGl0ZW1JZDIgPSBJbnZlbl9JdGVtX2dldEtleShpdGVtMik7IC8vIOiOt+WPluivpeeJqeWTgeeahElEDQogICAgDQogICAgaWYgKGl0ZW1JZDEgPT0gMTAwMzMxNzM4ICYmIGl0ZW1JZDIgPT0gMjAyMzExMTc1KSB7DQogICAgICAgICAgICBJbnZlbl9JdGVtX2dldEtleShpdGVtMSkNCiAgICAgICAgICAgIHZhciBiYW96aHUgPSBpdGVtMS5hZGQoMTMpLnJlYWRVMzIoKTsJDQogICAgICAgIEludmVuX0l0ZW1fcmVzZXQoaXRlbTEpOyAvLyDlsIbnrKw55Liq6KOF5aSH54mp5ZOB5LuO6IOM5YyF5Lit5Yig6ZmkDQogICAgICAgICAgICBDVXNlcl9TZW5kVXBkYXRlSXRlbUxpc3QodXNlciwgMSwgMCwgOSk7IA0KICAgICAgICBJbnZlbl9JdGVtX3Jlc2V0KGl0ZW0yKTsgLy8g5bCG56ysMTDkuKroo4XlpIfnianlk4Hku47og4zljIXkuK3liKDpmaQNCiAgICAgICAgICAgIENVc2VyX1NlbmRVcGRhdGVJdGVtTGlzdCh1c2VyLCAxLCAwLCAxMCk7IA0KICAgICAgICBhcGlfQ1VzZXJfQWRkSXRlbSh1c2VyLCAxMDAzMzE3NDcsIDEpOyANCiAgICAgICAgdmFyIGl0ZW0zID0gQ0ludmVudG9yeV9HZXRJbnZlblJlZihpbnZlbiwgSU5WRU5UT1JZX1RZUEVfSVRFTSwgOSk7DQogICAgICAgIGl0ZW0zLmFkZCgxMykud3JpdGVVMzIoYmFvemh1KTsNCiAgICAgICAgQ1VzZXJfU2VuZFVwZGF0ZUl0ZW1MaXN0KHVzZXIsIDEsIDAsIDkpOw0KICAgIH0NCiAgICAgICAgaWYgKGl0ZW1JZDEgPT0gMjAyMzExMTc1ICYmIGl0ZW1JZDIgPT0gMTAwMzMxNzM4KSB7DQogICAgICAgICAgICBJbnZlbl9JdGVtX2dldEtleShpdGVtMikNCiAgICAgICAgICAgIHZhciBiYW96aHUgPSBpdGVtMi5hZGQoMTMpLnJlYWRVMzIoKTsNCiAgICAgICAgSW52ZW5fSXRlbV9yZXNldChpdGVtMSk7IC8vIOWwhuesrDnkuKroo4XlpIfnianlk4Hku47og4zljIXkuK3liKDpmaQNCiAgICAgICAgICAgIENVc2VyX1NlbmRVcGRhdGVJdGVtTGlzdCh1c2VyLCAxLCAwLCA5KTsgDQogICAgICAgIEludmVuX0l0ZW1fcmVzZXQoaXRlbTIpOyAvLyDlsIbnrKwxMOS4quijheWkh+eJqeWTgeS7juiDjOWMheS4reWIoOmZpA0KICAgICAgICAgICAgQ1VzZXJfU2VuZFVwZGF0ZUl0ZW1MaXN0KHVzZXIsIDEsIDAsIDEwKTsgDQogICAgICAgIGFwaV9DVXNlcl9BZGRJdGVtKHVzZXIsIDEwMDMzMTc0NywgMSk7IA0KICAgICAgICB2YXIgaXRlbTMgPSBDSW52ZW50b3J5X0dldEludmVuUmVmKGludmVuLCBJTlZFTlRPUllfVFlQRV9JVEVNLCA5KTsNCiAgICAgICAgaXRlbTMuYWRkKDEzKS53cml0ZVUzMihiYW96aHUpOw0KICAgICAgICBDVXNlcl9TZW5kVXBkYXRlSXRlbUxpc3QodXNlciwgMSwgMCwgOSk7DQogICAgfQ0KfQ==', '称号合成', 'chhc_fun', 0);
            INSERT INTO da_frida_function (children_function, function_name, function_context, remark, function_key, is_system_fun) VALUES('sever_base_funcation', '装备分解', 'LyoqDQogDQogLyog6KOF5aSH5YiG6KejDQogKiBAcGFyYW0gdXNlcg0KICovDQpmdW5jdGlvbiBkZWNvbXBvc2UodXNlcil7DQogICAgLy8g5YiG6Kej5Yi4DQogICAgdmFyIGluZGV4ID0gMDsNCiAgICAvLyDmo4Dmn6Xlia/ogYzkuJrmmK/lkKblvIDlkK8NCiAgICB2YXIgY2hlY2tUYWcgPSBDVXNlckNoYXJhY0luZm9fR2V0Q3VyQ2hhcmFjRXhwZXJ0Sm9iKHVzZXIpOw0KICAgIGlmKGNoZWNrVGFnID09IDApew0KICAgICAgICBhcGlfQ1VzZXJfU2VuZE5vdGlQYWNrZXRNZXNzYWdlKHVzZXIsIuazqOaEj++8miDlia/ogYzkuJrmsqHmnInlvIDlkK/vvIEiLDEpOw0KICAgICAgICByZXR1cm47DQogICAgfQ0KICAgIHZhciBpbnZlbiA9IENVc2VyQ2hhcmFjSW5mb19nZXRDdXJDaGFyYWNJbnZlblcodXNlcik7DQogICAgZm9yICh2YXIgaSA9IDk7IGkgPD0gMjQ7IGkrKykgew0KICAgICAgICB2YXIgZXF1ID0gQ0ludmVudG9yeV9HZXRJbnZlblJlZihpbnZlbiwgSU5WRU5UT1JZX1RZUEVfSVRFTSwgaSk7DQogICAgICAgIGlmKEludmVuX0l0ZW1fZ2V0S2V5KGVxdSkpew0KICAgICAgICAgICAgLy8g5YiG6Kej6KOF5aSHDQogICAgICAgICAgICBEaXNQYXRjaGVyX0Rpc0pvaW50SXRlbV9kaXNqb2ludCh1c2VyLGksRU5VTV9JVEVNU1BBQ0VfSU5WRU5UT1JZLDIzOSx1c2VyLDB4RkZGRik7DQogICAgICAgICAgICAvLyDmo4Dmn6Xoo4XlpIfmmK/lkKblrZjlnKgNCiAgICAgICAgICAgIGVxdSA9IENJbnZlbnRvcnlfR2V0SW52ZW5SZWYoaW52ZW4sIElOVkVOVE9SWV9UWVBFX0lURU0sIGkpOw0KICAgICAgICAgICAgaWYoSW52ZW5fSXRlbV9nZXRLZXkoZXF1KSl7DQogICAgICAgICAgICAgICAgLy8g5aSx6LSlDQogICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICAvLyDmiJDlip8NCiAgICAgICAgICAgICAgICBpbmRleCsrOw0KICAgICAgICAgICAgICAgIENVc2VyX1NlbmRVcGRhdGVJdGVtTGlzdCh1c2VyLCAxLCAwLCBpKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0NCiAgICBpZihpbmRleD4wKXsNCiAgICAgICAgYXBpX0NVc2VyX1NlbmROb3RpUGFja2V0TWVzc2FnZSh1c2VyLCLmga3llpzvvJogIitpbmRleCsi5Lu26KOF5aSH5YiG6KejIOaIkOWKn++8gSIsMCk7DQogICAgfWVsc2V7DQogICAgICAgIGFwaV9DVXNlcl9TZW5kTm90aVBhY2tldE1lc3NhZ2UodXNlciwi5rOo5oSP77yaIOijheWkh+WIhuinoyDlpLHotKXvvIEiLDApOw0KICAgIH0NCn0=', '装备分解', 'decompose', 0);
            INSERT INTO da_frida_function (children_function, function_name, function_context, remark, function_key, is_system_fun) VALUES('sever_base_funcation', '扩充账号金库(120格)', 'Ly8g6I635Y+W6LSm5Y+36YeR5bqT5LiA5Liq56m655qE5qC85a2QDQp2YXIgQ0FjY291bnRDYXJnb19HZXRFbXB0eVNsb3RfTkVXOw0KLy8g5bCG5bey57uP54mp5ZOB56e75Yqo5Yiw5p+Q5Liq5qC85a2QIOesrOS4gOS4qui0puWPt+mHkeW6k++8jOesrOS6jOS4quenu+WFpeeahOeJqeWTge+8jOesrOS4ieS4quagvOWtkOS9jee9rg0KdmFyIENBY2NvdW50Q2FyZ29fSW5zZXJ0SXRlbV9ORVc7DQovLyDlkJHlrqLmiLfnq6/lj5HpgIHotKblj7fph5HlupPliJfooagNCnZhciBDQWNjb3VudENhcmdvX1NlbmRJdGVtTGlzdF9ORVc7DQovLyDlrZjmlL7miYDmnInnlKjmiLfnmoTotKblj7fph5HlupPmlbDmja4NCnZhciBhY2NvdW50Q2FyZ2ZvID0ge307DQp2YXIgaW5pdE1heFNvbHQgPSAwOw0KZnVuY3Rpb24gc2V0TWF4Q0FjY291bnRDYXJnb1NvbHQobWF4U29sdCl7DQogICAgLy8gY29uc29sZS5sb2coMSk7DQogICAgaW5pdE1heFNvbHQgPSBtYXhTb2x0Ow0KICAgIEdldE1vbmV5KG1heFNvbHQpOw0KICAgIENBY2NvdW50Q2FyZ28obWF4U29sdCk7DQogICAgR2V0Q2FwYWNpdHkobWF4U29sdCk7DQogICAgU2V0REJEYXRhKG1heFNvbHQpOw0KICAgIENsZWFyKG1heFNvbHQpOw0KICAgIEluc2VydEl0ZW0obWF4U29sdCk7DQogICAgRGVsZXRlSXRlbShtYXhTb2x0KTsNCiAgICBNb3ZlSXRlbShtYXhTb2x0KTsNCiAgICBEZXBvc2l0TW9uZXkobWF4U29sdCk7DQogICAgV2l0aGRyYXdNb25leShtYXhTb2x0KTsNCiAgICBDaGVja01vbmV5TGltaXQobWF4U29sdCk7DQogICAgQ2hlY2tWYWxpZFNsb3QobWF4U29sdCk7DQogICAgR2V0RW1wdHlTbG90KG1heFNvbHQpOw0KICAgIEdldFNwZWNpZmljSXRlbVNsb3QobWF4U29sdCk7DQogICAgQWRkTW9uZXkobWF4U29sdCk7DQogICAgU3ViTW9uZXkobWF4U29sdCk7DQogICAgR2V0SXRlbUNvdW50KG1heFNvbHQpOw0KICAgIFNlbmROb3RpZnlNb25leShtYXhTb2x0KTsNCiAgICBTZW5kSXRlbUxpc3QobWF4U29sdCk7DQogICAgSXNBbHRlcihtYXhTb2x0KTsNCiAgICBTZXRDYXBhY2l0eShtYXhTb2x0KTsNCiAgICBTZXRTdGFibGUobWF4U29sdCk7DQogICAgREJfU2F2ZUFjY291bnRDYXJnb19tYWtlUmVxdWVzdChtYXhTb2x0KTsNCiAgICBHZXRBY2NvdW50Q2FyZ28oKTsNCiAgICBNYWtlSXRlbVBhY2tldChtYXhTb2x0KTsNCiAgICBDaGVja1N0YWNrTGltaXQobWF4U29sdCk7DQogICAgQ2hlY2tTbG90RW1wdHkobWF4U29sdCk7DQogICAgLy8gQ2hlY2tJbnNlcnRDb25kaXRpb24obWF4U29sdCk7DQogICAgR2V0U2xvdFJlZihtYXhTb2x0KTsNCiAgICBHZXRTbG90KG1heFNvbHQpOw0KICAgIFJlc2V0U2xvdChtYXhTb2x0KTsNCiAgICBEQl9Mb2FkQWNjb3VudENhcmdvX2Rpc3BhdGNoKG1heFNvbHQpOw0KICAgIERCX1NhdmVBY2NvdW50Q2FyZ29fZGlzcGF0Y2gobWF4U29sdCk7DQogICAgSXNFeGlzdEFjY291bnRDYXJnbygpOw0KICAgIC8vIHVzZXJMb2dvdXQoKTsNCiAgICBjb25zb2xlLmxvZygxMik7DQp9DQoNCmZ1bmN0aW9uIElzRXhpc3RBY2NvdW50Q2FyZ28oKXsNCiAgICBJbnRlcmNlcHRvci5hdHRhY2gocHRyKDB4MDgyMmZjMzApLCB7DQoNCiAgICAgICAgb25FbnRlcjogZnVuY3Rpb24gKGFyZ3MpIHsNCiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdJc0V4aXN0QWNjb3VudENhcmdvIHN0YXJ0OicrYXJnc1swXSkNCiAgICAgICAgfSwNCiAgICAgICAgb25MZWF2ZTogZnVuY3Rpb24gKHJldHZhbCkgew0KICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ0lzRXhpc3RBY2NvdW50Q2FyZ28gZW5kOicrcmV0dmFsKQ0KICAgICAgICB9DQogICAgfSk7DQp9DQoNCmZ1bmN0aW9uIERCX1NhdmVBY2NvdW50Q2FyZ29fZGlzcGF0Y2gobWF4U29sdCl7DQogICAgSW50ZXJjZXB0b3IucmVwbGFjZShwdHIoMHgwODQzYjdjMiksIG5ldyBOYXRpdmVDYWxsYmFjayhmdW5jdGlvbiAoZGJjYXJnb1JlZixhMixhMyxhNCkgew0KICAgICAgICAvLyBjb25zb2xlLmxvZygiREJfU2F2ZUFjY291bnRDYXJnb19kaXNwYXRjaCAtLS0tLS0tLS0tLS0tOiIpDQogICAgICAgIHZhciB2MTQgPSBNZW1vcnkuYWxsb2MoNCk7DQogICAgICAgIHYxNC53cml0ZVUzMigwKTsNCiAgICAgICAgU3RyZWFtX29wZXJhdG9yX3AoYTQsIHYxNC50b0ludDMyKCkpOw0KICAgICAgICB2YXIgdjQgPSBOdW1iZXJUb1N0cmluZyh2MTQucmVhZFUzMigpLDApOw0KICAgICAgICAvLyBjb25zb2xlLmxvZygibWlkOiIrcHRyKHY0KS5yZWFkVXRmOFN0cmluZygtMSkpOw0KDQogICAgICAgIHZhciBvdXQgPSBTdHJlYW1fR2V0T3V0QnVmZmVyX1NJR19BQ0NPVU5UX0NBUkdPX0RBVEEoYTQpOw0KICAgICAgICB2YXIgb3V0UHRyID0gcHRyKG91dCk7DQogICAgICAgIHZhciB2MTdBZGRyID0gTWVtb3J5LmFsbG9jKDQpOw0KICAgICAgICB2MTdBZGRyLndyaXRlSW50KDYxKm1heFNvbHQpOw0KICAgICAgICB2YXIgcmVhZEJ1ZmYgPSBNZW1vcnkuYWxsb2MoNjEqbWF4U29sdCk7DQogICAgICAgIGlmKGNvbXByZXNzX3ppcChyZWFkQnVmZix2MTdBZGRyLG91dFB0ci5hZGQoOCksNjEqbWF4U29sdCkgIT0xKXsNCiAgICAgICAgICAgIHJldHVybiAwOw0KICAgICAgICB9DQogICAgICAgIHZhciBkYkhhbmRlbEFkZHIgPSBEQk1ncl9HZXREQkhhbmRsZShwdHIocHRyKDB4MDk0MEJEQUMpLnJlYWRVMzIoKSksMiwwKTsNCiAgICAgICAgdmFyIGRiSGFuZGVsID0gcHRyKGRiSGFuZGVsQWRkcik7DQogICAgICAgIHZhciBibG9iUHRyID0gTXlTUUxfYmxvYl90b19zdHIoZGJIYW5kZWwsMCxyZWFkQnVmZix2MTdBZGRyLnJlYWRVMzIoKSk7DQogICAgICAgIC8vIGNvbnNvbGUubG9nKCdibG9iOiAnK2Jsb2JQdHIgKycgJytvdXRQdHIucmVhZFUzMigpKycgJytvdXRQdHIuYWRkKDQpLnJlYWRVMzIoKSsnICAnKTsNCiAgICAgICAgTXlTUUxfc2V0X3F1ZXJ5XzYoZGJIYW5kZWwsTWVtb3J5LmFsbG9jVXRmOFN0cmluZygidXBEYXRlIGFjY291bnRfY2FyZ28gc2V0IGNhcGFjaXR5PSV1LCBtb25leT0ldSwgY2FyZ289JyVzJyB3aGVyZSBtX2lkID0gJXMiKQ0KICAgICAgICAgICAgLG91dFB0ci5yZWFkVTMyKCksb3V0UHRyLmFkZCg0KS5yZWFkVTMyKCksYmxvYlB0ci50b0ludDMyKCkscHRyKHY0KS50b0ludDMyKCkpOw0KICAgICAgICByZXR1cm4gTXlTUUxfZXhlYyhkYkhhbmRlbCwxKT09MT8xOjA7DQogICAgfSwgJ2ludCcsIFsncG9pbnRlcicsJ2ludCcsJ2ludCcsJ3BvaW50ZXInXSkpOw0KfQ0KDQpmdW5jdGlvbiBEQl9Mb2FkQWNjb3VudENhcmdvX2Rpc3BhdGNoKG1heFNvbHQpew0KICAgIEludGVyY2VwdG9yLnJlcGxhY2UocHRyKDB4MDg0M2IzYjYpLCBuZXcgTmF0aXZlQ2FsbGJhY2soZnVuY3Rpb24gKGRiY2FyZ29SZWYsYTIsYTMsYTQpIHsNCiAgICAgICAgY29uc29sZS5sb2coJ0RCX0xvYWRBY2NvdW50Q2FyZ29fZGlzcGF0Y2g6OjonK2RiY2FyZ29SZWYrJywnK2EyKycsJythMysnLCcrYTQpOw0KDQogICAgICAgIHZhciB2MTkgPSBNZW1vcnkuYWxsb2MoNCk7DQogICAgICAgIHYxOS53cml0ZVUzMigwKTsNCiAgICAgICAgU3RyZWFtX29wZXJhdG9yX3AoYTQsIHYxOS50b0ludDMyKCkpOw0KICAgICAgICB2YXIgdjQgPSBOdW1iZXJUb1N0cmluZyh2MTkucmVhZFUzMigpLDApOw0KICAgICAgICAvLyBjb25zb2xlLmxvZygibWlkOiIrcHRyKHY0KS5yZWFkVXRmOFN0cmluZygtMSkpDQoNCiAgICAgICAgdmFyIGRiSGFuZGVsQWRkciA9IERCTWdyX0dldERCSGFuZGxlKHB0cihwdHIoMHgwOTQwQkRBQykucmVhZFUzMigpKSwyLDApOw0KICAgICAgICB2YXIgZGJIYW5kZWwgPSBwdHIoZGJIYW5kZWxBZGRyKTsNCiAgICAgICAgLy8gY29uc29sZS5sb2coJ2RiSGFuZGVsOicrZGJIYW5kZWwpOw0KDQogICAgICAgIE15U1FMX3NldF9xdWVyeV8zX3B0cihkYkhhbmRlbCxNZW1vcnkuYWxsb2NVdGY4U3RyaW5nKCdzZUxlY3QgY2FwYWNpdHksIG1vbmV5LCBjYXJnbyBmcm9tIGFjY291bnRfY2FyZ28gd2hlcmUgbV9pZCA9ICVzJykscHRyKHY0KSk7DQogICAgICAgIGlmKE15U1FMX2V4ZWMoZGJIYW5kZWwsMSkhPTEpew0KICAgICAgICAgICAgLy8gY29uc29sZS5sb2coImV4ZWMgZmFpbCA6IikNCiAgICAgICAgICAgIHJldHVybiAwOw0KICAgICAgICB9DQogICAgICAgIGlmKE15U1FMX2dldF9uX3Jvd3MoZGJIYW5kZWwpPT0wKXsNCiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCJnZXQgcm93cyAgPSAwICIpDQogICAgICAgICAgICByZXR1cm4gMTsNCiAgICAgICAgfQ0KICAgICAgICBpZihNeVNRTF9mZXRjaChkYkhhbmRlbCkhPTEpew0KICAgICAgICAgICAgLy8gY29uc29sZS5sb2coImZldGNoIGZpYWwgID0gMCAiKQ0KICAgICAgICAgICAgcmV0dXJuIDA7DQogICAgICAgIH0NCiAgICAgICAgdmFyIHYxOCA9IE1lbW9yeS5hbGxvYyg4KTsNCiAgICAgICAgdmFyIHY2ID0gU3RyZWFtUG9vbF9BY3F1aXJlKHB0cihwdHIoMHgwOTQwQkQ2QykucmVhZFUzMigpKSxNZW1vcnkuYWxsb2NVdGY4U3RyaW5nKCdEQlRocmVhZC5jcHAnKSwzNTkyMyk7DQogICAgICAgIENTdHJlYW1HdWFyZF9DU3RyZWFtR3VhcmQodjE4LHY2LDEpOw0KICAgICAgICB2YXIgdjcgPSBDU3RyZWFtR3VhcmRfb3BlcmF0b3IodjE4LnRvSW50MzIoKSk7DQogICAgICAgIENTdHJlYW1HdWFyZF9vcGVyYXRvcl9pbnQocHRyKHY3KSxhMik7DQogICAgICAgIHZhciB2OCA9IENTdHJlYW1HdWFyZF9vcGVyYXRvcih2MTgudG9JbnQzMigpKTsNCiAgICAgICAgQ1N0cmVhbUd1YXJkX29wZXJhdG9yX2ludChwdHIodjgpLGEzKTsNCiAgICAgICAgdmFyIHY5PSBDU3RyZWFtR3VhcmRfb3BlcmF0b3JfcCh2MTgudG9JbnQzMigpKTsNCiAgICAgICAgdmFyIHYyMSA9IENTdHJlYW1HdWFyZF9HZXRJbkJ1ZmZlcl9TSUdfQUNDT1VOVF9DQVJHT19EQVRBKHB0cih2OSkpOw0KICAgICAgICB2MjEud3JpdGVVMzIoMCk7DQogICAgICAgIHYyMS5hZGQoNCkud3JpdGVVMzIoMCk7DQogICAgICAgIHZhciBjYXJnb1JlZkFkZCA9IHYyMS5hZGQoOCk7DQogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWF4U29sdDsgaSsrKSB7DQogICAgICAgICAgICBjYXJnb1JlZkFkZC53cml0ZVUzMigwKTsNCiAgICAgICAgICAgIGNhcmdvUmVmQWRkID0gY2FyZ29SZWZBZGQuYWRkKDYxKTsNCiAgICAgICAgfQ0KICAgICAgICB2MjEuYWRkKDgrNjEqbWF4U29sdCkud3JpdGVVMzIoMCk7DQogICAgICAgIHYyMS5hZGQoOCs2MSptYXhTb2x0KS53cml0ZVUzMigwKTsNCiAgICAgICAgdmFyIHJlcyA9MDsNCiAgICAgICAgaWYoTXlTUUxfZ2V0X3VpbnQoZGJIYW5kZWwsMCx2MjEpIT0xKXsNCiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCd1aW50IGNhcGFjaXR5IGdldCBlcnJvcicpDQogICAgICAgICAgICByZXMgPSAwOw0KICAgICAgICB9ZWxzZSBpZihNeVNRTF9nZXRfdWludChkYkhhbmRlbCwxLHYyMS5hZGQoNCkpIT0xKXsNCiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCd1aW50IG1vbmV5IGdldCBlcnJvcicpDQogICAgICAgICAgICByZXMgPSAwOw0KICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgIHZhciB2MTAgPSBNZW1vcnkuYWxsb2MoNjEqbWF4U29sdCo0KTsNCiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNjEqbWF4U29sdDsgaSsrKSB7DQogICAgICAgICAgICAgICAgdjEwLmFkZChpKjQpLndyaXRlVTMyKDApOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdmFyIGJpbmFyeUxlbmd0aCA9IE15U1FMX2dldF9iaW5hcnlfbGVuZ3RoKGRiSGFuZGVsLDIpOw0KICAgICAgICAgICAgaWYoIE15U1FMX2dldF9iaW5hcnkoZGJIYW5kZWwsMix2MTAsIGJpbmFyeUxlbmd0aCkhPTEgKXsNCiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygncmVhZCB2YWwgbGVuZ3RoIDAnKTsNCiAgICAgICAgICAgICAgICAvLyDop6PlhrPliJvlu7rotKblj7fph5HlupPlkI7ku4DkuYjkuZ/kuI3mk43kvZwg54S25ZCO5L+d5a2Y5a2X6IqC5Li6MCDlr7zoh7TliJvlu7rnmoTmiZPkuI3lvIANCiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1heFNvbHQ7IGkrKykgew0KICAgICAgICAgICAgICAgICAgICB2MjEuYWRkKDgraSo2MSkud3JpdGVVMzIoMCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHZhciBtc2dOYW1lID0gcHRyKHB0cigweDA5NDBCRDY4KS5yZWFkVTMyKCkpOw0KICAgICAgICAgICAgICAgIE1zZ1F1ZXVlTWdyX3B1dChtc2dOYW1lLnRvSW50MzIoKSwxLHYxOCk7DQogICAgICAgICAgICAgICAgcmVzID0gMTsNCiAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgIGJpbmFyeUxlbmd0aCA9IE15U1FMX2dldF9iaW5hcnlfbGVuZ3RoKGRiSGFuZGVsLDIpOw0KICAgICAgICAgICAgICAgIHZhciB2MTdBZGRyID0gTWVtb3J5LmFsbG9jKDQpOw0KICAgICAgICAgICAgICAgIHYxN0FkZHIud3JpdGVJbnQoNjEqbWF4U29sdCkNCiAgICAgICAgICAgICAgICBpZih1bmNvbXByZXNzX3ppcCh2MjEuYWRkKDgpLCB2MTdBZGRyLCB2MTAsIGJpbmFyeUxlbmd0aCkgIT0xKXsNCiAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coInVuY29tcHJlc3NfemlwIGVycm9yICAhISEiKQ0KICAgICAgICAgICAgICAgICAgICByZXMgPSAwOw0KICAgICAgICAgICAgICAgIH1lbHNlIGlmKHYxN0FkZHIucmVhZFUzMigpIT0wICYmIHYxN0FkZHIucmVhZFUzMigpJSg2MSptYXhTb2x0KSAhPTApew0KICAgICAgICAgICAgICAgICAgICByZXMgPSAwOw0KICAgICAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgICAgICB2YXIgbXNnTmFtZSA9IHB0cihwdHIoMHgwOTQwQkQ2OCkucmVhZFUzMigpKTsNCiAgICAgICAgICAgICAgICAgICAgTXNnUXVldWVNZ3JfcHV0KG1zZ05hbWUudG9JbnQzMigpLDEsdjE4KTsNCiAgICAgICAgICAgICAgICAgICAgcmVzID0gMTsNCg0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygidjE3IGxlbmd0aDoiK3YxN0FkZHIucmVhZFUzMigpKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICAvLyBjb25zb2xlLmxvZygnbW9uZXkgb3IgY2FwYWNpdHk6Jyt2MjEucmVhZFUzMigpKycsJyt2MjEuYWRkKDQpLnJlYWRVMzIoKSsnLCcrdjIxLmFkZCg4KS5yZWFkVTMyKCkrJyAsJytyZXMpDQogICAgICAgIERlc3Ryb3lfQ1N0cmVhbUd1YXJkX0NTdHJlYW1HdWFyZCh2MTgpOw0KICAgICAgICByZXR1cm4gcmVzOw0KICAgIH0sICdpbnQnLCBbJ3BvaW50ZXInLCdpbnQnLCdpbnQnLCdwb2ludGVyJ10pKTsNCn0NCg0KZnVuY3Rpb24gUmVzZXRTbG90KG1heFNvbHQpew0KICAgIEludGVyY2VwdG9yLnJlcGxhY2UocHRyKDB4MDgyODk4QzApLCBuZXcgTmF0aXZlQ2FsbGJhY2soZnVuY3Rpb24gKGNhcmdvUmVmLHNvbHQpIHsNCiAgICAgICAgdmFyIGFjY0lkID0gIGdldFVzZXJBY2NJZChjYXJnb1JlZik7DQogICAgICAgIGlmKGFjY0lkID09IC0xKXsNCiAgICAgICAgICAgIHJldHVybiAwOw0KICAgICAgICB9DQogICAgICAgIC8vIGNvbnNvbGUubG9nKCdSZXNldFNsb3QtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0nK2NhcmdvUmVmKQ0KICAgICAgICBpZihDQWNjb3VudENhcmdvX0NoZWNrVmFsaWRTbG90KGNhcmdvUmVmLHNvbHQpPT0wKXsNCiAgICAgICAgICAgIHJldHVybiAwOw0KICAgICAgICB9DQogICAgICAgIGNhcmdvUmVmID0gZ2V0Q2FyZ29SZWYoYWNjSWQsY2FyZ29SZWYpOw0KICAgICAgICByZXR1cm4gSW52ZW5fSXRlbV9yZXNldChjYXJnb1JlZi5hZGQoNjEqc29sdCs0KSk7DQogICAgfSwgJ2ludCcsIFsncG9pbnRlcicsJ2ludCddKSk7DQp9DQoNCmZ1bmN0aW9uIEdldFNsb3QobWF4U29sdCl7DQogICAgSW50ZXJjZXB0b3IucmVwbGFjZShwdHIoMHgwODI4OThGOCksIG5ldyBOYXRpdmVDYWxsYmFjayhmdW5jdGlvbiAoYnVmZixjYXJnbyxzb2x0KSB7DQogICAgICAgIHZhciBjYXJnb1JlZiA9IHB0cihjYXJnbyk7DQogICAgICAgIHZhciBhY2NJZCA9ICBnZXRVc2VyQWNjSWQoY2FyZ29SZWYpOw0KICAgICAgICBpZihhY2NJZCA9PSAtMSl7DQogICAgICAgICAgICByZXR1cm4gYnVmZjsNCiAgICAgICAgfQ0KICAgICAgICAvLyBjb25zb2xlLmxvZygnR2V0U2xvdC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLScrY2FyZ29SZWYpDQogICAgICAgIGNhcmdvUmVmID0gZ2V0Q2FyZ29SZWYoYWNjSWQsY2FyZ29SZWYpOw0KICAgICAgICBpZihDQWNjb3VudENhcmdvX0NoZWNrVmFsaWRTbG90KGNhcmdvUmVmLHNvbHQpPT0wKXsNCiAgICAgICAgICAgIGJ1ZmYud3JpdGVVMzIoY2FyZ29SZWYuYWRkKDYxKnNvbHQrNCkucmVhZFUzMigpKTsNCiAgICAgICAgICAgIGJ1ZmYuYWRkKDEqNCkud3JpdGVVMzIoMCk7DQogICAgICAgICAgICBidWZmLmFkZCgyKjQpLndyaXRlVTMyKDApOw0KICAgICAgICAgICAgYnVmZi5hZGQoMyo0KS53cml0ZVUzMigwKTsNCiAgICAgICAgICAgIGJ1ZmYuYWRkKDQqNCkud3JpdGVVMzIoMCk7DQogICAgICAgICAgICBidWZmLmFkZCg1KjQpLndyaXRlVTMyKDApOw0KICAgICAgICAgICAgYnVmZi5hZGQoNio0KS53cml0ZVUzMigwKTsNCiAgICAgICAgICAgIGJ1ZmYuYWRkKDcqNCkud3JpdGVVMzIoMCk7DQogICAgICAgICAgICBidWZmLmFkZCg4KjQpLndyaXRlVTMyKDApOw0KICAgICAgICAgICAgYnVmZi5hZGQoOSo0KS53cml0ZVUzMigwKTsNCiAgICAgICAgICAgIGJ1ZmYuYWRkKDEwKjQpLndyaXRlVTMyKDApOw0KICAgICAgICAgICAgYnVmZi5hZGQoMTEqNCkud3JpdGVVMzIoMCk7DQogICAgICAgICAgICBidWZmLmFkZCgxMio0KS53cml0ZVUzMigwKTsNCiAgICAgICAgICAgIGJ1ZmYuYWRkKDEzKjQpLndyaXRlVTMyKDApOw0KICAgICAgICAgICAgYnVmZi5hZGQoMTQqNCkud3JpdGVVMzIoMCk7DQogICAgICAgICAgICBidWZmLmFkZCg2MCkud3JpdGVVOCgwKTsNCiAgICAgICAgfWVsc2Ugew0KICAgICAgICAgICAgYnVmZi53cml0ZVUzMihjYXJnb1JlZi5hZGQoNjEqc29sdCs0KS5yZWFkVTMyKCkpOw0KICAgICAgICAgICAgYnVmZi5hZGQoMSo0KS53cml0ZVUzMihjYXJnb1JlZi5hZGQoNjEqc29sdCs4KS5yZWFkVTMyKCkpOw0KICAgICAgICAgICAgYnVmZi5hZGQoMio0KS53cml0ZVUzMihjYXJnb1JlZi5hZGQoNjEqc29sdCsxMikucmVhZFUzMigpKTsNCiAgICAgICAgICAgIGJ1ZmYuYWRkKDMqNCkud3JpdGVVMzIoY2FyZ29SZWYuYWRkKDYxKnNvbHQrMTYpLnJlYWRVMzIoKSk7DQogICAgICAgICAgICBidWZmLmFkZCg0KjQpLndyaXRlVTMyKGNhcmdvUmVmLmFkZCg2MSpzb2x0KzIwKS5yZWFkVTMyKCkpOw0KICAgICAgICAgICAgYnVmZi5hZGQoNSo0KS53cml0ZVUzMihjYXJnb1JlZi5hZGQoNjEqc29sdCsyNCkucmVhZFUzMigpKTsNCiAgICAgICAgICAgIGJ1ZmYuYWRkKDYqNCkud3JpdGVVMzIoY2FyZ29SZWYuYWRkKDYxKnNvbHQrMjgpLnJlYWRVMzIoKSk7DQogICAgICAgICAgICBidWZmLmFkZCg3KjQpLndyaXRlVTMyKGNhcmdvUmVmLmFkZCg2MSpzb2x0KzMyKS5yZWFkVTMyKCkpOw0KICAgICAgICAgICAgYnVmZi5hZGQoOCo0KS53cml0ZVUzMihjYXJnb1JlZi5hZGQoNjEqc29sdCszNikucmVhZFUzMigpKTsNCiAgICAgICAgICAgIGJ1ZmYuYWRkKDkqNCkud3JpdGVVMzIoY2FyZ29SZWYuYWRkKDYxKnNvbHQrNDApLnJlYWRVMzIoKSk7DQogICAgICAgICAgICBidWZmLmFkZCgxMCo0KS53cml0ZVUzMihjYXJnb1JlZi5hZGQoNjEqc29sdCs0NCkucmVhZFUzMigpKTsNCiAgICAgICAgICAgIGJ1ZmYuYWRkKDExKjQpLndyaXRlVTMyKGNhcmdvUmVmLmFkZCg2MSpzb2x0KzQ4KS5yZWFkVTMyKCkpOw0KICAgICAgICAgICAgYnVmZi5hZGQoMTIqNCkud3JpdGVVMzIoY2FyZ29SZWYuYWRkKDYxKnNvbHQrNTIpLnJlYWRVMzIoKSk7DQogICAgICAgICAgICBidWZmLmFkZCgxMyo0KS53cml0ZVUzMihjYXJnb1JlZi5hZGQoNjEqc29sdCs1NikucmVhZFUzMigpKTsNCiAgICAgICAgICAgIGJ1ZmYuYWRkKDE0KjQpLndyaXRlVTMyKGNhcmdvUmVmLmFkZCg2MSpzb2x0KzYwKS5yZWFkVTMyKCkpOw0KICAgICAgICAgICAgYnVmZi5hZGQoNjApLndyaXRlVTgoY2FyZ29SZWYuYWRkKDYxKnNvbHQrNjQpLnJlYWRVOCgpKTsNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gYnVmZjsNCiAgICB9LCAncG9pbnRlcicsIFsncG9pbnRlcicsJ2ludCcsJ2ludCddKSk7DQp9DQoNCmZ1bmN0aW9uIEdldFNsb3RSZWYobWF4U29sdCl7DQogICAgSW50ZXJjZXB0b3IucmVwbGFjZShwdHIoMHgwODI4OUEwQyksIG5ldyBOYXRpdmVDYWxsYmFjayhmdW5jdGlvbiAoY2FyZ29SZWYsc29sdCkgew0KICAgICAgICB2YXIgYWNjSWQgPSAgZ2V0VXNlckFjY0lkKGNhcmdvUmVmKTsNCiAgICAgICAgaWYoYWNjSWQgPT0gLTEpew0KICAgICAgICAgICAgcmV0dXJuIDA7DQogICAgICAgIH0NCiAgICAgICAgLy8gY29uc29sZS5sb2coIkdldFNsb3RSZWYgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIitjYXJnb1JlZikNCiAgICAgICAgaWYoQ0FjY291bnRDYXJnb19DaGVja1ZhbGlkU2xvdChjYXJnb1JlZixzb2x0KT09MCl7DQogICAgICAgICAgICByZXR1cm4gMDsNCiAgICAgICAgfQ0KICAgICAgICBjYXJnb1JlZi5hZGQoMTIrNjEqNTYpLndyaXRlVTgoMSk7IC8vIOagh+W/lw0KICAgICAgICBjYXJnb1JlZiA9IGdldENhcmdvUmVmKGFjY0lkLGNhcmdvUmVmKTsNCiAgICAgICAgY2FyZ29SZWYuYWRkKDEyKzYxKm1heFNvbHQpLndyaXRlVTgoMSk7IC8vIOagh+W/lw0KICAgICAgICByZXR1cm4gY2FyZ29SZWYuYWRkKDYxKnNvbHQrNCk7DQogICAgfSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInLCdpbnQnXSkpOw0KfQ0KDQovLyB0b2RvIOayoeacieWGmeabv+aNog0KZnVuY3Rpb24gQ2hlY2tJbnNlcnRDb25kaXRpb24obWF4U29sdCl7DQogICAgSW50ZXJjZXB0b3IucmVwbGFjZShwdHIoMHgwODI4OUE0QSksIG5ldyBOYXRpdmVDYWxsYmFjayhmdW5jdGlvbiAoY2FyZ29SZWYsaXRlbUludmVuKSB7DQogICAgICAgIHZhciBhY2NJZCA9ICBnZXRVc2VyQWNjSWQoY2FyZ29SZWYpOw0KICAgICAgICBpZihhY2NJZCA9PSAtMSl7DQogICAgICAgICAgICByZXR1cm4gMDsNCiAgICAgICAgfQ0KICAgICAgICAvLyBjb25zb2xlLmxvZygnQ2hlY2tJbnNlcnRDb25kaXRpb24tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0nK2NhcmdvUmVmKQ0KICAgICAgICB2YXIgaXRlbUlkID0gaXRlbUludmVuLmFkZCgyKS5yZWFkVTMyKCk7DQogICAgICAgIHZhciBpdGVtID0gQ0RhdGFNYW5hZ2VyX2ZpbmRfaXRlbShHX0NEYXRhTWFuYWdlcigpLGl0ZW1JZCk7DQogICAgICAgIGlmKGl0ZW09PTApew0KICAgICAgICAgICAgcmV0dXJuIDA7DQogICAgICAgIH0NCiAgICAgICAgaWYoQ0l0ZW1faXNQYWNrYWdhYmxlKGl0ZW0pIT0xKXsNCiAgICAgICAgICAgIHJldHVybiAwOw0KICAgICAgICB9DQogICAgICAgIHZhciBsb2NrID0gc3RBbXBsaWZ5T3B0aW9uX3RfR2V0TG9jayhpdGVtSW52ZW4uYWRkKDE3KSk7DQogICAgICAgIGlmKGxvY2shPTApew0KICAgICAgICAgICAgdmFyIGNoYXJhY0V4cGFuZERhdGFSID0gQ1VzZXJfR2V0Q2hhcmFjRXhwYW5kRGF0YVIoY2FyZ29SZWYucmVhZFUzMigpLDIpOw0KICAgICAgICAgICAgaWYoaXRlbV9sb2NrX0NJdGVtTG9ja19DaGVja0l0ZW1Mb2NrKGNoYXJhY0V4cGFuZERhdGFSLGxvY2spIT0wKXsNCiAgICAgICAgICAgICAgICByZXR1cm4gMDsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICB2YXIgdHlwZVZhbCA9IGl0ZW1JbnZlbi5hZGQoMSkucmVhZFU4KCk7DQogICAgICAgIGlmKHR5cGVWYWw9PTR8fHR5cGVWYWw9PTV8fHR5cGVWYWw9PTZ8fHR5cGVWYWw9PTd8fHR5cGVWYWw9PTgpew0KICAgICAgICAgICAgcmV0dXJuIDA7DQogICAgICAgIH0NCiAgICAgICAgaWYoaXRlbUlkPjB4MTk2MyAmJiBpdGVtSWQ8PTB4MUI1Nyl7DQogICAgICAgICAgICByZXR1cm4gMDsNCiAgICAgICAgfQ0KICAgICAgICB2YXIgYXR0YWNoVHlwZSA9IENJdGVtX0dldEF0dGFjaFR5cGUoaXRlbSk7DQogICAgICAgIGlmKGF0dGFjaFR5cGU9PTEgfHwgYXR0YWNoVHlwZT09Mil7DQogICAgICAgICAgICByZXR1cm4gMDsNCiAgICAgICAgfQ0KICAgICAgICBpZihhdHRhY2hUeXBlID09IDMgJiYgaXRlbUludmVuLnJlYWRVOCgpIT0xKXsNCiAgICAgICAgICAgIHJldHVybiAwOw0KICAgICAgICB9DQogICAgICAgIGlmKFVwZ3JhZGVTZXBhcmF0ZUluZm9fSXNUcmFkZVJlc3RyaWN0aW9uKGl0ZW1JbnZlbi5hZGQoNTEpKSAhPTApew0KICAgICAgICAgICAgcmV0dXJuIDA7DQogICAgICAgIH0NCiAgICAgICAgdmFyIHRlbXBNZXRob2QgPSBuZXcgTmF0aXZlRnVuY3Rpb24ocHRyKGl0ZW0uYWRkKDE2KjQpLnJlYWRVMzIoKSksICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KICAgICAgICAvLyB8fHRlbXBNZXRob2QoaXRlbSk9PTENCiAgICAgICAgdmFyIGlzR01Vc2VyID0gQ1VzZXJfaXNHTVVzZXIocHRyKGNhcmdvUmVmLnJlYWRVMzIoKSkpOw0KICAgICAgICBpZihpc0dNVXNlcj09MSl7DQogICAgICAgICAgICByZXR1cm4gMTsNCiAgICAgICAgfQ0KICAgICAgICBpZihDSXRlbV9nZXRVc2FibGVQZXJpb2QoaXRlbSk9PTAgJiYgQ0l0ZW1fZ2V0RXhwaXJhdGlvbkRhdGUoaXRlbSk9PTApew0KICAgICAgICAgICAgcmV0dXJuIDE7DQogICAgICAgIH0NCiAgICAgICAgaWYoQ0l0ZW1fZ2V0VXNhYmxlUGVyaW9kKGl0ZW0pPT0wICYmIENJdGVtX2dldEV4cGlyYXRpb25EYXRlKGl0ZW0pPT0wKXsNCiAgICAgICAgICAgIHJldHVybiAwOw0KICAgICAgICB9DQogICAgICAgIHZhciBleHBEYXRlID0gODY0MDAgKiBpdGVtSW52ZW4uYWRkKDExKS5yZWFkVTE2KCkrMTE1MTY4MzIwMDsNCiAgICAgICAgcmV0dXJuIGV4cERhdGUgPiBDU3lzdGVtVGltZV9nZXRDdXJTZWMocHRyKDB4MDk0MUY3MTQpKT8xOjA7DQogICAgfSwgJ2ludCcsIFsncG9pbnRlcicsJ3BvaW50ZXInXSkpOw0KfQ0KDQpmdW5jdGlvbiBDaGVja1Nsb3RFbXB0eShtYXhTb2x0KXsNCiAgICBJbnRlcmNlcHRvci5yZXBsYWNlKHB0cigweDA4MjhBNUQ0KSwgbmV3IE5hdGl2ZUNhbGxiYWNrKGZ1bmN0aW9uIChjYXJnb1JlZixzb2x0KSB7DQogICAgICAgIHZhciBhY2NJZCA9ICBnZXRVc2VyQWNjSWQoY2FyZ29SZWYpOw0KICAgICAgICBpZihhY2NJZCA9PSAtMSl7DQogICAgICAgICAgICByZXR1cm4gMDsNCiAgICAgICAgfQ0KICAgICAgICAvLyBjb25zb2xlLmxvZygnQ2hlY2tTbG90RW1wdHktLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0nK2NhcmdvUmVmKQ0KICAgICAgICB2YXIgYnVmZkNhcmdvUmVmID0gZ2V0Q2FyZ29SZWYoYWNjSWQsY2FyZ29SZWYpOw0KICAgICAgICAvLyBjb25zb2xlLmxvZygiQ2hlY2tTbG90RW1wdHkgYWNjSWQ6IithY2NJZCkNCiAgICAgICAgcmV0dXJuIChDQWNjb3VudENhcmdvX0NoZWNrVmFsaWRTbG90KGNhcmdvUmVmLHNvbHQpIT0wICYmIGJ1ZmZDYXJnb1JlZi5hZGQoNjEqc29sdCs2KS5yZWFkVTMyKCkhPTApPzE6MDsNCiAgICB9LCAnaW50JywgWydwb2ludGVyJywnaW50J10pKTsNCn0NCg0KZnVuY3Rpb24gQ2hlY2tTdGFja0xpbWl0KG1heFNvbHQpew0KICAgIEludGVyY2VwdG9yLnJlcGxhY2UocHRyKDB4MDgyOEE2NzApLCBuZXcgTmF0aXZlQ2FsbGJhY2soZnVuY3Rpb24gKGNhcmdvUmVmLHNvbHQsaXRlbUlkLHNpemUpIHsNCiAgICAgICAgdmFyIGFjY0lkID0gIGdldFVzZXJBY2NJZChjYXJnb1JlZik7DQogICAgICAgIGlmKGFjY0lkID09IC0xKXsNCiAgICAgICAgICAgIHJldHVybiAwOw0KICAgICAgICB9DQogICAgICAgIC8vIGNvbnNvbGUubG9nKCdDaGVja1N0YWNrTGltaXQtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0nK2NhcmdvUmVmKQ0KICAgICAgICBpZihDQWNjb3VudENhcmdvX0NoZWNrVmFsaWRTbG90KGNhcmdvUmVmLHNvbHQpPT0wKXsNCiAgICAgICAgICAgIHJldHVybiAwOw0KICAgICAgICB9DQogICAgICAgIGNhcmdvUmVmID0gZ2V0Q2FyZ29SZWYoYWNjSWQsY2FyZ29SZWYpOzsNCiAgICAgICAgaWYoY2FyZ29SZWYuYWRkKDYxKnNvbHQrNikucmVhZFUzMigpICE9IGl0ZW1JZCl7DQogICAgICAgICAgICByZXR1cm4gMDsNCiAgICAgICAgfQ0KICAgICAgICB2YXIgaXRlbSA9IENEYXRhTWFuYWdlcl9maW5kX2l0ZW0oR19DRGF0YU1hbmFnZXIoKSxpdGVtSWQpOw0KICAgICAgICBpZihpdGVtPT0wKXsNCiAgICAgICAgICAgIHJldHVybiAwOw0KICAgICAgICB9DQogICAgICAgIGlmKENJdGVtX2lzX3N0YWNrYWJsZShpdGVtKSE9MSl7DQogICAgICAgICAgICByZXR1cm4gMDsNCiAgICAgICAgfQ0KICAgICAgICB2YXIgYWxsU2l6ZSA9IHNpemUgKyBjYXJnb1JlZi5hZGQoNjEqc29sdCsxMSkucmVhZFUzMigpOw0KICAgICAgICB2YXIgbGltaXQgPSBDU3RhY2thYmxlSXRlbV9nZXRTdGFja2FibGVMaW1pdChpdGVtKTsNCiAgICAgICAgcmV0dXJuIGxpbWl0PCBhbGxTaXplfHxhbGxTaXplPDAgPyAwOjE7DQogICAgfSwgJ2ludCcsIFsncG9pbnRlcicsJ2ludCcsJ2ludCcsJ2ludCddKSk7DQp9DQoNCmZ1bmN0aW9uIE1ha2VJdGVtUGFja2V0KG1heFNvbHQpew0KICAgIEludGVyY2VwdG9yLnJlcGxhY2UocHRyKDB4MDgyOEFCMUMpLCBuZXcgTmF0aXZlQ2FsbGJhY2soZnVuY3Rpb24gKGNhcmdvUmVmLGJ1ZmYsc29sdCkgew0KICAgICAgICB2YXIgYWNjSWQgPSAgZ2V0VXNlckFjY0lkKGNhcmdvUmVmKTsNCiAgICAgICAgaWYoYWNjSWQgPT0gLTEpew0KICAgICAgICAgICAgcmV0dXJuIDA7DQogICAgICAgIH0NCiAgICAgICAgLy8gY29uc29sZS5sb2coJ01ha2VJdGVtUGFja2V0LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tJytjYXJnb1JlZikNCiAgICAgICAgY2FyZ29SZWYgPSBnZXRDYXJnb1JlZihhY2NJZCxjYXJnb1JlZik7DQogICAgICAgIC8vIGNvbnNvbGUubG9nKCJNYWtlSXRlbVBhY2tldCBhY2NJZDoiK2FjY0lkKQ0KICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X3Nob3J0KGJ1ZmYsIHNvbHQpOw0KICAgICAgICBpZiAoIGNhcmdvUmVmLmFkZCg2MSpzb2x0KzYpLnJlYWRVMzIoKSAhPTAgKSB7DQogICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2ludChidWZmLCBjYXJnb1JlZi5hZGQoNjEqc29sdCs2KS5yZWFkVTMyKCkpOw0KICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9pbnQoYnVmZiwgY2FyZ29SZWYuYWRkKDYxKnNvbHQrMTEpLnJlYWRVMzIoKSk7DQogICAgICAgICAgICB2YXIgaW50ZWdyYXRlZFB2UEl0ZW1BdHRyID0gR2V0SW50ZWdyYXRlZFB2UEl0ZW1BdHRyKGNhcmdvUmVmLmFkZCg2MSpzb2x0KzQpKTsNCiAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfYnl0ZShidWZmLCBpbnRlZ3JhdGVkUHZQSXRlbUF0dHIpOw0KICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9zaG9ydChidWZmLCBjYXJnb1JlZi5hZGQoNjEqc29sdCsxNSkucmVhZFUxNigpKTsNCiAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfYnl0ZShidWZmLCBjYXJnb1JlZi5hZGQoNjEqc29sdCs0KS5yZWFkVTgoKSk7DQogICAgICAgICAgICBpZiAoIEdhbWVXb3JsZF9Jc0VuY2hhbnRSZXZpc2lvbkNoYW5uZWwoR19HYW1lV29ybGQoKSkhPTAgKXsNCiAgICAgICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2ludChidWZmLCAwKTsNCiAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfaW50KGJ1ZmYsIGNhcmdvUmVmLmFkZCg2MSpzb2x0KzE3KS5yZWFkVTMyKCkpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdmFyIGFiaWxpdHlUeXBlID0gc3RBbXBsaWZ5T3B0aW9uX3RfZ2V0QWJpbGl0eVR5cGUoY2FyZ29SZWYuYWRkKDYxKnNvbHQrMjEpKTsNCiAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfYnl0ZShidWZmLCBhYmlsaXR5VHlwZSk7DQogICAgICAgICAgICB2YXIgYWJpbGl0eVZhbHVlID0gc3RBbXBsaWZ5T3B0aW9uX3RfZ2V0QWJpbGl0eVZhbHVlKGNhcmdvUmVmLmFkZCg2MSpzb2x0KzIxKSk7DQogICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X3Nob3J0KGJ1ZmYsIGFiaWxpdHlWYWx1ZSk7DQogICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2J5dGUoYnVmZiwgMCk7DQogICAgICAgICAgICByZXR1cm4gSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9wYWNrZXQoYnVmZiwgY2FyZ29SZWYuYWRkKDYxKnNvbHQrNCkpOw0KICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfaW50KGJ1ZmYsIC0xKTsNCiAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfaW50KGJ1ZmYsIDApOw0KICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9ieXRlKGJ1ZmYsIDApOw0KICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9zaG9ydChidWZmLCAwKTsNCiAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfYnl0ZShidWZmLCAwKTsNCiAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfaW50KGJ1ZmYsIDApOw0KICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9ieXRlKGJ1ZmYsIDApOw0KICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9zaG9ydChidWZmLCAwKTsNCiAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfYnl0ZShidWZmLCAwKTsNCiAgICAgICAgICAgIHJldHVybiBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X3BhY2tldChidWZmLCBwdHIoMHgwOTQzRERDMCkucmVhZFBvaW50ZXIoKSk7DQogICAgICAgIH0NCiAgICB9LCAnaW50JywgWydwb2ludGVyJywncG9pbnRlcicsJ2ludCddKSk7DQp9DQoNCmZ1bmN0aW9uIEdldEFjY291bnRDYXJnbygpew0KICAgIEludGVyY2VwdG9yLnJlcGxhY2UocHRyKDB4MDgyMmZjMjIpLCBuZXcgTmF0aXZlQ2FsbGJhY2soZnVuY3Rpb24gKGNhcmdvUmVmKSB7DQogICAgICAgIC8vIHZhciBhY2NJZCA9ICBDVXNlcl9nZXRfYWNjX2lkKGNhcmdvUmVmKTsNCiAgICAgICAgLy8gaWYoYWNjSWQgPT0gLTEpew0KICAgICAgICAvLyAgICAgcmV0dXJuIDA7DQogICAgICAgIC8vIH0NCiAgICAgICAgY29uc29sZS5sb2coJ0dldEFjY291bnRDYXJnby0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLScrY2FyZ29SZWYpDQogICAgICAgIC8vIGlmKGFjY291bnRDYXJnZm9bYWNjSWRdKXsNCiAgICAgICAgLy8gICAgIHJldHVybiAgYWNjb3VudENhcmdmb1thY2NJZF07DQogICAgICAgIC8vIH0NCiAgICAgICAgLy8g6L+U5Zue5Y6f5p2l55qE5Zyw5Z2ADQogICAgICAgIHJldHVybiBjYXJnb1JlZi5hZGQoNDU0NjUyKTsNCiAgICB9LCAncG9pbnRlcicsIFsncG9pbnRlciddKSk7DQp9DQoNCmZ1bmN0aW9uICBEQl9TYXZlQWNjb3VudENhcmdvX21ha2VSZXF1ZXN0KG1heFNvbHQpew0KICAgIEludGVyY2VwdG9yLnJlcGxhY2UocHRyKDB4MDg0M0I5NDYpLCBuZXcgTmF0aXZlQ2FsbGJhY2soZnVuY3Rpb24gKGExLGEyLGNhcmdvKSB7DQogICAgICAgIGNvbnNvbGUubG9nKCJEQl9TYXZlQWNjb3VudENhcmdvX21ha2VSZXF1ZXN0LS0tLS0tLS0tIitwdHIoY2FyZ28pKycsJythMSsnLCwsJythMik7DQogICAgICAgIHZhciBjYXJnb1JlZiA9IHB0cihjYXJnbyk7DQogICAgICAgIHZhciBhY2NJZCA9ICBnZXRVc2VyQWNjSWQoY2FyZ29SZWYpOw0KICAgICAgICAvLyBjb25zb2xlLmxvZygnbWFrZVJlcXVlc3QtLS0tLS1hY2NJZC0tLS0tJythY2NJZCk7DQogICAgICAgIGNhcmdvUmVmID0gZ2V0Q2FyZ29SZWYoYWNjSWQsY2FyZ29SZWYpOw0KICAgICAgICB2YXIgdjggPSBNZW1vcnkuYWxsb2MoNjEqbWF4U29sdCs5KTsNCiAgICAgICAgdmFyIHYzID0gU3RyZWFtUG9vbF9BY3F1aXJlKHB0cihwdHIoMHgwOTQwQkQ2QykucmVhZFUzMigpKSxNZW1vcnkuYWxsb2NVdGY4U3RyaW5nKCdEQlRocmVhZC5jcHAnKSwzNTk5OSk7DQogICAgICAgIENTdHJlYW1HdWFyZF9DU3RyZWFtR3VhcmQodjgsdjMsMSk7DQogICAgICAgIHZhciB2NCA9IENTdHJlYW1HdWFyZF9vcGVyYXRvcih2OC50b0ludDMyKCkpOw0KICAgICAgICBDU3RyZWFtR3VhcmRfb3BlcmF0b3JfaW50KHB0cih2NCksNDk3KTsNCiAgICAgICAgdmFyIHY1ID0gQ1N0cmVhbUd1YXJkX29wZXJhdG9yKHY4LnRvSW50MzIoKSk7DQogICAgICAgIENTdHJlYW1HdWFyZF9vcGVyYXRvcl9pbnQocHRyKHY1KSxhMS50b0ludDMyKCkpOw0KICAgICAgICB2YXIgdjYgPSBDU3RyZWFtR3VhcmRfb3BlcmF0b3IodjgudG9JbnQzMigpKTsNCiAgICAgICAgQ1N0cmVhbUd1YXJkX29wZXJhdG9yX2ludChwdHIodjYpLGEyKTsNCiAgICAgICAgdmFyIHY3ID0gQ1N0cmVhbUd1YXJkX29wZXJhdG9yX3AodjgudG9JbnQzMigpKTsNCiAgICAgICAgdmFyIHY5ID0gQ1N0cmVhbUd1YXJkX0dldEluQnVmZmVyX1NJR19BQ0NPVU5UX0NBUkdPX0RBVEEocHRyKHY3KSk7DQogICAgICAgIHY5LndyaXRlVTMyKDApOw0KICAgICAgICB2YXIgY2FyZ29SZWZBZGQgPSB2OS5hZGQoNCk7DQogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWF4U29sdDsgaSsrKSB7DQogICAgICAgICAgICBjYXJnb1JlZkFkZC53cml0ZVUzMigwKTsNCiAgICAgICAgICAgIGNhcmdvUmVmQWRkID0gY2FyZ29SZWZBZGQuYWRkKDYxKTsNCiAgICAgICAgfQ0KICAgICAgICB2YXIgbW9uZXkgPSBjYXJnb1JlZi5hZGQoNCs2MSptYXhTb2x0KS5yZWFkVTMyKCk7DQogICAgICAgIHZhciBjYXBhY2l0eSA9IGNhcmdvUmVmLmFkZCg4KzYxKm1heFNvbHQpLnJlYWRVMzIoKTsNCiAgICAgICAgLy8gY29uc29sZS5sb2coJ21vbmV5IG9yIGNhcGFjaXR5OicrbW9uZXkrJywnK2NhcGFjaXR5KQ0KICAgICAgICB2OS53cml0ZVUzMihjYXBhY2l0eSk7IC8vIOmSsQ0KICAgICAgICB2OS5hZGQoNCkud3JpdGVVMzIobW9uZXkpOyAvLyDlrrnph48NCiAgICAgICAgTWVtb3J5LmNvcHkodjkuYWRkKDgpLGNhcmdvUmVmLmFkZCg0KSxtYXhTb2x0KjYxKTsNCiAgICAgICAgTXNnUXVldWVNZ3JfcHV0KHB0cihwdHIoMHgwOTQwQkQ2OCkucmVhZFUzMigpKS50b0ludDMyKCksMix2OCk7DQogICAgICAgIENBY2NvdW50Q2FyZ29fU2V0U3RhYmxlKGNhcmdvUmVmKTsNCiAgICAgICAgRGVzdHJveV9DU3RyZWFtR3VhcmRfQ1N0cmVhbUd1YXJkKHY4KTsNCiAgICAgICAgLy8gY29uc29sZS5sb2coIm1ha2VSZXF1ZXN0IHN1Y2Nlc3MiKQ0KICAgIH0sICd2b2lkJywgWydwb2ludGVyJywnaW50JywndWludCddKSk7DQp9DQoNCmZ1bmN0aW9uIFNldFN0YWJsZShtYXhTb2x0KXsNCiAgICBJbnRlcmNlcHRvci5yZXBsYWNlKHB0cigweDA4NDREQzE2KSwgbmV3IE5hdGl2ZUNhbGxiYWNrKGZ1bmN0aW9uIChjYXJnb1JlZikgew0KICAgICAgICB2YXIgYWNjSWQgPSAgZ2V0VXNlckFjY0lkKGNhcmdvUmVmKTsNCiAgICAgICAgaWYoYWNjSWQgPT0gLTEpew0KICAgICAgICAgICAgcmV0dXJuIDA7DQogICAgICAgIH0NCiAgICAgICAgLy8gY29uc29sZS5sb2coIlNldFN0YWJsZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0iK2NhcmdvUmVmKQ0KICAgICAgICB2YXIgYnVmZkNhcmdvUmVmID0gZ2V0Q2FyZ29SZWYoYWNjSWQsY2FyZ29SZWYpOzsNCiAgICAgICAgYnVmZkNhcmdvUmVmLmFkZCgxMis2MSptYXhTb2x0KS53cml0ZVU4KDApOyAvLyDmoIflv5cNCiAgICAgICAgcmV0dXJuIGNhcmdvUmVmOw0KICAgIH0sICdwb2ludGVyJywgWydwb2ludGVyJ10pKTsNCn0NCg0KZnVuY3Rpb24gU2V0Q2FwYWNpdHkobWF4U29sdCl7DQogICAgSW50ZXJjZXB0b3IucmVwbGFjZShwdHIoMHgwODRFQkU0NiksIG5ldyBOYXRpdmVDYWxsYmFjayhmdW5jdGlvbiAoY2FyZ29SZWYsY2FwYWNpdHkpIHsNCiAgICAgICAgdmFyIGFjY0lkID0gIGdldFVzZXJBY2NJZChjYXJnb1JlZik7DQogICAgICAgIGlmKGFjY0lkID09IC0xKXsNCiAgICAgICAgICAgIHJldHVybiAwOw0KICAgICAgICB9DQogICAgICAgIC8vIGNvbnNvbGUubG9nKCJTZXRDYXBhY2l0eS0tLS0tLS0tLS0tLS0tLS0tLS0tIitjYXJnb1JlZikNCiAgICAgICAgdmFyIGJ1ZmZDYXJnb1JlZiA9IGdldENhcmdvUmVmKGFjY0lkLGNhcmdvUmVmKTsNCiAgICAgICAgYnVmZkNhcmdvUmVmLmFkZCg4KzYxKm1heFNvbHQpLndyaXRlVTMyKGNhcGFjaXR5KTsgLy8g5a656YePDQogICAgICAgIHJldHVybiBjYXJnb1JlZjsNCiAgICB9LCAncG9pbnRlcicsIFsncG9pbnRlcicsJ3VpbnQnXSkpOw0KfQ0KDQpmdW5jdGlvbiBJc0FsdGVyKG1heFNvbHQpew0KICAgIEludGVyY2VwdG9yLnJlcGxhY2UocHRyKDB4MDg2OTVBMEMpLCBuZXcgTmF0aXZlQ2FsbGJhY2soZnVuY3Rpb24gKGNhcmdvUmVmKSB7DQogICAgICAgIHZhciBhY2NJZCA9ICBnZXRVc2VyQWNjSWQoY2FyZ29SZWYpOw0KICAgICAgICBpZihhY2NJZCA9PSAtMSl7DQogICAgICAgICAgICByZXR1cm4gMDsNCiAgICAgICAgfQ0KICAgICAgICAvLyBjb25zb2xlLmxvZygnSXNBbHRlci0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLScrY2FyZ29SZWYpDQogICAgICAgIGNhcmdvUmVmID0gZ2V0Q2FyZ29SZWYoYWNjSWQsY2FyZ29SZWYpOzsNCiAgICAgICAgcmV0dXJuIGNhcmdvUmVmLmFkZCgxMis2MSptYXhTb2x0KS5yZWFkVTgoKTsgLy8g5qCH5b+XDQogICAgfSwgJ2ludCcsIFsncG9pbnRlciddKSk7DQp9DQoNCmZ1bmN0aW9uIFNlbmRJdGVtTGlzdChtYXhTb2x0KXsNCiAgICB2YXIgdGVtcEZ1bmMgPSBuZXcgTmF0aXZlQ2FsbGJhY2soZnVuY3Rpb24gKGNhcmdvUmVmKSB7DQogICAgICAgIC8vIGNvbnNvbGUubG9nKCJTZW5kSXRlbUxpc3QtLS0tLS0tLS0tLS0tIitjYXJnb1JlZikNCiAgICAgICAgdmFyIGFjY0lkID0gIGdldFVzZXJBY2NJZChjYXJnb1JlZik7DQogICAgICAgIGlmKGFjY0lkID09IC0xKXsNCiAgICAgICAgICAgIHJldHVybiAwOw0KICAgICAgICB9DQogICAgICAgIHZhciBidWZmQ2FyZ29SZWYgPWdldENhcmdvUmVmKGFjY0lkLGNhcmdvUmVmKTs7DQogICAgICAgIHZhciBidWZmID0gTWVtb3J5LmFsbG9jKDYxKm1heFNvbHQrOSk7DQogICAgICAgIFBhY2tldEd1YXJkX1BhY2tldEd1YXJkKGJ1ZmYpOw0KICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2hlYWRlcihidWZmLCAwLCAxMyk7DQogICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfYnl0ZShidWZmLCAxMik7DQogICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfc2hvcnQoYnVmZixidWZmQ2FyZ29SZWYuYWRkKDgrNjEqbWF4U29sdCkucmVhZFUzMigpKTsNCiAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9pbnQoYnVmZiwgYnVmZkNhcmdvUmVmLmFkZCg0KzYxKm1heFNvbHQpLnJlYWRVMzIoKSk7DQogICAgICAgIHZhciBpdGVtQ291bnQgPSBDQWNjb3VudENhcmdvX0dldEl0ZW1Db3VudChjYXJnb1JlZik7DQogICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfc2hvcnQoYnVmZiwgaXRlbUNvdW50KTsNCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGJ1ZmZDYXJnb1JlZi5hZGQoOCs2MSptYXhTb2x0KS5yZWFkVTMyKCkgPiBpOyArK2kgKSB7DQogICAgICAgICAgICBpZiAoIGJ1ZmZDYXJnb1JlZi5hZGQoNjEqaSs2KS5yZWFkVTMyKCkgIT0wICkgew0KICAgICAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfc2hvcnQoYnVmZiwgaSk7DQogICAgICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9pbnQoYnVmZiwgYnVmZkNhcmdvUmVmLmFkZCg2MSppKzYpLnJlYWRVMzIoKSk7DQogICAgICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9pbnQoYnVmZiwgYnVmZkNhcmdvUmVmLmFkZCg2MSppKzExKS5yZWFkVTMyKCkpOw0KICAgICAgICAgICAgICAgIHZhciBpbnRlZ3JhdGVkUHZQSXRlbUF0dHIgPSBHZXRJbnRlZ3JhdGVkUHZQSXRlbUF0dHIoYnVmZkNhcmdvUmVmLmFkZCg2MSppKzQpKTsNCiAgICAgICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2J5dGUoYnVmZiwgaW50ZWdyYXRlZFB2UEl0ZW1BdHRyKTsNCiAgICAgICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X3Nob3J0KGJ1ZmYsIGJ1ZmZDYXJnb1JlZi5hZGQoNjEqaSsxNSkucmVhZFUxNigpKTsNCiAgICAgICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2J5dGUoYnVmZiwgYnVmZkNhcmdvUmVmLmFkZCg2MSppKzQpLnJlYWRVOCgpKTsNCiAgICAgICAgICAgICAgICBpZiAoIEdhbWVXb3JsZF9Jc0VuY2hhbnRSZXZpc2lvbkNoYW5uZWwoR19HYW1lV29ybGQoKSkhPTAgKXsNCiAgICAgICAgICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9pbnQoYnVmZiwgMCk7DQogICAgICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfaW50KGJ1ZmYsIGJ1ZmZDYXJnb1JlZi5hZGQoNjEqaSsxNykucmVhZFUzMigpKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgdmFyIGFiaWxpdHlUeXBlID0gc3RBbXBsaWZ5T3B0aW9uX3RfZ2V0QWJpbGl0eVR5cGUoYnVmZkNhcmdvUmVmLmFkZCg2MSppKzIxKSk7DQogICAgICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9ieXRlKGJ1ZmYsIGFiaWxpdHlUeXBlKTsNCiAgICAgICAgICAgICAgICB2YXIgYWJpbGl0eVZhbHVlID0gc3RBbXBsaWZ5T3B0aW9uX3RfZ2V0QWJpbGl0eVZhbHVlKGJ1ZmZDYXJnb1JlZi5hZGQoNjEqaSsyMSkpOw0KICAgICAgICAgICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfc2hvcnQoYnVmZiwgYWJpbGl0eVZhbHVlKTsNCiAgICAgICAgICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2J5dGUoYnVmZiwgMCk7DQogICAgICAgICAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9wYWNrZXQoYnVmZiwgYnVmZkNhcmdvUmVmLmFkZCg2MSppKzQpKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfZmluYWxpemUoYnVmZiwgMSk7DQogICAgICAgIHZhciB2NiA9IENVc2VyX1NlbmQocHRyKGNhcmdvUmVmLnJlYWRVMzIoKSksIGJ1ZmYpOw0KICAgICAgICBEZXN0cm95X1BhY2tldEd1YXJkX1BhY2tldEd1YXJkKGJ1ZmYpOw0KICAgICAgICByZXR1cm4gdjY7DQogICAgfSwgJ2ludCcsIFsncG9pbnRlciddKTsNCiAgICBDQWNjb3VudENhcmdvX1NlbmRJdGVtTGlzdF9ORVcgPSAgbmV3IE5hdGl2ZUZ1bmN0aW9uKHRlbXBGdW5jLCAnaW50JywgWydwb2ludGVyJ10sIHsiYWJpIjoic3lzdiJ9KTsNCiAgICBJbnRlcmNlcHRvci5yZXBsYWNlKHB0cigweDA4MjhhODhhKSwgdGVtcEZ1bmMpOw0KfQ0KDQpmdW5jdGlvbiBTZW5kTm90aWZ5TW9uZXkobWF4U29sdCl7DQogICAgSW50ZXJjZXB0b3IucmVwbGFjZShwdHIoMHgwODI4QTdEQyksIG5ldyBOYXRpdmVDYWxsYmFjayhmdW5jdGlvbiAoY2FyZ28sYTIpIHsNCiAgICAgICAgLy8gY29uc29sZS5sb2coIlNlbmROb3RpZnlNb25leS0tLS0tLS0tLS0tLSIrcHRyKGNhcmdvKSkNCiAgICAgICAgdmFyIGNhcmdvUmVmID0gcHRyKGNhcmdvKTsNCiAgICAgICAgdmFyIGFjY0lkID0gIGdldFVzZXJBY2NJZChjYXJnb1JlZik7DQogICAgICAgIGlmKGFjY0lkID09IC0xKXsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfQ0KICAgICAgICB2YXIgYnVmZkNhcmdvUmVmID0gZ2V0Q2FyZ29SZWYoYWNjSWQsY2FyZ29SZWYpOzsNCiAgICAgICAgdmFyIGJ1ZmYgPSBNZW1vcnkuYWxsb2MoMjApOw0KICAgICAgICBQYWNrZXRHdWFyZF9QYWNrZXRHdWFyZChidWZmKTsNCiAgICAgICAgSW50ZXJmYWNlUGFja2V0QnVmX3B1dF9oZWFkZXIoYnVmZiwgMSwgYTIpOw0KICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfcHV0X2J5dGUoYnVmZiwgMSk7DQogICAgICAgIEludGVyZmFjZVBhY2tldEJ1Zl9wdXRfaW50KGJ1ZmYsIGJ1ZmZDYXJnb1JlZi5hZGQoNCs2MSptYXhTb2x0KS5yZWFkVTMyKCkpOw0KICAgICAgICBJbnRlcmZhY2VQYWNrZXRCdWZfZmluYWxpemUoYnVmZiwgMSk7DQogICAgICAgIENVc2VyX1NlbmQocHRyKGNhcmdvUmVmLnJlYWRVMzIoKSksIGJ1ZmYpOw0KICAgICAgICBEZXN0cm95X1BhY2tldEd1YXJkX1BhY2tldEd1YXJkKGJ1ZmYpOw0KICAgIH0sICd2b2lkJywgWydpbnQnLCdpbnQnXSkpOw0KfQ0KDQpmdW5jdGlvbiBHZXRJdGVtQ291bnQobWF4U29sdCl7DQogICAgSW50ZXJjZXB0b3IucmVwbGFjZShwdHIoMHgwODI4QTc5NCksIG5ldyBOYXRpdmVDYWxsYmFjayhmdW5jdGlvbiAoY2FyZ29SZWYpIHsNCiAgICAgICAgdmFyIGFjY0lkID0gIGdldFVzZXJBY2NJZChjYXJnb1JlZik7DQogICAgICAgIGlmKGFjY0lkID09IC0xKXsNCiAgICAgICAgICAgIHJldHVybiAwOw0KICAgICAgICB9DQogICAgICAgIC8vIGNvbnNvbGUubG9nKCdHZXRJdGVtQ291bnQtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0nK2NhcmdvUmVmKQ0KICAgICAgICBjYXJnb1JlZiA9IGdldENhcmdvUmVmKGFjY0lkLGNhcmdvUmVmKTsNCiAgICAgICAgdmFyIGNhcCA9IGNhcmdvUmVmLmFkZCg4KzYxKm1heFNvbHQpLnJlYWRVMzIoKTsNCiAgICAgICAgdmFyIGluZGV4ID0gMDsNCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjYXA7IGkrKykgew0KICAgICAgICAgICAgaWYoIGNhcmdvUmVmLmFkZCg2MSppKzYpLnJlYWRVMzIoKSE9MCApew0KICAgICAgICAgICAgICAgIGluZGV4Kys7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgLy8gY29uc29sZS5sb2coIkdldEl0ZW1Db3VudCAgdmFsOiIraW5kZXgpDQogICAgICAgIHJldHVybiBpbmRleDsNCiAgICB9LCAnaW50JywgWydwb2ludGVyJ10pKTsNCn0NCg0KZnVuY3Rpb24gU3ViTW9uZXkobWF4U29sdCl7DQogICAgSW50ZXJjZXB0b3IucmVwbGFjZShwdHIoMHgwODI4QTc2NCksIG5ldyBOYXRpdmVDYWxsYmFjayhmdW5jdGlvbiAoY2FyZ29SZWYsbW9uZXkpIHsNCiAgICAgICAgdmFyIGFjY0lkID0gIGdldFVzZXJBY2NJZChjYXJnb1JlZik7DQogICAgICAgIGlmKGFjY0lkID09IC0xKXsNCiAgICAgICAgICAgIHJldHVybiAwOw0KICAgICAgICB9DQogICAgICAgIC8vIGNvbnNvbGUubG9nKCdTdWJNb25leS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLScpDQogICAgICAgIHZhciBidWZmQ2FyZ29SZWYgPSBnZXRDYXJnb1JlZihhY2NJZCxjYXJnb1JlZik7DQogICAgICAgIHZhciByZXM7DQogICAgICAgIGlmKG1vbmV5IT0wKXsNCiAgICAgICAgICAgIHJlcyA9IGNhcmdvUmVmOw0KICAgICAgICAgICAgdmFyIGFkZCA9IGJ1ZmZDYXJnb1JlZi5hZGQoNCs2MSptYXhTb2x0KS5yZWFkVTMyKCk7DQogICAgICAgICAgICBpZihhZGQgPj0gbW9uZXkpew0KICAgICAgICAgICAgICAgIGJ1ZmZDYXJnb1JlZi5hZGQoNCs2MSptYXhTb2x0KS53cml0ZVUzMihhZGQtbW9uZXkpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIHJldHVybiByZXM7DQogICAgfSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInLCd1aW50J10pKTsNCn0NCg0KZnVuY3Rpb24gQWRkTW9uZXkobWF4U29sdCl7DQogICAgSW50ZXJjZXB0b3IucmVwbGFjZShwdHIoMHgwODI4QTc0MiksIG5ldyBOYXRpdmVDYWxsYmFjayhmdW5jdGlvbiAoY2FyZ29SZWYsbW9uZXkpIHsNCiAgICAgICAgdmFyIGFjY0lkID0gIGdldFVzZXJBY2NJZChjYXJnb1JlZik7DQogICAgICAgIGlmKGFjY0lkID09IC0xKXsNCiAgICAgICAgICAgIHJldHVybiAwOw0KICAgICAgICB9DQogICAgICAgIC8vIGNvbnNvbGUubG9nKCdBZGRNb25leS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLScpDQogICAgICAgIHZhciBidWZmQ2FyZ29SZWYgPSBnZXRDYXJnb1JlZihhY2NJZCxjYXJnb1JlZik7DQogICAgICAgIHZhciByZXM7DQogICAgICAgIGlmKG1vbmV5IT0wKXsNCiAgICAgICAgICAgIHJlcyA9IGNhcmdvUmVmOw0KICAgICAgICAgICAgdmFyIGFkZCA9IGJ1ZmZDYXJnb1JlZi5hZGQoNCs2MSptYXhTb2x0KS5yZWFkVTMyKCk7DQogICAgICAgICAgICBidWZmQ2FyZ29SZWYuYWRkKDQrNjEqbWF4U29sdCkud3JpdGVVMzIoYWRkK21vbmV5KTsNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gcmVzOw0KICAgIH0sICdwb2ludGVyJywgWydwb2ludGVyJywndWludCddKSk7DQp9DQoNCmZ1bmN0aW9uIEdldFNwZWNpZmljSXRlbVNsb3QobWF4U29sdCl7DQogICAgSW50ZXJjZXB0b3IucmVwbGFjZShwdHIoMHgwODI4QTYxQSksIG5ldyBOYXRpdmVDYWxsYmFjayhmdW5jdGlvbiAoY2FyZ29SZWYsaXRlbUlkKSB7DQogICAgICAgIHZhciBhY2NJZCA9ICBnZXRVc2VyQWNjSWQoY2FyZ29SZWYpOw0KICAgICAgICBpZihhY2NJZCA9PSAtMSl7DQogICAgICAgICAgICByZXR1cm4gMDsNCiAgICAgICAgfQ0KICAgICAgICAvLyBjb25zb2xlLmxvZygnR2V0U3BlY2lmaWNJdGVtU2xvdC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLScrY2FyZ29SZWYpDQogICAgICAgIGNhcmdvUmVmID0gZ2V0Q2FyZ29SZWYoYWNjSWQsY2FyZ29SZWYpOw0KICAgICAgICB2YXIgY2FwID0gY2FyZ29SZWYuYWRkKDgrNjEqbWF4U29sdCkucmVhZFUzMigpOw0KICAgICAgICBpZihjYXAgPiBtYXhTb2x0KXsNCiAgICAgICAgICAgIGNhcCA9bWF4U29sdDsNCiAgICAgICAgfQ0KICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNhcDsgaSsrKSB7DQogICAgICAgICAgICBpZiggY2FyZ29SZWYuYWRkKDYxKmkrNikucmVhZFUzMigpPT1pdGVtSWQgKXsNCiAgICAgICAgICAgICAgICByZXR1cm4gaTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gLTE7DQogICAgfSwgJ2ludCcsIFsncG9pbnRlcicsJ2ludCddKSk7DQp9DQoNCmZ1bmN0aW9uIEdldEVtcHR5U2xvdChtYXhTb2x0KXsNCiAgICB2YXIgdGVtcEZ1bmMgPSBuZXcgTmF0aXZlQ2FsbGJhY2soZnVuY3Rpb24gKGNhcmdvUmVmKSB7DQogICAgICAgIHZhciBhY2NJZCA9ICBnZXRVc2VyQWNjSWQoY2FyZ29SZWYpOw0KICAgICAgICBpZihhY2NJZCA9PSAtMSl7DQogICAgICAgICAgICByZXR1cm4gMDsNCiAgICAgICAgfQ0KICAgICAgICBjb25zb2xlLmxvZygnR2V0RW1wdHlTbG90LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tJytjYXJnb1JlZikNCiAgICAgICAgY2FyZ29SZWYgPSBnZXRDYXJnb1JlZihhY2NJZCxjYXJnb1JlZik7DQogICAgICAgIGNvbnNvbGUubG9nKCJHZXRFbXB0eVNsb3QgYWNjSWQ6IithY2NJZCsnICcrY2FyZ29SZWYpDQogICAgICAgIHZhciBjYXAgPSBjYXJnb1JlZi5hZGQoOCs2MSptYXhTb2x0KS5yZWFkVTMyKCk7DQogICAgICAgIGlmKGNhcCA+IG1heFNvbHQpew0KICAgICAgICAgICAgY2FwID1tYXhTb2x0Ow0KICAgICAgICB9DQogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2FwOyBpKyspIHsNCiAgICAgICAgICAgIGlmKCBjYXJnb1JlZi5hZGQoNjEqaSs2KS5yZWFkVTMyKCk9PTAgKXsNCiAgICAgICAgICAgICAgICByZXR1cm4gaTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gLTE7DQogICAgfSwgJ2ludCcsIFsncG9pbnRlciddKTsNCiAgICBDQWNjb3VudENhcmdvX0dldEVtcHR5U2xvdF9ORVcgPSBuZXcgTmF0aXZlRnVuY3Rpb24odGVtcEZ1bmMsICdpbnQnLCBbJ3BvaW50ZXInXSwgeyJhYmkiOiJzeXN2In0pOw0KICAgIEludGVyY2VwdG9yLnJlcGxhY2UocHRyKDB4MDgyOGE1ODApLCB0ZW1wRnVuYyk7DQp9DQoNCmZ1bmN0aW9uIENoZWNrVmFsaWRTbG90KG1heFNvbHQpew0KICAgIEludGVyY2VwdG9yLnJlcGxhY2UocHRyKDB4MDgyOEE1NTQpLCBuZXcgTmF0aXZlQ2FsbGJhY2soZnVuY3Rpb24gKGNhcmdvUmVmLHNvbHQpIHsNCiAgICAgICAgdmFyIGFjY0lkID0gIGdldFVzZXJBY2NJZChjYXJnb1JlZik7DQogICAgICAgIGlmKGFjY0lkID09IC0xKXsNCiAgICAgICAgICAgIHJldHVybiAwOw0KICAgICAgICB9DQogICAgICAgIC8vIGNvbnNvbGUubG9nKCdDaGVja1ZhbGlkU2xvdC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLScrY2FyZ29SZWYpDQogICAgICAgIGNhcmdvUmVmID0gZ2V0Q2FyZ29SZWYoYWNjSWQsY2FyZ29SZWYpOw0KICAgICAgICB2YXIgY2FwID0gY2FyZ29SZWYuYWRkKDgrNjEqbWF4U29sdCkucmVhZFUzMigpOw0KICAgICAgICByZXR1cm4gKHNvbHQ+PTAgJiYgc29sdDw9bWF4U29sdCAmJiBjYXA+c29sdCk/MTowOw0KICAgIH0sICdpbnQnLCBbJ3BvaW50ZXInLCdpbnQnXSkpOw0KfQ0KDQpmdW5jdGlvbiBDaGVja01vbmV5TGltaXQobWF4U29sdCl7DQogICAgSW50ZXJjZXB0b3IucmVwbGFjZShwdHIoMHgwODI4QTRDQSksIG5ldyBOYXRpdmVDYWxsYmFjayhmdW5jdGlvbiAoY2FyZ29SZWYsbW9uZXkpIHsNCiAgICAgICAgdmFyIGFjY0lkID0gIGdldFVzZXJBY2NJZChjYXJnb1JlZik7DQogICAgICAgIGlmKGFjY0lkID09IC0xKXsNCiAgICAgICAgICAgIHJldHVybiAwOw0KICAgICAgICB9DQogICAgICAgIC8vIGNvbnNvbGUubG9nKCdDaGVja01vbmV5TGltaXQtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0nK2NhcmdvUmVmKQ0KICAgICAgICBjYXJnb1JlZiA9IGdldENhcmdvUmVmKGFjY0lkLGNhcmdvUmVmKTsNCiAgICAgICAgdmFyIGNhcCA9IGNhcmdvUmVmLmFkZCg4KzYxKm1heFNvbHQpLnJlYWRVMzIoKTsNCiAgICAgICAgdmFyIG5vd01vbmV5ID0gY2FyZ29SZWYuYWRkKDQrNjEqbWF4U29sdCkucmVhZFUzMigpDQogICAgICAgIHZhciBtYW5hZ2VyID0gR19DRGF0YU1hbmFnZXIoKTsNCiAgICAgICAgdmFyIGN1cnJVcGZyYWRlSWZvID0gQWNjb3VudENhcmdvU2NyaXB0X0dldEN1cnJVcGdyYWRlSW5mbyhtYW5hZ2VyLmFkZCg0Mjk3NiksY2FwKTsNCiAgICAgICAgcmV0dXJuIChjdXJyVXBmcmFkZUlmbyE9MCAmJiBwdHIoY3VyclVwZnJhZGVJZm8pLmFkZCg0KS5yZWFkVTMyKCkgPj0gKG1vbmV5K25vd01vbmV5KSk/MTowOw0KICAgIH0sICdpbnQnLCBbJ3BvaW50ZXInLCd1aW50MzInXSkpOw0KfQ0KDQpmdW5jdGlvbiBXaXRoZHJhd01vbmV5KG1heFNvbHQpew0KICAgIEludGVyY2VwdG9yLnJlcGxhY2UocHRyKDB4MDgyOEEyRjYpLCBuZXcgTmF0aXZlQ2FsbGJhY2soZnVuY3Rpb24gKGNhcmdvUmVmLG1vbmV5KSB7DQogICAgICAgIC8vIGNvbnNvbGUubG9nKCJXaXRoZHJhd01vbmV5LS0tLS0tLS0tLS0tIitjYXJnb1JlZikNCiAgICAgICAgdmFyIGFjY0lkID0gIGdldFVzZXJBY2NJZChjYXJnb1JlZik7DQogICAgICAgIGlmKGFjY0lkID09IC0xKXsNCiAgICAgICAgICAgIHJldHVybiAwOw0KICAgICAgICB9DQogICAgICAgIHZhciBidWZmQ2FyZ29SZWYgPSBnZXRDYXJnb1JlZihhY2NJZCxjYXJnb1JlZik7DQogICAgICAgIHZhciBtYW5hZ2UgPSBBUkFEX1NpbmdsZXRvbl9TZXJ2aWNlUmVzdHJpY3RNYW5hZ2VyX0dldCgpOw0KICAgICAgICB2YXIgaXNSZXN0cmljdGVkID0gU2VydmljZVJlc3RyaWN0TWFuYWdlcl9pc1Jlc3RyaWN0ZWQobWFuYWdlLnRvSW50MzIoKSxjYXJnb1JlZiwxLDI2KTsNCiAgICAgICAgaWYoaXNSZXN0cmljdGVkIT0wKXsNCiAgICAgICAgICAgIENVc2VyX1NlbmRDbWRFcnJvclBhY2tldChjYXJnb1JlZiwzMDksMHhEMSk7DQogICAgICAgICAgICByZXR1cm4gMDsNCiAgICAgICAgfQ0KICAgICAgICB2YXIgY2hlY2sgPSBDU2VjdV9Qcm90ZWN0aW9uRmllbGRfQ2hlY2socHRyKHB0cigweDA5NDFGN0NDKS5yZWFkVTMyKCkpLGNhcmdvUmVmLDMpOw0KICAgICAgICBpZihjaGVjayE9MCl7DQogICAgICAgICAgICBDVXNlcl9TZW5kQ21kRXJyb3JQYWNrZXQoY2FyZ29SZWYsMzA5LGNoZWNrKTsNCiAgICAgICAgICAgIHJldHVybiAwOw0KICAgICAgICB9DQogICAgICAgIC8vIGNvbnNvbGUubG9nKCJXaXRoZHJhd01vbmV5IG5vdyBtb25leToiK21vbmV5KQ0KICAgICAgICBpZihtb25leSA+IENBY2NvdW50Q2FyZ29fR2V0TW9uZXkoY2FyZ29SZWYpIHx8IChtb25leSAmIDB4ODAwMDAwMDApICE9MCkgew0KICAgICAgICAgICAgQ1VzZXJfU2VuZENtZEVycm9yUGFja2V0KGNhcmdvUmVmLDMwOSwweEEpOw0KICAgICAgICAgICAgcmV0dXJuIDA7DQogICAgICAgIH0NCiAgICAgICAgaWYoIENVc2VyX0NoZWNrTW9uZXkocHRyKGNhcmdvUmVmLnJlYWRVMzIoKSksbW9uZXkpPT0wICl7DQogICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnQ1VzZXJfQ2hlY2tNb25leSAtLS0nKQ0KICAgICAgICAgICAgQ1VzZXJfU2VuZENtZEVycm9yUGFja2V0KGNhcmdvUmVmLDMwOCwweDVlKTsNCiAgICAgICAgICAgIHJldHVybiAwOw0KICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgIENBY2NvdW50Q2FyZ29fU3ViTW9uZXkoY2FyZ29SZWYsIG1vbmV5KTsNCiAgICAgICAgICAgIHZhciBjdXJDaGFyYWNJbnZlblcgPSBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjSW52ZW5XKHB0cihjYXJnb1JlZi5yZWFkVTMyKCkpKTsNCiAgICAgICAgICAgIGlmKENJbnZlbnRvcnlfZ2Fpbl9tb25leShjdXJDaGFyYWNJbnZlblcsIG1vbmV5LCAyNywgMSwwKT09MCl7DQogICAgICAgICAgICAgICAgQ1VzZXJfU2VuZENtZEVycm9yUGFja2V0KGNhcmdvUmVmLDMwOSwweEEpOw0KICAgICAgICAgICAgICAgIHJldHVybiAwOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIENBY2NvdW50Q2FyZ29fU2VuZE5vdGlmeU1vbmV5KGNhcmdvUmVmLnRvSW50MzIoKSwzMDkpOw0KICAgICAgICBidWZmQ2FyZ29SZWYuYWRkKDEyKzYxKm1heFNvbHQpLndyaXRlVTgoMSk7DQogICAgICAgIGNhcmdvUmVmLmFkZCgxMis2MSo1Nikud3JpdGVVOCgxKTsNCiAgICAgICAgLy8gY29uc29sZS5sb2coIldpdGhkcmF3TW9uZXkgc3VjY2VzcyIpDQogICAgICAgIHJldHVybiAxOw0KICAgIH0sICdpbnQnLCBbJ3BvaW50ZXInLCd1aW50MzInXSkpOw0KfQ0KDQpmdW5jdGlvbiBEZXBvc2l0TW9uZXkobWF4U29sdCl7DQogICAgSW50ZXJjZXB0b3IucmVwbGFjZShwdHIoMHgwODI4QTEyQSksIG5ldyBOYXRpdmVDYWxsYmFjayhmdW5jdGlvbiAoY2FyZ29SZWYsbW9uZXkpIHsNCiAgICAgICAgLy8gY29uc29sZS5sb2coIkRlcG9zaXRNb25leS0tLS0tLS0tLS0tLSIrY2FyZ29SZWYpDQogICAgICAgIHZhciBhY2NJZCA9ICBnZXRVc2VyQWNjSWQoY2FyZ29SZWYpOw0KICAgICAgICBpZihhY2NJZCA9PSAtMSl7DQogICAgICAgICAgICByZXR1cm4gMDsNCiAgICAgICAgfQ0KICAgICAgICB2YXIgYnVmZkNhcmdvUmVmID0gZ2V0Q2FyZ29SZWYoYWNjSWQsY2FyZ29SZWYpOw0KICAgICAgICB2YXIgbWFuYWdlID0gQVJBRF9TaW5nbGV0b25fU2VydmljZVJlc3RyaWN0TWFuYWdlcl9HZXQoKTsNCiAgICAgICAgdmFyIGlzUmVzdHJpY3RlZCA9IFNlcnZpY2VSZXN0cmljdE1hbmFnZXJfaXNSZXN0cmljdGVkKG1hbmFnZS50b0ludDMyKCksY2FyZ29SZWYsMSwyNik7DQogICAgICAgIGlmKGlzUmVzdHJpY3RlZCE9MCl7DQogICAgICAgICAgICBDVXNlcl9TZW5kQ21kRXJyb3JQYWNrZXQoY2FyZ29SZWYsMzA4LDB4RDEpOw0KICAgICAgICAgICAgcmV0dXJuIDA7DQogICAgICAgIH0NCiAgICAgICAgdmFyIGNoZWNrID0gQ1NlY3VfUHJvdGVjdGlvbkZpZWxkX0NoZWNrKHB0cihwdHIoMHgwOTQxRjdDQykucmVhZFUzMigpKSxjYXJnb1JlZiwyKTsNCiAgICAgICAgaWYoY2hlY2shPTApew0KICAgICAgICAgICAgQ1VzZXJfU2VuZENtZEVycm9yUGFja2V0KGNhcmdvUmVmLDMwOCxjaGVjayk7DQogICAgICAgICAgICByZXR1cm4gMDsNCiAgICAgICAgfQ0KICAgICAgICAvLyBjb25zb2xlLmxvZygiRGVwb3NpdE1vbmV5IG5vdyBtb25leToiK21vbmV5KycsJytDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjTW9uZXkocHRyKGNhcmdvUmVmLnJlYWRVMzIoKSkpKycsJysoKG1vbmV5ICYgMHg4MDAwMDAwMCkgIT0wKSkNCiAgICAgICAgaWYobW9uZXkgPiBDVXNlckNoYXJhY0luZm9fZ2V0Q3VyQ2hhcmFjTW9uZXkocHRyKGNhcmdvUmVmLnJlYWRVMzIoKSkpIHx8IChtb25leSAmIDB4ODAwMDAwMDApICE9MCkgew0KICAgICAgICAgICAgQ1VzZXJfU2VuZENtZEVycm9yUGFja2V0KGNhcmdvUmVmLDMwOCwweEEpOw0KICAgICAgICAgICAgcmV0dXJuIDA7DQogICAgICAgIH0NCiAgICAgICAgLy8gY29uc29sZS5sb2coIkRlcG9zaXRNb25leSAyIG5vdyBtb25leToiK21vbmV5KQ0KICAgICAgICBpZihDQWNjb3VudENhcmdvX0NoZWNrTW9uZXlMaW1pdChjYXJnb1JlZixtb25leSk9PTApew0KICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ0NBY2NvdW50Q2FyZ29fQ2hlY2tNb25leUxpbWl0IGVycm9yJykNCiAgICAgICAgICAgIENVc2VyX1NlbmRDbWRFcnJvclBhY2tldChjYXJnb1JlZiwzMDgsMHg1Zik7DQogICAgICAgICAgICByZXR1cm4gMDsNCiAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAvLyBjb25zb2xlLmxvZygiRGVwb3NpdE1vbmV5IDMgbm93IG1vbmV5OiIrbW9uZXkpDQogICAgICAgICAgICB2YXIgY3VyQ2hhcmFjSW52ZW5XID0gQ1VzZXJDaGFyYWNJbmZvX2dldEN1ckNoYXJhY0ludmVuVyhwdHIoY2FyZ29SZWYucmVhZFUzMigpKSk7DQogICAgICAgICAgICBpZihDSW52ZW50b3J5X3VzZV9tb25leShjdXJDaGFyYWNJbnZlblcsIG1vbmV5LCA0MCwgMSkgIT0xKXsNCiAgICAgICAgICAgICAgICBDVXNlcl9TZW5kQ21kRXJyb3JQYWNrZXQoY2FyZ29SZWYsMzA4LDB4QSk7DQogICAgICAgICAgICAgICAgcmV0dXJuIDA7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgLy8gY29uc29sZS5sb2coIkRlcG9zaXRNb25leSA0IG5vdyBtb25leToiK21vbmV5KQ0KICAgICAgICAvLyDmnIlhZGRNb25leeaWueazleS/ruaUuSDmlLnov5nph4zkuI3ph43opoENCiAgICAgICAgQ0FjY291bnRDYXJnb19BZGRNb25leShjYXJnb1JlZiwgbW9uZXkpOw0KICAgICAgICBDQWNjb3VudENhcmdvX1NlbmROb3RpZnlNb25leShjYXJnb1JlZi50b0ludDMyKCksMzA4KTsNCiAgICAgICAgYnVmZkNhcmdvUmVmLmFkZCgxMis2MSptYXhTb2x0KS53cml0ZVU4KDEpOw0KICAgICAgICBjYXJnb1JlZi5hZGQoMTIrNjEqNTYpLndyaXRlVTgoMSk7DQogICAgICAgIC8vIGNvbnNvbGUubG9nKCJEZXBvc2l0TW9uZXkgc3VjY2VzcyIpDQogICAgICAgIHJldHVybiAxOw0KICAgIH0sICdpbnQnLCBbJ3BvaW50ZXInLCd1aW50MzInXSkpOw0KfQ0KDQpmdW5jdGlvbiBNb3ZlSXRlbShtYXhTb2x0KXsNCiAgICBJbnRlcmNlcHRvci5yZXBsYWNlKHB0cigweDA4Mjg5RjI2KSwgbmV3IE5hdGl2ZUNhbGxiYWNrKGZ1bmN0aW9uIChjYXJnb1JlZixzbG90MSxzbG90Mikgew0KICAgICAgICB2YXIgYWNjSWQgPSAgZ2V0VXNlckFjY0lkKGNhcmdvUmVmKTsNCiAgICAgICAgaWYoYWNjSWQgPT0gLTEpew0KICAgICAgICAgICAgcmV0dXJuIDA7DQogICAgICAgIH0NCiAgICAgICAgY29uc29sZS5sb2coJ01vdmVJdGVtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tJytjYXJnb1JlZikNCg0KICAgICAgICBpZihDQWNjb3VudENhcmdvX0NoZWNrVmFsaWRTbG90KGNhcmdvUmVmLHNsb3QxKT09MCB8fCBDQWNjb3VudENhcmdvX0NoZWNrVmFsaWRTbG90KGNhcmdvUmVmLHNsb3QyKT09MCB8fCBzbG90MT09c2xvdDIpew0KICAgICAgICAgICAgcmV0dXJuIDA7DQogICAgICAgIH0NCiAgICAgICAgY2FyZ29SZWYuYWRkKDEyKzYxKjU2KS53cml0ZVU4KDEpOw0KICAgICAgICBjYXJnb1JlZiA9IGdldENhcmdvUmVmKGFjY0lkLGNhcmdvUmVmKTsNCiAgICAgICAgdmFyIHRlbXAgPSBNZW1vcnkuYWxsb2MoNjEpOw0KICAgICAgICBNZW1vcnkuY29weSh0ZW1wLGNhcmdvUmVmLmFkZCg2MSpzbG90MSs0KSw2MS00KTsNCiAgICAgICAgTWVtb3J5LmNvcHkoY2FyZ29SZWYuYWRkKDYxKnNsb3QxKzQpLGNhcmdvUmVmLmFkZCg2MSpzbG90Mis0KSw2MS00KTsNCiAgICAgICAgTWVtb3J5LmNvcHkoY2FyZ29SZWYuYWRkKDYxKnNsb3QyKzQpLHRlbXAsNjEtNCk7DQogICAgICAgIGNhcmdvUmVmLmFkZCgxMis2MSptYXhTb2x0KS53cml0ZVU4KDEpOw0KICAgICAgICByZXR1cm4gMTsNCiAgICB9LCAnaW50JywgWydwb2ludGVyJywnaW50JywnaW50J10pKTsNCn0NCg0KZnVuY3Rpb24gRGVsZXRlSXRlbShtYXhTb2x0KXsNCiAgICBJbnRlcmNlcHRvci5yZXBsYWNlKHB0cigweDA4Mjg5RTNDKSwgbmV3IE5hdGl2ZUNhbGxiYWNrKGZ1bmN0aW9uIChjYXJnb1JlZixzbG90LG51bWJlcikgew0KICAgICAgICBjb25zb2xlLmxvZygnRGVsZXRlSXRlbS0tLScrY2FyZ29SZWYpDQogICAgICAgIHZhciBhY2NJZCA9ICBnZXRVc2VyQWNjSWQoY2FyZ29SZWYpOw0KICAgICAgICBpZihhY2NJZCA9PSAtMSl7DQogICAgICAgICAgICByZXR1cm4gMDsNCiAgICAgICAgfQ0KICAgICAgICB2YXIgYnVmZkNhcmdvUmVmID0gZ2V0Q2FyZ29SZWYoYWNjSWQsY2FyZ29SZWYpOw0KICAgICAgICBpZihDQWNjb3VudENhcmdvX0NoZWNrVmFsaWRTbG90KGNhcmdvUmVmLHNsb3QpPT0wKXsNCiAgICAgICAgICAgIHJldHVybiAwOw0KICAgICAgICB9DQogICAgICAgIGlmKCBidWZmQ2FyZ29SZWYuYWRkKDYxKnNsb3QrNikucmVhZFUzMigpPT0wIHx8IG51bWJlcjw9MCApew0KICAgICAgICAgICAgcmV0dXJuIDA7DQogICAgICAgIH0NCiAgICAgICAgaWYoSW52ZW5fSXRlbV9pc0VxdWlwYWJsZUl0ZW1UeXBlKGJ1ZmZDYXJnb1JlZi5hZGQoNjEqc2xvdCs0KSkgIT0wKXsNCiAgICAgICAgICAgIENBY2NvdW50Q2FyZ29fUmVzZXRTbG90KGNhcmdvUmVmLHNsb3QpOw0KICAgICAgICAgICAgYnVmZkNhcmdvUmVmLmFkZCgxMis2MSptYXhTb2x0KS53cml0ZVU4KDEpOw0KICAgICAgICAgICAgY2FyZ29SZWYuYWRkKDEyKzYxKjU2KS53cml0ZVU4KDEpOw0KICAgICAgICAgICAgcmV0dXJuIDE7DQogICAgICAgIH0NCiAgICAgICAgaWYoYnVmZkNhcmdvUmVmLmFkZCg2MSpzbG90KzExKS5yZWFkVTMyKCkgPCBudW1iZXIgKXsNCiAgICAgICAgICAgIHJldHVybiAwOw0KICAgICAgICB9DQogICAgICAgIGlmKGJ1ZmZDYXJnb1JlZi5hZGQoNjEqc2xvdCsxMSkucmVhZFUzMigpIDw9IG51bWJlciApew0KICAgICAgICAgICAgQ0FjY291bnRDYXJnb19SZXNldFNsb3QoY2FyZ29SZWYsc2xvdCk7DQogICAgICAgIH1lbHNlew0KICAgICAgICAgICAgdmFyIG51bSA9IGJ1ZmZDYXJnb1JlZi5hZGQoNjEqc2xvdCsxMSkucmVhZFUzMigpOw0KICAgICAgICAgICAgYnVmZkNhcmdvUmVmLmFkZCg2MSpzbG90KzExKS53cml0ZVUzMihudW0tbnVtYmVyKTsNCiAgICAgICAgfQ0KICAgICAgICBidWZmQ2FyZ29SZWYuYWRkKDEyKzYxKm1heFNvbHQpLndyaXRlVTgoMSk7DQogICAgICAgIGNhcmdvUmVmLmFkZCgxMis2MSo1Nikud3JpdGVVOCgxKTsNCiAgICAgICAgcmV0dXJuIDE7DQogICAgfSwgJ2ludCcsIFsncG9pbnRlcicsJ2ludCcsJ2ludCddKSk7DQp9DQoNCmZ1bmN0aW9uIEluc2VydEl0ZW0obWF4U29sdCl7DQoNCiAgICB2YXIgdGVtcEZ1bmMgPSBuZXcgTmF0aXZlQ2FsbGJhY2soZnVuY3Rpb24gKGNhcmdvUmVmLGl0ZW0sc2xvdCkgew0KICAgICAgICBjb25zb2xlLmxvZygnSW5zZXJ0SXRlbS0tLS0tLS0tLS0tLS0tLS0tLS0nK2NhcmdvUmVmKycgJytzbG90KQ0KICAgICAgICB2YXIgYWNjSWQgPSAgZ2V0VXNlckFjY0lkKGNhcmdvUmVmKTsNCiAgICAgICAgaWYoYWNjSWQgPT0gLTEpew0KICAgICAgICAgICAgcmV0dXJuIDA7DQogICAgICAgIH0NCiAgICAgICAgdmFyIGJ1ZmZDYXJnb1JlZiA9IGdldENhcmdvUmVmKGFjY0lkLGNhcmdvUmVmKTsNCiAgICAgICAgaWYoQ0FjY291bnRDYXJnb19DaGVja1ZhbGlkU2xvdChjYXJnb1JlZixzbG90KT09MCl7DQogICAgICAgICAgICAvLyBjb25zb2xlLmxvZygic2xvdCBlcnJvciIpDQogICAgICAgICAgICByZXR1cm4gLTE7DQogICAgICAgIH0NCiAgICAgICAgLy8gY29uc29sZS5sb2coInNsb3Qgc3VjY2VzcyEhISIpDQogICAgICAgIHZhciByZXMgPSAtMTsNCiAgICAgICAgaWYoSW52ZW5fSXRlbV9pc0VxdWlwYWJsZUl0ZW1UeXBlKGl0ZW0pIT0wKXsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCJJbnZlbl9JdGVtX2lzRXF1aXBhYmxlSXRlbVR5cGUgIHN1Y2Nlc3PvvJoiK2NhcmdvUmVmLmFkZCg2MSpzbG90KzYpLnJlYWRVMzIoKSkNCiAgICAgICAgICAgIGlmKCBidWZmQ2FyZ29SZWYuYWRkKDYxKnNsb3QrNikucmVhZFUzMigpID09MCApew0KICAgICAgICAgICAgICAgIHZhciB2NCA9IDYxKnNsb3Q7DQogICAgICAgICAgICAgICAgYnVmZkNhcmdvUmVmLmFkZCh2NCs0KS53cml0ZVUzMihpdGVtLnJlYWRVMzIoKSk7DQogICAgICAgICAgICAgICAgYnVmZkNhcmdvUmVmLmFkZCh2NCs4KS53cml0ZVUzMihpdGVtLmFkZCgxKjQpLnJlYWRVMzIoKSk7DQogICAgICAgICAgICAgICAgYnVmZkNhcmdvUmVmLmFkZCh2NCsxMikud3JpdGVVMzIoaXRlbS5hZGQoMio0KS5yZWFkVTMyKCkpOw0KICAgICAgICAgICAgICAgIGJ1ZmZDYXJnb1JlZi5hZGQodjQrMTYpLndyaXRlVTMyKGl0ZW0uYWRkKDMqNCkucmVhZFUzMigpKTsNCiAgICAgICAgICAgICAgICBidWZmQ2FyZ29SZWYuYWRkKHY0KzIwKS53cml0ZVUzMihpdGVtLmFkZCg0KjQpLnJlYWRVMzIoKSk7DQogICAgICAgICAgICAgICAgYnVmZkNhcmdvUmVmLmFkZCh2NCsyNCkud3JpdGVVMzIoaXRlbS5hZGQoNSo0KS5yZWFkVTMyKCkpOw0KICAgICAgICAgICAgICAgIGJ1ZmZDYXJnb1JlZi5hZGQodjQrMjgpLndyaXRlVTMyKGl0ZW0uYWRkKDYqNCkucmVhZFUzMigpKTsNCiAgICAgICAgICAgICAgICBidWZmQ2FyZ29SZWYuYWRkKHY0KzMyKS53cml0ZVUzMihpdGVtLmFkZCg3KjQpLnJlYWRVMzIoKSk7DQogICAgICAgICAgICAgICAgYnVmZkNhcmdvUmVmLmFkZCh2NCszNikud3JpdGVVMzIoaXRlbS5hZGQoOCo0KS5yZWFkVTMyKCkpOw0KICAgICAgICAgICAgICAgIGJ1ZmZDYXJnb1JlZi5hZGQodjQrNDApLndyaXRlVTMyKGl0ZW0uYWRkKDkqNCkucmVhZFUzMigpKTsNCiAgICAgICAgICAgICAgICBidWZmQ2FyZ29SZWYuYWRkKHY0KzQ0KS53cml0ZVUzMihpdGVtLmFkZCgxMCo0KS5yZWFkVTMyKCkpOw0KICAgICAgICAgICAgICAgIGJ1ZmZDYXJnb1JlZi5hZGQodjQrNDgpLndyaXRlVTMyKGl0ZW0uYWRkKDExKjQpLnJlYWRVMzIoKSk7DQogICAgICAgICAgICAgICAgYnVmZkNhcmdvUmVmLmFkZCh2NCs1Mikud3JpdGVVMzIoaXRlbS5hZGQoMTIqNCkucmVhZFUzMigpKTsNCiAgICAgICAgICAgICAgICBidWZmQ2FyZ29SZWYuYWRkKHY0KzU2KS53cml0ZVUzMihpdGVtLmFkZCgxMyo0KS5yZWFkVTMyKCkpOw0KICAgICAgICAgICAgICAgIGJ1ZmZDYXJnb1JlZi5hZGQodjQrNjApLndyaXRlVTMyKGl0ZW0uYWRkKDE0KjQpLnJlYWRVMzIoKSk7DQogICAgICAgICAgICAgICAgYnVmZkNhcmdvUmVmLmFkZCh2NCs2NCkud3JpdGVVOChpdGVtLmFkZCg2MCkucmVhZFU4KCkpOw0KICAgICAgICAgICAgICAgIHJlcyA9IHNsb3Q7DQogICAgICAgICAgICB9DQogICAgICAgIH1lbHNlew0KICAgICAgICAgICAgY29uc29sZS5sb2coIkludmVuX0l0ZW1faXNFcXVpcGFibGVJdGVtVHlwZSAgZmFpbO+8miIrY2FyZ29SZWYuYWRkKDYxKnNsb3QrNikucmVhZFUzMigpKQ0KICAgICAgICAgICAgaWYoaXRlbS5hZGQoMikucmVhZFUzMigpID09IGJ1ZmZDYXJnb1JlZi5hZGQoNjEqc2xvdCs2KS5yZWFkVTMyKCkpew0KICAgICAgICAgICAgICAgIHZhciBzaXplID0gYnVmZkNhcmdvUmVmLmFkZCg2MSpzbG90KzExKS5yZWFkVTMyKCk7DQogICAgICAgICAgICAgICAgYnVmZkNhcmdvUmVmLmFkZCg2MSpzbG90KzExKS53cml0ZVUzMihzaXplK2l0ZW0uYWRkKDcpLnJlYWRVMzIoKSk7DQogICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICB2YXIgdjQgPSA2MSpzbG90Ow0KICAgICAgICAgICAgICAgIGJ1ZmZDYXJnb1JlZi5hZGQodjQrNCkud3JpdGVVMzIoaXRlbS5yZWFkVTMyKCkpOw0KICAgICAgICAgICAgICAgIGJ1ZmZDYXJnb1JlZi5hZGQodjQrOCkud3JpdGVVMzIoaXRlbS5hZGQoMSo0KS5yZWFkVTMyKCkpOw0KICAgICAgICAgICAgICAgIGJ1ZmZDYXJnb1JlZi5hZGQodjQrMTIpLndyaXRlVTMyKGl0ZW0uYWRkKDIqNCkucmVhZFUzMigpKTsNCiAgICAgICAgICAgICAgICBidWZmQ2FyZ29SZWYuYWRkKHY0KzE2KS53cml0ZVUzMihpdGVtLmFkZCgzKjQpLnJlYWRVMzIoKSk7DQogICAgICAgICAgICAgICAgYnVmZkNhcmdvUmVmLmFkZCh2NCsyMCkud3JpdGVVMzIoaXRlbS5hZGQoNCo0KS5yZWFkVTMyKCkpOw0KICAgICAgICAgICAgICAgIGJ1ZmZDYXJnb1JlZi5hZGQodjQrMjQpLndyaXRlVTMyKGl0ZW0uYWRkKDUqNCkucmVhZFUzMigpKTsNCiAgICAgICAgICAgICAgICBidWZmQ2FyZ29SZWYuYWRkKHY0KzI4KS53cml0ZVUzMihpdGVtLmFkZCg2KjQpLnJlYWRVMzIoKSk7DQogICAgICAgICAgICAgICAgYnVmZkNhcmdvUmVmLmFkZCh2NCszMikud3JpdGVVMzIoaXRlbS5hZGQoNyo0KS5yZWFkVTMyKCkpOw0KICAgICAgICAgICAgICAgIGJ1ZmZDYXJnb1JlZi5hZGQodjQrMzYpLndyaXRlVTMyKGl0ZW0uYWRkKDgqNCkucmVhZFUzMigpKTsNCiAgICAgICAgICAgICAgICBidWZmQ2FyZ29SZWYuYWRkKHY0KzQwKS53cml0ZVUzMihpdGVtLmFkZCg5KjQpLnJlYWRVMzIoKSk7DQogICAgICAgICAgICAgICAgYnVmZkNhcmdvUmVmLmFkZCh2NCs0NCkud3JpdGVVMzIoaXRlbS5hZGQoMTAqNCkucmVhZFUzMigpKTsNCiAgICAgICAgICAgICAgICBidWZmQ2FyZ29SZWYuYWRkKHY0KzQ4KS53cml0ZVUzMihpdGVtLmFkZCgxMSo0KS5yZWFkVTMyKCkpOw0KICAgICAgICAgICAgICAgIGJ1ZmZDYXJnb1JlZi5hZGQodjQrNTIpLndyaXRlVTMyKGl0ZW0uYWRkKDEyKjQpLnJlYWRVMzIoKSk7DQogICAgICAgICAgICAgICAgYnVmZkNhcmdvUmVmLmFkZCh2NCs1Nikud3JpdGVVMzIoaXRlbS5hZGQoMTMqNCkucmVhZFUzMigpKTsNCiAgICAgICAgICAgICAgICBidWZmQ2FyZ29SZWYuYWRkKHY0KzYwKS53cml0ZVUzMihpdGVtLmFkZCgxNCo0KS5yZWFkVTMyKCkpOw0KICAgICAgICAgICAgICAgIGJ1ZmZDYXJnb1JlZi5hZGQodjQrNjQpLndyaXRlVTgoaXRlbS5hZGQoNjApLnJlYWRVOCgpKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHJlcyA9IHNsb3Q7DQogICAgICAgIH0NCiAgICAgICAgYnVmZkNhcmdvUmVmLmFkZCgxMis2MSptYXhTb2x0KS53cml0ZVU4KDEpOw0KICAgICAgICBjYXJnb1JlZi5hZGQoMTIrNjEqNTYpLndyaXRlVTgoMSk7DQogICAgICAgIC8vIGNvbnNvbGUubG9nKCJJbnNlcnRJdGVtOiIrcmVzKTsNCiAgICAgICAgcmV0dXJuIHJlczsNCiAgICB9LCAnaW50JywgWydwb2ludGVyJywncG9pbnRlcicsJ2ludCddKTsNCiAgICBDQWNjb3VudENhcmdvX0luc2VydEl0ZW1fTkVXID0gbmV3IE5hdGl2ZUZ1bmN0aW9uKHRlbXBGdW5jLCAnaW50JywgWydwb2ludGVyJywncG9pbnRlcicsJ2ludCddLCB7ImFiaSI6InN5c3YifSk7DQogICAgSW50ZXJjZXB0b3IucmVwbGFjZShwdHIoMHgwODI4OUM4MiksIHRlbXBGdW5jKTsNCn0NCmZ1bmN0aW9uIENsZWFyKG1heFNvbHQpew0KICAgIEludGVyY2VwdG9yLnJlcGxhY2UocHRyKDB4MDgyODk4NkMpLCBuZXcgTmF0aXZlQ2FsbGJhY2soZnVuY3Rpb24gKGNhcmdvUmVmKSB7DQogICAgICAgIC8vIC8vIGNvbnNvbGUubG9nKCdDbGVhcjonK2NhcmdvUmVmKQ0KICAgICAgICAvLyDnprvnur/mmK/muIXpm7YNCiAgICAgICAgY2FyZ29SZWYud3JpdGVVMzIoMCk7DQogICAgICAgIHZhciBjYXJnb1JlZkFkZCA9IGNhcmdvUmVmLmFkZCg0KTsNCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXhTb2x0OyBpKyspIHsNCiAgICAgICAgICAgIEludmVuX0l0ZW1fSW52ZW5fSXRlbShjYXJnb1JlZkFkZCk7DQogICAgICAgICAgICBjYXJnb1JlZkFkZC53cml0ZVUzMigwKTsNCiAgICAgICAgICAgIGNhcmdvUmVmQWRkID0gY2FyZ29SZWZBZGQuYWRkKDYxKTsNCiAgICAgICAgfQ0KICAgICAgICBjYXJnb1JlZi5hZGQoNCs2MSptYXhTb2x0KS53cml0ZVUzMigwKTsgLy8g6ZKxDQogICAgICAgIGNhcmdvUmVmLmFkZCg4KzYxKm1heFNvbHQpLndyaXRlVTMyKDApOyAvLyDlrrnph48NCiAgICAgICAgY2FyZ29SZWYuYWRkKDEyKzYxKm1heFNvbHQpLndyaXRlVTgoMCk7IC8vIOagh+W/lw0KICAgICAgICByZXR1cm4gY2FyZ29SZWY7DQogICAgfSwgJ3BvaW50ZXInLCBbJ3BvaW50ZXInXSkpOw0KfQ0KDQpmdW5jdGlvbiBTZXREQkRhdGEobWF4U29sdCl7DQogICAgSW50ZXJjZXB0b3IucmVwbGFjZShwdHIoMHgwODI4OTgxNiksIG5ldyBOYXRpdmVDYWxsYmFjayhmdW5jdGlvbiAoY2FyZ29SZWYsdXNlcixpdGVtLG1vbmV5LGNvcGFjaXR5KSB7DQogICAgICAgIGNvbnNvbGUubG9nKCdTZXREQkRhdGEtLS0tLS0tLS0tLS0tLS0tLS0tJytjYXJnb1JlZisnICcrdXNlcisnICwnK2l0ZW0rJywnK21vbmV5KycgICcrY29wYWNpdHkpDQogICAgICAgIHZhciBhY2NJZCA9ICBDVXNlcl9nZXRfYWNjX2lkKHVzZXIpOw0KICAgICAgICAvLyDlho3orr7nva7mmK8g5bCGIOmHjeaWsOeUs+ivt+i0puWPt+mHkeW6k+epuumXtCAgNjEqbWF4U29sdOaYr+agvOWtkCA05Liq5a2X6IqC55qE6ZKxICA05Liq5a2X6IqC55qE5a656YePIDHkuKrlrZfoioLnmoTmoIflv5cNCiAgICAgICAgYWNjb3VudENhcmdmb1thY2NJZF0gPSBNZW1vcnkuYWxsb2MoNjEqbWF4U29sdCs0KzQrMSszMCk7DQogICAgICAgIHZhciBidWZmQ2FyZ29SZWYgPSBjYXJnb1JlZjsNCiAgICAgICAgaWYoYWNjb3VudENhcmdmb1thY2NJZF0pew0KICAgICAgICAgICAgLy8g57uZ5Y6f5p2l55qE6K6+572u5LiA5Lqb6buY6K6k5YC877yM6Ziy5q2i6I635Y+W5LiN5Yiw6YeR5bqTDQogICAgICAgICAgICBjYXJnb1JlZi53cml0ZVBvaW50ZXIodXNlcik7DQogICAgICAgICAgICBjYXJnb1JlZi5hZGQoNCs2MSo1Nikud3JpdGVVMzIobW9uZXkpOw0KICAgICAgICAgICAgY2FyZ29SZWYuYWRkKDgrNjEqNTYpLndyaXRlVTMyKGNvcGFjaXR5KTsNCiAgICAgICAgICAgIGNhcmdvUmVmLmFkZCgxMis2MSo1Nikud3JpdGVVOCgwKTsNCiAgICAgICAgICAgIGJ1ZmZDYXJnb1JlZiA9IGFjY291bnRDYXJnZm9bYWNjSWRdOw0KICAgICAgICAgICAgLy8g5Yid5aeL5YyW5pWw5o2uDQogICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1heFNvbHQ7IGkrKykgew0KICAgICAgICAgICAgICAgIGJ1ZmZDYXJnb1JlZi5hZGQoNCtpKjYxKS53cml0ZVUzMigwKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICBidWZmQ2FyZ29SZWYud3JpdGVQb2ludGVyKHVzZXIpOw0KICAgICAgICBidWZmQ2FyZ29SZWYuYWRkKDQrNjEqbWF4U29sdCkud3JpdGVVMzIobW9uZXkpOw0KICAgICAgICBidWZmQ2FyZ29SZWYuYWRkKDgrNjEqbWF4U29sdCkud3JpdGVVMzIoY29wYWNpdHkpOw0KICAgICAgICBidWZmQ2FyZ29SZWYuYWRkKDEyKzYxKm1heFNvbHQpLndyaXRlVTgoMCk7DQogICAgICAgIGlmKGl0ZW0hPTApew0KICAgICAgICAgICAgTWVtb3J5LmNvcHkoY2FyZ29SZWYuYWRkKDQpLGl0ZW0sNTYqNjEpOw0KICAgICAgICAgICAgTWVtb3J5LmNvcHkoYnVmZkNhcmdvUmVmLmFkZCg0KSxpdGVtLG1heFNvbHQqNjEpOw0KICAgICAgICB9DQogICAgICAgIHJldHVybiBjYXJnb1JlZjsNCiAgICB9LCAncG9pbnRlcicsIFsncG9pbnRlcicsJ3BvaW50ZXInLCdwb2ludGVyJywndWludDMyJywndWludDMyJ10pKTsNCn0NCg0KZnVuY3Rpb24gQ0FjY291bnRDYXJnbyhtYXhTb2x0KXsNCiAgICBJbnRlcmNlcHRvci5yZXBsYWNlKHB0cigweDA4Mjg5Nzk0KSwgbmV3IE5hdGl2ZUNhbGxiYWNrKGZ1bmN0aW9uIChjYXJnb1JlZikgew0KICAgICAgICBjYXJnb1JlZi53cml0ZVUzMigwKTsNCiAgICAgICAgdmFyIGNhcmdvUmVmQWRkID0gY2FyZ29SZWYuYWRkKDQpOw0KICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDU2OyBpKyspIHsNCiAgICAgICAgICAgIEludmVuX0l0ZW1fSW52ZW5fSXRlbShjYXJnb1JlZkFkZCk7DQogICAgICAgICAgICBjYXJnb1JlZkFkZC53cml0ZVUzMigwKTsNCiAgICAgICAgICAgIGNhcmdvUmVmQWRkID0gY2FyZ29SZWZBZGQuYWRkKDYxKTsNCiAgICAgICAgfQ0KICAgICAgICBjYXJnb1JlZi5hZGQoNCs2MSo1Nikud3JpdGVVMzIoMCk7IC8vIOmSsQ0KICAgICAgICBjYXJnb1JlZi5hZGQoOCs2MSo1Nikud3JpdGVVMzIoMCk7IC8vIOWuuemHjw0KICAgICAgICBjYXJnb1JlZi5hZGQoMTIrNjEqNTYpLndyaXRlVTgoMCk7IC8vIOagh+W/lw0KICAgIH0sICd2b2lkJywgWydwb2ludGVyJ10pKTsNCn0NCg0KZnVuY3Rpb24gR2V0TW9uZXkobWF4U29sdCl7DQogICAgSW50ZXJjZXB0b3IucmVwbGFjZShwdHIoMHgwODIyRjAyMCksIG5ldyBOYXRpdmVDYWxsYmFjayhmdW5jdGlvbiAoY2FyZ29SZWYpIHsNCiAgICAgICAgdmFyIGFjY0lkID0gIGdldFVzZXJBY2NJZChjYXJnb1JlZik7DQogICAgICAgIGlmKGFjY0lkID09IC0xKXsNCiAgICAgICAgICAgIHJldHVybiAwOw0KICAgICAgICB9DQogICAgICAgIC8vIGNvbnNvbGUubG9nKCdHZXRNb25leS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLScrY2FyZ29SZWYpDQogICAgICAgIGNhcmdvUmVmID0gZ2V0Q2FyZ29SZWYoYWNjSWQsY2FyZ29SZWYpOw0KICAgICAgICAvLyBjb25zb2xlLmxvZygiR2V0TW9uZXkgYWNjSWQ6IithY2NJZCkNCiAgICAgICAgcmV0dXJuIGNhcmdvUmVmLmFkZCg0KzYxKm1heFNvbHQpLnJlYWRVMzIoKTsNCiAgICB9LCAnaW50JywgWydwb2ludGVyJ10pKTsNCn0NCg0KZnVuY3Rpb24gR2V0Q2FwYWNpdHkobWF4U29sdCl7DQogICAgSW50ZXJjZXB0b3IucmVwbGFjZShwdHIoMHgwODIyRjAxMiksIG5ldyBOYXRpdmVDYWxsYmFjayhmdW5jdGlvbiAoY2FyZ29SZWYpIHsNCiAgICAgICAgdmFyIGFjY0lkID0gIGdldFVzZXJBY2NJZChjYXJnb1JlZik7DQogICAgICAgIGlmKGFjY0lkID09IC0xKXsNCiAgICAgICAgICAgIHJldHVybiAwOw0KICAgICAgICB9DQogICAgICAgIC8vIGNvbnNvbGUubG9nKCdHZXRDYXBhY2l0eS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLScrY2FyZ29SZWYpDQogICAgICAgIGNhcmdvUmVmID0gZ2V0Q2FyZ29SZWYoYWNjSWQsY2FyZ29SZWYpOw0KICAgICAgICByZXR1cm4gY2FyZ29SZWYuYWRkKDgrNjEqbWF4U29sdCkucmVhZFUzMigpOw0KICAgIH0sICdpbnQnLCBbJ3BvaW50ZXInXSkpOw0KfQ0KDQoNCmZ1bmN0aW9uIGdldENhcmdvUmVmKGFjY0lkLGNhcmdvUmVmKXsNCiAgICBpZihhY2NvdW50Q2FyZ2ZvW2FjY0lkXSl7DQogICAgICAgIGNhcmdvUmVmID0gYWNjb3VudENhcmdmb1thY2NJZF07DQogICAgfWVsc2V7DQogICAgICAgIC8vIOino+WGsyDliKTmlq3mlofku7bkuK3mmK/lkKbmnInnvJPlrZjnmoTphY3nva4g5aaC5p6c5pyJ5bCx5Yqg6L29DQogICAgICAgIGlmKGluaXRDaGFyYWNBY2NvdW50Q2FyZ29EYkRhdGEoYWNjSWQsIGNhcmdvUmVmKSl7DQogICAgICAgICAgICBjYXJnb1JlZiA9IGFjY291bnRDYXJnZm9bYWNjSWRdOw0KICAgICAgICB9DQogICAgfQ0KICAgIHJldHVybiBjYXJnb1JlZjsNCn0NCg0KZnVuY3Rpb24gaW5pdENoYXJhY0FjY291bnRDYXJnb0RiRGF0YShhY2NJZCxjYXJnb1JlZil7DQogICAgY29uc29sZS5sb2coImluaXRDaGFyYWNBY2NvdW50Q2FyZ29EYkRhdGE6IithY2NJZCkNCiAgICB2YXIgZGJIYW5kZWxBZGRyID0gREJNZ3JfR2V0REJIYW5kbGUocHRyKHB0cigweDA5NDBCREFDKS5yZWFkVTMyKCkpLDIsMCk7DQogICAgdmFyIGRiSGFuZGVsID0gcHRyKGRiSGFuZGVsQWRkcik7DQogICAgdmFyIG1JZCA9IE1lbW9yeS5hbGxvY1V0ZjhTdHJpbmcoYWNjSWQrJycpOw0KICAgIE15U1FMX3NldF9xdWVyeV8zX3B0cihkYkhhbmRlbCxNZW1vcnkuYWxsb2NVdGY4U3RyaW5nKCdzZUxlY3QgY2FwYWNpdHksIG1vbmV5LCBjYXJnbyBmcm9tIGFjY291bnRfY2FyZ28gd2hlcmUgbV9pZCA9ICVzJyksbUlkKTsNCiAgICBpZihNeVNRTF9leGVjKGRiSGFuZGVsLDEpIT0xKXsNCiAgICAgICAgY29uc29sZS5sb2coInByZSBvbmUgMTExIikNCiAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgIH0NCiAgICBpZihNeVNRTF9nZXRfbl9yb3dzKGRiSGFuZGVsKT09MCl7DQogICAgICAgIGNvbnNvbGUubG9nKCJwcmUgb25lIDIyMiIpDQogICAgICAgIHJldHVybiBmYWxzZTsNCiAgICB9DQogICAgaWYoTXlTUUxfZmV0Y2goZGJIYW5kZWwpIT0xKXsNCiAgICAgICAgY29uc29sZS5sb2coInByZSBvbmUgMzMzIikNCiAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgIH0NCiAgICB2YXIgbWF4U29sdCA9IGluaXRNYXhTb2x0Ow0KICAgIGFjY291bnRDYXJnZm9bYWNjSWRdID0gTWVtb3J5LmFsbG9jKDYxKm1heFNvbHQrNCs0KzErMzApOw0KICAgIHZhciBidWZmQ2FyZ29SZWYgPSBhY2NvdW50Q2FyZ2ZvW2FjY0lkXTsNCiAgICAvLyDliJ3lp4vljJbmlbDmja4NCiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1heFNvbHQ7IGkrKykgew0KICAgICAgICBidWZmQ2FyZ29SZWYuYWRkKDQraSo2MSkud3JpdGVVMzIoMCk7DQogICAgfQ0KICAgIGJ1ZmZDYXJnb1JlZi53cml0ZVBvaW50ZXIocHRyKGNhcmdvUmVmKS5yZWFkUG9pbnRlcigpKTsNCiAgICBidWZmQ2FyZ29SZWYuYWRkKDEyKzYxKm1heFNvbHQpLndyaXRlVTgoMCk7DQogICAgdmFyIHJlcyA9IGZhbHNlOw0KICAgIGlmKE15U1FMX2dldF91aW50KGRiSGFuZGVsLDAsYnVmZkNhcmdvUmVmLmFkZCg4KzYxKm1heFNvbHQpKSE9MSl7DQogICAgICAgIC8vIGNvbnNvbGUubG9nKCd1aW50IGNhcGFjaXR5IGdldCBlcnJvcicpDQogICAgICAgIGNvbnNvbGUubG9nKCJwcmUgb25lIDQ0NCIpDQogICAgICAgIHJlcyA9ICBmYWxzZTsNCiAgICB9ZWxzZSBpZihNeVNRTF9nZXRfdWludChkYkhhbmRlbCwxLGJ1ZmZDYXJnb1JlZi5hZGQoNCs2MSptYXhTb2x0KSkhPTEpew0KICAgICAgICBjb25zb2xlLmxvZygndWludCBtb25leSBnZXQgZXJyb3InKQ0KICAgICAgICByZXMgPSAgZmFsc2U7DQogICAgfWVsc2V7DQogICAgICAgIHZhciB2MTAgPSBNZW1vcnkuYWxsb2MoNjEqbWF4U29sdCo0KTsNCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA2MSptYXhTb2x0OyBpKyspIHsNCiAgICAgICAgICAgIHYxMC5hZGQoaSo0KS53cml0ZVUzMigwKTsNCiAgICAgICAgfQ0KICAgICAgICB2YXIgYmluYXJ5TGVuZ3RoID0gTXlTUUxfZ2V0X2JpbmFyeV9sZW5ndGgoZGJIYW5kZWwsMik7DQogICAgICAgIGlmKCBNeVNRTF9nZXRfYmluYXJ5KGRiSGFuZGVsLDIsdjEwLCBiaW5hcnlMZW5ndGgpIT0xICl7DQogICAgICAgICAgICByZXMgPSAgdHJ1ZTsNCiAgICAgICAgfWVsc2V7DQogICAgICAgICAgICBiaW5hcnlMZW5ndGggPSBNeVNRTF9nZXRfYmluYXJ5X2xlbmd0aChkYkhhbmRlbCwyKTsNCiAgICAgICAgICAgIHZhciBtYXhMZW5ndGggPSA2MSptYXhTb2x0Ow0KICAgICAgICAgICAgdmFyIHYxN0FkZHIgPSBNZW1vcnkuYWxsb2MoNCk7DQogICAgICAgICAgICB2MTdBZGRyLndyaXRlSW50KG1heExlbmd0aCkNCiAgICAgICAgICAgIGlmKHVuY29tcHJlc3NfemlwKGJ1ZmZDYXJnb1JlZi5hZGQoNCksIHYxN0FkZHIsIHYxMCwgYmluYXJ5TGVuZ3RoKSAhPTEpew0KICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCJ1bmNvbXByZXNzX3ppcCBlcnJvciAgISEhIikNCiAgICAgICAgICAgICAgICByZXMgPSAgZmFsc2U7DQogICAgICAgICAgICB9ZWxzZSBpZih2MTdBZGRyLnJlYWRVMzIoKSE9MCAmJiB2MTdBZGRyLnJlYWRVMzIoKSUoNjEqbWF4U29sdCkgIT0wKXsNCiAgICAgICAgICAgICAgICByZXMgPSAgZmFsc2U7DQogICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICByZXMgPSAgdHJ1ZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0NCiAgICBpZighcmVzKXsNCiAgICAgICAgZGVsZXRlIGFjY291bnRDYXJnZm9bYWNjSWRdDQogICAgfQ0KICAgIHJldHVybiByZXM7DQp9DQoNCmZ1bmN0aW9uIGdldFVzZXJBY2NJZChjYXJnb1JlZil7DQogICAgaWYoY2FyZ29SZWYgPT0gMCl7DQogICAgICAgIHJldHVybiAtMTsNCiAgICB9DQogICAgdmFyIHVzZXJBZGRyID0gcHRyKGNhcmdvUmVmLnJlYWRVMzIoKSk7DQogICAgaWYodXNlckFkZHIgPT0gMCl7DQogICAgICAgIHJldHVybiAtMTsNCiAgICB9DQogICAgcmV0dXJuIENVc2VyX2dldF9hY2NfaWQodXNlckFkZHIpOw0KfQ==', '扩充账号金库(120格)', 'setMaxCAccountCargoSolt', 0);
        </sql>
    </changeSet>
</databaseChangeLog>
